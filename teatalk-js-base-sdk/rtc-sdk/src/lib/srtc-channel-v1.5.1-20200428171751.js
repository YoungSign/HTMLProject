!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WEBSDK=t():e.WEBSDK=t()}("undefined"!=typeof window?window:this,(function(){return function(e){var t={};function n(c){if(t[c])return t[c].exports;var I=t[c]={i:c,l:!1,exports:{}};return e[c].call(I.exports,I,I.exports,n),I.l=!0,I.exports}return n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var I in e)n.d(c,I,function(t){return e[t]}.bind(null,I));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=405)}([,,function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(199);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcz84NWYyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},,function(module,exports){eval("var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcz81ODRhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjYuMTEnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},function(module,exports){eval('function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    "default": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzPzI4OGUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(9);\nvar core = __webpack_require__(4);\nvar ctx = __webpack_require__(34);\nvar hide = __webpack_require__(35);\nvar has = __webpack_require__(42);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzPzYzYjYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIga2V5LCBvd24sIG91dDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAob3duICYmIGhhcyhleHBvcnRzLCBrZXkpKSBjb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uIChDKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykge1xuICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEMoKTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYgKElTX1BST1RPKSB7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")},function(module,exports){eval('function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}\n\nmodule.exports = _classCallCheck;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanM/ZmM3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjazsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){eval("var _Object$defineProperty = __webpack_require__(2);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanM/YzQ3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n")},function(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1dFQlNESy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzP2U1M2QiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(12);\nvar core = __webpack_require__(57);\nvar hide = __webpack_require__(28);\nvar redefine = __webpack_require__(30);\nvar ctx = __webpack_require__(52);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19leHBvcnQuanM/NWNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSk7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHA7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgZXhwID0gSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmICh0YXJnZXQpIHJlZGVmaW5lKHRhcmdldCwga2V5LCBvdXQsIHR5cGUgJiAkZXhwb3J0LlUpO1xuICAgIC8vIGV4cG9ydFxuICAgIGlmIChleHBvcnRzW2tleV0gIT0gb3V0KSBoaWRlKGV4cG9ydHMsIGtleSwgZXhwKTtcbiAgICBpZiAoSVNfUFJPVE8gJiYgZXhwUHJvdG9ba2V5XSAhPSBvdXQpIGV4cFByb3RvW2tleV0gPSBvdXQ7XG4gIH1cbn07XG5nbG9iYWwuY29yZSA9IGNvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){eval("var store = __webpack_require__(108)('wks');\nvar uid = __webpack_require__(62);\nvar Symbol = __webpack_require__(12).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL193a3MuanM/MmI0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n")},function(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19nbG9iYWwuanM/NzcyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(230);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL3BhcnNlLWludC5qcz9lODE0Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wYXJzZS1pbnRcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n")},function(module,exports,__webpack_require__){eval("var store = __webpack_require__(105)('wks');\nvar uid = __webpack_require__(79);\nvar Symbol = __webpack_require__(9).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcz81MTY4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n")},function(module,exports,__webpack_require__){eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(32);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1sZW5ndGguanM/OWRlZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(25);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hbi1vYmplY3QuanM/Y2I3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n")},function(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(19)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcz85ZTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(219);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL3Byb21pc2UuanM/Nzk1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZVwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19mYWlscy5qcz83OWU1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(24);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcz9lNGFlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n")},function(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(39)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzPzhlNjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(53));\n\n__webpack_require__(65);\n\n__webpack_require__(75);\n\n__webpack_require__(76);\n\n__webpack_require__(119);\n\n__webpack_require__(43);\n\n__webpack_require__(44);\n\n__webpack_require__(41);\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\nvar _stringify = _interopRequireDefault(__webpack_require__(45));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(249));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _xml2jsonLight = _interopRequireDefault(__webpack_require__(250));\n\nvar _SHA = __webpack_require__(251);\n\nvar _aes = _interopRequireDefault(__webpack_require__(252));\n\nvar _base = _interopRequireDefault(__webpack_require__(132));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\n// import {SHA1} from "./SHA1";\nvar Common = /*#__PURE__*/function () {\n  function Common() {\n    var _this = this;\n\n    (0, _classCallCheck2["default"])(this, Common);\n    (0, _defineProperty2["default"])(this, "requestXml", function (url, _ref) {\n      var method = _ref.method,\n          headers = _ref.headers,\n          data = _ref.data,\n          success = _ref.success,\n          fail = _ref.fail;\n      method = method.toUpperCase();\n      headers = headers || {\n        \'Content-Type\': \'text/plain\'\n      };\n      data = data || \'\';\n      fetch(url, {\n        method: method,\n        headers: headers,\n        body: method === "GET" ? null : (0, _stringify["default"])(data),\n        credentials: "include"\n      }).then(function (response) {\n        if (response.ok) {\n          return response;\n        } else {\n          var error = new Error(response.statusText);\n          error.response = response;\n          return _promise["default"].reject(error);\n        }\n      }).then(function (response) {\n        return response.text();\n      }).then(function (response) {\n        var json = _xml2jsonLight["default"].xml2json(response);\n\n        if (success) {\n          success(200, json);\n        }\n      })["catch"](function (error) {\n        if (fail) {\n          if (error.response) {\n            console.log(\'------request xml error ->\', error);\n            fail(error.response.status, error);\n          } else {\n            fail(500, error.message);\n          }\n        }\n      });\n    });\n    (0, _defineProperty2["default"])(this, "requestJson", function (url, _ref2) {\n      var method = _ref2.method,\n          headers = _ref2.headers,\n          data = _ref2.data,\n          success = _ref2.success,\n          fail = _ref2.fail;\n      method = method.toUpperCase();\n      headers = headers || {\n        \'Content-Type\': \'application/json;charset=UTF-8\'\n      };\n      data = data || \'\';\n      fetch(url, {\n        method: method,\n        headers: headers,\n        body: method === "GET" ? null : (0, _stringify["default"])(data),\n        credentials: "include"\n      }).then(function (response) {\n        if (response.ok) {\n          return response;\n        } else {\n          var error = new Error(response.statusText);\n          error.response = response;\n          return _promise["default"].reject(error);\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (success) {\n          success(200, response);\n        }\n      })["catch"](function (error) {\n        if (fail) {\n          if (error.response) {\n            fail(error.response.status, error);\n          } else {\n            fail(500, error.message);\n          }\n        }\n      });\n    });\n    (0, _defineProperty2["default"])(this, "getTimeStamp", function () {\n      var timeStamp = Date.parse(new Date()).toString();\n      return timeStamp;\n    });\n    (0, _defineProperty2["default"])(this, "checkNumber", function (val) {\n      var reg = /^[1-9][0-9]*$/;\n\n      if (reg.test(val)) {\n        return true;\n      }\n\n      return false;\n    });\n    (0, _defineProperty2["default"])(this, "addAppCode", function (val) {\n      // return `${Config.config.appCode || \'\'}${val}`\n      return val;\n    });\n    (0, _defineProperty2["default"])(this, "removeAppCode", function (val) {\n      var appCode = _config["default"].config.appCode;\n      var reg = new RegExp(\'^\' + appCode + \'\\\\d+\');\n      var newVal = val;\n\n      if (val.match(reg)) {\n        newVal = val.replace(appCode, \'\');\n      }\n\n      return newVal;\n    });\n    (0, _defineProperty2["default"])(this, "channelNameFilter", function (channelName) {\n      var appCode = _config["default"].config.appCode;\n      var reg = new RegExp(\'^\' + appCode + \'\\\\d+\');\n      var newChannelName = channelName;\n\n      if (channelName.match(reg)) {\n        newChannelName = channelName.replace(appCode, \'\');\n      }\n\n      return newChannelName;\n    });\n    (0, _defineProperty2["default"])(this, "setToken", function (sessionId, deviceId) {\n      var identity = (0, _SHA.SHA256)(deviceId);\n      var counter = _config["default"].config.counter;\n\n      var createTime = _this.getTimeStamp();\n\n      var sessionKey = {\n        sessionId: sessionId,\n        counter: counter++,\n        createTime: createTime\n      };\n\n      var key = _aes["default"].enc.Utf8.parse(_base["default"].base64decode(_config["default"].config.aesSeed));\n\n      var iv = _aes["default"].enc.Utf8.parse(_base["default"].base64decode(_config["default"].config.aesVi));\n\n      var sessionKeyStr = _aes["default"].enc.Utf8.parse((0, _stringify["default"])(sessionKey));\n\n      var credential = _aes["default"].AES.encrypt(sessionKeyStr, key, {\n        iv: iv,\n        mode: _aes["default"].mode.CBC,\n        padding: _aes["default"].pad.Pkcs7\n      });\n\n      var credentialStr = credential.ciphertext.toString();\n\n      var token = \'identity=\' + _this.hex2b64(identity) + \'credential=\' + _this.hex2b64(credentialStr);\n\n      _config["default"].config.counter = counter;\n      return token;\n    });\n    (0, _defineProperty2["default"])(this, "randomStr", function (len) {\n      len = len || 20;\n      var charCodeIndex = [[48, 57], [65, 90], [97, 122]];\n      var charCodeArr = [];\n\n      function getBetweenRound(min, max) {\n        return Math.floor(min + Math.random() * (max - min));\n      }\n\n      ;\n\n      function getCharCode() {\n        for (var i = 0, _len = 3; i < _len; i++) {\n          var thisArr = charCodeIndex[i];\n\n          for (var j = thisArr[0], thisLen = thisArr[1]; j <= thisLen; j++) {\n            charCodeArr.push(j);\n          }\n        }\n      }\n\n      ;\n      charCodeArr.length < 62 && getCharCode();\n      var res = [];\n\n      for (var i = 0; i < len; i++) {\n        var index = getBetweenRound(0, 61);\n        res.push(String.fromCharCode(charCodeArr[index]));\n      }\n\n      return res.join(\'\');\n    });\n    (0, _defineProperty2["default"])(this, "asBytes", function (target) {\n      if (target) {\n        if (target instanceof Array && target.length) {\n          return target;\n        } else if (target instanceof ArrayBuffer && target.byteLength) {\n          return _this._arrayLikeToArray(new Uint8Array(target));\n        } else if (target instanceof Uint8Array && target.length) {\n          return _this._arrayLikeToArray(target);\n        } else if (typeof target === "string") {\n          return _this._stringToBytes(target);\n        } else {\n          throw new Error("bad len prefixed field type \'" + (0, _typeof2["default"])(target) + "\'");\n        }\n      }\n\n      return null;\n    });\n    (0, _defineProperty2["default"])(this, "asString", function (target) {\n      if (typeof target === "string") {\n        return target;\n      } else {\n        return _this._bytesToString(_this.asBytes(new Uint8Array(target)));\n      }\n    });\n    (0, _defineProperty2["default"])(this, "uuid", function () {\n      function S4() {\n        return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n      }\n\n      return S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4();\n    });\n    (0, _defineProperty2["default"])(this, "_arrayLikeToArray", function (data) {\n      var output = [];\n\n      for (var i = 0; i < data.length; i++) {\n        output.push(data[i]);\n      }\n\n      return output;\n    });\n    (0, _defineProperty2["default"])(this, "_stringToBytes", function (str) {\n      var bytes = [],\n          strLength = str.length,\n          strIndex = 0,\n          charCode,\n          charCode2;\n\n      while (strIndex < strLength) {\n        charCode = str.charCodeAt(strIndex++); // handle surrogate pair\n\n        if (_this._isHighSurrogate(charCode)) {\n          if (strIndex === strLength) {\n            throw new Error("Invalid format");\n          }\n\n          charCode2 = str.charCodeAt(strIndex++);\n\n          if (!_this._isLowSurrogate(charCode2)) {\n            throw new Error("Invalid format");\n          }\n\n          charCode = _this._combineSurrogate(charCode, charCode2);\n        } // convert charCode to UTF8 bytes\n\n\n        if (charCode < 0x80) {\n          // one byte\n          bytes.push(charCode);\n        } else if (charCode < 0x800) {\n          // two bytes\n          bytes.push(0xc0 | charCode >> 6);\n          bytes.push(0x80 | charCode & 0x3f);\n        } else if (charCode < 0x10000) {\n          // three bytes\n          bytes.push(0xe0 | charCode >> 12);\n          bytes.push(0x80 | charCode >> 6 & 0x3f);\n          bytes.push(0x80 | charCode & 0x3f);\n        } else {\n          // four bytes\n          bytes.push(0xf0 | charCode >> 18);\n          bytes.push(0x80 | charCode >> 12 & 0x3f);\n          bytes.push(0x80 | charCode >> 6 & 0x3f);\n          bytes.push(0x80 | charCode & 0x3f);\n        }\n      }\n\n      return bytes;\n    });\n    (0, _defineProperty2["default"])(this, "_bytesToString", function (bytes) {\n      var str = "",\n          length = bytes.length,\n          index = 0,\n          _byte,\n          charCode;\n\n      while (index < length) {\n        // first byte\n        _byte = bytes[index++];\n\n        if (_byte < 0x80) {\n          // one byte\n          charCode = _byte;\n        } else if (_byte >> 5 === 0x06) {\n          // two bytes\n          charCode = (_byte & 0x1f) << 6 | bytes[index++] & 0x3f;\n        } else if (_byte >> 4 === 0x0e) {\n          // three bytes\n          charCode = (_byte & 0x0f) << 12 | (bytes[index++] & 0x3f) << 6 | bytes[index++] & 0x3f;\n        } else {\n          // four bytes\n          charCode = (_byte & 0x07) << 18 | (bytes[index++] & 0x3f) << 12 | (bytes[index++] & 0x3f) << 6 | bytes[index++] & 0x3f;\n        }\n\n        str += _this._chr(charCode);\n      }\n\n      return str;\n    });\n    (0, _defineProperty2["default"])(this, "_isHighSurrogate", function (charCode) {\n      return 0xd800 <= charCode && charCode <= 0xdbff;\n    });\n    (0, _defineProperty2["default"])(this, "_isLowSurrogate", function (charCode) {\n      return 0xdc00 <= charCode && charCode <= 0xdfff;\n    });\n    (0, _defineProperty2["default"])(this, "_combineSurrogate", function (high, low) {\n      return (high - 0xd800 << 10) + (low - 0xdc00) + 0x10000;\n    });\n    (0, _defineProperty2["default"])(this, "_chr", function (charCode) {\n      if (charCode < 0x10000) {\n        return String.fromCharCode(charCode);\n      } // convert to UTF16 surrogate pair\n\n\n      var high = (charCode - 0x10000 >> 10) + 0xd800;\n      var low = (charCode & 0x3ff) + 0xdc00;\n      return String.fromCharCode(high, low);\n    });\n    (0, _defineProperty2["default"])(this, "getPlayerFillSize", function (elementId) {\n      var el = document.getElementById(elementId);\n      var w = (0, _parseInt2["default"])(el.width || el.style.width),\n          h = (0, _parseInt2["default"])(el.height || el.style.height);\n\n      if (!w || !h) {\n        el = document.getElementById(elementId).parentNode;\n        w = (0, _parseInt2["default"])(el.width || el.style.width);\n        h = (0, _parseInt2["default"])(el.height || el.style.height);\n      }\n\n      return {\n        width: w,\n        height: h\n      };\n    });\n    (0, _defineProperty2["default"])(this, "getPusherFillSize", function (elementId) {\n      var el = document.getElementById(elementId);\n      var w = (0, _parseInt2["default"])(el.width || el.style.width),\n          h = (0, _parseInt2["default"])(el.height || el.style.height);\n\n      if (!w || !h) {\n        //object元素不设置尺寸，不去获取\n        el = document.getElementById(elementId).parentNode.parentNode;\n        w = (0, _parseInt2["default"])(el.width || el.style.width);\n        h = (0, _parseInt2["default"])(el.height || el.style.height);\n      }\n\n      return {\n        width: w,\n        height: h\n      };\n    });\n    (0, _defineProperty2["default"])(this, "addEventListener", function (element, type, handler) {\n      if (element.addEventListener) {\n        element.addEventListener(type, handler, false);\n      } else if (element.attachEvent) {\n        //IE\n        element.attachEvent("on" + type, handler);\n      } else {\n        element["on" + type] = handler;\n      }\n    });\n    (0, _defineProperty2["default"])(this, "removeEventListener", function (element, type, handler) {\n      if (element.removeEventListener) {\n        element.removeEventListener(type, handler, false);\n      } else if (element.detachEvent) {\n        //IE\n        element.detachEvent("on" + type, handler);\n      } else {\n        element["on" + type] = handler;\n      }\n    });\n    (0, _defineProperty2["default"])(this, "deepCopy", function (val) {\n      return JSON.parse((0, _stringify["default"])(val));\n    });\n  }\n\n  (0, _createClass2["default"])(Common, [{\n    key: "hex2b64",\n    value: function hex2b64(h) {\n      var b64map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";\n      var b64padding = "=";\n      var i;\n      var c;\n      var ret = "";\n\n      for (i = 0; i + 3 <= h.length; i += 3) {\n        c = (0, _parseInt2["default"])(h.substring(i, i + 3), 16);\n        ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n      }\n\n      if (i + 1 == h.length) {\n        c = (0, _parseInt2["default"])(h.substring(i, i + 1), 16);\n        ret += b64map.charAt(c << 2);\n      } else if (i + 2 == h.length) {\n        c = (0, _parseInt2["default"])(h.substring(i, i + 2), 16);\n        ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n      }\n\n      while ((ret.length & 3) > 0) {\n        ret += b64padding;\n      }\n\n      return ret;\n    }\n  }]);\n  return Common;\n}();\n\nvar _default = new Common();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9zZGsvdXRpbC9jb21tb24uanM/YmEzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFyc2VyIGZyb20gJ3htbDJqc29uLWxpZ2h0Jztcbi8vIGltcG9ydCB7U0hBMX0gZnJvbSBcIi4vU0hBMVwiO1xuaW1wb3J0IHsgU0hBMjU2IH0gZnJvbSAnLi9TSEEyNTYnO1xuaW1wb3J0IENyeXB0b0pTIGZyb20gXCIuL2Flc1wiO1xuaW1wb3J0IEJhc2U2NCBmcm9tIFwiLi9iYXNlNjRcIjtcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vY29uZmlnJztcblxuY2xhc3MgQ29tbW9ue1xuICAgIC8v5Y+R6YCB6K+35rGC77yI6L+U5Zue5YC85Li6eG1s77yJXG4gICAgcmVxdWVzdFhtbCA9ICh1cmwse21ldGhvZCxoZWFkZXJzLGRhdGEsc3VjY2VzcyxmYWlsfSkgPT4ge1xuICAgICAgICBtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMgfHwge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJ1xuICAgICAgICB9O1xuICAgICAgICBkYXRhID0gZGF0YSB8fCAnJztcbiAgICAgICAgZmV0Y2godXJsLHtcbiAgICAgICAgICAgIG1ldGhvZDptZXRob2QsXG4gICAgICAgICAgICBoZWFkZXJzOmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5Om1ldGhvZCA9PT0gXCJHRVRcIiA/IG51bGwgOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5vayl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQganNvbiA9IHBhcnNlci54bWwyanNvbihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYoc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoMjAwLGpzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGZhaWwpe1xuICAgICAgICAgICAgICAgICAgICBpZihlcnJvci5yZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tcmVxdWVzdCB4bWwgZXJyb3IgLT4nLGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwoZXJyb3IucmVzcG9uc2Uuc3RhdHVzLGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKDUwMCxlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIC8v5Y+R6YCB6K+35rGC77yM6L+U5Zue5YC85Li6anNvblxuICAgIHJlcXVlc3RKc29uID0gKHVybCx7bWV0aG9kLGhlYWRlcnMsZGF0YSxzdWNjZXNzLGZhaWx9KSA9PiB7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBoZWFkZXJzID0gaGVhZGVycyB8fCB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCdcbiAgICAgICAgfTtcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwgJyc7XG4gICAgICAgIGZldGNoKHVybCx7XG4gICAgICAgICAgICBtZXRob2Q6bWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczpoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTptZXRob2QgPT09IFwiR0VUXCIgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uub2spe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoMjAwLHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBpZihmYWlsKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3IucmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChlcnJvci5yZXNwb25zZS5zdGF0dXMsZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwoNTAwLGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvL+iOt+WPluW9k+WJjXV0Y+enkue6p+aXtumXtOaIs++8iOS7jjE5NzDlubQx5pyIMeaXpTDngrkw5YiGMOenkuW8gOWni+WIsOeOsOWcqOeahOavq+enkuaVsO+8jFN0cmluZ++8iVxuICAgIGdldFRpbWVTdGFtcCA9ICgpID0+IHtcbiAgICAgICAgbGV0IHRpbWVTdGFtcCA9IChEYXRlLnBhcnNlKG5ldyBEYXRlKCkpKS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGltZVN0YW1wO1xuICAgIH1cblxuICAgIC8v5qOA5p+l5pWw5a2X5a2X56ym5Liy77yM5LiU5LiN5LulMOW8gOWktFxuICAgIGNoZWNrTnVtYmVyID0gKHZhbCkgPT4ge1xuICAgICAgICBsZXQgcmVnID0gL15bMS05XVswLTldKiQvO1xuICAgICAgICBpZihyZWcudGVzdCh2YWwpKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRBcHBDb2RlID0gKHZhbCkgPT4ge1xuICAgICAgICAvLyByZXR1cm4gYCR7Q29uZmlnLmNvbmZpZy5hcHBDb2RlIHx8ICcnfSR7dmFsfWBcbiAgICAgICAgcmV0dXJuIHZhbFxuICAgIH1cblxuICAgIHJlbW92ZUFwcENvZGUgPSAodmFsKSA9PiB7XG4gICAgICAgIGxldCBhcHBDb2RlID0gQ29uZmlnLmNvbmZpZy5hcHBDb2RlO1xuICAgICAgICBsZXQgcmVnID0gbmV3IFJlZ0V4cCgnXicrYXBwQ29kZSsnXFxcXGQrJyk7XG4gICAgICAgIGxldCBuZXdWYWwgPSB2YWw7XG4gICAgICAgIGlmKHZhbC5tYXRjaChyZWcpKXtcbiAgICAgICAgICAgIG5ld1ZhbCA9IHZhbC5yZXBsYWNlKGFwcENvZGUsJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdWYWw7XG4gICAgfVxuICAgIFxuICAgIC8v5qOA5p+lY2hhbm5lbE5hbWXvvIzlubbljrvmjolhcHBDb2RlXG4gICAgY2hhbm5lbE5hbWVGaWx0ZXIgPSAoY2hhbm5lbE5hbWUpID0+IHtcbiAgICAgICAgbGV0IGFwcENvZGUgPSBDb25maWcuY29uZmlnLmFwcENvZGU7XG4gICAgICAgIGxldCByZWcgPSBuZXcgUmVnRXhwKCdeJythcHBDb2RlKydcXFxcZCsnKTtcbiAgICAgICAgbGV0IG5ld0NoYW5uZWxOYW1lID0gY2hhbm5lbE5hbWU7XG4gICAgICAgIGlmKGNoYW5uZWxOYW1lLm1hdGNoKHJlZykpe1xuICAgICAgICAgICAgbmV3Q2hhbm5lbE5hbWUgPSBjaGFubmVsTmFtZS5yZXBsYWNlKGFwcENvZGUsJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdDaGFubmVsTmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhoXpg6jlh73mlbDvvJrorr7nva50b2tlblxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRUb2tlbiA9IChzZXNzaW9uSWQsZGV2aWNlSWQpID0+IHtcbiAgICAgICAgbGV0IGlkZW50aXR5ID0gU0hBMjU2KGRldmljZUlkKTtcbiAgICAgICAgbGV0IGNvdW50ZXIgPSBDb25maWcuY29uZmlnLmNvdW50ZXI7XG4gICAgICAgIGxldCBjcmVhdGVUaW1lID0gdGhpcy5nZXRUaW1lU3RhbXAoKTtcbiAgICAgICAgbGV0IHNlc3Npb25LZXkgPSB7XG4gICAgICAgICAgICBzZXNzaW9uSWQ6c2Vzc2lvbklkLFxuICAgICAgICAgICAgY291bnRlcjpjb3VudGVyKyssXG4gICAgICAgICAgICBjcmVhdGVUaW1lOiBjcmVhdGVUaW1lLFxuICAgICAgICB9O1xuICAgICAgICBsZXQga2V5ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UoQmFzZTY0LmJhc2U2NGRlY29kZShDb25maWcuY29uZmlnLmFlc1NlZWQpKTtcbiAgICAgICAgbGV0IGl2ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UoQmFzZTY0LmJhc2U2NGRlY29kZShDb25maWcuY29uZmlnLmFlc1ZpKSk7XG4gICAgICAgIGxldCBzZXNzaW9uS2V5U3RyID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbktleSkpO1xuICAgICAgICBsZXQgY3JlZGVudGlhbCA9IENyeXB0b0pTLkFFUy5lbmNyeXB0KHNlc3Npb25LZXlTdHIsa2V5LHtcbiAgICAgICAgICAgIGl2OiBpdixcbiAgICAgICAgICAgIG1vZGU6IENyeXB0b0pTLm1vZGUuQ0JDLFxuICAgICAgICAgICAgcGFkZGluZzogQ3J5cHRvSlMucGFkLlBrY3M3XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgY3JlZGVudGlhbFN0ciA9IGNyZWRlbnRpYWwuY2lwaGVydGV4dC50b1N0cmluZygpO1xuXG4gICAgICAgIGxldCB0b2tlbiA9J2lkZW50aXR5PScrdGhpcy5oZXgyYjY0KGlkZW50aXR5KSsnY3JlZGVudGlhbD0nK3RoaXMuaGV4MmI2NChjcmVkZW50aWFsU3RyKTtcblxuICAgICAgICBDb25maWcuY29uZmlnLmNvdW50ZXIgPSBjb3VudGVyO1xuXG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICAvL+eZu+W9lemJtOadgy3jgIvjgIvojrflj5bpmo/mnLrmlbBcbiAgICByYW5kb21TdHIgPSAobGVuKSA9PiB7XG4gICAgICAgIGxlbiA9IGxlbiB8fCAyMDtcbiAgICAgICAgbGV0IGNoYXJDb2RlSW5kZXggPSBbWzQ4LDU3XSxbNjUsOTBdLFs5NywxMjJdXTtcbiAgICAgICAgbGV0IGNoYXJDb2RlQXJyID0gW107XG4gICAgICAgIGZ1bmN0aW9uIGdldEJldHdlZW5Sb3VuZChtaW4sIG1heCl7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihtaW4rTWF0aC5yYW5kb20oKSoobWF4LW1pbikpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBnZXRDaGFyQ29kZSAoKSB7XG4gICAgICAgICAgICBmb3IobGV0IGk9MCxsZW49MztpPGxlbjtpKyspe1xuICAgICAgICAgICAgICAgIGxldCB0aGlzQXJyID0gY2hhckNvZGVJbmRleFtpXTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGo9dGhpc0FyclswXSx0aGlzTGVuPXRoaXNBcnJbMV07ajw9dGhpc0xlbjtqKyspe1xuICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZUFyci5wdXNoKGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjaGFyQ29kZUFyci5sZW5ndGg8NjIgJiYgZ2V0Q2hhckNvZGUoKTtcblxuICAgICAgICBsZXQgcmVzID0gW107XG4gICAgICAgIGZvcihsZXQgaT0wO2k8bGVuO2krKyl7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBnZXRCZXR3ZWVuUm91bmQoMCw2MSk7XG4gICAgICAgICAgICByZXMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlQXJyW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuam9pbignJyk7XG4gICAgfVxuICAgIC8v55m75b2V6Ym05p2DLeOAi+OAi3JzYeWKoOWvhueUqOWIsOeahOe8lueggei9rOaNolxuICAgIGFzQnl0ZXMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSAmJiB0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICYmIHRhcmdldC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FycmF5TGlrZVRvQXJyYXkobmV3IFVpbnQ4QXJyYXkodGFyZ2V0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXJyYXlMaWtlVG9BcnJheSh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdUb0J5dGVzKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYWQgbGVuIHByZWZpeGVkIGZpZWxkIHR5cGUgJ1wiICsgdHlwZW9mICh0YXJnZXQpICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhc1N0cmluZyA9ICh0YXJnZXQpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZXNUb1N0cmluZyh0aGlzLmFzQnl0ZXMobmV3IFVpbnQ4QXJyYXkodGFyZ2V0KSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXVpZCA9ICgpID0+IHtcbiAgICAgICAgZnVuY3Rpb24gUzQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoUzQoKSArIFM0KCkgKyBcIi1cIiArIFM0KCkgKyBcIi1cIiArIFM0KCkgKyBcIi1cIiArIFM0KCkgKyBcIi1cIiArIFM0KCkgKyBTNCgpICsgUzQoKSlcbiAgICB9XG5cbiAgICBoZXgyYjY0IChoKSB7XG4gICAgICAgIGxldCBiNjRtYXA9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7XG4gICAgICAgIGxldCBiNjRwYWRkaW5nPVwiPVwiO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgbGV0IGM7XG4gICAgICAgIHZhciByZXQgPSBcIlwiO1xuICAgICAgICBmb3IoaSA9IDA7IGkrMyA8PSBoLmxlbmd0aDsgaSs9Mykge1xuICAgICAgICAgICAgYyA9IHBhcnNlSW50KGguc3Vic3RyaW5nKGksaSszKSwxNik7XG4gICAgICAgICAgICByZXQgKz0gYjY0bWFwLmNoYXJBdChjID4+IDYpICsgYjY0bWFwLmNoYXJBdChjICYgNjMpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGkrMSA9PSBoLmxlbmd0aCkge1xuICAgICAgICAgICAgYyA9IHBhcnNlSW50KGguc3Vic3RyaW5nKGksaSsxKSwxNik7XG4gICAgICAgICAgICByZXQgKz0gYjY0bWFwLmNoYXJBdChjIDw8IDIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoaSsyID09IGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBjID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoaSxpKzIpLDE2KTtcbiAgICAgICAgICAgIHJldCArPSBiNjRtYXAuY2hhckF0KGMgPj4gMikgKyBiNjRtYXAuY2hhckF0KChjICYgMykgPDwgNCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUoKHJldC5sZW5ndGggJiAzKSA+IDApIHJldCArPSBiNjRwYWRkaW5nO1xuICAgICAgICByZXR1cm4gcmV0XG4gICAgfTtcblxuICAgIF9hcnJheUxpa2VUb0FycmF5ID0gKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IG91dHB1dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGRhdGFbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIF9zdHJpbmdUb0J5dGVzID0gKHN0cikgPT4ge1xuICAgICAgICB2YXIgYnl0ZXMgPSBbXSwgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aCwgc3RySW5kZXggPSAwLCBjaGFyQ29kZSwgY2hhckNvZGUyO1xuICAgICAgICB3aGlsZSAoc3RySW5kZXggPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoc3RySW5kZXgrKyk7XG4gICAgICAgICAgICAvLyBoYW5kbGUgc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ckluZGV4ID09PSBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmb3JtYXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYXJDb2RlMiA9IHN0ci5jaGFyQ29kZUF0KHN0ckluZGV4KyspO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNMb3dTdXJyb2dhdGUoY2hhckNvZGUyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZvcm1hdFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhckNvZGUgPSB0aGlzLl9jb21iaW5lU3Vycm9nYXRlKGNoYXJDb2RlLCBjaGFyQ29kZTIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29udmVydCBjaGFyQ29kZSB0byBVVEY4IGJ5dGVzXG4gICAgICAgICAgICBpZiAoY2hhckNvZGUgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgLy8gb25lIGJ5dGVcbiAgICAgICAgICAgICAgICBieXRlcy5wdXNoKGNoYXJDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXJDb2RlIDwgMHg4MDApIHtcbiAgICAgICAgICAgICAgICAvLyB0d28gYnl0ZXNcbiAgICAgICAgICAgICAgICBieXRlcy5wdXNoKDB4YzAgfCAoY2hhckNvZGUgPj4gNikpO1xuICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goMHg4MCB8IChjaGFyQ29kZSAmIDB4M2YpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXJDb2RlIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgICAgIC8vIHRocmVlIGJ5dGVzXG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGUwIHwgKGNoYXJDb2RlID4+IDEyKSk7XG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweDgwIHwgKChjaGFyQ29kZSA+PiA2KSAmIDB4M2YpKTtcbiAgICAgICAgICAgICAgICBieXRlcy5wdXNoKDB4ODAgfCAoY2hhckNvZGUgJiAweDNmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3VyIGJ5dGVzXG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGYwIHwgKGNoYXJDb2RlID4+IDE4KSk7XG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweDgwIHwgKChjaGFyQ29kZSA+PiAxMikgJiAweDNmKSk7XG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweDgwIHwgKChjaGFyQ29kZSA+PiA2KSAmIDB4M2YpKTtcbiAgICAgICAgICAgICAgICBieXRlcy5wdXNoKDB4ODAgfCAoY2hhckNvZGUgJiAweDNmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH1cbiAgICBfYnl0ZXNUb1N0cmluZyA9IChieXRlcykgPT4ge1xuICAgICAgICBsZXQgc3RyID0gXCJcIiwgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoLCBpbmRleCA9IDAsIGJ5dGUsIGNoYXJDb2RlO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IGJ5dGVcbiAgICAgICAgICAgIGJ5dGUgPSBieXRlc1tpbmRleCsrXTtcbiAgICAgICAgICAgIGlmIChieXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgIC8vIG9uZSBieXRlXG4gICAgICAgICAgICAgICAgY2hhckNvZGUgPSBieXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKGJ5dGUgPj4gNSkgPT09IDB4MDYpIHtcbiAgICAgICAgICAgICAgICAvLyB0d28gYnl0ZXNcbiAgICAgICAgICAgICAgICBjaGFyQ29kZSA9ICgoYnl0ZSAmIDB4MWYpIDw8IDYpIHwgKGJ5dGVzW2luZGV4KytdICYgMHgzZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoYnl0ZSA+PiA0KSA9PT0gMHgwZSkge1xuICAgICAgICAgICAgICAgIC8vIHRocmVlIGJ5dGVzXG4gICAgICAgICAgICAgICAgY2hhckNvZGUgPSAoKGJ5dGUgJiAweDBmKSA8PCAxMikgfCAoKGJ5dGVzW2luZGV4KytdICYgMHgzZikgPDwgNikgfCAoYnl0ZXNbaW5kZXgrK10gJiAweDNmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZvdXIgYnl0ZXNcbiAgICAgICAgICAgICAgICBjaGFyQ29kZSA9ICgoYnl0ZSAmIDB4MDcpIDw8IDE4KSB8ICgoYnl0ZXNbaW5kZXgrK10gJiAweDNmKSA8PCAxMikgfCAoKGJ5dGVzW2luZGV4KytdICYgMHgzZikgPDwgNikgfCAoYnl0ZXNbaW5kZXgrK10gJiAweDNmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ciArPSB0aGlzLl9jaHIoY2hhckNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIF9pc0hpZ2hTdXJyb2dhdGUgPSAoY2hhckNvZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIDB4ZDgwMCA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSAweGRiZmY7XG4gICAgfVxuICAgIF9pc0xvd1N1cnJvZ2F0ZSA9IChjaGFyQ29kZSkgPT4ge1xuICAgICAgICByZXR1cm4gMHhkYzAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4ZGZmZjtcbiAgICB9XG4gICAgX2NvbWJpbmVTdXJyb2dhdGUgPSAoaGlnaCwgbG93KSA9PiB7XG4gICAgICAgIHJldHVybiAoKGhpZ2ggLSAweGQ4MDApIDw8IDEwKSArIChsb3cgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgICB9XG4gICAgX2NociA9IChjaGFyQ29kZSkgPT4ge1xuICAgICAgICBpZiAoY2hhckNvZGUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29udmVydCB0byBVVEYxNiBzdXJyb2dhdGUgcGFpclxuICAgICAgICBsZXQgaGlnaCA9ICgoY2hhckNvZGUgLSAweDEwMDAwKSA+PiAxMCkgKyAweGQ4MDA7XG4gICAgICAgIGxldCBsb3cgPSAoY2hhckNvZGUgJiAweDNmZikgKyAweGRjMDA7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpZ2gsIGxvdyk7XG4gICAgfVxuXG4gICAgLy/ojrflj5bmi4nmtYHnq6/mkq3mlL7lmajnmoTlsLrlr7goMTAwJSlcbiAgICBnZXRQbGF5ZXJGaWxsU2l6ZSA9IChlbGVtZW50SWQpID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgICAgICAgbGV0IHcgPSBwYXJzZUludChlbC53aWR0aHx8ZWwuc3R5bGUud2lkdGgpLFxuICAgICAgICAgICAgaCA9IHBhcnNlSW50KGVsLmhlaWdodHx8ZWwuc3R5bGUuaGVpZ2h0KTtcblxuICAgICAgICBpZighdyB8fCAhaCl7XG4gICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIHcgPSBwYXJzZUludChlbC53aWR0aHx8ZWwuc3R5bGUud2lkdGgpO1xuICAgICAgICAgICAgaCA9IHBhcnNlSW50KGVsLmhlaWdodHx8ZWwuc3R5bGUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge3dpZHRoOncsaGVpZ2h0Omh9XG4gICAgfVxuXG4gICAgLy/ojrflj5bmjqjmtYHnq6/mkq3mlL7lmajnmoTlsLrlr7goMTAwJSlcbiAgICBnZXRQdXNoZXJGaWxsU2l6ZSA9IChlbGVtZW50SWQpID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgICAgICAgbGV0IHcgPSAgcGFyc2VJbnQoZWwud2lkdGh8fGVsLnN0eWxlLndpZHRoKSxcbiAgICAgICAgICAgIGggPSAgcGFyc2VJbnQoZWwuaGVpZ2h0fHxlbC5zdHlsZS5oZWlnaHQpO1xuXG4gICAgICAgIGlmKCF3IHx8ICFoKXtcbiAgICAgICAgICAgIC8vb2JqZWN05YWD57Sg5LiN6K6+572u5bC65a+477yM5LiN5Y676I635Y+WXG4gICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgdyA9ICBwYXJzZUludChlbC53aWR0aHx8ZWwuc3R5bGUud2lkdGgpO1xuICAgICAgICAgICAgaCA9ICBwYXJzZUludChlbC5oZWlnaHR8fGVsLnN0eWxlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt3aWR0aDp3LGhlaWdodDpofVxuICAgIH1cblxuICAgIGFkZEV2ZW50TGlzdGVuZXIgPSAoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIC8vSUVcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgaGFuZGxlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50W1wib25cIiArIHR5cGVdID0gaGFuZGxlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgIC8vSUVcbiAgICAgICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgaGFuZGxlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50W1wib25cIiArIHR5cGVdID0gaGFuZGxlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlZXBDb3B5ID0gKHZhbCkgPT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWwpKVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29tbW9uKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUxBO0FBTUE7Ozs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7QUF2S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7QUF1SkE7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n')},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(20);\nvar IE8_DOM_DEFINE = __webpack_require__(145);\nvar toPrimitive = __webpack_require__(102);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(21) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcz9kOWY2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n")},function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcz9mNzcyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n")},function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pcy1vYmplY3QuanM/ZDNmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty2 = __webpack_require__(2);\n\n_Object$defineProperty2(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(2));\n\nvar _defineProperties = _interopRequireDefault(__webpack_require__(47));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(__webpack_require__(48));\n\n__webpack_require__(27);\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(__webpack_require__(40));\n\n__webpack_require__(37);\n\nvar _getOwnPropertySymbols = _interopRequireDefault(__webpack_require__(49));\n\nvar _keys = _interopRequireDefault(__webpack_require__(38));\n\n__webpack_require__(33);\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty3 = _interopRequireDefault(__webpack_require__(8));\n\nfunction ownKeys(object, enumerableOnly) { var keys = (0, _keys["default"])(object); if (_getOwnPropertySymbols["default"]) { var symbols = (0, _getOwnPropertySymbols["default"])(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return (0, _getOwnPropertyDescriptor["default"])(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty3["default"])(target, key, source[key]); }); } else if (_getOwnPropertyDescriptors["default"]) { (0, _defineProperties["default"])(target, (0, _getOwnPropertyDescriptors["default"])(source)); } else { ownKeys(Object(source)).forEach(function (key) { (0, _defineProperty2["default"])(target, key, (0, _getOwnPropertyDescriptor["default"])(source, key)); }); } } return target; }\n\nvar version = __webpack_require__(235).version;\n\nvar Config = function Config() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Config);\n  (0, _defineProperty3["default"])(this, "init", function () {\n    _this._init = true;\n    _this.config = {\n      uccIdMax: 9999999999999998,\n      channelNameMax: 9999999999998,\n      webHttpGateway: \'https://srtcp.fetiononline.com:443\',\n      whiteBoard: {\n        baseUrl: \'\',\n        staticUrl: \'\'\n      },\n      sdkVersion: version\n    };\n  });\n  (0, _defineProperty3["default"])(this, "setAuthBaseUrl", function (serverUrl) {\n    _this.config.webHttpGateway = \'https://\' + serverUrl;\n  });\n  (0, _defineProperty3["default"])(this, "setMqttConnect", function (connect) {\n    _this.config.mqttConnect = connect;\n  });\n  (0, _defineProperty3["default"])(this, "setConfig", function (_ref) {\n    var uccId = _ref.uccId,\n        nonce = _ref.nonce,\n        token = _ref.token,\n        roleType = _ref.roleType,\n        appKey = _ref.appKey,\n        curTime = _ref.curTime,\n        checkSum = _ref.checkSum,\n        counter = _ref.counter;\n    roleType = roleType ? (0, _parseInt2["default"])(roleType) : 1;\n    appKey = appKey ? appKey : _this.config.appKey;\n    _this.config.uccId = uccId;\n    _this.config.nonce = nonce;\n    _this.config.roleType = roleType;\n    _this.config.appKey = appKey;\n    _this.config.deviceId = \'WEB;appKey=\' + _this.config.appKey + \';uccId=\' + _this.config.uccId + \';os=H5\';\n    _this.config.token = token;\n    _this.config.curTime = curTime;\n    _this.config.checkSum = checkSum;\n    _this.config.counter = counter;\n  });\n  (0, _defineProperty3["default"])(this, "setProvision", function (data) {\n    var oldConfig = _objectSpread({}, _this.config);\n\n    var httpUrl = data.webHttpGateway.split(\';\')[0];\n    var mediaUrl = data.webMediaRelay.split(\';\')[0];\n    var mqttGateway = data.webMqttGateway.split(\';\')[0];\n    _this.config = _objectSpread({}, oldConfig, {}, data, {\n      webHttpGateway: \'https://\' + httpUrl,\n      webMediaRelay: mediaUrl,\n      webMqttGateway: mqttGateway,\n      whiteBoard: _objectSpread({}, oldConfig.whiteBoard, {\n        baseUrl: \'https://\' + data.whiteBoard.whiteBaseUrl + \'/srtc_server/ext/whiteboard\',\n        staticUrl: data.whiteBoard.httpUrl // staticUrl:data.whiteBoard.url\n        // staticUrl:\'http://localhost:8022/srtc_server/static/whiteBoard\',\n\n      })\n    });\n  });\n  (0, _defineProperty3["default"])(this, "setRsaPublicKey", function (rsaPublicKey) {\n    _this.config.rsaPublicKey = rsaPublicKey;\n  });\n  (0, _defineProperty3["default"])(this, "updateLoginStatus", function (boo) {\n    _this.config.loginStatus = boo;\n  });\n  (0, _defineProperty3["default"])(this, "setData", function (data) {\n    _this.config = _objectSpread({}, _this.config, {}, data);\n  });\n  (0, _defineProperty3["default"])(this, "setDiffTime", function (data) {\n    if (data.time) _this.config.diffTime = new Date(data.time).valueOf() - new Date().valueOf();\n  });\n  this.config = {};\n\n  try {\n    this.config.isClient = JS_GlobalVal.g_is_client;\n  } catch (e) {\n    this.config.isClient = null;\n  }\n\n  this.config.sdkVersion = version;\n};\n\nvar _default = new Config();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9zZGsvY29uZmlnLmpzPzljMGMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdmVyc2lvbiA9IHJlcXVpcmUoJy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jbGFzcyBDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5pc0NsaWVudCA9IEpTX0dsb2JhbFZhbC5nX2lzX2NsaWVudDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuaXNDbGllbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLnNka1ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cblxuXG4gICAgaW5pdCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5faW5pdCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgdWNjSWRNYXg6OTk5OTk5OTk5OTk5OTk5OCxcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lTWF4Ojk5OTk5OTk5OTk5OTgsXG4gICAgICAgICAgICB3ZWJIdHRwR2F0ZXdheTonaHR0cHM6Ly9zcnRjcC5mZXRpb25vbmxpbmUuY29tOjQ0MycsXG4gICAgICAgICAgICB3aGl0ZUJvYXJkOntcbiAgICAgICAgICAgICAgICBiYXNlVXJsOiAnJyxcbiAgICAgICAgICAgICAgICBzdGF0aWNVcmw6JycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2RrVmVyc2lvbiA6IHZlcnNpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXRBdXRoQmFzZVVybCA9IChzZXJ2ZXJVcmwpID0+IHtcbiAgICAgICAgdGhpcy5jb25maWcud2ViSHR0cEdhdGV3YXkgPSAnaHR0cHM6Ly8nK3NlcnZlclVybDtcbiAgICB9XG5cbiAgICBzZXRNcXR0Q29ubmVjdCA9IChjb25uZWN0KSA9PiB7XG4gICAgICAgIHRoaXMuY29uZmlnLm1xdHRDb25uZWN0ID0gY29ubmVjdDtcbiAgICB9XG5cbiAgICAvL+iuvue9ruWfuuehgOmFjee9rlxuICAgIHNldENvbmZpZyA9ICh7dWNjSWQsbm9uY2UsdG9rZW4scm9sZVR5cGUsYXBwS2V5LGN1clRpbWUsY2hlY2tTdW0sY291bnRlcn0pID0+IHtcbiAgICAgICAgcm9sZVR5cGUgPSByb2xlVHlwZT9wYXJzZUludChyb2xlVHlwZSk6MTtcbiAgICAgICAgYXBwS2V5ID0gYXBwS2V5ID8gYXBwS2V5IDogdGhpcy5jb25maWcuYXBwS2V5O1xuICAgICAgICB0aGlzLmNvbmZpZy51Y2NJZCA9IHVjY0lkO1xuICAgICAgICB0aGlzLmNvbmZpZy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB0aGlzLmNvbmZpZy5yb2xlVHlwZSA9IHJvbGVUeXBlO1xuICAgICAgICB0aGlzLmNvbmZpZy5hcHBLZXkgPSBhcHBLZXk7XG4gICAgICAgIHRoaXMuY29uZmlnLmRldmljZUlkID0gJ1dFQjthcHBLZXk9Jyt0aGlzLmNvbmZpZy5hcHBLZXkrJzt1Y2NJZD0nK3RoaXMuY29uZmlnLnVjY0lkKyc7b3M9SDUnO1xuICAgICAgICB0aGlzLmNvbmZpZy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmNvbmZpZy5jdXJUaW1lID0gY3VyVGltZTtcbiAgICAgICAgdGhpcy5jb25maWcuY2hlY2tTdW0gPSBjaGVja1N1bTtcbiAgICAgICAgdGhpcy5jb25maWcuY291bnRlciA9IGNvdW50ZXI7XG4gICAgfVxuXG4gICAgLy/kv53lrZhwcm92aXNpb27mjqXlj6Pov5Tlm57nmoTmlbDmja4s6K6+572u5o6l5Y+j6K+35rGC55qE5Z+656GA6Lev5b6EXG4gICAgc2V0UHJvdmlzaW9uID0gKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IG9sZENvbmZpZyA9IHsuLi50aGlzLmNvbmZpZ307XG4gICAgICAgIGxldCBodHRwVXJsID0gZGF0YS53ZWJIdHRwR2F0ZXdheS5zcGxpdCgnOycpWzBdO1xuICAgICAgICBsZXQgbWVkaWFVcmwgPSBkYXRhLndlYk1lZGlhUmVsYXkuc3BsaXQoJzsnKVswXTtcbiAgICAgICAgbGV0IG1xdHRHYXRld2F5ID0gZGF0YS53ZWJNcXR0R2F0ZXdheS5zcGxpdCgnOycpWzBdO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIC4uLm9sZENvbmZpZyxcbiAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICB3ZWJIdHRwR2F0ZXdheTonaHR0cHM6Ly8nK2h0dHBVcmwsXG4gICAgICAgICAgICB3ZWJNZWRpYVJlbGF5Om1lZGlhVXJsLFxuICAgICAgICAgICAgd2ViTXF0dEdhdGV3YXk6bXF0dEdhdGV3YXksXG4gICAgICAgICAgICB3aGl0ZUJvYXJkOntcbiAgICAgICAgICAgICAgICAuLi5vbGRDb25maWcud2hpdGVCb2FyZCxcbiAgICAgICAgICAgICAgICBiYXNlVXJsOidodHRwczovLycrZGF0YS53aGl0ZUJvYXJkLndoaXRlQmFzZVVybCsnL3NydGNfc2VydmVyL2V4dC93aGl0ZWJvYXJkJyxcbiAgICAgICAgICAgICAgICBzdGF0aWNVcmw6ZGF0YS53aGl0ZUJvYXJkLmh0dHBVcmwsXG4gICAgICAgICAgICAgICAgLy8gc3RhdGljVXJsOmRhdGEud2hpdGVCb2FyZC51cmxcbiAgICAgICAgICAgICAgICAvLyBzdGF0aWNVcmw6J2h0dHA6Ly9sb2NhbGhvc3Q6ODAyMi9zcnRjX3NlcnZlci9zdGF0aWMvd2hpdGVCb2FyZCcsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRSc2FQdWJsaWNLZXkgPSAocnNhUHVibGljS2V5KSA9PiB7XG4gICAgICAgIHRoaXMuY29uZmlnLnJzYVB1YmxpY0tleSA9IHJzYVB1YmxpY0tleTtcbiAgICB9XG5cbiAgICB1cGRhdGVMb2dpblN0YXR1cyA9IChib28pID0+IHtcbiAgICAgICAgdGhpcy5jb25maWcubG9naW5TdGF0dXMgPSBib287XG4gICAgfVxuXG4gICAgc2V0RGF0YSA9IChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICB9XG4gICAgfVxuICAgIHNldERpZmZUaW1lID0gKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEudGltZSlcbiAgICAgICAgICB0aGlzLmNvbmZpZy5kaWZmVGltZSA9IG5ldyBEYXRlKGRhdGEudGltZSkudmFsdWVPZigpIC0gbmV3IERhdGUoKS52YWx1ZU9mKClcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbmZpZygpXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBUkE7QUFVQTtBQXZCQTtBQTBCQTtBQUNBO0FBM0JBO0FBOEJBO0FBQ0E7QUEvQkE7QUFrQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlDQTtBQWtEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBTkE7QUFOQTtBQWNBO0FBcEVBO0FBdUVBO0FBQ0E7QUF4RUE7QUEyRUE7QUFDQTtBQTVFQTtBQStFQTtBQUlBO0FBbkZBO0FBcUZBO0FBRUE7QUF0RkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWtGQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar $export = __webpack_require__(10);\nvar $forEach = __webpack_require__(63)(0);\nvar STRICT = __webpack_require__(58)([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mb3ItZWFjaC5qcz9mM2UyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGZvckVhY2ggPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMCk7XG52YXIgU1RSSUNUID0gcmVxdWlyZSgnLi9fc3RyaWN0LW1ldGhvZCcpKFtdLmZvckVhY2gsIHRydWUpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqICFTVFJJQ1QsICdBcnJheScsIHtcbiAgLy8gMjIuMS4zLjEwIC8gMTUuNC40LjE4IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pXG4gIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICByZXR1cm4gJGZvckVhY2godGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzWzFdKTtcbiAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(29);\nvar createDesc = __webpack_require__(81);\nmodule.exports = __webpack_require__(17) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oaWRlLmpzPzMyZTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(16);\nvar IE8_DOM_DEFINE = __webpack_require__(148);\nvar toPrimitive = __webpack_require__(87);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(17) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZHAuanM/ODZjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(12);\nvar hide = __webpack_require__(28);\nvar has = __webpack_require__(50);\nvar SRC = __webpack_require__(62)('src');\nvar $toString = __webpack_require__(209);\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\n__webpack_require__(57).inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19yZWRlZmluZS5qcz8yYWJhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFNSQyA9IHJlcXVpcmUoJy4vX3VpZCcpKCdzcmMnKTtcbnZhciAkdG9TdHJpbmcgPSByZXF1aXJlKCcuL19mdW5jdGlvbi10by1zdHJpbmcnKTtcbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyIFRQTCA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi9fY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbCwgc2FmZSkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYgKGlzRnVuY3Rpb24pIGhhcyh2YWwsICduYW1lJykgfHwgaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYgKE9ba2V5XSA9PT0gdmFsKSByZXR1cm47XG4gIGlmIChpc0Z1bmN0aW9uKSBoYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH0gZWxzZSBpZiAoT1trZXldKSB7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICB9XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(134);\nvar defined = __webpack_require__(78);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanM/MzZjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n")},function(module,exports){eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1pbnRlZ2VyLmpzPzQ1ODgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar isRegExp = __webpack_require__(114);\nvar anObject = __webpack_require__(16);\nvar speciesConstructor = __webpack_require__(98);\nvar advanceStringIndex = __webpack_require__(115);\nvar toLength = __webpack_require__(15);\nvar callRegExpExec = __webpack_require__(90);\nvar regexpExec = __webpack_require__(116);\nvar fails = __webpack_require__(19);\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\n__webpack_require__(91)('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQuanM/MjhhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBpc1JlZ0V4cCA9IHJlcXVpcmUoJy4vX2lzLXJlZ2V4cCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4vX2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjYWxsUmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyICRtaW4gPSBNYXRoLm1pbjtcbnZhciAkcHVzaCA9IFtdLnB1c2g7XG52YXIgJFNQTElUID0gJ3NwbGl0JztcbnZhciBMRU5HVEggPSAnbGVuZ3RoJztcbnZhciBMQVNUX0lOREVYID0gJ2xhc3RJbmRleCc7XG52YXIgTUFYX1VJTlQzMiA9IDB4ZmZmZmZmZmY7XG5cbi8vIGJhYmVsLW1pbmlmeSB0cmFuc3BpbGVzIFJlZ0V4cCgneCcsICd5JykgLT4gL3gveSBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG52YXIgU1VQUE9SVFNfWSA9ICFmYWlscyhmdW5jdGlvbiAoKSB7IFJlZ0V4cChNQVhfVUlOVDMyLCAneScpOyB9KTtcblxuLy8gQEBzcGxpdCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdzcGxpdCcsIDIsIGZ1bmN0aW9uIChkZWZpbmVkLCBTUExJVCwgJHNwbGl0LCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgdmFyIGludGVybmFsU3BsaXQ7XG4gIGlmIChcbiAgICAnYWJiYydbJFNQTElUXSgvKGIpKi8pWzFdID09ICdjJyB8fFxuICAgICd0ZXN0J1skU1BMSVRdKC8oPzopLywgLTEpW0xFTkdUSF0gIT0gNCB8fFxuICAgICdhYidbJFNQTElUXSgvKD86YWIpKi8pW0xFTkdUSF0gIT0gMiB8fFxuICAgICcuJ1skU1BMSVRdKC8oLj8pKC4/KS8pW0xFTkdUSF0gIT0gNCB8fFxuICAgICcuJ1skU1BMSVRdKC8oKSgpLylbTEVOR1RIXSA+IDEgfHxcbiAgICAnJ1skU1BMSVRdKC8uPy8pW0xFTkdUSF1cbiAgKSB7XG4gICAgLy8gYmFzZWQgb24gZXM1LXNoaW0gaW1wbGVtZW50YXRpb24sIG5lZWQgdG8gcmV3b3JrIGl0XG4gICAgaW50ZXJuYWxTcGxpdCA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICB2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkICYmIGxpbWl0ID09PSAwKSByZXR1cm4gW107XG4gICAgICAvLyBJZiBgc2VwYXJhdG9yYCBpcyBub3QgYSByZWdleCwgdXNlIG5hdGl2ZSBzcGxpdFxuICAgICAgaWYgKCFpc1JlZ0V4cChzZXBhcmF0b3IpKSByZXR1cm4gJHNwbGl0LmNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgIHZhciBmbGFncyA9IChzZXBhcmF0b3IuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLm11bHRpbGluZSA/ICdtJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5zdGlja3kgPyAneScgOiAnJyk7XG4gICAgICB2YXIgbGFzdExhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgc3BsaXRMaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfVUlOVDMyIDogbGltaXQgPj4+IDA7XG4gICAgICAvLyBNYWtlIGBnbG9iYWxgIGFuZCBhdm9pZCBgbGFzdEluZGV4YCBpc3N1ZXMgYnkgd29ya2luZyB3aXRoIGEgY29weVxuICAgICAgdmFyIHNlcGFyYXRvckNvcHkgPSBuZXcgUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIGZsYWdzICsgJ2cnKTtcbiAgICAgIHZhciBtYXRjaCwgbGFzdEluZGV4LCBsYXN0TGVuZ3RoO1xuICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXhwRXhlYy5jYWxsKHNlcGFyYXRvckNvcHksIHN0cmluZykpIHtcbiAgICAgICAgbGFzdEluZGV4ID0gc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYXTtcbiAgICAgICAgaWYgKGxhc3RJbmRleCA+IGxhc3RMYXN0SW5kZXgpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmcuc2xpY2UobGFzdExhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICAgICAgICBpZiAobWF0Y2hbTEVOR1RIXSA+IDEgJiYgbWF0Y2guaW5kZXggPCBzdHJpbmdbTEVOR1RIXSkgJHB1c2guYXBwbHkob3V0cHV0LCBtYXRjaC5zbGljZSgxKSk7XG4gICAgICAgICAgbGFzdExlbmd0aCA9IG1hdGNoWzBdW0xFTkdUSF07XG4gICAgICAgICAgbGFzdExhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICBpZiAob3V0cHV0W0xFTkdUSF0gPj0gc3BsaXRMaW1pdCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcGFyYXRvckNvcHlbTEFTVF9JTkRFWF0gPT09IG1hdGNoLmluZGV4KSBzZXBhcmF0b3JDb3B5W0xBU1RfSU5ERVhdKys7IC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0TGFzdEluZGV4ID09PSBzdHJpbmdbTEVOR1RIXSkge1xuICAgICAgICBpZiAobGFzdExlbmd0aCB8fCAhc2VwYXJhdG9yQ29weS50ZXN0KCcnKSkgb3V0cHV0LnB1c2goJycpO1xuICAgICAgfSBlbHNlIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4KSk7XG4gICAgICByZXR1cm4gb3V0cHV0W0xFTkdUSF0gPiBzcGxpdExpbWl0ID8gb3V0cHV0LnNsaWNlKDAsIHNwbGl0TGltaXQpIDogb3V0cHV0O1xuICAgIH07XG4gIC8vIENoYWtyYSwgVjhcbiAgfSBlbHNlIGlmICgnMCdbJFNQTElUXSh1bmRlZmluZWQsIDApW0xFTkdUSF0pIHtcbiAgICBpbnRlcm5hbFNwbGl0ID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHJldHVybiBzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCAmJiBsaW1pdCA9PT0gMCA/IFtdIDogJHNwbGl0LmNhbGwodGhpcywgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBpbnRlcm5hbFNwbGl0ID0gJHNwbGl0O1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5zcGxpdGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5zcGxpdFxuICAgIGZ1bmN0aW9uIHNwbGl0KHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHZhciBPID0gZGVmaW5lZCh0aGlzKTtcbiAgICAgIHZhciBzcGxpdHRlciA9IHNlcGFyYXRvciA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzZXBhcmF0b3JbU1BMSVRdO1xuICAgICAgcmV0dXJuIHNwbGl0dGVyICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBzcGxpdHRlci5jYWxsKHNlcGFyYXRvciwgTywgbGltaXQpXG4gICAgICAgIDogaW50ZXJuYWxTcGxpdC5jYWxsKFN0cmluZyhPKSwgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHNwbGl0XWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQHNwbGl0XG4gICAgLy9cbiAgICAvLyBOT1RFOiBUaGlzIGNhbm5vdCBiZSBwcm9wZXJseSBwb2x5ZmlsbGVkIGluIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0XG4gICAgLy8gdGhlICd5JyBmbGFnLlxuICAgIGZ1bmN0aW9uIChyZWdleHAsIGxpbWl0KSB7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKGludGVybmFsU3BsaXQsIHJlZ2V4cCwgdGhpcywgbGltaXQsIGludGVybmFsU3BsaXQgIT09ICRzcGxpdCk7XG4gICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG5cbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHJlZ2V4cCk7XG4gICAgICB2YXIgUyA9IFN0cmluZyh0aGlzKTtcbiAgICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHJ4LCBSZWdFeHApO1xuXG4gICAgICB2YXIgdW5pY29kZU1hdGNoaW5nID0gcngudW5pY29kZTtcbiAgICAgIHZhciBmbGFncyA9IChyeC5pZ25vcmVDYXNlID8gJ2knIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyeC5tdWx0aWxpbmUgPyAnbScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJ4LnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKFNVUFBPUlRTX1kgPyAneScgOiAnZycpO1xuXG4gICAgICAvLyBeKD8gKyByeCArICkgaXMgbmVlZGVkLCBpbiBjb21iaW5hdGlvbiB3aXRoIHNvbWUgUyBzbGljaW5nLCB0b1xuICAgICAgLy8gc2ltdWxhdGUgdGhlICd5JyBmbGFnLlxuICAgICAgdmFyIHNwbGl0dGVyID0gbmV3IEMoU1VQUE9SVFNfWSA/IHJ4IDogJ14oPzonICsgcnguc291cmNlICsgJyknLCBmbGFncyk7XG4gICAgICB2YXIgbGltID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9VSU5UMzIgOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmIChsaW0gPT09IDApIHJldHVybiBbXTtcbiAgICAgIGlmIChTLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNhbGxSZWdFeHBFeGVjKHNwbGl0dGVyLCBTKSA9PT0gbnVsbCA/IFtTXSA6IFtdO1xuICAgICAgdmFyIHAgPSAwO1xuICAgICAgdmFyIHEgPSAwO1xuICAgICAgdmFyIEEgPSBbXTtcbiAgICAgIHdoaWxlIChxIDwgUy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXR0ZXIubGFzdEluZGV4ID0gU1VQUE9SVFNfWSA/IHEgOiAwO1xuICAgICAgICB2YXIgeiA9IGNhbGxSZWdFeHBFeGVjKHNwbGl0dGVyLCBTVVBQT1JUU19ZID8gUyA6IFMuc2xpY2UocSkpO1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHogPT09IG51bGwgfHxcbiAgICAgICAgICAoZSA9ICRtaW4odG9MZW5ndGgoc3BsaXR0ZXIubGFzdEluZGV4ICsgKFNVUFBPUlRTX1kgPyAwIDogcSkpLCBTLmxlbmd0aCkpID09PSBwXG4gICAgICAgICkge1xuICAgICAgICAgIHEgPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgcSwgdW5pY29kZU1hdGNoaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBLnB1c2goUy5zbGljZShwLCBxKSk7XG4gICAgICAgICAgaWYgKEEubGVuZ3RoID09PSBsaW0pIHJldHVybiBBO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHoubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBBLnB1c2goeltpXSk7XG4gICAgICAgICAgICBpZiAoQS5sZW5ndGggPT09IGxpbSkgcmV0dXJuIEE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHEgPSBwID0gZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQS5wdXNoKFMuc2xpY2UocCkpO1xuICAgICAgcmV0dXJuIEE7XG4gICAgfVxuICBdO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n")},function(module,exports,__webpack_require__){eval("// optional / simple context binding\nvar aFunction = __webpack_require__(67);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcz9kODY0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///34\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(23);\nvar createDesc = __webpack_require__(59);\nmodule.exports = __webpack_require__(21) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanM/MzVlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(51);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1vYmplY3QuanM/NGJmOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $export = __webpack_require__(10);\nvar $filter = __webpack_require__(63)(2);\n\n$export($export.P + $export.F * !__webpack_require__(58)([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maWx0ZXIuanM/ZDI1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRmaWx0ZXIgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMik7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShbXS5maWx0ZXIsIHRydWUpLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMy43IC8gMTUuNC40LjIwIEFycmF5LnByb3RvdHlwZS5maWx0ZXIoY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSlcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICByZXR1cm4gJGZpbHRlcih0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHNbMV0pO1xuICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(217);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL29iamVjdC9rZXlzLmpzP2E0YmIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///38\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzPzI5NGMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///39\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(213);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/MjY4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///40\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 19.1.3.6 Object.prototype.toString()\nvar classof = __webpack_require__(72);\nvar test = {};\ntest[__webpack_require__(11)('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  __webpack_require__(30)(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzPzA2ZGIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciB0ZXN0ID0ge307XG50ZXN0W3JlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpXSA9ICd6JztcbmlmICh0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKSB7XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdbb2JqZWN0ICcgKyBjbGFzc29mKHRoaXMpICsgJ10nO1xuICB9LCB0cnVlKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41\n")},function(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcz8wN2UzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///42\n")},function(module,exports,__webpack_require__){"use strict";eval("\n__webpack_require__(156);\nvar anObject = __webpack_require__(16);\nvar $flags = __webpack_require__(82);\nvar DESCRIPTORS = __webpack_require__(17);\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  __webpack_require__(30)(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (__webpack_require__(19)(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nLmpzPzZiNTQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xucmVxdWlyZSgnLi9lczYucmVnZXhwLmZsYWdzJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciAkZmxhZ3MgPSByZXF1aXJlKCcuL19mbGFncycpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyICR0b1N0cmluZyA9IC8uL1tUT19TVFJJTkddO1xuXG52YXIgZGVmaW5lID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoUmVnRXhwLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmbiwgdHJ1ZSk7XG59O1xuXG4vLyAyMS4yLjUuMTQgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZygpXG5pZiAocmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7IHJldHVybiAkdG9TdHJpbmcuY2FsbCh7IHNvdXJjZTogJ2EnLCBmbGFnczogJ2InIH0pICE9ICcvYS9iJzsgfSkpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHZhciBSID0gYW5PYmplY3QodGhpcyk7XG4gICAgcmV0dXJuICcvJy5jb25jYXQoUi5zb3VyY2UsICcvJyxcbiAgICAgICdmbGFncycgaW4gUiA/IFIuZmxhZ3MgOiAhREVTQ1JJUFRPUlMgJiYgUiBpbnN0YW5jZW9mIFJlZ0V4cCA/ICRmbGFncy5jYWxsKFIpIDogdW5kZWZpbmVkKTtcbiAgfSk7XG4vLyBGRjQ0LSBSZWdFeHAjdG9TdHJpbmcgaGFzIGEgd3JvbmcgbmFtZVxufSBlbHNlIGlmICgkdG9TdHJpbmcubmFtZSAhPSBUT19TVFJJTkcpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAkdG9TdHJpbmcuY2FsbCh0aGlzKTtcbiAgfSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43\n")},function(module,exports,__webpack_require__){eval("var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  __webpack_require__(30)(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5kYXRlLnRvLXN0cmluZy5qcz84N2IzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBEYXRlUHJvdG8gPSBEYXRlLnByb3RvdHlwZTtcbnZhciBJTlZBTElEX0RBVEUgPSAnSW52YWxpZCBEYXRlJztcbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyICR0b1N0cmluZyA9IERhdGVQcm90b1tUT19TVFJJTkddO1xudmFyIGdldFRpbWUgPSBEYXRlUHJvdG8uZ2V0VGltZTtcbmlmIChuZXcgRGF0ZShOYU4pICsgJycgIT0gSU5WQUxJRF9EQVRFKSB7XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoRGF0ZVByb3RvLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHZhciB2YWx1ZSA9IGdldFRpbWUuY2FsbCh0aGlzKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/ICR0b1N0cmluZy5jYWxsKHRoaXMpIDogSU5WQUxJRF9EQVRFO1xuICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///44\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(238);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzP2Y0OTkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $export = __webpack_require__(10);\nvar $indexOf = __webpack_require__(92)(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(58)($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pbmRleC1vZi5qcz81N2U3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKTtcbnZhciAkbmF0aXZlID0gW10uaW5kZXhPZjtcbnZhciBORUdBVElWRV9aRVJPID0gISEkbmF0aXZlICYmIDEgLyBbMV0uaW5kZXhPZigxLCAtMCkgPCAwO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChORUdBVElWRV9aRVJPIHx8ICFyZXF1aXJlKCcuL19zdHJpY3QtbWV0aG9kJykoJG5hdGl2ZSkpLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMy4xMSAvIDE1LjQuNC4xNCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZihzZWFyY2hFbGVtZW50IFssIGZyb21JbmRleF0pXG4gIGluZGV4T2Y6IGZ1bmN0aW9uIGluZGV4T2Yoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCA9IDAgKi8pIHtcbiAgICByZXR1cm4gTkVHQVRJVkVfWkVST1xuICAgICAgLy8gY29udmVydCAtMCB0byArMFxuICAgICAgPyAkbmF0aXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgMFxuICAgICAgOiAkaW5kZXhPZih0aGlzLCBzZWFyY2hFbGVtZW50LCBhcmd1bWVudHNbMV0pO1xuICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(202);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydGllcy5qcz9kODQ3Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnRpZXNcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(206);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzPzVlODMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(215);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMuanM/ZTI2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktc3ltYm9sc1wiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49\n")},function(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oYXMuanM/NjlhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50\n")},function(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kZWZpbmVkLmpzP2JlMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///51\n')},function(module,exports,__webpack_require__){eval("// optional / simple context binding\nvar aFunction = __webpack_require__(70);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jdHguanM/OWI0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52\n")},function(module,exports,__webpack_require__){eval('var _Symbol$iterator = __webpack_require__(160);\n\nvar _Symbol = __webpack_require__(161);\n\nfunction _typeof(obj) {\n  "@babel/helpers - typeof";\n\n  if (typeof _Symbol === "function" && typeof _Symbol$iterator === "symbol") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === "function" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? "symbol" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL3R5cGVvZi5qcz84OTkzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfU3ltYm9sJGl0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgX1N5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfU3ltYm9sJGl0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIF9TeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9TeW1ib2wgJiYgb2JqICE9PSBfU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2Y7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///53\n')},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jb2YuanM/MmQ5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///54\n")},function(module,exports,__webpack_require__){eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(78);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcz8yNDFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n")},function(module,exports){eval("module.exports = {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcz80ODFiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge307XG4iXSwibWFwcGluZ3MiOiJBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n")},function(module,exports){eval("var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jb3JlLmpzPzgzNzgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogJzIuNi4xMScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar fails = __webpack_require__(19);\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpY3QtbWV0aG9kLmpzPzJmMjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWV0aG9kLCBhcmcpIHtcbiAgcmV0dXJuICEhbWV0aG9kICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jYWxsXG4gICAgYXJnID8gbWV0aG9kLmNhbGwobnVsbCwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCAxKSA6IG1ldGhvZC5jYWxsKG51bGwpO1xuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58\n")},function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanM/YWViZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59\n")},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcz82YjRjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///60\n")},function(module,exports){eval("module.exports = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanM/YjhlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHRydWU7XG4iXSwibWFwcGluZ3MiOiJBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///61\n")},function(module,exports){eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL191aWQuanM/Y2E1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///62\n")},function(module,exports,__webpack_require__){eval("// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = __webpack_require__(52);\nvar IObject = __webpack_require__(109);\nvar toObject = __webpack_require__(36);\nvar toLength = __webpack_require__(15);\nvar asc = __webpack_require__(210);\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hcnJheS1tZXRob2RzLmpzPzBhNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMCAtPiBBcnJheSNmb3JFYWNoXG4vLyAxIC0+IEFycmF5I21hcFxuLy8gMiAtPiBBcnJheSNmaWx0ZXJcbi8vIDMgLT4gQXJyYXkjc29tZVxuLy8gNCAtPiBBcnJheSNldmVyeVxuLy8gNSAtPiBBcnJheSNmaW5kXG4vLyA2IC0+IEFycmF5I2ZpbmRJbmRleFxudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGFzYyA9IHJlcXVpcmUoJy4vX2FycmF5LXNwZWNpZXMtY3JlYXRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUWVBFLCAkY3JlYXRlKSB7XG4gIHZhciBJU19NQVAgPSBUWVBFID09IDE7XG4gIHZhciBJU19GSUxURVIgPSBUWVBFID09IDI7XG4gIHZhciBJU19TT01FID0gVFlQRSA9PSAzO1xuICB2YXIgSVNfRVZFUlkgPSBUWVBFID09IDQ7XG4gIHZhciBJU19GSU5EX0lOREVYID0gVFlQRSA9PSA2O1xuICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgdmFyIGNyZWF0ZSA9ICRjcmVhdGUgfHwgYXNjO1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0KSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCgkdGhpcyk7XG4gICAgdmFyIHNlbGYgPSBJT2JqZWN0KE8pO1xuICAgIHZhciBmID0gY3R4KGNhbGxiYWNrZm4sIHRoYXQsIDMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChzZWxmLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgcmVzdWx0ID0gSVNfTUFQID8gY3JlYXRlKCR0aGlzLCBsZW5ndGgpIDogSVNfRklMVEVSID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdmFsLCByZXM7XG4gICAgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChOT19IT0xFUyB8fCBpbmRleCBpbiBzZWxmKSB7XG4gICAgICB2YWwgPSBzZWxmW2luZGV4XTtcbiAgICAgIHJlcyA9IGYodmFsLCBpbmRleCwgTyk7XG4gICAgICBpZiAoVFlQRSkge1xuICAgICAgICBpZiAoSVNfTUFQKSByZXN1bHRbaW5kZXhdID0gcmVzOyAgIC8vIG1hcFxuICAgICAgICBlbHNlIGlmIChyZXMpIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIHRydWU7ICAgICAgICAgICAgIC8vIHNvbWVcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiB2YWw7ICAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgLy8gZmluZEluZGV4XG4gICAgICAgICAgY2FzZSAyOiByZXN1bHQucHVzaCh2YWwpOyAgICAgICAgLy8gZmlsdGVyXG4gICAgICAgIH0gZWxzZSBpZiAoSVNfRVZFUlkpIHJldHVybiBmYWxzZTsgLy8gZXZlcnlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHJlc3VsdDtcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///63\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $at = __webpack_require__(220)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(125)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcz8xNjU0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///64\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(138)('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC51aW50OC1hcnJheS5qcz8zNGVmIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ1VpbnQ4JywgMSwgZnVuY3Rpb24gKGluaXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFVpbnQ4QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///65\n")},function(module,exports){eval("module.exports = {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pdGVyYXRvcnMuanM/ODRmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///66\n")},function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanM/NzlhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///67\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(147);\nvar enumBugKeys = __webpack_require__(106);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzP2MzYTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///68\n")},function(module,exports){eval("module.exports = false;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19saWJyYXJ5LmpzPzJkMDAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///69\n")},function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzP2Q4ZTgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70\n")},function(module,exports,__webpack_require__){eval("var def = __webpack_require__(23).f;\nvar has = __webpack_require__(42);\nvar TAG = __webpack_require__(14)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzPzQ1ZjIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHtcbiAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpIGRlZihpdCwgVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZyB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///71\n")},function(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(54);\nvar TAG = __webpack_require__(11)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jbGFzc29mLmpzPzIzYzYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQVJHID0gY29mKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///72\n")},function(module,exports,__webpack_require__){eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(109);\nvar defined = __webpack_require__(51);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1pb2JqZWN0LmpzPzY4MjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///73\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(222);\nvar global = __webpack_require__(9);\nvar hide = __webpack_require__(35);\nvar Iterators = __webpack_require__(56);\nvar TO_STRING_TAG = __webpack_require__(14)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcz82YzFjIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbnZhciBET01JdGVyYWJsZXMgPSAoJ0NTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsJyArXG4gICdET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LCcgK1xuICAnTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCwnICtcbiAgJ1NWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LCcgK1xuICAnVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QnKS5zcGxpdCgnLCcpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IERPTUl0ZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICB2YXIgTkFNRSA9IERPTUl0ZXJhYmxlc1tpXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07XG4gIHZhciBwcm90byA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10pIGhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar anObject = __webpack_require__(16);\nvar toObject = __webpack_require__(36);\nvar toLength = __webpack_require__(15);\nvar toInteger = __webpack_require__(32);\nvar advanceStringIndex = __webpack_require__(115);\nvar regExpExec = __webpack_require__(90);\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\n__webpack_require__(91)('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZS5qcz9hNDgxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBhZHZhbmNlU3RyaW5nSW5kZXggPSByZXF1aXJlKCcuL19hZHZhbmNlLXN0cmluZy1pbmRleCcpO1xudmFyIHJlZ0V4cEV4ZWMgPSByZXF1aXJlKCcuL19yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbnZhciBTVUJTVElUVVRJT05fU1lNQk9MUyA9IC9cXCQoWyQmYCddfFxcZFxcZD98PFtePl0qPikvZztcbnZhciBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRCA9IC9cXCQoWyQmYCddfFxcZFxcZD8pL2c7XG5cbnZhciBtYXliZVRvU3RyaW5nID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gaXQgOiBTdHJpbmcoaXQpO1xufTtcblxuLy8gQEByZXBsYWNlIGxvZ2ljXG5yZXF1aXJlKCcuL19maXgtcmUtd2tzJykoJ3JlcGxhY2UnLCAyLCBmdW5jdGlvbiAoZGVmaW5lZCwgUkVQTEFDRSwgJHJlcGxhY2UsIG1heWJlQ2FsbE5hdGl2ZSkge1xuICByZXR1cm4gW1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucmVwbGFjZVxuICAgIGZ1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgdmFyIGZuID0gc2VhcmNoVmFsdWUgPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogc2VhcmNoVmFsdWVbUkVQTEFDRV07XG4gICAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGZuLmNhbGwoc2VhcmNoVmFsdWUsIE8sIHJlcGxhY2VWYWx1ZSlcbiAgICAgICAgOiAkcmVwbGFjZS5jYWxsKFN0cmluZyhPKSwgc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHJlcGxhY2VdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAcmVwbGFjZVxuICAgIGZ1bmN0aW9uIChyZWdleHAsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgdmFyIHJlcyA9IG1heWJlQ2FsbE5hdGl2ZSgkcmVwbGFjZSwgcmVnZXhwLCB0aGlzLCByZXBsYWNlVmFsdWUpO1xuICAgICAgaWYgKHJlcy5kb25lKSByZXR1cm4gcmVzLnZhbHVlO1xuXG4gICAgICB2YXIgcnggPSBhbk9iamVjdChyZWdleHApO1xuICAgICAgdmFyIFMgPSBTdHJpbmcodGhpcyk7XG4gICAgICB2YXIgZnVuY3Rpb25hbFJlcGxhY2UgPSB0eXBlb2YgcmVwbGFjZVZhbHVlID09PSAnZnVuY3Rpb24nO1xuICAgICAgaWYgKCFmdW5jdGlvbmFsUmVwbGFjZSkgcmVwbGFjZVZhbHVlID0gU3RyaW5nKHJlcGxhY2VWYWx1ZSk7XG4gICAgICB2YXIgZ2xvYmFsID0gcnguZ2xvYmFsO1xuICAgICAgaWYgKGdsb2JhbCkge1xuICAgICAgICB2YXIgZnVsbFVuaWNvZGUgPSByeC51bmljb2RlO1xuICAgICAgICByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWdFeHBFeGVjKHJ4LCBTKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgYnJlYWs7XG4gICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICBpZiAoIWdsb2JhbCkgYnJlYWs7XG4gICAgICAgIHZhciBtYXRjaFN0ciA9IFN0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgdG9MZW5ndGgocngubGFzdEluZGV4KSwgZnVsbFVuaWNvZGUpO1xuICAgICAgfVxuICAgICAgdmFyIGFjY3VtdWxhdGVkUmVzdWx0ID0gJyc7XG4gICAgICB2YXIgbmV4dFNvdXJjZVBvc2l0aW9uID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHRzW2ldO1xuICAgICAgICB2YXIgbWF0Y2hlZCA9IFN0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXgobWluKHRvSW50ZWdlcihyZXN1bHQuaW5kZXgpLCBTLmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgY2FwdHVyZXMgPSBbXTtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICAgIC8vICAgY2FwdHVyZXMgPSByZXN1bHQuc2xpY2UoMSkubWFwKG1heWJlVG9TdHJpbmcpXG4gICAgICAgIC8vIGJ1dCBmb3Igc29tZSByZWFzb24gYG5hdGl2ZVNsaWNlLmNhbGwocmVzdWx0LCAxLCByZXN1bHQubGVuZ3RoKWAgKGNhbGxlZCBpblxuICAgICAgICAvLyB0aGUgc2xpY2UgcG9seWZpbGwgd2hlbiBzbGljaW5nIG5hdGl2ZSBhcnJheXMpIFwiZG9lc24ndCB3b3JrXCIgaW4gc2FmYXJpIDkgYW5kXG4gICAgICAgIC8vIGNhdXNlcyBhIGNyYXNoIChodHRwczovL3Bhc3RlYmluLmNvbS9OMjFRemVRQSkgd2hlbiB0cnlpbmcgdG8gZGVidWcgaXQuXG4gICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSBjYXB0dXJlcy5wdXNoKG1heWJlVG9TdHJpbmcocmVzdWx0W2pdKSk7XG4gICAgICAgIHZhciBuYW1lZENhcHR1cmVzID0gcmVzdWx0Lmdyb3VwcztcbiAgICAgICAgaWYgKGZ1bmN0aW9uYWxSZXBsYWNlKSB7XG4gICAgICAgICAgdmFyIHJlcGxhY2VyQXJncyA9IFttYXRjaGVkXS5jb25jYXQoY2FwdHVyZXMsIHBvc2l0aW9uLCBTKTtcbiAgICAgICAgICBpZiAobmFtZWRDYXB0dXJlcyAhPT0gdW5kZWZpbmVkKSByZXBsYWNlckFyZ3MucHVzaChuYW1lZENhcHR1cmVzKTtcbiAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBTdHJpbmcocmVwbGFjZVZhbHVlLmFwcGx5KHVuZGVmaW5lZCwgcmVwbGFjZXJBcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBnZXRTdWJzdGl0dXRpb24obWF0Y2hlZCwgUywgcG9zaXRpb24sIGNhcHR1cmVzLCBuYW1lZENhcHR1cmVzLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA+PSBuZXh0U291cmNlUG9zaXRpb24pIHtcbiAgICAgICAgICBhY2N1bXVsYXRlZFJlc3VsdCArPSBTLnNsaWNlKG5leHRTb3VyY2VQb3NpdGlvbiwgcG9zaXRpb24pICsgcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgbmV4dFNvdXJjZVBvc2l0aW9uID0gcG9zaXRpb24gKyBtYXRjaGVkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdGVkUmVzdWx0ICsgUy5zbGljZShuZXh0U291cmNlUG9zaXRpb24pO1xuICAgIH1cbiAgXTtcblxuICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWdldHN1YnN0aXR1dGlvblxuICBmdW5jdGlvbiBnZXRTdWJzdGl0dXRpb24obWF0Y2hlZCwgc3RyLCBwb3NpdGlvbiwgY2FwdHVyZXMsIG5hbWVkQ2FwdHVyZXMsIHJlcGxhY2VtZW50KSB7XG4gICAgdmFyIHRhaWxQb3MgPSBwb3NpdGlvbiArIG1hdGNoZWQubGVuZ3RoO1xuICAgIHZhciBtID0gY2FwdHVyZXMubGVuZ3RoO1xuICAgIHZhciBzeW1ib2xzID0gU1VCU1RJVFVUSU9OX1NZTUJPTFNfTk9fTkFNRUQ7XG4gICAgaWYgKG5hbWVkQ2FwdHVyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbmFtZWRDYXB0dXJlcyA9IHRvT2JqZWN0KG5hbWVkQ2FwdHVyZXMpO1xuICAgICAgc3ltYm9scyA9IFNVQlNUSVRVVElPTl9TWU1CT0xTO1xuICAgIH1cbiAgICByZXR1cm4gJHJlcGxhY2UuY2FsbChyZXBsYWNlbWVudCwgc3ltYm9scywgZnVuY3Rpb24gKG1hdGNoLCBjaCkge1xuICAgICAgdmFyIGNhcHR1cmU7XG4gICAgICBzd2l0Y2ggKGNoLmNoYXJBdCgwKSkge1xuICAgICAgICBjYXNlICckJzogcmV0dXJuICckJztcbiAgICAgICAgY2FzZSAnJic6IHJldHVybiBtYXRjaGVkO1xuICAgICAgICBjYXNlICdgJzogcmV0dXJuIHN0ci5zbGljZSgwLCBwb3NpdGlvbik7XG4gICAgICAgIGNhc2UgXCInXCI6IHJldHVybiBzdHIuc2xpY2UodGFpbFBvcyk7XG4gICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgIGNhcHR1cmUgPSBuYW1lZENhcHR1cmVzW2NoLnNsaWNlKDEsIC0xKV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IC8vIFxcZFxcZD9cbiAgICAgICAgICB2YXIgbiA9ICtjaDtcbiAgICAgICAgICBpZiAobiA9PT0gMCkgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgIGlmIChuID4gbSkge1xuICAgICAgICAgICAgdmFyIGYgPSBmbG9vcihuIC8gMTApO1xuICAgICAgICAgICAgaWYgKGYgPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgIGlmIChmIDw9IG0pIHJldHVybiBjYXB0dXJlc1tmIC0gMV0gPT09IHVuZGVmaW5lZCA/IGNoLmNoYXJBdCgxKSA6IGNhcHR1cmVzW2YgLSAxXSArIGNoLmNoYXJBdCgxKTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FwdHVyZSA9IGNhcHR1cmVzW24gLSAxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYXB0dXJlID09PSB1bmRlZmluZWQgPyAnJyA6IGNhcHR1cmU7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///75\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar anObject = __webpack_require__(16);\nvar toLength = __webpack_require__(15);\nvar advanceStringIndex = __webpack_require__(115);\nvar regExpExec = __webpack_require__(90);\n\n// @@match logic\n__webpack_require__(91)('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAubWF0Y2guanM/NDkxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgYWR2YW5jZVN0cmluZ0luZGV4ID0gcmVxdWlyZSgnLi9fYWR2YW5jZS1zdHJpbmctaW5kZXgnKTtcbnZhciByZWdFeHBFeGVjID0gcmVxdWlyZSgnLi9fcmVnZXhwLWV4ZWMtYWJzdHJhY3QnKTtcblxuLy8gQEBtYXRjaCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdtYXRjaCcsIDEsIGZ1bmN0aW9uIChkZWZpbmVkLCBNQVRDSCwgJG1hdGNoLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5tYXRjaFxuICAgIGZ1bmN0aW9uIG1hdGNoKHJlZ2V4cCkge1xuICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgdmFyIGZuID0gcmVnZXhwID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlZ2V4cFtNQVRDSF07XG4gICAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IGZuLmNhbGwocmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtNQVRDSF0oU3RyaW5nKE8pKTtcbiAgICB9LFxuICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAbWF0Y2hdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAbWF0Y2hcbiAgICBmdW5jdGlvbiAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKCRtYXRjaCwgcmVnZXhwLCB0aGlzKTtcbiAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHJlZ2V4cCk7XG4gICAgICB2YXIgUyA9IFN0cmluZyh0aGlzKTtcbiAgICAgIGlmICghcnguZ2xvYmFsKSByZXR1cm4gcmVnRXhwRXhlYyhyeCwgUyk7XG4gICAgICB2YXIgZnVsbFVuaWNvZGUgPSByeC51bmljb2RlO1xuICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgIHZhciBBID0gW107XG4gICAgICB2YXIgbiA9IDA7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgd2hpbGUgKChyZXN1bHQgPSByZWdFeHBFeGVjKHJ4LCBTKSkgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIG1hdGNoU3RyID0gU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIEFbbl0gPSBtYXRjaFN0cjtcbiAgICAgICAgaWYgKG1hdGNoU3RyID09PSAnJykgcngubGFzdEluZGV4ID0gYWR2YW5jZVN0cmluZ0luZGV4KFMsIHRvTGVuZ3RoKHJ4Lmxhc3RJbmRleCksIGZ1bGxVbmljb2RlKTtcbiAgICAgICAgbisrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG4gPT09IDAgPyBudWxsIDogQTtcbiAgICB9XG4gIF07XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///76\n")},,function(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanM/MjVlYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78\n')},function(module,exports){eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcz82MmEwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///79\n")},function(module,exports,__webpack_require__){eval("var pIE = __webpack_require__(86);\nvar createDesc = __webpack_require__(59);\nvar toIObject = __webpack_require__(31);\nvar toPrimitive = __webpack_require__(102);\nvar has = __webpack_require__(42);\nvar IE8_DOM_DEFINE = __webpack_require__(145);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(21) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzP2JmMGIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///80\n")},function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzPzQ2MzAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///81\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = __webpack_require__(16);\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19mbGFncy5qcz8wYmZiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIDIxLjIuNS4zIGdldCBSZWdFeHAucHJvdG90eXBlLmZsYWdzXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGhhdCA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmICh0aGF0Lmdsb2JhbCkgcmVzdWx0ICs9ICdnJztcbiAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgaWYgKHRoYXQubXVsdGlsaW5lKSByZXN1bHQgKz0gJ20nO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///82\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(32);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcz83N2YxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83\n")},function(module,exports,__webpack_require__){"use strict";eval('/* eslint-disable */\n\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\n__webpack_require__(142);\n\nvar _now = _interopRequireDefault(__webpack_require__(187));\n\nvar _stringify = _interopRequireDefault(__webpack_require__(45));\n\n__webpack_require__(65);\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(53));\n\nvar _defineProperty = _interopRequireDefault(__webpack_require__(2));\n\nvar _create = _interopRequireDefault(__webpack_require__(120));\n\nvar _setPrototypeOf = _interopRequireDefault(__webpack_require__(94));\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = _setPrototypeOf["default"] || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? (0, _create["default"])(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\n(0, _defineProperty["default"])(exports, "__esModule", {\n  value: true\n});\nvar ProtoBuf = null;\nvar v6sdk;\n\n(function (v6sdk) {\n  (function (LogLevel) {\n    LogLevel[LogLevel["TRACE"] = 1] = "TRACE";\n    LogLevel[LogLevel["DEBUG"] = 2] = "DEBUG";\n    LogLevel[LogLevel["INFO"] = 3] = "INFO";\n    LogLevel[LogLevel["WARN"] = 4] = "WARN";\n    LogLevel[LogLevel["ERROR"] = 5] = "ERROR";\n    LogLevel[LogLevel["FATAL"] = 6] = "FATAL";\n    LogLevel[LogLevel["SILENT"] = 7] = "SILENT";\n  })(v6sdk.LogLevel || (v6sdk.LogLevel = {}));\n\n  var LogLevel = v6sdk.LogLevel;\n  var logLevel = LogLevel.INFO;\n  /**\n   * 设置 SDK 的日志输出级别\n   * @param level\n   */\n\n  function setLogLevel(level) {\n    logLevel = level;\n  }\n\n  v6sdk.setLogLevel = setLogLevel;\n\n  function log(level, args) {\n    if (!level || level >= LogLevel.SILENT || logLevel > level || !args.length) {\n      return;\n    }\n\n    var logArgs = ["[" + new Date().toLocaleString() + "] [" + LogLevel[level] + "]"];\n    var firstArg = args[0];\n\n    if (typeof firstArg === "function") {\n      firstArg = firstArg();\n\n      if (firstArg instanceof Array) {\n        logArgs.push.apply(logArgs, firstArg);\n      } else {\n        logArgs.push(firstArg);\n      }\n    } else {\n      logArgs.push(firstArg);\n    }\n\n    if (args.length > 1) {\n      logArgs = logArgs.concat(args.slice(1));\n    }\n\n    var logFunc;\n\n    switch (level) {\n      case LogLevel.TRACE:\n      case LogLevel.DEBUG:\n        logFunc = console.debug;\n        break;\n\n      case LogLevel.INFO:\n        logFunc = console.info;\n        break;\n\n      case LogLevel.WARN:\n        logFunc = console.warn;\n        break;\n\n      case LogLevel.ERROR:\n      case LogLevel.FATAL:\n        logFunc = console.error;\n        break;\n\n      default:\n        logFunc = console.log;\n        break;\n    }\n\n    logFunc.apply(console, logArgs);\n  }\n\n  function logTrace() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i - 0] = arguments[_i];\n    }\n\n    log(LogLevel.TRACE, args);\n  }\n\n  function logDebug() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i - 0] = arguments[_i];\n    }\n\n    log(LogLevel.DEBUG, args);\n  }\n\n  function logInfo() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i - 0] = arguments[_i];\n    }\n\n    log(LogLevel.INFO, args);\n  }\n\n  function logWarn() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i - 0] = arguments[_i];\n    }\n\n    log(LogLevel.WARN, args);\n  }\n\n  function logError() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i - 0] = arguments[_i];\n    }\n\n    log(LogLevel.ERROR, args);\n  }\n\n  function logFatal() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i - 0] = arguments[_i];\n    }\n\n    log(LogLevel.FATAL, args);\n  }\n  /**\n   * 每一个 Session 实例都绑定维护一个客户端，实现业务逻辑与V6服务之间的通讯与消息转换传递\n   */\n\n\n  var Session = function () {\n    function Session(option) {\n      var _this = this;\n\n      ProtoBuf = option.protoBuf;\n      /**\n       * 编解码器字典，Key 参考 CODING_TYPE\n       */\n\n      this.codecs = {};\n      this.updateOption(option);\n      this.client = new Client();\n\n      this.client.onStateChange = function (newState, oldState, reason, packet) {\n        if (_this.onStateChange) {\n          var packetContent;\n\n          switch (newState) {\n            case CLIENT_STATE.CONNECTED:\n            case CLIENT_STATE.CONNECT_FAILED:\n              packetContent = _this.initConnAckContent(reason, packet);\n              break;\n\n            default:\n              packetContent = _this.decodeContent(packet);\n              break;\n          }\n\n          _this.onStateChange(_this, newState, oldState, reason, packet, packetContent);\n        }\n      };\n\n      this.client.onPacket = function (packet) {\n        switch (packet.getType()) {\n          case PACKET_TYPE.PUBLISH:\n            if (_this.onServerPublish) {\n              var message = _this.decodeContent(packet);\n\n              message.topic = packet.topic;\n\n              _this.onServerPublish(_this, packet.contentInfo.messageType, message);\n            }\n\n            break;\n\n          default:\n            logWarn("inbound packet unsupported. PacketType=" + PACKET_TYPE[packet.getType()]);\n        }\n      };\n    }\n    /**\n     * 更新 Session 配置，该方法使用属性附加原则，会使用新option的属性更新当前option\n     * @param option 新option，设置为null则什么也不做\n     */\n\n\n    Session.prototype.updateOption = function (option) {\n      if (option) {\n        this.option = Session.applyProperties(this.option, option);\n\n        if (option.codecs) {\n          this.regCodec(option.codecs);\n        }\n      }\n    };\n\n    Session.applyProperties = function (target, props) {\n      var result;\n\n      if (target == null || target instanceof Array) {\n        result = props;\n      } else if ((0, _typeof2["default"])(target) === "object" && (0, _typeof2["default"])(props) === "object") {\n        result = {};\n\n        for (var key in target) {\n          if (!target.hasOwnProperty(key)) continue;\n          result[key] = target[key];\n        }\n\n        for (var key in props) {\n          if (!props.hasOwnProperty(key)) continue;\n          result[key] = Session.applyProperties(target[key], props[key]);\n        }\n      } else {\n        result = props;\n      }\n\n      return result;\n    };\n    /**\n     * 注册编解码器\n     * @param codecs 编解码器列表\n     */\n\n\n    Session.prototype.regCodec = function (codecs) {\n      for (var _i = 0; _i < codecs.length; _i++) {\n        var codec = codecs[_i];\n        this.codecs[codec.codingType()] = codec;\n      }\n    };\n    /**\n     * 根据 codingType 获取编解码器，如果找不到则抛出异常\n     * @param codingType\n     * @returns {PacketContentCodec}\n     */\n\n\n    Session.prototype.getCodec = function (codingType) {\n      var codec = this.codecs[codingType];\n\n      if (!codec) {\n        throw new Error("can\'t found codec with coding-type=" + (CODING_TYPE[codingType] || "UNKNOWN_CODING_TYPE(" + codingType + ")"));\n      }\n\n      return codec;\n    };\n    /**\n     * 与服务端建立连接\n     * @param option 连接时要使用的 SessionOption，作用参考 updateOption，可以设置为null\n     * @param callback 连接完成时的回调\n     */\n\n\n    Session.prototype.connect = function (option, callback) {\n      var _this = this;\n\n      if (option === void 0) {\n        option = null;\n      }\n\n      if (option) {\n        this.updateOption(option);\n      }\n\n      this.client.connect(this.option, callback && function (success, reason, ackPacket) {\n        callback(_this.initConnAckContent(reason, ackPacket));\n      });\n    };\n\n    Session.prototype.initConnAckContent = function (reason, ackPacket) {\n      var ack;\n\n      if (ackPacket) {\n        ack = this.decodeContent(ackPacket);\n\n        if (!ack) {\n          ack = {\n            code: Session.parseConnAckCode(ackPacket.returnCode),\n            reason: reason\n          };\n        }\n      } else {\n        ack = {\n          code: 0,\n          reason: reason\n        };\n      }\n\n      return ack;\n    };\n    /**\n     * 主动关闭连接，正常情况下 Session 状态会从当前状态跳转到 CLOSING 而后关闭完成后变为 CLOSED\n     * @param reason 关闭原因\n     */\n\n\n    Session.prototype.close = function (reason) {\n      this.client.close(reason);\n    };\n    /**\n     * 解码报文中的内容\n     * @param packet 报文对象\n     * @returns {any} 解码后的内容对象\n     */\n\n\n    Session.prototype.decodeContent = function (packet) {\n      if (packet && packet.hasContent()) {\n        try {\n          var ci = packet.contentInfo;\n          var codec = this.getCodec(ci.codingType);\n          return codec.decode(packet.getType(), ci.messageType, packet.content);\n        } catch (e) {\n          logError("decode packet content error. " + e.message);\n          return null;\n        }\n      } else {\n        return null;\n      }\n    };\n    /**\n     * 获取默认的编解码器\n     * @returns {PacketContentCodec}\n     */\n\n\n    Session.prototype.getDefaultCodec = function () {\n      return this.option.codecs[0];\n    };\n    /**\n     * 发送消息\n     * @param message 参考结构体 ClientPublishMessage\n     * @param callback 发送完成后的回调\n     */\n\n\n    Session.prototype.sendMessage = function (message, callback) {\n      this.publish(CLIENT_PUBLISH_TYPE.MESSAGE, message, callback);\n    };\n    /**\n     * 发送报告\n     * @param message 参考结构体 ClientPublishReport\n     * @param callback 发送完成后的回调\n     */\n\n\n    Session.prototype.sendReport = function (message, callback) {\n      this.publish(CLIENT_PUBLISH_TYPE.REPORT, message, callback);\n    };\n    /**\n     * 发送RemoveOffline\n     * @param message 参考结构体 ClientPublishRemoveOffline\n     * @param callback 发送完成后的回调\n     */\n\n\n    Session.prototype.sendRemoveOffline = function (message, callback) {\n      this.publish(CLIENT_PUBLISH_TYPE.REMOVE_OFFLINE, message, callback);\n    };\n    /**\n     * 发送一个指定内容类型的Publish报文\n     * @param messageType 消息类型\n     * @param content 报文内容\n     * @param callback 发送完成后的回调\n     */\n\n\n    Session.prototype.publish = function (messageType, content, callback) {\n      var _this = this;\n\n      logDebug("SEND " + CLIENT_PUBLISH_TYPE[messageType], content);\n      var topic = content.topic;\n      var codec = this.getDefaultCodec(); // content.topic = null;\n\n      var packet = new PACKET_DEFINE[PACKET_TYPE.PUBLISH]({\n        topic: topic,\n        qos: QOS_LEVEL.AT_LEAST_ONCE,\n        contentInfo: {\n          codingType: codec.codingType(),\n          messageType: messageType\n        },\n        content: codec.encode(PACKET_TYPE.PUBLISH, messageType, content)\n      });\n      this.client.send(packet, callback && function (success, ack, reason) {\n        if (success) {\n          callback(_this.decodeContent(ack));\n        } else {\n          callback({\n            code: -1,\n            "reason": reason\n          });\n        }\n      });\n    };\n    /**\n     * 订阅主题\n     * @param topics 主题列表\n     * @param callback 订阅完成后的回调\n     */\n\n\n    Session.prototype.subscribe = function (topics, callback) {\n      var option = {\n        subscribes: []\n      };\n\n      for (var _i = 0; _i < topics.length; _i++) {\n        var topic = topics[_i];\n        option.subscribes.push({\n          topic: topic,\n          qos: QOS_LEVEL.AT_LEAST_ONCE\n        });\n      }\n\n      var packet = new PACKET_DEFINE[PACKET_TYPE.SUBSCRIBE](option);\n      this.client.send(packet, callback && function (success, ack, reason) {\n        if (success) {\n          for (var _i = 0, _a = ack.returnCodes; _i < _a.length; _i++) {\n            var returnCode = _a[_i];\n\n            if (returnCode > 2) {\n              callback(false, ack, "some subscribe fault");\n              return;\n            }\n          }\n\n          callback(success, ack, reason);\n        } else {\n          callback(false, ack, reason);\n        }\n      });\n    };\n\n    Session.parseConnAckCode = function (connAckReturnCode) {\n      switch (connAckReturnCode) {\n        case CONNACK_RETURN_CODE.CONNECTION_ACCEPTED:\n          return 200;\n\n        case CONNACK_RETURN_CODE.UNACCEPTABLE_PROTOCOL_VERSION:\n          return 500;\n\n        case CONNACK_RETURN_CODE.IDENTIFIER_REJECTED:\n          return 403;\n\n        case CONNACK_RETURN_CODE.SERVER_UNAVAILABLE:\n          return 501;\n\n        case CONNACK_RETURN_CODE.BAD_USER_NAME_OR_PASSWORD:\n          return 401;\n\n        case CONNACK_RETURN_CODE.NOT_AUTHORIZED:\n          return 401;\n\n        default:\n          return 500;\n      }\n    };\n\n    return Session;\n  }();\n\n  v6sdk.Session = Session;\n  /**\n   * 客户端发送消息的内容类型\n   */\n\n  var CLIENT_PUBLISH_TYPE;\n\n  (function (CLIENT_PUBLISH_TYPE) {\n    CLIENT_PUBLISH_TYPE[CLIENT_PUBLISH_TYPE["MESSAGE"] = 1] = "MESSAGE";\n    CLIENT_PUBLISH_TYPE[CLIENT_PUBLISH_TYPE["REPORT"] = 2] = "REPORT";\n    CLIENT_PUBLISH_TYPE[CLIENT_PUBLISH_TYPE["REMOVE_OFFLINE"] = 3] = "REMOVE_OFFLINE";\n  })(CLIENT_PUBLISH_TYPE || (CLIENT_PUBLISH_TYPE = {}));\n  /**\n   * 客户端状态枚举\n   */\n\n\n  (function (CLIENT_STATE) {\n    /*新建*/\n    CLIENT_STATE[CLIENT_STATE["NEW"] = 10] = "NEW";\n    /*终端主动关闭*/\n\n    CLIENT_STATE[CLIENT_STATE["CLOSED"] = 11] = "CLOSED";\n    /*连接失败*/\n\n    CLIENT_STATE[CLIENT_STATE["CONNECT_FAILED"] = 12] = "CONNECT_FAILED";\n    /*被动断开（断网、被踢）*/\n\n    CLIENT_STATE[CLIENT_STATE["DISCONNECTED"] = 13] = "DISCONNECTED";\n    /*正在连接*/\n\n    CLIENT_STATE[CLIENT_STATE["CONNECTING"] = 20] = "CONNECTING";\n    /*正在主动断开连接*/\n\n    CLIENT_STATE[CLIENT_STATE["CLOSING"] = 21] = "CLOSING";\n    /*已连接*/\n\n    CLIENT_STATE[CLIENT_STATE["CONNECTED"] = 30] = "CONNECTED";\n  })(v6sdk.CLIENT_STATE || (v6sdk.CLIENT_STATE = {}));\n\n  var CLIENT_STATE = v6sdk.CLIENT_STATE;\n  /**\n   * 报文类型枚举\n   */\n\n  (function (PACKET_TYPE) {\n    PACKET_TYPE[PACKET_TYPE["CONNECT"] = 1] = "CONNECT";\n    PACKET_TYPE[PACKET_TYPE["CONNACK"] = 2] = "CONNACK";\n    PACKET_TYPE[PACKET_TYPE["PUBLISH"] = 3] = "PUBLISH";\n    PACKET_TYPE[PACKET_TYPE["PUBACK"] = 4] = "PUBACK";\n    PACKET_TYPE[PACKET_TYPE["PUBREC"] = 5] = "PUBREC";\n    PACKET_TYPE[PACKET_TYPE["PUBREL"] = 6] = "PUBREL";\n    PACKET_TYPE[PACKET_TYPE["PUBCOMP"] = 7] = "PUBCOMP";\n    PACKET_TYPE[PACKET_TYPE["SUBSCRIBE"] = 8] = "SUBSCRIBE";\n    PACKET_TYPE[PACKET_TYPE["SUBACK"] = 9] = "SUBACK";\n    PACKET_TYPE[PACKET_TYPE["UNSUBSCRIBE"] = 10] = "UNSUBSCRIBE";\n    PACKET_TYPE[PACKET_TYPE["UNSUBACK"] = 11] = "UNSUBACK";\n    PACKET_TYPE[PACKET_TYPE["PINGREQ"] = 12] = "PINGREQ";\n    PACKET_TYPE[PACKET_TYPE["PINGRESP"] = 13] = "PINGRESP";\n    PACKET_TYPE[PACKET_TYPE["DISCONNECT"] = 14] = "DISCONNECT";\n    PACKET_TYPE[PACKET_TYPE["GETMESSAGESRESULT"] = 15] = "GETMESSAGESRESULT";\n  })(v6sdk.PACKET_TYPE || (v6sdk.PACKET_TYPE = {}));\n\n  var PACKET_TYPE = v6sdk.PACKET_TYPE;\n  /**\n   * 报文发送质量控制级别\n   */\n\n  (function (QOS_LEVEL) {\n    /* QoS 0 （最多发一次） */\n    QOS_LEVEL[QOS_LEVEL["AT_MOST_ONCE"] = 0] = "AT_MOST_ONCE";\n    /* QoS 1 （至少发一次） */\n\n    QOS_LEVEL[QOS_LEVEL["AT_LEAST_ONCE"] = 1] = "AT_LEAST_ONCE";\n    /* QoS 2 （保证发一次） */\n\n    QOS_LEVEL[QOS_LEVEL["EXACTLY_ONCE"] = 2] = "EXACTLY_ONCE";\n  })(v6sdk.QOS_LEVEL || (v6sdk.QOS_LEVEL = {}));\n\n  var QOS_LEVEL = v6sdk.QOS_LEVEL;\n  /**\n   * 消息内容编码类型枚举\n   */\n\n  (function (CODING_TYPE) {\n    CODING_TYPE[CODING_TYPE["JSON"] = 0] = "JSON";\n    CODING_TYPE[CODING_TYPE["XML"] = 1] = "XML";\n    CODING_TYPE[CODING_TYPE["PROTOBUF2"] = 2] = "PROTOBUF2";\n    CODING_TYPE[CODING_TYPE["PROTOBUF3"] = 3] = "PROTOBUF3";\n  })(v6sdk.CODING_TYPE || (v6sdk.CODING_TYPE = {}));\n\n  var CODING_TYPE = v6sdk.CODING_TYPE;\n  /**\n   * Json类型的报文内容编解码器\n   */\n\n  var JsonPacketContentCodec = function () {\n    function JsonPacketContentCodec() {}\n\n    JsonPacketContentCodec.prototype.codingType = function () {\n      return CODING_TYPE.JSON;\n    };\n\n    JsonPacketContentCodec.prototype.decode = function (packetType, messageType, bytes) {\n      return JSON.parse(ByteUtils.asString(bytes));\n    };\n\n    JsonPacketContentCodec.prototype.encode = function (packetType, messageType, data) {\n      return new Uint8Array(ByteUtils.asBytes((0, _stringify["default"])(data)));\n    };\n\n    return JsonPacketContentCodec;\n  }();\n\n  v6sdk.JsonPacketContentCodec = JsonPacketContentCodec;\n  /**\n   * Protocol buffer 类型的报文内容编解码器\n   */\n\n  var PbPacketContentCodec = function () {\n    /**\n     * 初始化 Protocol buffer 报文内容解码器\n     *\n     * @param proto .proto 文件路径或内容\n     * @param callback 当proto作为.proto文件来加载时，初始化完成的回调。注意: 如果该参数为空则认为proto参数是proto内容\n     */\n    function PbPacketContentCodec(proto, callback) {\n      var _this = this;\n\n      this.decodeMetas = {};\n      this.encodeMetas = {};\n\n      if (callback) {\n        ProtoBuf.loadProtoFile(proto, callback && function (error, builder) {\n          if (!error) {\n            try {\n              _this.pb = builder;\n\n              _this.initMetas();\n            } catch (e) {\n              error = e.message;\n            }\n          }\n\n          callback(error, _this);\n        });\n      } else {\n        if (typeof proto === \'string\') {\n          this.pb = ProtoBuf.loadProto(proto);\n        } else {\n          // proto is a builder\n          this.pb = proto;\n        }\n\n        this.initMetas();\n      }\n    }\n\n    PbPacketContentCodec.prototype.initMetas = function () {\n      this.regMeta(PACKET_TYPE.CONNACK, null, 1, "ConnectAck");\n      this.regMeta(PACKET_TYPE.DISCONNECT, null, 1, "Disconnect");\n      this.regMeta(PACKET_TYPE.PUBLISH, null, 1, "ServerPublish");\n      this.regMeta(PACKET_TYPE.PUBACK, null, 1, "ClientPublishAck");\n      this.regMeta(PACKET_TYPE.PUBLISH, 1, null, "ClientPublishMessage");\n      this.regMeta(PACKET_TYPE.PUBLISH, 2, null, "ClientPublishReport");\n      this.regMeta(PACKET_TYPE.PUBLISH, 3, null, "ClientPublishRemoveOffline");\n      this.regMeta(PACKET_TYPE.GETMESSAGESRESULT, null, 1, "GetMessagesResult");\n    };\n\n    PbPacketContentCodec.prototype.regMeta = function (packetType, encodeMsgType, decodeMsgType, metaPath) {\n      var meta = this.pb.build(metaPath);\n\n      if (!meta) {\n        throw new Error("can\'t found PB-Meta. path=" + metaPath);\n      }\n\n      if (encodeMsgType != null) {\n        this.encodeMetas[packetType + ":" + encodeMsgType] = meta;\n      }\n\n      if (decodeMsgType != null) {\n        this.decodeMetas[packetType + ":" + decodeMsgType] = meta;\n      }\n    };\n\n    PbPacketContentCodec.prototype.getDecodeMeta = function (packetType, messageType) {\n      var meta = this.decodeMetas[packetType + ":" + messageType];\n\n      if (!meta) {\n        throw new Error("can\'t found PB-Meta. PacketType=" + PACKET_TYPE[packetType] + " MessageType=" + messageType);\n      }\n\n      return meta;\n    };\n\n    PbPacketContentCodec.prototype.getEncodeMeta = function (packetType, messageType) {\n      var meta = this.encodeMetas[packetType + ":" + messageType];\n\n      if (!meta) {\n        throw new Error("can\'t found PB-Meta. PacketType=" + PACKET_TYPE[packetType] + " MessageType=" + messageType);\n      }\n\n      return meta;\n    };\n\n    PbPacketContentCodec.prototype.codingType = function () {\n      return CODING_TYPE.PROTOBUF2;\n    };\n\n    PbPacketContentCodec.prototype.decode = function (packetType, messageType, bytes) {\n      var meta = this.getDecodeMeta(packetType, messageType);\n      return meta.decode(bytes);\n    };\n\n    PbPacketContentCodec.prototype.encode = function (packetType, messageType, data) {\n      if (data instanceof Uint8Array) {\n        return data;\n      } else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n      } else {\n        var meta = this.getEncodeMeta(packetType, messageType);\n        return new Uint8Array(new meta(data).toArrayBuffer());\n      }\n    };\n\n    return PbPacketContentCodec;\n  }();\n\n  v6sdk.PbPacketContentCodec = PbPacketContentCodec;\n\n  var ReadBuffer = function () {\n    function ReadBuffer(data) {\n      this.index = 0;\n      this.data = data;\n      this.header = this.readByte();\n      this.packetLength = this.readPacketLength();\n\n      if (data.length - this.index - this.packetLength !== 0) {\n        throw new Error("Packet length exception. frame-size=" + this.data.length + ", packet-size=" + (this.index + this.packetLength));\n      }\n    }\n\n    ReadBuffer.prototype.getPacketType = function () {\n      return this.header >> 4;\n    };\n\n    ReadBuffer.prototype.getFlagBits = function () {\n      return this.header & 0xF;\n    };\n\n    ReadBuffer.prototype.readPacketLength = function () {\n      var multiplier = 1;\n      var value = 0;\n      var encoded_byte;\n\n      do {\n        encoded_byte = this.readByte();\n        value = value + (encoded_byte & 0x7F) * multiplier;\n        multiplier = multiplier * 128;\n\n        if (multiplier > 128 * 128 * 128) {\n          throw new Error("Malformed Remaining Length");\n        }\n      } while ((encoded_byte & 0x80) !== 0);\n\n      return value;\n    };\n\n    ReadBuffer.prototype.isReadable = function (size) {\n      if (size == null) {\n        return this.index < this.data.length;\n      } else {\n        return this.index + size <= this.data.length;\n      }\n    };\n\n    ReadBuffer.prototype.read = function (size) {\n      // logDebug(`read index=${this.index} readSize=${size} dataLength=${this.data.length}`);\n      if (!this.isReadable(size)) {\n        throw new Error("Read buffer overflow");\n      }\n\n      var end = this.index + size;\n      var result = this.data.slice(this.index, end);\n      this.index = end;\n      return result;\n    };\n\n    ReadBuffer.prototype.readByte = function () {\n      // logDebug(`readByte index=${this.index}dataLength=${this.data.length}`);\n      if (!this.isReadable()) {\n        throw new Error("Read buffer overflow");\n      }\n\n      return this.data[this.index++];\n    };\n\n    ReadBuffer.prototype.readToEnd = function () {\n      return this.read(this.data.length - this.index);\n    };\n\n    ReadBuffer.prototype.readContentInfo = function () {\n      var piece = this.read(2);\n      return {\n        codingType: piece[0] >> 4,\n        messageType: (piece[0] & 0xF) << 8 | piece[1]\n      };\n    };\n\n    ReadBuffer.prototype.readUnsigned16 = function () {\n      var piece = this.read(2);\n      return piece[0] << 8 | piece[1];\n    };\n\n    ReadBuffer.prototype.readLenPrefixedField = function () {\n      var fieldLength = this.readUnsigned16();\n\n      if (fieldLength !== 0) {\n        return this.read(fieldLength);\n      } else {\n        return null;\n      }\n    };\n\n    ReadBuffer.prototype.readLenPrefixedFieldAsStr = function () {\n      var bytes = this.readLenPrefixedField();\n\n      if (bytes) {\n        var buffer = [];\n\n        for (var i = 0; i < bytes.length; i++) {\n          buffer.push(bytes[i]);\n        }\n\n        return UTF8.bytesToString(buffer);\n      } else {\n        return null;\n      }\n    };\n\n    return ReadBuffer;\n  }();\n\n  var WriteBuffer = function () {\n    function WriteBuffer() {\n      this.buffer = [];\n    }\n\n    WriteBuffer.prototype.writeByte = function () {\n      var bytes = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        bytes[_i - 0] = arguments[_i];\n      }\n\n      this.buffer.push.apply(this.buffer, bytes);\n    };\n\n    WriteBuffer.prototype.writeBytes = function (data) {\n      var bytes = ByteUtils.asBytes(data);\n\n      if (bytes && bytes.length) {\n        this.buffer.push.apply(this.buffer, bytes);\n      }\n    };\n\n    WriteBuffer.prototype.writeUnsigned16 = function (num) {\n      if (num > 0) {\n        this.writeByte(num >> 8 & 0xFF, num & 0xFF);\n      } else {\n        this.writeByte(0, 0);\n      }\n    };\n\n    WriteBuffer.prototype.writeLenPrefixedField = function (data) {\n      var bytes = ByteUtils.asBytes(data);\n\n      if (bytes && bytes.length) {\n        this.writeUnsigned16(bytes.length);\n        this.writeBytes(bytes);\n      } else {\n        this.writeUnsigned16(0);\n      }\n    };\n\n    WriteBuffer.prototype.writeContentInfo = function (contentInfo) {\n      this.writeByte((contentInfo.codingType << 4 | contentInfo.messageType >> 8 & 0xF) & 0xFF);\n      this.writeByte(contentInfo.messageType & 0xFF);\n    };\n\n    WriteBuffer.prototype.toBytes = function () {\n      return this.buffer;\n    };\n\n    return WriteBuffer;\n  }();\n\n  var Packet = function () {\n    function Packet(initArg) {\n      if (initArg) {\n        if (initArg instanceof ReadBuffer) {\n          this.initFromBytes(initArg);\n        } else {\n          this.initFromOption(initArg);\n        }\n      }\n    }\n\n    Packet.prototype.hasContent = function () {\n      return false;\n    };\n\n    Packet.prototype.is = function (packetType) {\n      return this.getType() === packetType;\n    };\n\n    Packet.prototype.initFromOption = function (option) {\n      throw new Error(PACKET_TYPE[this.getType()] + " not support initFromOption");\n    };\n\n    Packet.prototype.initFromBytes = function (buffer) {\n      throw new Error(PACKET_TYPE[this.getType()] + " not support initFromBytes");\n    };\n\n    Packet.prototype.getBody = function () {\n      throw new Error(PACKET_TYPE[this.getType()] + " not support getBody");\n    };\n\n    Packet.prototype.isHighQos = function () {\n      return false;\n    };\n\n    Packet.prototype.buildAckPacket = function () {\n      throw new Error(PACKET_TYPE[this.getType()] + " not support buildAckPacket");\n    };\n\n    Packet.prototype.isAck = function () {\n      return false;\n    };\n\n    Packet.prototype.toBytes = function () {\n      var buffer = [];\n      buffer[0] = this.getFixedHeader();\n      var bodyBuffer = this.getBody();\n\n      if (bodyBuffer) {\n        buffer = buffer.concat(Packet.generatePacketLength(bodyBuffer.length), bodyBuffer);\n      } else {\n        buffer[1] = 0;\n      }\n\n      return Uint8Array.from(buffer);\n    };\n\n    Packet.generatePacketLength = function (length) {\n      if (length > 268435455) {\n        throw new Error("packet length too big " + length + ". the max length is 268435455");\n      }\n\n      var output = [];\n\n      do {\n        var digit = length % 128;\n        length = Math.floor(length / 128);\n\n        if (length > 0) {\n          digit += 128;\n        }\n\n        output.push(digit);\n      } while (length > 0);\n\n      return output;\n    };\n\n    return Packet;\n  }();\n\n  var PROTOCOL_NAME = "NGCC-V6";\n  var PROTOCOL_LEVEL = 4;\n  var DEFAULT_KEEP_ALIVE = 60;\n  var DEFAULT_CLEAN_SESSION = false;\n  var DEFAULT_PACKET_TIMEOUT = 15;\n  /**\n   * 报文定义集，key为报文类型码，value为可实例化的报文实现类\n   * @type {{}}\n   */\n\n  var PACKET_DEFINE = (_a = {},\n  /**\n   * CONNECT 连接报文\n   */\n  _a[PACKET_TYPE.CONNECT] = function (_super) {\n    __extends(NgccV6ConnectPacket, _super);\n\n    function NgccV6ConnectPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6ConnectPacket.prototype.getType = function () {\n      return PACKET_TYPE.CONNECT;\n    };\n\n    NgccV6ConnectPacket.prototype.initFromOption = function (option) {\n      this.username = option.username;\n      this.password = option.password;\n      this.keepAlive = option.keepAlive || DEFAULT_KEEP_ALIVE;\n      this.clientId = option.clientId;\n      this.will = option.will;\n      this.protocolName = option.protocolName || PROTOCOL_NAME;\n      this.protocolLevel = option.protocolLevel || PROTOCOL_LEVEL;\n      this.cleanSession = option.cleanSession == null ? option.cleanSession : DEFAULT_CLEAN_SESSION;\n    };\n\n    NgccV6ConnectPacket.prototype.getFixedHeader = function () {\n      return 0x10;\n    };\n\n    NgccV6ConnectPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n      buffer.writeLenPrefixedField(this.protocolName);\n      buffer.writeByte(this.protocolLevel);\n      var connectFlags = 0;\n\n      if (this.will) {\n        connectFlags |= 0x04;\n        connectFlags |= this.will.qos << 3;\n\n        if (this.will.retain) {\n          connectFlags |= 0x20;\n        }\n      }\n\n      if (this.cleanSession) {\n        connectFlags |= 0x02;\n      }\n\n      if (this.username) {\n        connectFlags |= 0x90;\n      }\n\n      if (this.password) {\n        connectFlags |= 0x40;\n      }\n\n      buffer.writeByte(connectFlags);\n      buffer.writeUnsigned16(this.keepAlive);\n      buffer.writeLenPrefixedField(this.clientId);\n\n      if (this.will) {\n        buffer.writeLenPrefixedField(this.will.topic);\n        buffer.writeLenPrefixedField(this.will.message);\n      }\n\n      if (this.username) {\n        buffer.writeLenPrefixedField(this.username);\n      }\n\n      if (this.password) {\n        buffer.writeLenPrefixedField(this.password);\n      }\n\n      return buffer.toBytes();\n    };\n\n    return NgccV6ConnectPacket;\n  }(Packet),\n  /**\n   * CONNACK 连接响应报文\n   */\n  _a[PACKET_TYPE.CONNACK] = function (_super) {\n    __extends(NgccV6ConnAckPacket, _super);\n\n    function NgccV6ConnAckPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6ConnAckPacket.prototype.getFixedHeader = function () {\n      return 0x20;\n    };\n\n    NgccV6ConnAckPacket.prototype.hasContent = function () {\n      return this.content ? true : false;\n    };\n\n    NgccV6ConnAckPacket.prototype.getType = function () {\n      return PACKET_TYPE.CONNACK;\n    };\n\n    NgccV6ConnAckPacket.prototype.initFromBytes = function (buffer) {\n      var ackFlags = buffer.readByte();\n      this.sessionPresent = (ackFlags & 0x1) !== 0;\n      this.returnCode = buffer.readByte();\n\n      if (buffer.isReadable()) {\n        this.contentInfo = buffer.readContentInfo();\n        this.content = buffer.readToEnd();\n      }\n    };\n\n    NgccV6ConnAckPacket.prototype.isAck = function () {\n      return true;\n    };\n\n    return NgccV6ConnAckPacket;\n  }(Packet),\n  /**\n   * PUBLISH 发布报文\n   */\n  _a[PACKET_TYPE.PUBLISH] = function (_super) {\n    __extends(NgccV6PublishPacket, _super);\n\n    function NgccV6PublishPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PublishPacket.prototype.getType = function () {\n      return PACKET_TYPE.PUBLISH;\n    };\n\n    NgccV6PublishPacket.prototype.hasContent = function () {\n      return true;\n    };\n\n    NgccV6PublishPacket.prototype.initFromOption = function (option) {\n      this.dup = option.dup != null ? option.dup : false;\n      this.qos = option.qos;\n      this.retain = option.retain != null ? option.retain : false;\n      this.topic = option.topic;\n      this.packetId = option.packetId;\n      this.contentInfo = option.contentInfo;\n      this.content = option.content;\n    };\n\n    NgccV6PublishPacket.prototype.initFromBytes = function (buffer) {\n      var flagBits = buffer.getFlagBits();\n      this.dup = (flagBits & 0x4) !== 0;\n      this.qos = flagBits >> 1 & 0x3;\n      this.retain = (flagBits & 0x1) !== 0;\n      this.topic = buffer.readLenPrefixedFieldAsStr();\n\n      if (this.qos > 0) {\n        this.packetId = buffer.readUnsigned16();\n      }\n\n      if (buffer.isReadable()) {\n        this.contentInfo = buffer.readContentInfo();\n        this.content = buffer.readToEnd();\n      }\n    };\n\n    NgccV6PublishPacket.prototype.getFixedHeader = function () {\n      var header = 0x30;\n\n      if (this.dup) {\n        header |= 0x8;\n      }\n\n      if (this.retain) {\n        header |= 0x1;\n      }\n\n      return header | (this.qos & 0x3) << 1;\n    };\n\n    NgccV6PublishPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n      buffer.writeLenPrefixedField(this.topic);\n\n      if (this.qos > 0) {\n        buffer.writeUnsigned16(this.packetId);\n      }\n\n      buffer.writeContentInfo(this.contentInfo);\n      buffer.writeBytes(this.content);\n      return buffer.toBytes();\n    };\n\n    NgccV6PublishPacket.prototype.isHighQos = function () {\n      return this.qos > 0;\n    };\n\n    NgccV6PublishPacket.prototype.buildAckPacket = function () {\n      var ack;\n\n      switch (this.qos) {\n        case QOS_LEVEL.AT_LEAST_ONCE:\n          ack = new PACKET_DEFINE[PACKET_TYPE.PUBACK]();\n          break;\n\n        case QOS_LEVEL.EXACTLY_ONCE:\n          ack = new PACKET_DEFINE[PACKET_TYPE.PUBREC]();\n          break;\n\n        default:\n          throw new Error("Qos " + QOS_LEVEL[this.qos] + "(" + this.qos + ") not supported ack");\n      }\n\n      ack.packetId = this.packetId;\n      return ack;\n    };\n\n    return NgccV6PublishPacket;\n  }(Packet),\n  /**\n   * PUBACK 发布响应报文\n   */\n  _a[PACKET_TYPE.PUBACK] = function (_super) {\n    __extends(NgccV6PubAckPacket, _super);\n\n    function NgccV6PubAckPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PubAckPacket.prototype.getType = function () {\n      return PACKET_TYPE.PUBACK;\n    };\n\n    NgccV6PubAckPacket.prototype.hasContent = function () {\n      return this.content ? true : false;\n    };\n\n    NgccV6PubAckPacket.prototype.initFromOption = function (option) {\n      this.packetId = option.packetId;\n      this.contentInfo = option.contentInfo;\n      this.content = option.content;\n    };\n\n    NgccV6PubAckPacket.prototype.initFromBytes = function (buffer) {\n      this.packetId = buffer.readUnsigned16();\n\n      if (buffer.isReadable()) {\n        this.contentInfo = buffer.readContentInfo();\n        this.content = buffer.readToEnd();\n      }\n    };\n\n    NgccV6PubAckPacket.prototype.getFixedHeader = function () {\n      return 0x40;\n    };\n\n    NgccV6PubAckPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n      buffer.writeUnsigned16(this.packetId);\n\n      if (this.content) {\n        buffer.writeContentInfo(this.contentInfo);\n        buffer.writeBytes(this.content);\n      }\n\n      return buffer.toBytes();\n    };\n\n    NgccV6PubAckPacket.prototype.isAck = function () {\n      return true;\n    };\n\n    return NgccV6PubAckPacket;\n  }(Packet),\n  /**\n   * 高 Qos 的发布首次响应报文 （Qos=EXACTLY_ONCE(2)）\n   */\n  _a[PACKET_TYPE.PUBREC] = function (_super) {\n    __extends(NgccV6PubRecPacket, _super);\n\n    function NgccV6PubRecPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PubRecPacket.prototype.getType = function () {\n      return PACKET_TYPE.PUBREC;\n    };\n\n    NgccV6PubRecPacket.prototype.initFromOption = function (option) {\n      this.packetId = option.packetId;\n    };\n\n    NgccV6PubRecPacket.prototype.initFromBytes = function (buffer) {\n      this.packetId = buffer.readUnsigned16();\n    };\n\n    NgccV6PubRecPacket.prototype.getFixedHeader = function () {\n      return 0x50;\n    };\n\n    NgccV6PubRecPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n      buffer.writeUnsigned16(this.packetId);\n      return buffer.toBytes();\n    };\n\n    NgccV6PubRecPacket.prototype.isAck = function () {\n      return true;\n    };\n\n    return NgccV6PubRecPacket;\n  }(Packet),\n  /**\n   * 高 Qos 的发布二次确认报文 （Qos=EXACTLY_ONCE(2)）\n   */\n  _a[PACKET_TYPE.PUBREL] = function (_super) {\n    __extends(NgccV6PubRelPacket, _super);\n\n    function NgccV6PubRelPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PubRelPacket.prototype.getType = function () {\n      return PACKET_TYPE.PUBREL;\n    };\n\n    NgccV6PubRelPacket.prototype.initFromOption = function (option) {\n      this.packetId = option.packetId;\n    };\n\n    NgccV6PubRelPacket.prototype.initFromBytes = function (buffer) {\n      this.packetId = buffer.readUnsigned16();\n    };\n\n    NgccV6PubRelPacket.prototype.getFixedHeader = function () {\n      return 0x62;\n    };\n\n    NgccV6PubRelPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n      buffer.writeUnsigned16(this.packetId);\n      return buffer.toBytes();\n    };\n\n    NgccV6PubRelPacket.prototype.buildAckPacket = function () {\n      var ack = new PACKET_DEFINE[PACKET_TYPE.PUBCOMP]();\n      ack.packetId = this.packetId;\n      return ack;\n    };\n\n    return NgccV6PubRelPacket;\n  }(Packet),\n  /**\n   * 高 Qos 的发布二次确认响应报文 （Qos=EXACTLY_ONCE(2)）\n   */\n  _a[PACKET_TYPE.PUBCOMP] = function (_super) {\n    __extends(NgccV6PubCompPacket, _super);\n\n    function NgccV6PubCompPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PubCompPacket.prototype.getType = function () {\n      return PACKET_TYPE.PUBCOMP;\n    };\n\n    NgccV6PubCompPacket.prototype.initFromOption = function (option) {\n      this.packetId = option.packetId;\n    };\n\n    NgccV6PubCompPacket.prototype.initFromBytes = function (buffer) {\n      this.packetId = buffer.readUnsigned16();\n    };\n\n    NgccV6PubCompPacket.prototype.getFixedHeader = function () {\n      return 0x70;\n    };\n\n    NgccV6PubCompPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n      buffer.writeUnsigned16(this.packetId);\n      return buffer.toBytes();\n    };\n\n    NgccV6PubCompPacket.prototype.isAck = function () {\n      return true;\n    };\n\n    return NgccV6PubCompPacket;\n  }(Packet),\n  /**\n   * 订阅报文\n   */\n  _a[PACKET_TYPE.SUBSCRIBE] = function (_super) {\n    __extends(NgccV6SubscribePacket, _super);\n\n    function NgccV6SubscribePacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6SubscribePacket.prototype.isHighQos = function () {\n      return true;\n    };\n\n    NgccV6SubscribePacket.prototype.getType = function () {\n      return PACKET_TYPE.SUBSCRIBE;\n    };\n\n    NgccV6SubscribePacket.prototype.initFromOption = function (option) {\n      this.packetId = option.packetId;\n      this.subscribes = option.subscribes;\n    };\n\n    NgccV6SubscribePacket.prototype.getFixedHeader = function () {\n      return 0x82;\n    };\n\n    NgccV6SubscribePacket.prototype.getBody = function () {\n      if (!this.subscribes || !this.subscribes.length) {\n        throw new Error("The \'subscribes\' of \'SUBSCRIBE\' is empty");\n      }\n\n      var buffer = new WriteBuffer();\n      buffer.writeUnsigned16(this.packetId);\n\n      for (var _i = 0, _a = this.subscribes; _i < _a.length; _i++) {\n        var item = _a[_i];\n        buffer.writeLenPrefixedField(item.topic);\n        buffer.writeByte(item.qos);\n      }\n\n      return buffer.toBytes();\n    };\n\n    NgccV6SubscribePacket.prototype.buildAckPacket = function () {\n      // 客户端不支持接收该信令\n      return null;\n    };\n\n    return NgccV6SubscribePacket;\n  }(Packet),\n  /**\n   * 订阅响应报文\n   */\n  _a[PACKET_TYPE.SUBACK] = function (_super) {\n    __extends(NgccV6SubAckPacket, _super);\n\n    function NgccV6SubAckPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6SubAckPacket.prototype.getType = function () {\n      return PACKET_TYPE.SUBACK;\n    };\n\n    NgccV6SubAckPacket.prototype.initFromBytes = function (buffer) {\n      this.packetId = buffer.readUnsigned16();\n      this.returnCodes = [];\n\n      do {\n        this.returnCodes.push(buffer.readByte() & 0x83);\n      } while (buffer.isReadable());\n    };\n\n    NgccV6SubAckPacket.prototype.getFixedHeader = function () {\n      return 0x90;\n    };\n\n    NgccV6SubAckPacket.prototype.isAck = function () {\n      return true;\n    };\n\n    return NgccV6SubAckPacket;\n  }(Packet),\n  /**\n   * 退订报文\n   */\n  _a[PACKET_TYPE.UNSUBSCRIBE] = function (_super) {\n    __extends(NgccV6UnsubscribePacket, _super);\n\n    function NgccV6UnsubscribePacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6UnsubscribePacket.prototype.isHighQos = function () {\n      return true;\n    };\n\n    NgccV6UnsubscribePacket.prototype.getType = function () {\n      return PACKET_TYPE.UNSUBSCRIBE;\n    };\n\n    NgccV6UnsubscribePacket.prototype.initFromOption = function (option) {\n      this.packetId = option.packetId;\n      this.topicFilters = option.topicFilters;\n    };\n\n    NgccV6UnsubscribePacket.prototype.getFixedHeader = function () {\n      return 0xA2;\n    };\n\n    NgccV6UnsubscribePacket.prototype.getBody = function () {\n      if (!this.topicFilters || !this.topicFilters.length) {\n        throw new Error("The \'topic_filters\' of \'UNSUBSCRIBE\' is empty");\n      }\n\n      var buffer = new WriteBuffer();\n      buffer.writeUnsigned16(this.packetId);\n\n      for (var _i = 0, _a = this.topicFilters; _i < _a.length; _i++) {\n        var item = _a[_i];\n        buffer.writeLenPrefixedField(item);\n      }\n\n      return buffer.toBytes();\n    };\n\n    NgccV6UnsubscribePacket.prototype.buildAckPacket = function () {\n      // 客户端不支持接收该信令\n      return null;\n    };\n\n    return NgccV6UnsubscribePacket;\n  }(Packet),\n  /**\n   * 退订响应报文\n   */\n  _a[PACKET_TYPE.UNSUBACK] = function (_super) {\n    __extends(NgccV6UnsubAckPacket, _super);\n\n    function NgccV6UnsubAckPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6UnsubAckPacket.prototype.getType = function () {\n      return PACKET_TYPE.UNSUBACK;\n    };\n\n    NgccV6UnsubAckPacket.prototype.initFromBytes = function (buffer) {\n      this.packetId = buffer.readUnsigned16();\n    };\n\n    NgccV6UnsubAckPacket.prototype.getFixedHeader = function () {\n      return 0xB0;\n    };\n\n    NgccV6UnsubAckPacket.prototype.isAck = function () {\n      return true;\n    };\n\n    return NgccV6UnsubAckPacket;\n  }(Packet),\n  /**\n   * Ping请求报文\n   */\n  _a[PACKET_TYPE.PINGREQ] = function (_super) {\n    __extends(NgccV6PingReqPacket, _super);\n\n    function NgccV6PingReqPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PingReqPacket.prototype.getType = function () {\n      return PACKET_TYPE.PINGREQ;\n    };\n\n    NgccV6PingReqPacket.prototype.getFixedHeader = function () {\n      return 0xC0;\n    };\n\n    NgccV6PingReqPacket.prototype.getBody = function () {\n      return null;\n    };\n\n    return NgccV6PingReqPacket;\n  }(Packet),\n  /**\n   * ping响应报文\n   */\n  _a[PACKET_TYPE.PINGRESP] = function (_super) {\n    __extends(NgccV6PingRespPacket, _super);\n\n    function NgccV6PingRespPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6PingRespPacket.prototype.getType = function () {\n      return PACKET_TYPE.PINGRESP;\n    };\n\n    NgccV6PingRespPacket.prototype.initFromBytes = function (buffer) {\n      return;\n    };\n\n    NgccV6PingRespPacket.prototype.getFixedHeader = function () {\n      return 0xD0;\n    };\n\n    return NgccV6PingRespPacket;\n  }(Packet),\n  /**\n   * 连接断开报文\n   */\n  _a[PACKET_TYPE.DISCONNECT] = function (_super) {\n    __extends(NgccV6DisconnectPacket, _super);\n\n    function NgccV6DisconnectPacket() {\n      _super.apply(this, arguments);\n    }\n\n    NgccV6DisconnectPacket.prototype.getType = function () {\n      return PACKET_TYPE.DISCONNECT;\n    };\n\n    NgccV6DisconnectPacket.prototype.hasContent = function () {\n      return this.content ? true : false;\n    };\n\n    NgccV6DisconnectPacket.prototype.initFromOption = function (option) {\n      this.contentInfo = option.contentInfo;\n      this.content = option.content;\n    };\n\n    NgccV6DisconnectPacket.prototype.initFromBytes = function (buffer) {\n      if (buffer.isReadable()) {\n        this.contentInfo = buffer.readContentInfo();\n        this.content = buffer.readToEnd();\n      }\n    };\n\n    NgccV6DisconnectPacket.prototype.getFixedHeader = function () {\n      return 0xE0;\n    };\n\n    NgccV6DisconnectPacket.prototype.getBody = function () {\n      var buffer = new WriteBuffer();\n\n      if (this.content) {\n        buffer.writeContentInfo(this.contentInfo);\n        buffer.writeBytes(this.content);\n      }\n\n      return buffer.toBytes();\n    };\n\n    return NgccV6DisconnectPacket;\n  }(Packet), _a);\n  /**\n   * 连接响应返回码\n   */\n\n  (function (CONNACK_RETURN_CODE) {\n    CONNACK_RETURN_CODE[CONNACK_RETURN_CODE["CONNECTION_ACCEPTED"] = 0] = "CONNECTION_ACCEPTED";\n    CONNACK_RETURN_CODE[CONNACK_RETURN_CODE["UNACCEPTABLE_PROTOCOL_VERSION"] = 1] = "UNACCEPTABLE_PROTOCOL_VERSION";\n    CONNACK_RETURN_CODE[CONNACK_RETURN_CODE["IDENTIFIER_REJECTED"] = 2] = "IDENTIFIER_REJECTED";\n    CONNACK_RETURN_CODE[CONNACK_RETURN_CODE["SERVER_UNAVAILABLE"] = 3] = "SERVER_UNAVAILABLE";\n    CONNACK_RETURN_CODE[CONNACK_RETURN_CODE["BAD_USER_NAME_OR_PASSWORD"] = 4] = "BAD_USER_NAME_OR_PASSWORD";\n    CONNACK_RETURN_CODE[CONNACK_RETURN_CODE["NOT_AUTHORIZED"] = 5] = "NOT_AUTHORIZED";\n  })(v6sdk.CONNACK_RETURN_CODE || (v6sdk.CONNACK_RETURN_CODE = {}));\n\n  var CONNACK_RETURN_CODE = v6sdk.CONNACK_RETURN_CODE;\n  /**\n   * 订阅响应返回码\n   */\n\n  (function (SUBACK_RETURN_CODE) {\n    SUBACK_RETURN_CODE[SUBACK_RETURN_CODE["SUCCESS_MAX_QOS_0"] = 0] = "SUCCESS_MAX_QOS_0";\n    SUBACK_RETURN_CODE[SUBACK_RETURN_CODE["SUCCESS_MAX_QOS_1"] = 1] = "SUCCESS_MAX_QOS_1";\n    SUBACK_RETURN_CODE[SUBACK_RETURN_CODE["SUCCESS_MAX_QOS_2"] = 2] = "SUCCESS_MAX_QOS_2";\n    SUBACK_RETURN_CODE[SUBACK_RETURN_CODE["FAILURE"] = 128] = "FAILURE";\n  })(v6sdk.SUBACK_RETURN_CODE || (v6sdk.SUBACK_RETURN_CODE = {}));\n\n  var SUBACK_RETURN_CODE = v6sdk.SUBACK_RETURN_CODE;\n\n  var Future = function () {\n    function Future(ws, packet, timeout, callback) {\n      this.done = false;\n      this.ws = ws;\n      this.packet = packet;\n      this.startTime = (0, _now["default"])();\n      this.timeout = timeout * 1000;\n      this.callback = callback;\n    }\n\n    Future.prototype.update = function (packet) {\n      this.packet = packet;\n      this.resetTimeout();\n    };\n\n    Future.prototype.resetTimeout = function () {\n      this.startTime = (0, _now["default"])();\n    };\n\n    Future.prototype.isTimeout = function () {\n      return (0, _now["default"])() > this.startTime + this.timeout;\n    };\n\n    Future.prototype.success = function (ack) {\n      this.complete(true, ack, null);\n    };\n\n    Future.prototype.fault = function (reason, ack) {\n      this.complete(false, ack, reason);\n    };\n\n    Future.prototype.complete = function (success, ack, reason) {\n      if (!this.done) {\n        this.done = true;\n\n        if (this.callback) {\n          try {\n            this.callback(success, ack, reason);\n          } catch (e) {\n            logError("invoke Future " + (success ? "success" : "fault") + " error. " + e.message, this);\n          }\n        }\n\n        logDebug("future " + (success ? "success" : "fault") + ". PacketId=" + this.packet.packetId, reason, ack, this);\n      }\n    };\n\n    return Future;\n  }();\n\n  var FutureManager = function () {\n    function FutureManager() {\n      this.count = 0;\n      this.futures = {};\n      this.nextPacketId = 1;\n    }\n\n    FutureManager.prototype.takePacketId = function () {\n      var i = this.nextPacketId;\n\n      while (this.futures[i]) {\n        i = i === 65535 ? 1 : i + 1;\n\n        if (i === this.nextPacketId) {\n          throw new Error("no available packet identifier");\n        }\n      }\n\n      this.nextPacketId = i + 1;\n      return i;\n    };\n\n    FutureManager.prototype.createFuture = function (ws, packet, timeout, callback) {\n      var future = new Future(ws, packet, timeout, callback);\n      var packetId = this.takePacketId();\n      packet.packetId = packetId;\n      this.futures[packetId] = future;\n      return future;\n    };\n\n    FutureManager.prototype.popup = function (packetId) {\n      var future = this.futures[packetId];\n\n      if (future) {\n        this.remove(packetId);\n      }\n\n      return future;\n    };\n\n    FutureManager.prototype.find = function (packetId) {\n      return this.futures[packetId];\n    };\n\n    FutureManager.prototype.each = function (handler) {\n      for (var packetId in this.futures) {\n        handler((0, _parseInt2["default"])(packetId), this.futures[packetId]);\n      }\n    };\n\n    FutureManager.prototype.remove = function (packetId) {\n      delete this.futures[packetId];\n      this.count--;\n    };\n\n    return FutureManager;\n  }();\n\n  var WEBSOCKET_CLOSE_CODE;\n\n  (function (WEBSOCKET_CLOSE_CODE) {\n    /* 正常关闭; 无论为何目的而创建, 该链接都已成功完成任务. */\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_NORMAL"] = 1000] = "CLOSE_NORMAL";\n    /* 终端离开, 可能因为服务端错误, 也可能因为浏览器正从打开连接的页面跳转离开. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_GOING_AWAY"] = 1001] = "CLOSE_GOING_AWAY";\n    /* 由于协议错误而中断连接. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_PROTOCOL_ERROR"] = 1002] = "CLOSE_PROTOCOL_ERROR";\n    /* 由于接收到不允许的数据类型而断开连接 (如仅接收文本数据的终端接收到了二进制数据). */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_UNSUPPORTED"] = 1003] = "CLOSE_UNSUPPORTED";\n    /* 保留.  表示没有收到预期的状态码. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_NO_STATUS"] = 1005] = "CLOSE_NO_STATUS";\n    /* 保留. 用于期望收到状态码时连接非正常关闭 (也就是说, 没有发送关闭帧). */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_ABNORMAL"] = 1006] = "CLOSE_ABNORMAL";\n    /* 由于收到了格式不符的数据而断开连接 (如文本消息中包含了非 UTF-8 数据). */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["UNSUPPORTED_DATA"] = 1007] = "UNSUPPORTED_DATA";\n    /* 由于收到不符合约定的数据而断开连接. 这是一个通用状态码, 用于不适合使用 1003 和 1009 状态码的场景. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["POLICY_VIOLATION"] = 1008] = "POLICY_VIOLATION";\n    /* 由于收到过大的数据帧而断开连接. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["CLOSE_TOO_LARGE"] = 1009] = "CLOSE_TOO_LARGE";\n    /* 客户端期望服务器商定一个或多个拓展, 但服务器没有处理, 因此客户端断开连接. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["MISSING_EXTENSION"] = 1010] = "MISSING_EXTENSION";\n    /* 客户端由于遇到没有预料的情况阻止其完成请求, 因此服务端断开连接. */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["INTERNAL_ERROR"] = 1011] = "INTERNAL_ERROR";\n    /* 服务器由于重启而断开连接. [Ref] */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["SERVICE_RESTART"] = 1012] = "SERVICE_RESTART";\n    /* 服务器由于临时原因断开连接, 如服务器过载因此断开一部分客户端连接. [Ref] */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["TRY_AGAIN_LATER"] = 1013] = "TRY_AGAIN_LATER";\n    /* 保留. 表示连接由于无法完成 TLS 握手而关闭 (例如无法验证服务器证书). */\n\n    WEBSOCKET_CLOSE_CODE[WEBSOCKET_CLOSE_CODE["TLS_HANDSHAKE"] = 1015] = "TLS_HANDSHAKE";\n  })(WEBSOCKET_CLOSE_CODE || (WEBSOCKET_CLOSE_CODE = {}));\n\n  var Client = function () {\n    function Client() {\n      this.state = CLIENT_STATE.NEW;\n      this.futures = new FutureManager();\n    }\n\n    Client.prototype.connect = function (option, callback) {\n      var _this = this;\n\n      if (!this.matchState(CLIENT_STATE.CLOSED, CLIENT_STATE.NEW, CLIENT_STATE.DISCONNECTED, CLIENT_STATE.CONNECT_FAILED)) {\n        if (callback) {\n          callback(false, "not allow connect with state=" + CLIENT_STATE[this.state], null);\n        }\n      }\n\n      if (this.ws && this.ws.readyState !== WebSocket.CLOSED) {\n        this.ws.close();\n      }\n\n      var callbackInvoked = false;\n      this.option = option;\n      this.waittingPingResp = false;\n      this.changeState(null, CLIENT_STATE.CONNECTING);\n      var ws;\n\n      try {\n        logDebug("connect to " + option.url);\n        ws = new WebSocket(option.url);\n        ws.binaryType = "arraybuffer";\n      } catch (e) {\n        this.changeState(null, CLIENT_STATE.CONNECT_FAILED, e.message);\n\n        if (callback) {\n          callbackInvoked = true;\n          callback(false, e.message, null);\n        }\n\n        return;\n      } // 如果用户在创建连接的过程中取消了连接操作，则关闭ws连接并且放弃后续的行为\n\n\n      if (!this.matchState(CLIENT_STATE.CONNECTING)) {\n        ws.close();\n        return;\n      }\n\n      this.ws = ws;\n\n      ws.onclose = function (ev) {\n        var reason = ev.reason || WEBSOCKET_CLOSE_CODE[ev.code] || "UNKNOWN_CLOSE_CODE(" + ev.code + ")";\n        logTrace("WebSocket close for \\"" + reason + "\\"", ws);\n\n        if (_this.matchState(CLIENT_STATE.CONNECTING)) {\n          _this.changeState(ws, CLIENT_STATE.CONNECT_FAILED, reason);\n\n          if (callback && !callbackInvoked) {\n            callbackInvoked = true;\n            callback(false, reason, null);\n          }\n        } else if (_this.matchState(CLIENT_STATE.CLOSING)) {\n          _this.changeState(ws, CLIENT_STATE.CLOSED, reason);\n        } else if (_this.matchState(CLIENT_STATE.CONNECTED)) {\n          _this.changeState(ws, CLIENT_STATE.DISCONNECTED, reason);\n        } else {\n          logWarn("WebSocket close event with state \'" + _this.getState() + "\', event ignored.");\n        } // 失败所有本次连接未完成的Future\n\n\n        _this.futures.each(function (packetId, future) {\n          if (future.ws === ws) {\n            try {\n              future.fault("Channel closed");\n            } catch (e) {\n              logError("invoke Future.fault error. " + e.message);\n            }\n\n            _this.futures.remove(packetId);\n          }\n        });\n      };\n\n      ws.onopen = function () {\n        logTrace("WebSocket open", ws);\n\n        if (_this.ws === ws) {\n          var interval = 1000;\n\n          _this.updateDeadLine();\n\n          _this.updatePingLine();\n\n          var pollingChecker = function pollingChecker() {\n            if (_this.ws !== ws) {\n              return;\n            }\n\n            try {\n              _this.pollingChecker();\n            } catch (e) {\n              logError("invoke polling checker error. " + e.message);\n            }\n\n            if (ws.readyState !== WebSocket.CLOSED) {\n              setTimeout(pollingChecker, interval);\n            }\n          };\n\n          setTimeout(pollingChecker, interval);\n\n          _this.sendConnect(option);\n        } else {\n          ws.close();\n        }\n      };\n\n      ws.onmessage = function (ev) {\n        logTrace("WebSocket message", ws);\n\n        if (_this.ws === ws) {\n          var packet = _this.receivePacket(ev.data);\n\n          if (callback && !callbackInvoked && packet.getType() === PACKET_TYPE.CONNACK) {\n            var ack = packet;\n            var success = ack.returnCode === CONNACK_RETURN_CODE.CONNECTION_ACCEPTED;\n            var reason = CONNACK_RETURN_CODE[ack.returnCode] || "UNKNOWN_CONNACK_RETURN_CODE(" + ack.returnCode + ")";\n            callbackInvoked = true;\n            callback(success, reason, ack);\n          }\n        }\n      };\n    };\n\n    Client.prototype.close = function (reason) {\n      if (this.matchState(CLIENT_STATE.CONNECTED, CLIENT_STATE.CONNECTING)) {\n        var ws = this.ws;\n        this.changeState(ws, CLIENT_STATE.CLOSING, reason);\n\n        if (ws) {\n          ws.close();\n        } else {\n          this.changeState(null, CLIENT_STATE.CLOSED);\n        }\n      }\n    };\n\n    Client.prototype.getState = function () {\n      return CLIENT_STATE[this.state];\n    };\n\n    Client.prototype.sendConnect = function (option) {\n      this.send(new PACKET_DEFINE[PACKET_TYPE.CONNECT](option));\n    };\n\n    Client.prototype.sendPingReq = function () {\n      this.waittingPingResp = true;\n      this.send(new PACKET_DEFINE[PACKET_TYPE.PINGREQ]());\n    };\n\n    Client.prototype.send = function (packet, callback) {\n      if (!this.matchState(CLIENT_STATE.CONNECTED) && !(this.matchState(CLIENT_STATE.CONNECTING) && packet.is(PACKET_TYPE.CONNECT)) && !(this.matchState(CLIENT_STATE.CLOSING) && packet.is(PACKET_TYPE.DISCONNECT))) {\n        if (callback) {\n          callback(false, null, "client is not connected. send packet canceled.");\n        }\n\n        return;\n      }\n\n      if (packet.isHighQos() && !packet.packetId) {\n        this.futures.createFuture(this.ws, packet, this.option.packetTimeout || DEFAULT_PACKET_TIMEOUT, callback);\n      }\n\n      logDebug("SEND \'" + PACKET_TYPE[packet.getType()] + "\' PACKET", packet);\n      this.ws.send(packet.toBytes());\n    };\n\n    Client.prototype.matchState = function () {\n      var states = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        states[_i - 0] = arguments[_i];\n      }\n\n      for (var _a = 0; _a < states.length; _a++) {\n        var state = states[_a];\n\n        if (this.state === state) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    Client.prototype.changeState = function (ws, newState, reason, packet) {\n      if (!ws || this.ws === ws && newState !== this.state) {\n        var oldState = this.state;\n        this.state = newState;\n\n        if (reason) {\n          logInfo("client state change " + CLIENT_STATE[oldState] + " to " + CLIENT_STATE[newState] + " reason=\\"" + reason + "\\"", packet);\n        } else {\n          logInfo("client state change " + CLIENT_STATE[oldState] + " to " + CLIENT_STATE[newState], packet);\n        }\n\n        if (this.onStateChange) {\n          try {\n            this.onStateChange(newState, oldState, reason, packet);\n          } catch (e) {\n            logError("invoke onStateChange error. " + e.message);\n          }\n        }\n      }\n    };\n\n    Client.prototype.pollingChecker = function () {\n      if (!this.checkAlive() && this.matchState(CLIENT_STATE.CONNECTED, CLIENT_STATE.CONNECTING)) {\n        logWarn("keep-alive timeout.");\n        this.ws.close();\n      } else if (this.matchState(CLIENT_STATE.CONNECTED) && this.needPing()) {\n        this.sendPingReq();\n      }\n\n      this.faultTimeoutFuture();\n    };\n\n    Client.prototype.faultTimeoutFuture = function () {\n      var _this = this;\n\n      this.futures.each(function (packetId, future) {\n        if (future.isTimeout()) {\n          _this.futures.remove(packetId);\n\n          future.fault("timeout");\n        }\n      });\n    };\n\n    Client.prototype.checkAlive = function () {\n      return (0, _now["default"])() <= this.deadLine;\n    };\n\n    Client.prototype.updateDeadLine = function (keepAlive) {\n      this.deadLine = (0, _now["default"])() + (keepAlive || this.option.keepAlive || DEFAULT_KEEP_ALIVE) * 1500;\n    };\n\n    Client.prototype.needPing = function () {\n      return !this.waittingPingResp && (0, _now["default"])() > this.pingLine;\n    };\n\n    Client.prototype.updatePingLine = function (keepAlive) {\n      this.pingLine = (0, _now["default"])() + (keepAlive || this.option.keepAlive || DEFAULT_KEEP_ALIVE) * 1000;\n    };\n\n    Client.prototype.receivePacket = function (data) {\n      var buffer = new ReadBuffer(new Uint8Array(data));\n      var packet = new PACKET_DEFINE[buffer.getPacketType()](buffer);\n      logDebug("RECEIVE \'" + PACKET_TYPE[packet.getType()] + "\' PACKET", packet);\n      this.updateDeadLine();\n      this.updatePingLine();\n\n      try {\n        this.processPacket(packet);\n      } catch (e) {\n        logError("process packet error. " + e.message, packet);\n      }\n\n      return packet;\n    };\n\n    Client.prototype.processPacket = function (packet) {\n      switch (packet.getType()) {\n        case PACKET_TYPE.CONNACK:\n          var connAckPacket = packet;\n\n          if (connAckPacket.returnCode === CONNACK_RETURN_CODE.CONNECTION_ACCEPTED) {\n            this.changeState(null, CLIENT_STATE.CONNECTED, null, packet);\n          } else {\n            this.changeState(null, CLIENT_STATE.CONNECT_FAILED, CONNACK_RETURN_CODE[connAckPacket.returnCode] || "UNKNOWN_CODE(" + connAckPacket.returnCode + ")", packet);\n          }\n\n          break;\n\n        case PACKET_TYPE.PINGRESP:\n          this.waittingPingResp = false;\n          break;\n\n        case PACKET_TYPE.DISCONNECT:\n          logWarn("receive disconnect!", packet);\n          var disconnectPacket = packet;\n          this.ws.close();\n          this.changeState(null, CLIENT_STATE.DISCONNECTED, "DISCONNECT", packet); //\n\n          break;\n\n        default:\n          if (packet.isAck()) {\n            var future;\n            var packetId = packet.packetId;\n\n            if (packet.is(PACKET_TYPE.PUBREC)) {\n              if (future = this.futures.find(packetId)) {\n                future.update(packet);\n                var relPacket = new PACKET_DEFINE[PACKET_TYPE.PUBREL]();\n                relPacket.packetId = packetId;\n                this.send(relPacket);\n              }\n            } else if (future = this.futures.popup(packetId)) {\n              future.success(packet);\n            }\n          } else {\n            if (packet.isHighQos()) {\n              try {\n                this.send(packet.buildAckPacket());\n              } catch (e) {\n                logError("send ack packet error. " + e.message, packet);\n              }\n            }\n\n            if (this.onPacket) {\n              try {\n                this.onPacket(packet);\n              } catch (e) {\n                logError("process packet error. " + e.message, packet);\n              }\n            }\n          }\n\n          break;\n      }\n    };\n\n    return Client;\n  }();\n\n  var _a;\n})(v6sdk || (v6sdk = {}));\n\nexports.v6sdk = v6sdk;\nvar ByteUtils;\n\n(function (ByteUtils) {\n  function arrayLikeToArray(data) {\n    var output = [];\n\n    for (var i = 0; i < data.length; i++) {\n      output.push(data[i]);\n    }\n\n    return output;\n  }\n\n  ByteUtils.arrayLikeToArray = arrayLikeToArray;\n\n  function asBytes(target) {\n    if (target) {\n      if (target instanceof Array && target.length) {\n        return target;\n      } else if (target instanceof ArrayBuffer && target.byteLength) {\n        return arrayLikeToArray(new Uint8Array(target));\n      } else if (target instanceof Uint8Array && target.length) {\n        return arrayLikeToArray(target);\n      } else if (typeof target === "string") {\n        return UTF8.stringToBytes(target);\n      } else {\n        throw new Error("bad len prefixed field type \'" + (0, _typeof2["default"])(target) + "\'");\n      }\n    }\n\n    return null;\n  }\n\n  ByteUtils.asBytes = asBytes;\n\n  function asString(target) {\n    if (typeof target === "string") {\n      return target;\n    } else {\n      return UTF8.bytesToString(asBytes(target));\n    }\n  }\n\n  ByteUtils.asString = asString;\n})(ByteUtils || (ByteUtils = {}));\n\nexports.ByteUtils = ByteUtils;\nvar UTF8;\n\n(function (UTF8) {\n  var HIGH_SURROGATE_MIN = 0xd800;\n  var HIGH_SURROGATE_MAX = 0xdbff;\n  var LOW_SURROGATE_MIN = 0xdc00;\n  var LOW_SURROGATE_MAX = 0xdfff;\n  var SURROGATE_BASE = 0x10000;\n\n  function isHighSurrogate(charCode) {\n    return HIGH_SURROGATE_MIN <= charCode && charCode <= HIGH_SURROGATE_MAX;\n  }\n\n  function isLowSurrogate(charCode) {\n    return LOW_SURROGATE_MIN <= charCode && charCode <= LOW_SURROGATE_MAX;\n  }\n\n  function combineSurrogate(high, low) {\n    return (high - HIGH_SURROGATE_MIN << 10) + (low - LOW_SURROGATE_MIN) + SURROGATE_BASE;\n  }\n  /**\n   * Convert charCode to JavaScript String\n   * handling UTF16 surrogate pair\n   */\n\n\n  function chr(charCode) {\n    if (charCode < SURROGATE_BASE) {\n      return String.fromCharCode(charCode);\n    } // convert to UTF16 surrogate pair\n\n\n    var high = (charCode - SURROGATE_BASE >> 10) + HIGH_SURROGATE_MIN;\n    var low = (charCode & 0x3ff) + LOW_SURROGATE_MIN;\n    return String.fromCharCode(high, low);\n  }\n  /**\n   * Convert JavaScript String to an Array of\n   * UTF8 bytes\n   */\n\n\n  function stringToBytes(str) {\n    var bytes = [],\n        strLength = str.length,\n        strIndex = 0,\n        charCode,\n        charCode2;\n\n    while (strIndex < strLength) {\n      charCode = str.charCodeAt(strIndex++); // handle surrogate pair\n\n      if (isHighSurrogate(charCode)) {\n        if (strIndex === strLength) {\n          throw new Error("Invalid format");\n        }\n\n        charCode2 = str.charCodeAt(strIndex++);\n\n        if (!isLowSurrogate(charCode2)) {\n          throw new Error("Invalid format");\n        }\n\n        charCode = combineSurrogate(charCode, charCode2);\n      } // convert charCode to UTF8 bytes\n\n\n      if (charCode < 0x80) {\n        // one byte\n        bytes.push(charCode);\n      } else if (charCode < 0x800) {\n        // two bytes\n        bytes.push(0xc0 | charCode >> 6);\n        bytes.push(0x80 | charCode & 0x3f);\n      } else if (charCode < 0x10000) {\n        // three bytes\n        bytes.push(0xe0 | charCode >> 12);\n        bytes.push(0x80 | charCode >> 6 & 0x3f);\n        bytes.push(0x80 | charCode & 0x3f);\n      } else {\n        // four bytes\n        bytes.push(0xf0 | charCode >> 18);\n        bytes.push(0x80 | charCode >> 12 & 0x3f);\n        bytes.push(0x80 | charCode >> 6 & 0x3f);\n        bytes.push(0x80 | charCode & 0x3f);\n      }\n    }\n\n    return bytes;\n  }\n\n  UTF8.stringToBytes = stringToBytes;\n  /**\n   * Convert an Array of UTF8 bytes to\n   * a JavaScript String\n   */\n\n  function bytesToString(bytes) {\n    var str = "",\n        length = bytes.length,\n        index = 0,\n        _byte,\n        charCode;\n\n    while (index < length) {\n      // first byte\n      _byte = bytes[index++];\n\n      if (_byte < 0x80) {\n        // one byte\n        charCode = _byte;\n      } else if (_byte >> 5 === 0x06) {\n        // two bytes\n        charCode = (_byte & 0x1f) << 6 | bytes[index++] & 0x3f;\n      } else if (_byte >> 4 === 0x0e) {\n        // three bytes\n        charCode = (_byte & 0x0f) << 12 | (bytes[index++] & 0x3f) << 6 | bytes[index++] & 0x3f;\n      } else {\n        // four bytes\n        charCode = (_byte & 0x07) << 18 | (bytes[index++] & 0x3f) << 12 | (bytes[index++] & 0x3f) << 6 | bytes[index++] & 0x3f;\n      }\n\n      str += chr(charCode);\n    }\n\n    return str;\n  }\n\n  UTF8.bytesToString = bytesToString;\n})(UTF8 || (UTF8 = {}));\n\nexports.UTF8 = UTF8;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9zZGsvbGlicmFyeS9tcXR0L3Y2c2RrLmpzP2ZiMmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cblwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xuICB9KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFByb3RvQnVmID0gbnVsbDtcbnZhciB2NnNkaztcbihmdW5jdGlvbiAodjZzZGspIHtcbiAgKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiVFJBQ0VcIl0gPSAxXSA9IFwiVFJBQ0VcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRFQlVHXCJdID0gMl0gPSBcIkRFQlVHXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJJTkZPXCJdID0gM10gPSBcIklORk9cIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIldBUk5cIl0gPSA0XSA9IFwiV0FSTlwiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRVJST1JcIl0gPSA1XSA9IFwiRVJST1JcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkZBVEFMXCJdID0gNl0gPSBcIkZBVEFMXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJTSUxFTlRcIl0gPSA3XSA9IFwiU0lMRU5UXCI7XG4gIH0pKHY2c2RrLkxvZ0xldmVsIHx8ICh2NnNkay5Mb2dMZXZlbCA9IHt9KSk7XG4gIHZhciBMb2dMZXZlbCA9IHY2c2RrLkxvZ0xldmVsO1xuICB2YXIgbG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPO1xuICAvKipcbiAgICog6K6+572uIFNESyDnmoTml6Xlv5fovpPlh7rnuqfliKtcbiAgICogQHBhcmFtIGxldmVsXG4gICAqL1xuICBmdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xuICAgIGxvZ0xldmVsID0gbGV2ZWw7XG4gIH1cbiAgdjZzZGsuc2V0TG9nTGV2ZWwgPSBzZXRMb2dMZXZlbDtcbiAgZnVuY3Rpb24gbG9nKGxldmVsLCBhcmdzKSB7XG4gICAgaWYgKCFsZXZlbCB8fCBsZXZlbCA+PSBMb2dMZXZlbC5TSUxFTlQgfHwgbG9nTGV2ZWwgPiBsZXZlbCB8fCAhYXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxvZ0FyZ3MgPSBbKFwiW1wiICsgKG5ldyBEYXRlKCkpLnRvTG9jYWxlU3RyaW5nKCkgKyBcIl0gW1wiICsgTG9nTGV2ZWxbbGV2ZWxdICsgXCJdXCIpXTtcbiAgICB2YXIgZmlyc3RBcmcgPSBhcmdzWzBdO1xuICAgIGlmICh0eXBlb2YgZmlyc3RBcmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZmlyc3RBcmcgPSBmaXJzdEFyZygpO1xuICAgICAgaWYgKGZpcnN0QXJnIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgbG9nQXJncy5wdXNoLmFwcGx5KGxvZ0FyZ3MsIGZpcnN0QXJnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb2dBcmdzLnB1c2goZmlyc3RBcmcpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxvZ0FyZ3MucHVzaChmaXJzdEFyZyk7XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGxvZ0FyZ3MgPSBsb2dBcmdzLmNvbmNhdChhcmdzLnNsaWNlKDEpKTtcbiAgICB9XG4gICAgdmFyIGxvZ0Z1bmM7XG4gICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgY2FzZSBMb2dMZXZlbC5UUkFDRTpcbiAgICAgIGNhc2UgTG9nTGV2ZWwuREVCVUc6XG4gICAgICAgIGxvZ0Z1bmMgPSBjb25zb2xlLmRlYnVnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTG9nTGV2ZWwuSU5GTzpcbiAgICAgICAgbG9nRnVuYyA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIExvZ0xldmVsLldBUk46XG4gICAgICAgIGxvZ0Z1bmMgPSBjb25zb2xlLndhcm47XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBMb2dMZXZlbC5FUlJPUjpcbiAgICAgIGNhc2UgTG9nTGV2ZWwuRkFUQUw6XG4gICAgICAgIGxvZ0Z1bmMgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ0Z1bmMgPSBjb25zb2xlLmxvZztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxvZ0Z1bmMuYXBwbHkoY29uc29sZSwgbG9nQXJncyk7XG4gIH1cbiAgZnVuY3Rpb24gbG9nVHJhY2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgbG9nKExvZ0xldmVsLlRSQUNFLCBhcmdzKTtcbiAgfVxuICBmdW5jdGlvbiBsb2dEZWJ1ZygpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBhcmdzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBsb2coTG9nTGV2ZWwuREVCVUcsIGFyZ3MpO1xuICB9XG4gIGZ1bmN0aW9uIGxvZ0luZm8oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgbG9nKExvZ0xldmVsLklORk8sIGFyZ3MpO1xuICB9XG4gIGZ1bmN0aW9uIGxvZ1dhcm4oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgbG9nKExvZ0xldmVsLldBUk4sIGFyZ3MpO1xuICB9XG4gIGZ1bmN0aW9uIGxvZ0Vycm9yKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGFyZ3NbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGxvZyhMb2dMZXZlbC5FUlJPUiwgYXJncyk7XG4gIH1cbiAgZnVuY3Rpb24gbG9nRmF0YWwoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgbG9nKExvZ0xldmVsLkZBVEFMLCBhcmdzKTtcbiAgfVxuICAvKipcbiAgICog5q+P5LiA5LiqIFNlc3Npb24g5a6e5L6L6YO957uR5a6a57u05oqk5LiA5Liq5a6i5oi356uv77yM5a6e546w5Lia5Yqh6YC76L6R5LiOVjbmnI3liqHkuYvpl7TnmoTpgJrorq/kuI7mtojmga/ovazmjaLkvKDpgJJcbiAgICovXG4gIHZhciBTZXNzaW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXNzaW9uKG9wdGlvbikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIFByb3RvQnVmID0gb3B0aW9uLnByb3RvQnVmXG4gICAgICAvKipcbiAgICAgICAqIOe8luino+eggeWZqOWtl+WFuO+8jEtleSDlj4LogIMgQ09ESU5HX1RZUEVcbiAgICAgICAqL1xuICAgICAgdGhpcy5jb2RlY3MgPSB7fTtcbiAgICAgIHRoaXMudXBkYXRlT3B0aW9uKG9wdGlvbik7XG4gICAgICB0aGlzLmNsaWVudCA9IG5ldyBDbGllbnQoKTtcbiAgICAgIHRoaXMuY2xpZW50Lm9uU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAobmV3U3RhdGUsIG9sZFN0YXRlLCByZWFzb24sIHBhY2tldCkge1xuICAgICAgICBpZiAoX3RoaXMub25TdGF0ZUNoYW5nZSkge1xuICAgICAgICAgIHZhciBwYWNrZXRDb250ZW50O1xuICAgICAgICAgIHN3aXRjaCAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ0xJRU5UX1NUQVRFLkNPTk5FQ1RFRDpcbiAgICAgICAgICAgIGNhc2UgQ0xJRU5UX1NUQVRFLkNPTk5FQ1RfRkFJTEVEOlxuICAgICAgICAgICAgICBwYWNrZXRDb250ZW50ID0gX3RoaXMuaW5pdENvbm5BY2tDb250ZW50KHJlYXNvbiwgcGFja2V0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBwYWNrZXRDb250ZW50ID0gX3RoaXMuZGVjb2RlQ29udGVudChwYWNrZXQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMub25TdGF0ZUNoYW5nZShfdGhpcywgbmV3U3RhdGUsIG9sZFN0YXRlLCByZWFzb24sIHBhY2tldCwgcGFja2V0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLmNsaWVudC5vblBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICAgICAgc3dpdGNoIChwYWNrZXQuZ2V0VHlwZSgpKSB7XG4gICAgICAgICAgY2FzZSBQQUNLRVRfVFlQRS5QVUJMSVNIOlxuICAgICAgICAgICAgaWYgKF90aGlzLm9uU2VydmVyUHVibGlzaCkge1xuICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IF90aGlzLmRlY29kZUNvbnRlbnQocGFja2V0KTtcbiAgICAgICAgICAgICAgbWVzc2FnZS50b3BpYyA9IHBhY2tldC50b3BpYztcbiAgICAgICAgICAgICAgX3RoaXMub25TZXJ2ZXJQdWJsaXNoKF90aGlzLCBwYWNrZXQuY29udGVudEluZm8ubWVzc2FnZVR5cGUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxvZ1dhcm4oXCJpbmJvdW5kIHBhY2tldCB1bnN1cHBvcnRlZC4gUGFja2V0VHlwZT1cIiArIFBBQ0tFVF9UWVBFW3BhY2tldC5nZXRUeXBlKCldKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5pu05pawIFNlc3Npb24g6YWN572u77yM6K+l5pa55rOV5L2/55So5bGe5oCn6ZmE5Yqg5Y6f5YiZ77yM5Lya5L2/55So5pawb3B0aW9u55qE5bGe5oCn5pu05paw5b2T5YmNb3B0aW9uXG4gICAgICogQHBhcmFtIG9wdGlvbiDmlrBvcHRpb27vvIzorr7nva7kuLpudWxs5YiZ5LuA5LmI5Lmf5LiN5YGaXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUudXBkYXRlT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICB0aGlzLm9wdGlvbiA9IFNlc3Npb24uYXBwbHlQcm9wZXJ0aWVzKHRoaXMub3B0aW9uLCBvcHRpb24pO1xuICAgICAgICBpZiAob3B0aW9uLmNvZGVjcykge1xuICAgICAgICAgIHRoaXMucmVnQ29kZWMob3B0aW9uLmNvZGVjcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFNlc3Npb24uYXBwbHlQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwgdGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgcmVzdWx0ID0gcHJvcHM7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBwcm9wcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgIGlmICghdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHRhcmdldFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gU2Vzc2lvbi5hcHBseVByb3BlcnRpZXModGFyZ2V0W2tleV0sIHByb3BzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICog5rOo5YaM57yW6Kej56CB5ZmoXG4gICAgICogQHBhcmFtIGNvZGVjcyDnvJbop6PnoIHlmajliJfooahcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWdDb2RlYyA9IGZ1bmN0aW9uIChjb2RlY3MpIHtcbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBjb2RlY3MubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjb2RlYyA9IGNvZGVjc1tfaV07XG4gICAgICAgIHRoaXMuY29kZWNzW2NvZGVjLmNvZGluZ1R5cGUoKV0gPSBjb2RlYztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIOagueaNriBjb2RpbmdUeXBlIOiOt+WPlue8luino+eggeWZqO+8jOWmguaenOaJvuS4jeWIsOWImeaKm+WHuuW8guW4uFxuICAgICAqIEBwYXJhbSBjb2RpbmdUeXBlXG4gICAgICogQHJldHVybnMge1BhY2tldENvbnRlbnRDb2RlY31cbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5nZXRDb2RlYyA9IGZ1bmN0aW9uIChjb2RpbmdUeXBlKSB7XG4gICAgICB2YXIgY29kZWMgPSB0aGlzLmNvZGVjc1tjb2RpbmdUeXBlXTtcbiAgICAgIGlmICghY29kZWMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZm91bmQgY29kZWMgd2l0aCBjb2RpbmctdHlwZT1cIiArIChDT0RJTkdfVFlQRVtjb2RpbmdUeXBlXSB8fCBcIlVOS05PV05fQ09ESU5HX1RZUEUoXCIgKyBjb2RpbmdUeXBlICsgXCIpXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb2RlYztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIOS4juacjeWKoeerr+W7uueri+i/nuaOpVxuICAgICAqIEBwYXJhbSBvcHRpb24g6L+e5o6l5pe26KaB5L2/55So55qEIFNlc3Npb25PcHRpb27vvIzkvZznlKjlj4LogIMgdXBkYXRlT3B0aW9u77yM5Y+v5Lul6K6+572u5Li6bnVsbFxuICAgICAqIEBwYXJhbSBjYWxsYmFjayDov57mjqXlrozmiJDml7bnmoTlm57osINcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKG9wdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBpZiAob3B0aW9uID09PSB2b2lkIDApIHsgb3B0aW9uID0gbnVsbDsgfVxuICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbihvcHRpb24pO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGllbnQuY29ubmVjdCh0aGlzLm9wdGlvbiwgY2FsbGJhY2sgJiYgKGZ1bmN0aW9uIChzdWNjZXNzLCByZWFzb24sIGFja1BhY2tldCkge1xuICAgICAgICAgIGNhbGxiYWNrKF90aGlzLmluaXRDb25uQWNrQ29udGVudChyZWFzb24sIGFja1BhY2tldCkpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5pbml0Q29ubkFja0NvbnRlbnQgPSBmdW5jdGlvbiAocmVhc29uLCBhY2tQYWNrZXQpIHtcbiAgICAgIHZhciBhY2s7XG4gICAgICBpZiAoYWNrUGFja2V0KSB7XG4gICAgICAgIGFjayA9IHRoaXMuZGVjb2RlQ29udGVudChhY2tQYWNrZXQpO1xuICAgICAgICBpZiAoIWFjaykge1xuICAgICAgICAgIGFjayA9IHtcbiAgICAgICAgICAgIGNvZGU6IFNlc3Npb24ucGFyc2VDb25uQWNrQ29kZShhY2tQYWNrZXQucmV0dXJuQ29kZSksXG4gICAgICAgICAgICByZWFzb246IHJlYXNvblxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhY2sgPSB7IGNvZGU6IDAsIHJlYXNvbjogcmVhc29uIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICog5Li75Yqo5YWz6Zet6L+e5o6l77yM5q2j5bi45oOF5Ya15LiLIFNlc3Npb24g54q25oCB5Lya5LuO5b2T5YmN54q25oCB6Lez6L2s5YiwIENMT1NJTkcg6ICM5ZCO5YWz6Zet5a6M5oiQ5ZCO5Y+Y5Li6IENMT1NFRFxuICAgICAqIEBwYXJhbSByZWFzb24g5YWz6Zet5Y6f5ZugXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICB0aGlzLmNsaWVudC5jbG9zZShyZWFzb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICog6Kej56CB5oql5paH5Lit55qE5YaF5a65XG4gICAgICogQHBhcmFtIHBhY2tldCDmiqXmloflr7nosaFcbiAgICAgKiBAcmV0dXJucyB7YW55fSDop6PnoIHlkI7nmoTlhoXlrrnlr7nosaFcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5kZWNvZGVDb250ZW50ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgaWYgKHBhY2tldCAmJiBwYWNrZXQuaGFzQ29udGVudCgpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGNpID0gcGFja2V0LmNvbnRlbnRJbmZvO1xuICAgICAgICAgIHZhciBjb2RlYyA9IHRoaXMuZ2V0Q29kZWMoY2kuY29kaW5nVHlwZSk7XG4gICAgICAgICAgcmV0dXJuIGNvZGVjLmRlY29kZShwYWNrZXQuZ2V0VHlwZSgpLCBjaS5tZXNzYWdlVHlwZSwgcGFja2V0LmNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgbG9nRXJyb3IoXCJkZWNvZGUgcGFja2V0IGNvbnRlbnQgZXJyb3IuIFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICog6I635Y+W6buY6K6k55qE57yW6Kej56CB5ZmoXG4gICAgICogQHJldHVybnMge1BhY2tldENvbnRlbnRDb2RlY31cbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5nZXREZWZhdWx0Q29kZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb24uY29kZWNzWzBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICog5Y+R6YCB5raI5oGvXG4gICAgICogQHBhcmFtIG1lc3NhZ2Ug5Y+C6ICD57uT5p6E5L2TIENsaWVudFB1Ymxpc2hNZXNzYWdlXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIOWPkemAgeWujOaIkOWQjueahOWbnuiwg1xuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnB1Ymxpc2goQ0xJRU5UX1BVQkxJU0hfVFlQRS5NRVNTQUdFLCBtZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiDlj5HpgIHmiqXlkYpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSDlj4LogIPnu5PmnoTkvZMgQ2xpZW50UHVibGlzaFJlcG9ydFxuICAgICAqIEBwYXJhbSBjYWxsYmFjayDlj5HpgIHlrozmiJDlkI7nmoTlm57osINcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5zZW5kUmVwb3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnB1Ymxpc2goQ0xJRU5UX1BVQkxJU0hfVFlQRS5SRVBPUlQsIG1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIOWPkemAgVJlbW92ZU9mZmxpbmVcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSDlj4LogIPnu5PmnoTkvZMgQ2xpZW50UHVibGlzaFJlbW92ZU9mZmxpbmVcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sg5Y+R6YCB5a6M5oiQ5ZCO55qE5Zue6LCDXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2VuZFJlbW92ZU9mZmxpbmUgPSBmdW5jdGlvbiAobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMucHVibGlzaChDTElFTlRfUFVCTElTSF9UWVBFLlJFTU9WRV9PRkZMSU5FLCBtZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiDlj5HpgIHkuIDkuKrmjIflrprlhoXlrrnnsbvlnovnmoRQdWJsaXNo5oql5paHXG4gICAgICogQHBhcmFtIG1lc3NhZ2VUeXBlIOa2iOaBr+exu+Wei1xuICAgICAqIEBwYXJhbSBjb250ZW50IOaKpeaWh+WGheWuuVxuICAgICAqIEBwYXJhbSBjYWxsYmFjayDlj5HpgIHlrozmiJDlkI7nmoTlm57osINcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5wdWJsaXNoID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlLCBjb250ZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGxvZ0RlYnVnKFwiU0VORCBcIiArIENMSUVOVF9QVUJMSVNIX1RZUEVbbWVzc2FnZVR5cGVdLCBjb250ZW50KTtcbiAgICAgIHZhciB0b3BpYyA9IGNvbnRlbnQudG9waWM7XG4gICAgICB2YXIgY29kZWMgPSB0aGlzLmdldERlZmF1bHRDb2RlYygpO1xuICAgICAgLy8gY29udGVudC50b3BpYyA9IG51bGw7XG4gICAgICB2YXIgcGFja2V0ID0gbmV3IChQQUNLRVRfREVGSU5FW1BBQ0tFVF9UWVBFLlBVQkxJU0hdKSh7XG4gICAgICAgIHRvcGljOiB0b3BpYyxcbiAgICAgICAgcW9zOiBRT1NfTEVWRUwuQVRfTEVBU1RfT05DRSxcbiAgICAgICAgY29udGVudEluZm86IHtcbiAgICAgICAgICBjb2RpbmdUeXBlOiBjb2RlYy5jb2RpbmdUeXBlKCksXG4gICAgICAgICAgbWVzc2FnZVR5cGU6IG1lc3NhZ2VUeXBlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGNvZGVjLmVuY29kZShQQUNLRVRfVFlQRS5QVUJMSVNILCBtZXNzYWdlVHlwZSwgY29udGVudClcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jbGllbnQuc2VuZChwYWNrZXQsIGNhbGxiYWNrICYmIChmdW5jdGlvbiAoc3VjY2VzcywgYWNrLCByZWFzb24pIHtcbiAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgY2FsbGJhY2soX3RoaXMuZGVjb2RlQ29udGVudChhY2spKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayh7IGNvZGU6IC0xLCBcInJlYXNvblwiOiByZWFzb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiDorqLpmIXkuLvpophcbiAgICAgKiBAcGFyYW0gdG9waWNzIOS4u+mimOWIl+ihqFxuICAgICAqIEBwYXJhbSBjYWxsYmFjayDorqLpmIXlrozmiJDlkI7nmoTlm57osINcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAodG9waWNzLCBjYWxsYmFjaykge1xuICAgICAgdmFyIG9wdGlvbiA9IHsgc3Vic2NyaWJlczogW10gfTtcbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0b3BpY3MubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciB0b3BpYyA9IHRvcGljc1tfaV07XG4gICAgICAgIG9wdGlvbi5zdWJzY3JpYmVzLnB1c2goe1xuICAgICAgICAgIHRvcGljOiB0b3BpYyxcbiAgICAgICAgICBxb3M6IFFPU19MRVZFTC5BVF9MRUFTVF9PTkNFXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIHBhY2tldCA9IG5ldyAoUEFDS0VUX0RFRklORVtQQUNLRVRfVFlQRS5TVUJTQ1JJQkVdKShvcHRpb24pO1xuICAgICAgdGhpcy5jbGllbnQuc2VuZChwYWNrZXQsIGNhbGxiYWNrICYmIChmdW5jdGlvbiAoc3VjY2VzcywgYWNrLCByZWFzb24pIHtcbiAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGFjay5yZXR1cm5Db2RlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgdmFyIHJldHVybkNvZGUgPSBfYVtfaV07XG4gICAgICAgICAgICAgIGlmIChyZXR1cm5Db2RlID4gMikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBhY2ssIFwic29tZSBzdWJzY3JpYmUgZmF1bHRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayhzdWNjZXNzLCBhY2ssIHJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGFjaywgcmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIFNlc3Npb24ucGFyc2VDb25uQWNrQ29kZSA9IGZ1bmN0aW9uIChjb25uQWNrUmV0dXJuQ29kZSkge1xuICAgICAgc3dpdGNoIChjb25uQWNrUmV0dXJuQ29kZSkge1xuICAgICAgICBjYXNlIENPTk5BQ0tfUkVUVVJOX0NPREUuQ09OTkVDVElPTl9BQ0NFUFRFRDpcbiAgICAgICAgICByZXR1cm4gMjAwO1xuICAgICAgICBjYXNlIENPTk5BQ0tfUkVUVVJOX0NPREUuVU5BQ0NFUFRBQkxFX1BST1RPQ09MX1ZFUlNJT046XG4gICAgICAgICAgcmV0dXJuIDUwMDtcbiAgICAgICAgY2FzZSBDT05OQUNLX1JFVFVSTl9DT0RFLklERU5USUZJRVJfUkVKRUNURUQ6XG4gICAgICAgICAgcmV0dXJuIDQwMztcbiAgICAgICAgY2FzZSBDT05OQUNLX1JFVFVSTl9DT0RFLlNFUlZFUl9VTkFWQUlMQUJMRTpcbiAgICAgICAgICByZXR1cm4gNTAxO1xuICAgICAgICBjYXNlIENPTk5BQ0tfUkVUVVJOX0NPREUuQkFEX1VTRVJfTkFNRV9PUl9QQVNTV09SRDpcbiAgICAgICAgICByZXR1cm4gNDAxO1xuICAgICAgICBjYXNlIENPTk5BQ0tfUkVUVVJOX0NPREUuTk9UX0FVVEhPUklaRUQ6XG4gICAgICAgICAgcmV0dXJuIDQwMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gNTAwO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNlc3Npb247XG4gIH0pKCk7XG4gIHY2c2RrLlNlc3Npb24gPSBTZXNzaW9uO1xuICAvKipcbiAgICog5a6i5oi356uv5Y+R6YCB5raI5oGv55qE5YaF5a6557G75Z6LXG4gICAqL1xuICB2YXIgQ0xJRU5UX1BVQkxJU0hfVFlQRTtcbiAgKGZ1bmN0aW9uIChDTElFTlRfUFVCTElTSF9UWVBFKSB7XG4gICAgQ0xJRU5UX1BVQkxJU0hfVFlQRVtDTElFTlRfUFVCTElTSF9UWVBFW1wiTUVTU0FHRVwiXSA9IDFdID0gXCJNRVNTQUdFXCI7XG4gICAgQ0xJRU5UX1BVQkxJU0hfVFlQRVtDTElFTlRfUFVCTElTSF9UWVBFW1wiUkVQT1JUXCJdID0gMl0gPSBcIlJFUE9SVFwiO1xuICAgIENMSUVOVF9QVUJMSVNIX1RZUEVbQ0xJRU5UX1BVQkxJU0hfVFlQRVtcIlJFTU9WRV9PRkZMSU5FXCJdID0gM10gPSBcIlJFTU9WRV9PRkZMSU5FXCI7XG4gIH0pKENMSUVOVF9QVUJMSVNIX1RZUEUgfHwgKENMSUVOVF9QVUJMSVNIX1RZUEUgPSB7fSkpO1xuICAvKipcbiAgICog5a6i5oi356uv54q25oCB5p6a5Li+XG4gICAqL1xuICAoZnVuY3Rpb24gKENMSUVOVF9TVEFURSkge1xuICAgIC8q5paw5bu6Ki9cbiAgICBDTElFTlRfU1RBVEVbQ0xJRU5UX1NUQVRFW1wiTkVXXCJdID0gMTBdID0gXCJORVdcIjtcbiAgICAvKue7iOerr+S4u+WKqOWFs+mXrSovXG4gICAgQ0xJRU5UX1NUQVRFW0NMSUVOVF9TVEFURVtcIkNMT1NFRFwiXSA9IDExXSA9IFwiQ0xPU0VEXCI7XG4gICAgLyrov57mjqXlpLHotKUqL1xuICAgIENMSUVOVF9TVEFURVtDTElFTlRfU1RBVEVbXCJDT05ORUNUX0ZBSUxFRFwiXSA9IDEyXSA9IFwiQ09OTkVDVF9GQUlMRURcIjtcbiAgICAvKuiiq+WKqOaWreW8gO+8iOaWree9keOAgeiiq+i4ou+8iSovXG4gICAgQ0xJRU5UX1NUQVRFW0NMSUVOVF9TVEFURVtcIkRJU0NPTk5FQ1RFRFwiXSA9IDEzXSA9IFwiRElTQ09OTkVDVEVEXCI7XG4gICAgLyrmraPlnKjov57mjqUqL1xuICAgIENMSUVOVF9TVEFURVtDTElFTlRfU1RBVEVbXCJDT05ORUNUSU5HXCJdID0gMjBdID0gXCJDT05ORUNUSU5HXCI7XG4gICAgLyrmraPlnKjkuLvliqjmlq3lvIDov57mjqUqL1xuICAgIENMSUVOVF9TVEFURVtDTElFTlRfU1RBVEVbXCJDTE9TSU5HXCJdID0gMjFdID0gXCJDTE9TSU5HXCI7XG4gICAgLyrlt7Lov57mjqUqL1xuICAgIENMSUVOVF9TVEFURVtDTElFTlRfU1RBVEVbXCJDT05ORUNURURcIl0gPSAzMF0gPSBcIkNPTk5FQ1RFRFwiO1xuICB9KSh2NnNkay5DTElFTlRfU1RBVEUgfHwgKHY2c2RrLkNMSUVOVF9TVEFURSA9IHt9KSk7XG4gIHZhciBDTElFTlRfU1RBVEUgPSB2NnNkay5DTElFTlRfU1RBVEU7XG4gIC8qKlxuICAgKiDmiqXmlofnsbvlnovmnprkuL5cbiAgICovXG4gIChmdW5jdGlvbiAoUEFDS0VUX1RZUEUpIHtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIkNPTk5FQ1RcIl0gPSAxXSA9IFwiQ09OTkVDVFwiO1xuICAgIFBBQ0tFVF9UWVBFW1BBQ0tFVF9UWVBFW1wiQ09OTkFDS1wiXSA9IDJdID0gXCJDT05OQUNLXCI7XG4gICAgUEFDS0VUX1RZUEVbUEFDS0VUX1RZUEVbXCJQVUJMSVNIXCJdID0gM10gPSBcIlBVQkxJU0hcIjtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIlBVQkFDS1wiXSA9IDRdID0gXCJQVUJBQ0tcIjtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIlBVQlJFQ1wiXSA9IDVdID0gXCJQVUJSRUNcIjtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIlBVQlJFTFwiXSA9IDZdID0gXCJQVUJSRUxcIjtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIlBVQkNPTVBcIl0gPSA3XSA9IFwiUFVCQ09NUFwiO1xuICAgIFBBQ0tFVF9UWVBFW1BBQ0tFVF9UWVBFW1wiU1VCU0NSSUJFXCJdID0gOF0gPSBcIlNVQlNDUklCRVwiO1xuICAgIFBBQ0tFVF9UWVBFW1BBQ0tFVF9UWVBFW1wiU1VCQUNLXCJdID0gOV0gPSBcIlNVQkFDS1wiO1xuICAgIFBBQ0tFVF9UWVBFW1BBQ0tFVF9UWVBFW1wiVU5TVUJTQ1JJQkVcIl0gPSAxMF0gPSBcIlVOU1VCU0NSSUJFXCI7XG4gICAgUEFDS0VUX1RZUEVbUEFDS0VUX1RZUEVbXCJVTlNVQkFDS1wiXSA9IDExXSA9IFwiVU5TVUJBQ0tcIjtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIlBJTkdSRVFcIl0gPSAxMl0gPSBcIlBJTkdSRVFcIjtcbiAgICBQQUNLRVRfVFlQRVtQQUNLRVRfVFlQRVtcIlBJTkdSRVNQXCJdID0gMTNdID0gXCJQSU5HUkVTUFwiO1xuICAgIFBBQ0tFVF9UWVBFW1BBQ0tFVF9UWVBFW1wiRElTQ09OTkVDVFwiXSA9IDE0XSA9IFwiRElTQ09OTkVDVFwiO1xuICAgIFBBQ0tFVF9UWVBFW1BBQ0tFVF9UWVBFW1wiR0VUTUVTU0FHRVNSRVNVTFRcIl0gPSAxNV0gPSBcIkdFVE1FU1NBR0VTUkVTVUxUXCI7XG4gIH0pKHY2c2RrLlBBQ0tFVF9UWVBFIHx8ICh2NnNkay5QQUNLRVRfVFlQRSA9IHt9KSk7XG4gIHZhciBQQUNLRVRfVFlQRSA9IHY2c2RrLlBBQ0tFVF9UWVBFO1xuICAvKipcbiAgICog5oql5paH5Y+R6YCB6LSo6YeP5o6n5Yi257qn5YirXG4gICAqL1xuICAoZnVuY3Rpb24gKFFPU19MRVZFTCkge1xuICAgIC8qIFFvUyAwIO+8iOacgOWkmuWPkeS4gOasoe+8iSAqL1xuICAgIFFPU19MRVZFTFtRT1NfTEVWRUxbXCJBVF9NT1NUX09OQ0VcIl0gPSAwXSA9IFwiQVRfTU9TVF9PTkNFXCI7XG4gICAgLyogUW9TIDEg77yI6Iez5bCR5Y+R5LiA5qyh77yJICovXG4gICAgUU9TX0xFVkVMW1FPU19MRVZFTFtcIkFUX0xFQVNUX09OQ0VcIl0gPSAxXSA9IFwiQVRfTEVBU1RfT05DRVwiO1xuICAgIC8qIFFvUyAyIO+8iOS/neivgeWPkeS4gOasoe+8iSAqL1xuICAgIFFPU19MRVZFTFtRT1NfTEVWRUxbXCJFWEFDVExZX09OQ0VcIl0gPSAyXSA9IFwiRVhBQ1RMWV9PTkNFXCI7XG4gIH0pKHY2c2RrLlFPU19MRVZFTCB8fCAodjZzZGsuUU9TX0xFVkVMID0ge30pKTtcbiAgdmFyIFFPU19MRVZFTCA9IHY2c2RrLlFPU19MRVZFTDtcbiAgLyoqXG4gICAqIOa2iOaBr+WGheWuuee8lueggeexu+Wei+aemuS4vlxuICAgKi9cbiAgKGZ1bmN0aW9uIChDT0RJTkdfVFlQRSkge1xuICAgIENPRElOR19UWVBFW0NPRElOR19UWVBFW1wiSlNPTlwiXSA9IDBdID0gXCJKU09OXCI7XG4gICAgQ09ESU5HX1RZUEVbQ09ESU5HX1RZUEVbXCJYTUxcIl0gPSAxXSA9IFwiWE1MXCI7XG4gICAgQ09ESU5HX1RZUEVbQ09ESU5HX1RZUEVbXCJQUk9UT0JVRjJcIl0gPSAyXSA9IFwiUFJPVE9CVUYyXCI7XG4gICAgQ09ESU5HX1RZUEVbQ09ESU5HX1RZUEVbXCJQUk9UT0JVRjNcIl0gPSAzXSA9IFwiUFJPVE9CVUYzXCI7XG4gIH0pKHY2c2RrLkNPRElOR19UWVBFIHx8ICh2NnNkay5DT0RJTkdfVFlQRSA9IHt9KSk7XG4gIHZhciBDT0RJTkdfVFlQRSA9IHY2c2RrLkNPRElOR19UWVBFO1xuICAvKipcbiAgICogSnNvbuexu+Wei+eahOaKpeaWh+WGheWuuee8luino+eggeWZqFxuICAgKi9cbiAgdmFyIEpzb25QYWNrZXRDb250ZW50Q29kZWMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpzb25QYWNrZXRDb250ZW50Q29kZWMoKSB7XG4gICAgfVxuICAgIEpzb25QYWNrZXRDb250ZW50Q29kZWMucHJvdG90eXBlLmNvZGluZ1R5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQ09ESU5HX1RZUEUuSlNPTjtcbiAgICB9O1xuICAgIEpzb25QYWNrZXRDb250ZW50Q29kZWMucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChwYWNrZXRUeXBlLCBtZXNzYWdlVHlwZSwgYnl0ZXMpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKEJ5dGVVdGlscy5hc1N0cmluZyhieXRlcykpO1xuICAgIH07XG4gICAgSnNvblBhY2tldENvbnRlbnRDb2RlYy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHBhY2tldFR5cGUsIG1lc3NhZ2VUeXBlLCBkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoQnl0ZVV0aWxzLmFzQnl0ZXMoSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTtcbiAgICB9O1xuICAgIHJldHVybiBKc29uUGFja2V0Q29udGVudENvZGVjO1xuICB9KSgpO1xuICB2NnNkay5Kc29uUGFja2V0Q29udGVudENvZGVjID0gSnNvblBhY2tldENvbnRlbnRDb2RlYztcbiAgLyoqXG4gICAqIFByb3RvY29sIGJ1ZmZlciDnsbvlnovnmoTmiqXmloflhoXlrrnnvJbop6PnoIHlmahcbiAgICovXG4gIHZhciBQYlBhY2tldENvbnRlbnRDb2RlYyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyWIFByb3RvY29sIGJ1ZmZlciDmiqXmloflhoXlrrnop6PnoIHlmahcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm90byAucHJvdG8g5paH5Lu26Lev5b6E5oiW5YaF5a65XG4gICAgICogQHBhcmFtIGNhbGxiYWNrIOW9k3Byb3Rv5L2c5Li6LnByb3Rv5paH5Lu25p2l5Yqg6L295pe277yM5Yid5aeL5YyW5a6M5oiQ55qE5Zue6LCD44CC5rOo5oSPOiDlpoLmnpzor6Xlj4LmlbDkuLrnqbrliJnorqTkuLpwcm90b+WPguaVsOaYr3Byb3Rv5YaF5a65XG4gICAgICovXG4gICAgZnVuY3Rpb24gUGJQYWNrZXRDb250ZW50Q29kZWMocHJvdG8sIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5kZWNvZGVNZXRhcyA9IHt9O1xuICAgICAgdGhpcy5lbmNvZGVNZXRhcyA9IHt9O1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIFByb3RvQnVmLmxvYWRQcm90b0ZpbGUocHJvdG8sIGNhbGxiYWNrICYmIChmdW5jdGlvbiAoZXJyb3IsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYiA9IGJ1aWxkZXI7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5pdE1ldGFzKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIF90aGlzKTtcbiAgICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm90byA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLnBiID0gUHJvdG9CdWYubG9hZFByb3RvKHByb3RvKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gcHJvdG8gaXMgYSBidWlsZGVyXG4gICAgICAgICAgdGhpcy5wYiA9IHByb3RvXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TWV0YXMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgUGJQYWNrZXRDb250ZW50Q29kZWMucHJvdG90eXBlLmluaXRNZXRhcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVnTWV0YShQQUNLRVRfVFlQRS5DT05OQUNLLCBudWxsLCAxLCBcIkNvbm5lY3RBY2tcIik7XG4gICAgICB0aGlzLnJlZ01ldGEoUEFDS0VUX1RZUEUuRElTQ09OTkVDVCwgbnVsbCwgMSwgXCJEaXNjb25uZWN0XCIpO1xuICAgICAgdGhpcy5yZWdNZXRhKFBBQ0tFVF9UWVBFLlBVQkxJU0gsIG51bGwsIDEsIFwiU2VydmVyUHVibGlzaFwiKTtcbiAgICAgIHRoaXMucmVnTWV0YShQQUNLRVRfVFlQRS5QVUJBQ0ssIG51bGwsIDEsIFwiQ2xpZW50UHVibGlzaEFja1wiKTtcbiAgICAgIHRoaXMucmVnTWV0YShQQUNLRVRfVFlQRS5QVUJMSVNILCAxLCBudWxsLCBcIkNsaWVudFB1Ymxpc2hNZXNzYWdlXCIpO1xuICAgICAgdGhpcy5yZWdNZXRhKFBBQ0tFVF9UWVBFLlBVQkxJU0gsIDIsIG51bGwsIFwiQ2xpZW50UHVibGlzaFJlcG9ydFwiKTtcbiAgICAgIHRoaXMucmVnTWV0YShQQUNLRVRfVFlQRS5QVUJMSVNILCAzLCBudWxsLCBcIkNsaWVudFB1Ymxpc2hSZW1vdmVPZmZsaW5lXCIpO1xuICAgICAgdGhpcy5yZWdNZXRhKFBBQ0tFVF9UWVBFLkdFVE1FU1NBR0VTUkVTVUxULCBudWxsLCAxLCBcIkdldE1lc3NhZ2VzUmVzdWx0XCIpO1xuICAgIH07XG4gICAgUGJQYWNrZXRDb250ZW50Q29kZWMucHJvdG90eXBlLnJlZ01ldGEgPSBmdW5jdGlvbiAocGFja2V0VHlwZSwgZW5jb2RlTXNnVHlwZSwgZGVjb2RlTXNnVHlwZSwgbWV0YVBhdGgpIHtcbiAgICAgIHZhciBtZXRhID0gdGhpcy5wYi5idWlsZChtZXRhUGF0aCk7XG4gICAgICBpZiAoIW1ldGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZm91bmQgUEItTWV0YS4gcGF0aD1cIiArIG1ldGFQYXRoKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmNvZGVNc2dUeXBlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5lbmNvZGVNZXRhc1socGFja2V0VHlwZSArIFwiOlwiICsgZW5jb2RlTXNnVHlwZSldID0gbWV0YTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWNvZGVNc2dUeXBlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5kZWNvZGVNZXRhc1socGFja2V0VHlwZSArIFwiOlwiICsgZGVjb2RlTXNnVHlwZSldID0gbWV0YTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFBiUGFja2V0Q29udGVudENvZGVjLnByb3RvdHlwZS5nZXREZWNvZGVNZXRhID0gZnVuY3Rpb24gKHBhY2tldFR5cGUsIG1lc3NhZ2VUeXBlKSB7XG4gICAgICB2YXIgbWV0YSA9IHRoaXMuZGVjb2RlTWV0YXNbKHBhY2tldFR5cGUgKyBcIjpcIiArIG1lc3NhZ2VUeXBlKV07XG4gICAgICBpZiAoIW1ldGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZm91bmQgUEItTWV0YS4gUGFja2V0VHlwZT1cIiArIFBBQ0tFVF9UWVBFW3BhY2tldFR5cGVdICsgXCIgTWVzc2FnZVR5cGU9XCIgKyBtZXNzYWdlVHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0YTtcbiAgICB9O1xuICAgIFBiUGFja2V0Q29udGVudENvZGVjLnByb3RvdHlwZS5nZXRFbmNvZGVNZXRhID0gZnVuY3Rpb24gKHBhY2tldFR5cGUsIG1lc3NhZ2VUeXBlKSB7XG4gICAgICB2YXIgbWV0YSA9IHRoaXMuZW5jb2RlTWV0YXNbKHBhY2tldFR5cGUgKyBcIjpcIiArIG1lc3NhZ2VUeXBlKV07XG4gICAgICBpZiAoIW1ldGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZm91bmQgUEItTWV0YS4gUGFja2V0VHlwZT1cIiArIFBBQ0tFVF9UWVBFW3BhY2tldFR5cGVdICsgXCIgTWVzc2FnZVR5cGU9XCIgKyBtZXNzYWdlVHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0YTtcbiAgICB9O1xuICAgIFBiUGFja2V0Q29udGVudENvZGVjLnByb3RvdHlwZS5jb2RpbmdUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIENPRElOR19UWVBFLlBST1RPQlVGMjtcbiAgICB9O1xuICAgIFBiUGFja2V0Q29udGVudENvZGVjLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocGFja2V0VHlwZSwgbWVzc2FnZVR5cGUsIGJ5dGVzKSB7XG4gICAgICB2YXIgbWV0YSA9IHRoaXMuZ2V0RGVjb2RlTWV0YShwYWNrZXRUeXBlLCBtZXNzYWdlVHlwZSk7XG4gICAgICByZXR1cm4gbWV0YS5kZWNvZGUoYnl0ZXMpO1xuICAgIH07XG4gICAgUGJQYWNrZXRDb250ZW50Q29kZWMucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIChwYWNrZXRUeXBlLCBtZXNzYWdlVHlwZSwgZGF0YSkge1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgbWV0YSA9IHRoaXMuZ2V0RW5jb2RlTWV0YShwYWNrZXRUeXBlLCBtZXNzYWdlVHlwZSk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShuZXcgbWV0YShkYXRhKS50b0FycmF5QnVmZmVyKCkpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBiUGFja2V0Q29udGVudENvZGVjO1xuICB9KSgpO1xuICB2NnNkay5QYlBhY2tldENvbnRlbnRDb2RlYyA9IFBiUGFja2V0Q29udGVudENvZGVjO1xuICB2YXIgUmVhZEJ1ZmZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVhZEJ1ZmZlcihkYXRhKSB7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICB0aGlzLmhlYWRlciA9IHRoaXMucmVhZEJ5dGUoKTtcbiAgICAgIHRoaXMucGFja2V0TGVuZ3RoID0gdGhpcy5yZWFkUGFja2V0TGVuZ3RoKCk7XG4gICAgICBpZiAoZGF0YS5sZW5ndGggLSB0aGlzLmluZGV4IC0gdGhpcy5wYWNrZXRMZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFja2V0IGxlbmd0aCBleGNlcHRpb24uIGZyYW1lLXNpemU9XCIgKyB0aGlzLmRhdGEubGVuZ3RoICsgXCIsIHBhY2tldC1zaXplPVwiICsgKHRoaXMuaW5kZXggKyB0aGlzLnBhY2tldExlbmd0aCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5nZXRQYWNrZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyID4+IDQ7XG4gICAgfTtcbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5nZXRGbGFnQml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlYWRlciAmIDB4RjtcbiAgICB9O1xuICAgIFJlYWRCdWZmZXIucHJvdG90eXBlLnJlYWRQYWNrZXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbXVsdGlwbGllciA9IDE7XG4gICAgICB2YXIgdmFsdWUgPSAwO1xuICAgICAgdmFyIGVuY29kZWRfYnl0ZTtcbiAgICAgIGRvIHtcbiAgICAgICAgZW5jb2RlZF9ieXRlID0gdGhpcy5yZWFkQnl0ZSgpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICsgKGVuY29kZWRfYnl0ZSAmIDB4N0YpICogbXVsdGlwbGllcjtcbiAgICAgICAgbXVsdGlwbGllciA9IG11bHRpcGxpZXIgKiAxMjg7XG4gICAgICAgIGlmIChtdWx0aXBsaWVyID4gMTI4ICogMTI4ICogMTI4KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFJlbWFpbmluZyBMZW5ndGhcIik7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKChlbmNvZGVkX2J5dGUgJiAweDgwKSAhPT0gMCk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5pc1JlYWRhYmxlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgIGlmIChzaXplID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPCB0aGlzLmRhdGEubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAodGhpcy5pbmRleCArIHNpemUpIDw9IHRoaXMuZGF0YS5sZW5ndGg7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgIC8vIGxvZ0RlYnVnKGByZWFkIGluZGV4PSR7dGhpcy5pbmRleH0gcmVhZFNpemU9JHtzaXplfSBkYXRhTGVuZ3RoPSR7dGhpcy5kYXRhLmxlbmd0aH1gKTtcbiAgICAgIGlmICghdGhpcy5pc1JlYWRhYmxlKHNpemUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlYWQgYnVmZmVyIG92ZXJmbG93XCIpO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IHRoaXMuaW5kZXggKyBzaXplO1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGF0YS5zbGljZSh0aGlzLmluZGV4LCBlbmQpO1xuICAgICAgdGhpcy5pbmRleCA9IGVuZDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5yZWFkQnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGxvZ0RlYnVnKGByZWFkQnl0ZSBpbmRleD0ke3RoaXMuaW5kZXh9ZGF0YUxlbmd0aD0ke3RoaXMuZGF0YS5sZW5ndGh9YCk7XG4gICAgICBpZiAoIXRoaXMuaXNSZWFkYWJsZSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlYWQgYnVmZmVyIG92ZXJmbG93XCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLmluZGV4KytdO1xuICAgIH07XG4gICAgUmVhZEJ1ZmZlci5wcm90b3R5cGUucmVhZFRvRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVhZCh0aGlzLmRhdGEubGVuZ3RoIC0gdGhpcy5pbmRleCk7XG4gICAgfTtcbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5yZWFkQ29udGVudEluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGllY2UgPSB0aGlzLnJlYWQoMik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RpbmdUeXBlOiBwaWVjZVswXSA+PiA0LFxuICAgICAgICBtZXNzYWdlVHlwZTogKHBpZWNlWzBdICYgMHhGKSA8PCA4IHwgcGllY2VbMV1cbiAgICAgIH07XG4gICAgfTtcbiAgICBSZWFkQnVmZmVyLnByb3RvdHlwZS5yZWFkVW5zaWduZWQxNiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwaWVjZSA9IHRoaXMucmVhZCgyKTtcbiAgICAgIHJldHVybiAocGllY2VbMF0gPDwgOCkgfCBwaWVjZVsxXTtcbiAgICB9O1xuICAgIFJlYWRCdWZmZXIucHJvdG90eXBlLnJlYWRMZW5QcmVmaXhlZEZpZWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZpZWxkTGVuZ3RoID0gdGhpcy5yZWFkVW5zaWduZWQxNigpO1xuICAgICAgaWYgKGZpZWxkTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWQoZmllbGRMZW5ndGgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgUmVhZEJ1ZmZlci5wcm90b3R5cGUucmVhZExlblByZWZpeGVkRmllbGRBc1N0ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBieXRlcyA9IHRoaXMucmVhZExlblByZWZpeGVkRmllbGQoKTtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgYnVmZmVyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBidWZmZXIucHVzaChieXRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVURjguYnl0ZXNUb1N0cmluZyhidWZmZXIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlYWRCdWZmZXI7XG4gIH0pKCk7XG4gIHZhciBXcml0ZUJ1ZmZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV3JpdGVCdWZmZXIoKSB7XG4gICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICBXcml0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGJ5dGVzID0gW107XG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBieXRlc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYnVmZmVyLnB1c2guYXBwbHkodGhpcy5idWZmZXIsIGJ5dGVzKTtcbiAgICB9O1xuICAgIFdyaXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUJ5dGVzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciBieXRlcyA9IEJ5dGVVdGlscy5hc0J5dGVzKGRhdGEpO1xuICAgICAgaWYgKGJ5dGVzICYmIGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoLmFwcGx5KHRoaXMuYnVmZmVyLCBieXRlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBXcml0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVbnNpZ25lZDE2ID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgaWYgKG51bSA+IDApIHtcbiAgICAgICAgdGhpcy53cml0ZUJ5dGUoKG51bSA+PiA4KSAmIDB4RkYsIG51bSAmIDB4RkYpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMud3JpdGVCeXRlKDAsIDApO1xuICAgICAgfVxuICAgIH07XG4gICAgV3JpdGVCdWZmZXIucHJvdG90eXBlLndyaXRlTGVuUHJlZml4ZWRGaWVsZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgYnl0ZXMgPSBCeXRlVXRpbHMuYXNCeXRlcyhkYXRhKTtcbiAgICAgIGlmIChieXRlcyAmJiBieXRlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy53cml0ZVVuc2lnbmVkMTYoYnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy53cml0ZUJ5dGVzKGJ5dGVzKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLndyaXRlVW5zaWduZWQxNigwKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFdyaXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUNvbnRlbnRJbmZvID0gZnVuY3Rpb24gKGNvbnRlbnRJbmZvKSB7XG4gICAgICB0aGlzLndyaXRlQnl0ZSgoKGNvbnRlbnRJbmZvLmNvZGluZ1R5cGUgPDwgNCkgfCAoKGNvbnRlbnRJbmZvLm1lc3NhZ2VUeXBlID4+IDgpICYgMHhGKSkgJiAweEZGKTtcbiAgICAgIHRoaXMud3JpdGVCeXRlKGNvbnRlbnRJbmZvLm1lc3NhZ2VUeXBlICYgMHhGRik7XG4gICAgfTtcbiAgICBXcml0ZUJ1ZmZlci5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjtcbiAgICB9O1xuICAgIHJldHVybiBXcml0ZUJ1ZmZlcjtcbiAgfSkoKTtcbiAgdmFyIFBhY2tldCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFja2V0KGluaXRBcmcpIHtcbiAgICAgIGlmIChpbml0QXJnKSB7XG4gICAgICAgIGlmIChpbml0QXJnIGluc3RhbmNlb2YgUmVhZEJ1ZmZlcikge1xuICAgICAgICAgIHRoaXMuaW5pdEZyb21CeXRlcyhpbml0QXJnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmluaXRGcm9tT3B0aW9uKGluaXRBcmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFBhY2tldC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFBhY2tldC5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAocGFja2V0VHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZSgpID09PSBwYWNrZXRUeXBlO1xuICAgIH07XG4gICAgUGFja2V0LnByb3RvdHlwZS5pbml0RnJvbU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihQQUNLRVRfVFlQRVt0aGlzLmdldFR5cGUoKV0gKyBcIiBub3Qgc3VwcG9ydCBpbml0RnJvbU9wdGlvblwiKTtcbiAgICB9O1xuICAgIFBhY2tldC5wcm90b3R5cGUuaW5pdEZyb21CeXRlcyA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihQQUNLRVRfVFlQRVt0aGlzLmdldFR5cGUoKV0gKyBcIiBub3Qgc3VwcG9ydCBpbml0RnJvbUJ5dGVzXCIpO1xuICAgIH07XG4gICAgUGFja2V0LnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFBBQ0tFVF9UWVBFW3RoaXMuZ2V0VHlwZSgpXSArIFwiIG5vdCBzdXBwb3J0IGdldEJvZHlcIik7XG4gICAgfTtcbiAgICBQYWNrZXQucHJvdG90eXBlLmlzSGlnaFFvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFBhY2tldC5wcm90b3R5cGUuYnVpbGRBY2tQYWNrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoUEFDS0VUX1RZUEVbdGhpcy5nZXRUeXBlKCldICsgXCIgbm90IHN1cHBvcnQgYnVpbGRBY2tQYWNrZXRcIik7XG4gICAgfTtcbiAgICBQYWNrZXQucHJvdG90eXBlLmlzQWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgUGFja2V0LnByb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgICAgYnVmZmVyWzBdID0gdGhpcy5nZXRGaXhlZEhlYWRlcigpO1xuICAgICAgdmFyIGJvZHlCdWZmZXIgPSB0aGlzLmdldEJvZHkoKTtcbiAgICAgIGlmIChib2R5QnVmZmVyKSB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5jb25jYXQoUGFja2V0LmdlbmVyYXRlUGFja2V0TGVuZ3RoKGJvZHlCdWZmZXIubGVuZ3RoKSwgYm9keUJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYnVmZmVyWzFdID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oYnVmZmVyKTtcbiAgICB9O1xuICAgIFBhY2tldC5nZW5lcmF0ZVBhY2tldExlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgIGlmIChsZW5ndGggPiAyNjg0MzU0NTUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFja2V0IGxlbmd0aCB0b28gYmlnIFwiICsgbGVuZ3RoICsgXCIuIHRoZSBtYXggbGVuZ3RoIGlzIDI2ODQzNTQ1NVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgIGRvIHtcbiAgICAgICAgdmFyIGRpZ2l0ID0gbGVuZ3RoICUgMTI4O1xuICAgICAgICBsZW5ndGggPSBNYXRoLmZsb29yKGxlbmd0aCAvIDEyOCk7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGlnaXQgKz0gMTI4O1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5wdXNoKGRpZ2l0KTtcbiAgICAgIH0gd2hpbGUgKGxlbmd0aCA+IDApO1xuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICAgIHJldHVybiBQYWNrZXQ7XG4gIH0pKCk7XG4gIHZhciBQUk9UT0NPTF9OQU1FID0gXCJOR0NDLVY2XCI7XG4gIHZhciBQUk9UT0NPTF9MRVZFTCA9IDQ7XG4gIHZhciBERUZBVUxUX0tFRVBfQUxJVkUgPSA2MDtcbiAgdmFyIERFRkFVTFRfQ0xFQU5fU0VTU0lPTiA9IGZhbHNlO1xuICB2YXIgREVGQVVMVF9QQUNLRVRfVElNRU9VVCA9IDE1O1xuICAvKipcbiAgICog5oql5paH5a6a5LmJ6ZuG77yMa2V55Li65oql5paH57G75Z6L56CB77yMdmFsdWXkuLrlj6/lrp7kvovljJbnmoTmiqXmloflrp7njrDnsbtcbiAgICogQHR5cGUge3t9fVxuICAgKi9cbiAgdmFyIFBBQ0tFVF9ERUZJTkUgPSAoX2EgPSB7fSxcbiAgICAvKipcbiAgICAgKiBDT05ORUNUIOi/nuaOpeaKpeaWh1xuICAgICAqL1xuICAgICAgX2FbUEFDS0VUX1RZUEUuQ09OTkVDVF0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTmdjY1Y2Q29ubmVjdFBhY2tldCwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTmdjY1Y2Q29ubmVjdFBhY2tldCgpIHtcbiAgICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBOZ2NjVjZDb25uZWN0UGFja2V0LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBQQUNLRVRfVFlQRS5DT05ORUNUO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZDb25uZWN0UGFja2V0LnByb3RvdHlwZS5pbml0RnJvbU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gb3B0aW9uLnVzZXJuYW1lO1xuICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSBvcHRpb24ucGFzc3dvcmQ7XG4gICAgICAgICAgdGhpcy5rZWVwQWxpdmUgPSBvcHRpb24ua2VlcEFsaXZlIHx8IERFRkFVTFRfS0VFUF9BTElWRTtcbiAgICAgICAgICB0aGlzLmNsaWVudElkID0gb3B0aW9uLmNsaWVudElkO1xuICAgICAgICAgIHRoaXMud2lsbCA9IG9wdGlvbi53aWxsO1xuICAgICAgICAgIHRoaXMucHJvdG9jb2xOYW1lID0gb3B0aW9uLnByb3RvY29sTmFtZSB8fCBQUk9UT0NPTF9OQU1FO1xuICAgICAgICAgIHRoaXMucHJvdG9jb2xMZXZlbCA9IG9wdGlvbi5wcm90b2NvbExldmVsIHx8IFBST1RPQ09MX0xFVkVMO1xuICAgICAgICAgIHRoaXMuY2xlYW5TZXNzaW9uID0gb3B0aW9uLmNsZWFuU2Vzc2lvbiA9PSBudWxsID8gb3B0aW9uLmNsZWFuU2Vzc2lvbiA6IERFRkFVTFRfQ0xFQU5fU0VTU0lPTjtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2Q29ubmVjdFBhY2tldC5wcm90b3R5cGUuZ2V0Rml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDB4MTA7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNkNvbm5lY3RQYWNrZXQucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBXcml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIGJ1ZmZlci53cml0ZUxlblByZWZpeGVkRmllbGQodGhpcy5wcm90b2NvbE5hbWUpO1xuICAgICAgICAgIGJ1ZmZlci53cml0ZUJ5dGUodGhpcy5wcm90b2NvbExldmVsKTtcbiAgICAgICAgICB2YXIgY29ubmVjdEZsYWdzID0gMDtcbiAgICAgICAgICBpZiAodGhpcy53aWxsKSB7XG4gICAgICAgICAgICBjb25uZWN0RmxhZ3MgfD0gMHgwNDtcbiAgICAgICAgICAgIGNvbm5lY3RGbGFncyB8PSB0aGlzLndpbGwucW9zIDw8IDM7XG4gICAgICAgICAgICBpZiAodGhpcy53aWxsLnJldGFpbikge1xuICAgICAgICAgICAgICBjb25uZWN0RmxhZ3MgfD0gMHgyMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuY2xlYW5TZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25uZWN0RmxhZ3MgfD0gMHgwMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUpIHtcbiAgICAgICAgICAgIGNvbm5lY3RGbGFncyB8PSAweDkwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5wYXNzd29yZCkge1xuICAgICAgICAgICAgY29ubmVjdEZsYWdzIHw9IDB4NDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1ZmZlci53cml0ZUJ5dGUoY29ubmVjdEZsYWdzKTtcbiAgICAgICAgICBidWZmZXIud3JpdGVVbnNpZ25lZDE2KHRoaXMua2VlcEFsaXZlKTtcbiAgICAgICAgICBidWZmZXIud3JpdGVMZW5QcmVmaXhlZEZpZWxkKHRoaXMuY2xpZW50SWQpO1xuICAgICAgICAgIGlmICh0aGlzLndpbGwpIHtcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZUxlblByZWZpeGVkRmllbGQodGhpcy53aWxsLnRvcGljKTtcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZUxlblByZWZpeGVkRmllbGQodGhpcy53aWxsLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy51c2VybmFtZSkge1xuICAgICAgICAgICAgYnVmZmVyLndyaXRlTGVuUHJlZml4ZWRGaWVsZCh0aGlzLnVzZXJuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZUxlblByZWZpeGVkRmllbGQodGhpcy5wYXNzd29yZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBidWZmZXIudG9CeXRlcygpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmdjY1Y2Q29ubmVjdFBhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICogQ09OTkFDSyDov57mjqXlk43lupTmiqXmlodcbiAgICAgKi9cbiAgICAgIF9hW1BBQ0tFVF9UWVBFLkNPTk5BQ0tdID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE5nY2NWNkNvbm5BY2tQYWNrZXQsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5nY2NWNkNvbm5BY2tQYWNrZXQoKSB7XG4gICAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgTmdjY1Y2Q29ubkFja1BhY2tldC5wcm90b3R5cGUuZ2V0Rml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDB4MjA7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNkNvbm5BY2tQYWNrZXQucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2Q29ubkFja1BhY2tldC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUEFDS0VUX1RZUEUuQ09OTkFDSztcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2Q29ubkFja1BhY2tldC5wcm90b3R5cGUuaW5pdEZyb21CeXRlcyA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICB2YXIgYWNrRmxhZ3MgPSBidWZmZXIucmVhZEJ5dGUoKTtcbiAgICAgICAgICB0aGlzLnNlc3Npb25QcmVzZW50ID0gKGFja0ZsYWdzICYgMHgxKSAhPT0gMDtcbiAgICAgICAgICB0aGlzLnJldHVybkNvZGUgPSBidWZmZXIucmVhZEJ5dGUoKTtcbiAgICAgICAgICBpZiAoYnVmZmVyLmlzUmVhZGFibGUoKSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50SW5mbyA9IGJ1ZmZlci5yZWFkQ29udGVudEluZm8oKTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IGJ1ZmZlci5yZWFkVG9FbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNkNvbm5BY2tQYWNrZXQucHJvdG90eXBlLmlzQWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmdjY1Y2Q29ubkFja1BhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICogUFVCTElTSCDlj5HluIPmiqXmlodcbiAgICAgKi9cbiAgICAgIF9hW1BBQ0tFVF9UWVBFLlBVQkxJU0hdID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE5nY2NWNlB1Ymxpc2hQYWNrZXQsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5nY2NWNlB1Ymxpc2hQYWNrZXQoKSB7XG4gICAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgTmdjY1Y2UHVibGlzaFBhY2tldC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUEFDS0VUX1RZUEUuUFVCTElTSDtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHVibGlzaFBhY2tldC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHVibGlzaFBhY2tldC5wcm90b3R5cGUuaW5pdEZyb21PcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgdGhpcy5kdXAgPSBvcHRpb24uZHVwICE9IG51bGwgPyBvcHRpb24uZHVwIDogZmFsc2U7XG4gICAgICAgICAgdGhpcy5xb3MgPSBvcHRpb24ucW9zO1xuICAgICAgICAgIHRoaXMucmV0YWluID0gb3B0aW9uLnJldGFpbiAhPSBudWxsID8gb3B0aW9uLnJldGFpbiA6IGZhbHNlO1xuICAgICAgICAgIHRoaXMudG9waWMgPSBvcHRpb24udG9waWM7XG4gICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IG9wdGlvbi5wYWNrZXRJZDtcbiAgICAgICAgICB0aGlzLmNvbnRlbnRJbmZvID0gb3B0aW9uLmNvbnRlbnRJbmZvO1xuICAgICAgICAgIHRoaXMuY29udGVudCA9IG9wdGlvbi5jb250ZW50O1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJsaXNoUGFja2V0LnByb3RvdHlwZS5pbml0RnJvbUJ5dGVzID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgIHZhciBmbGFnQml0cyA9IGJ1ZmZlci5nZXRGbGFnQml0cygpO1xuICAgICAgICAgIHRoaXMuZHVwID0gKGZsYWdCaXRzICYgMHg0KSAhPT0gMDtcbiAgICAgICAgICB0aGlzLnFvcyA9IChmbGFnQml0cyA+PiAxKSAmIDB4MztcbiAgICAgICAgICB0aGlzLnJldGFpbiA9IChmbGFnQml0cyAmIDB4MSkgIT09IDA7XG4gICAgICAgICAgdGhpcy50b3BpYyA9IGJ1ZmZlci5yZWFkTGVuUHJlZml4ZWRGaWVsZEFzU3RyKCk7XG4gICAgICAgICAgaWYgKHRoaXMucW9zID4gMCkge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IGJ1ZmZlci5yZWFkVW5zaWduZWQxNigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYnVmZmVyLmlzUmVhZGFibGUoKSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50SW5mbyA9IGJ1ZmZlci5yZWFkQ29udGVudEluZm8oKTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IGJ1ZmZlci5yZWFkVG9FbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1Ymxpc2hQYWNrZXQucHJvdG90eXBlLmdldEZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBoZWFkZXIgPSAweDMwO1xuICAgICAgICAgIGlmICh0aGlzLmR1cCkge1xuICAgICAgICAgICAgaGVhZGVyIHw9IDB4ODtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMucmV0YWluKSB7XG4gICAgICAgICAgICBoZWFkZXIgfD0gMHgxO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaGVhZGVyIHwgKCh0aGlzLnFvcyAmIDB4MykgPDwgMSk7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1Ymxpc2hQYWNrZXQucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBXcml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIGJ1ZmZlci53cml0ZUxlblByZWZpeGVkRmllbGQodGhpcy50b3BpYyk7XG4gICAgICAgICAgaWYgKHRoaXMucW9zID4gMCkge1xuICAgICAgICAgICAgYnVmZmVyLndyaXRlVW5zaWduZWQxNih0aGlzLnBhY2tldElkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnVmZmVyLndyaXRlQ29udGVudEluZm8odGhpcy5jb250ZW50SW5mbyk7XG4gICAgICAgICAgYnVmZmVyLndyaXRlQnl0ZXModGhpcy5jb250ZW50KTtcbiAgICAgICAgICByZXR1cm4gYnVmZmVyLnRvQnl0ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHVibGlzaFBhY2tldC5wcm90b3R5cGUuaXNIaWdoUW9zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnFvcyA+IDA7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1Ymxpc2hQYWNrZXQucHJvdG90eXBlLmJ1aWxkQWNrUGFja2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBhY2s7XG4gICAgICAgICAgc3dpdGNoICh0aGlzLnFvcykge1xuICAgICAgICAgICAgY2FzZSBRT1NfTEVWRUwuQVRfTEVBU1RfT05DRTpcbiAgICAgICAgICAgICAgYWNrID0gbmV3IFBBQ0tFVF9ERUZJTkVbUEFDS0VUX1RZUEUuUFVCQUNLXSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUU9TX0xFVkVMLkVYQUNUTFlfT05DRTpcbiAgICAgICAgICAgICAgYWNrID0gbmV3IFBBQ0tFVF9ERUZJTkVbUEFDS0VUX1RZUEUuUFVCUkVDXSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlFvcyBcIiArIFFPU19MRVZFTFt0aGlzLnFvc10gKyBcIihcIiArIHRoaXMucW9zICsgXCIpIG5vdCBzdXBwb3J0ZWQgYWNrXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY2sucGFja2V0SWQgPSB0aGlzLnBhY2tldElkO1xuICAgICAgICAgIHJldHVybiBhY2s7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBOZ2NjVjZQdWJsaXNoUGFja2V0O1xuICAgICAgfSkoUGFja2V0KSxcbiAgICAvKipcbiAgICAgKiBQVUJBQ0sg5Y+R5biD5ZON5bqU5oql5paHXG4gICAgICovXG4gICAgICBfYVtQQUNLRVRfVFlQRS5QVUJBQ0tdID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE5nY2NWNlB1YkFja1BhY2tldCwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTmdjY1Y2UHViQWNrUGFja2V0KCkge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIE5nY2NWNlB1YkFja1BhY2tldC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUEFDS0VUX1RZUEUuUFVCQUNLO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJBY2tQYWNrZXQucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViQWNrUGFja2V0LnByb3RvdHlwZS5pbml0RnJvbU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICB0aGlzLnBhY2tldElkID0gb3B0aW9uLnBhY2tldElkO1xuICAgICAgICAgIHRoaXMuY29udGVudEluZm8gPSBvcHRpb24uY29udGVudEluZm87XG4gICAgICAgICAgdGhpcy5jb250ZW50ID0gb3B0aW9uLmNvbnRlbnQ7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1YkFja1BhY2tldC5wcm90b3R5cGUuaW5pdEZyb21CeXRlcyA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICB0aGlzLnBhY2tldElkID0gYnVmZmVyLnJlYWRVbnNpZ25lZDE2KCk7XG4gICAgICAgICAgaWYgKGJ1ZmZlci5pc1JlYWRhYmxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEluZm8gPSBidWZmZXIucmVhZENvbnRlbnRJbmZvKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBidWZmZXIucmVhZFRvRW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJBY2tQYWNrZXQucHJvdG90eXBlLmdldEZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAweDQwO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJBY2tQYWNrZXQucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBXcml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIGJ1ZmZlci53cml0ZVVuc2lnbmVkMTYodGhpcy5wYWNrZXRJZCk7XG4gICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgYnVmZmVyLndyaXRlQ29udGVudEluZm8odGhpcy5jb250ZW50SW5mbyk7XG4gICAgICAgICAgICBidWZmZXIud3JpdGVCeXRlcyh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYnVmZmVyLnRvQnl0ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViQWNrUGFja2V0LnByb3RvdHlwZS5pc0FjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nY2NWNlB1YkFja1BhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICog6auYIFFvcyDnmoTlj5HluIPpppbmrKHlk43lupTmiqXmlocg77yIUW9zPUVYQUNUTFlfT05DRSgyKe+8iVxuICAgICAqL1xuICAgICAgX2FbUEFDS0VUX1RZUEUuUFVCUkVDXSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhOZ2NjVjZQdWJSZWNQYWNrZXQsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5nY2NWNlB1YlJlY1BhY2tldCgpIHtcbiAgICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBOZ2NjVjZQdWJSZWNQYWNrZXQucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIFBBQ0tFVF9UWVBFLlBVQlJFQztcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViUmVjUGFja2V0LnByb3RvdHlwZS5pbml0RnJvbU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICB0aGlzLnBhY2tldElkID0gb3B0aW9uLnBhY2tldElkO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJSZWNQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tQnl0ZXMgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IGJ1ZmZlci5yZWFkVW5zaWduZWQxNigpO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJSZWNQYWNrZXQucHJvdG90eXBlLmdldEZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAweDUwO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJSZWNQYWNrZXQucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBXcml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIGJ1ZmZlci53cml0ZVVuc2lnbmVkMTYodGhpcy5wYWNrZXRJZCk7XG4gICAgICAgICAgcmV0dXJuIGJ1ZmZlci50b0J5dGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1YlJlY1BhY2tldC5wcm90b3R5cGUuaXNBY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBOZ2NjVjZQdWJSZWNQYWNrZXQ7XG4gICAgICB9KShQYWNrZXQpLFxuICAgIC8qKlxuICAgICAqIOmrmCBRb3Mg55qE5Y+R5biD5LqM5qyh56Gu6K6k5oql5paHIO+8iFFvcz1FWEFDVExZX09OQ0UoMinvvIlcbiAgICAgKi9cbiAgICAgIF9hW1BBQ0tFVF9UWVBFLlBVQlJFTF0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTmdjY1Y2UHViUmVsUGFja2V0LCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBOZ2NjVjZQdWJSZWxQYWNrZXQoKSB7XG4gICAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgTmdjY1Y2UHViUmVsUGFja2V0LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBQQUNLRVRfVFlQRS5QVUJSRUw7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1YlJlbFBhY2tldC5wcm90b3R5cGUuaW5pdEZyb21PcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IG9wdGlvbi5wYWNrZXRJZDtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViUmVsUGFja2V0LnByb3RvdHlwZS5pbml0RnJvbUJ5dGVzID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgIHRoaXMucGFja2V0SWQgPSBidWZmZXIucmVhZFVuc2lnbmVkMTYoKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViUmVsUGFja2V0LnByb3RvdHlwZS5nZXRGaXhlZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMHg2MjtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViUmVsUGFja2V0LnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBidWZmZXIgPSBuZXcgV3JpdGVCdWZmZXIoKTtcbiAgICAgICAgICBidWZmZXIud3JpdGVVbnNpZ25lZDE2KHRoaXMucGFja2V0SWQpO1xuICAgICAgICAgIHJldHVybiBidWZmZXIudG9CeXRlcygpO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJSZWxQYWNrZXQucHJvdG90eXBlLmJ1aWxkQWNrUGFja2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBhY2sgPSBuZXcgKFBBQ0tFVF9ERUZJTkVbUEFDS0VUX1RZUEUuUFVCQ09NUF0pKCk7XG4gICAgICAgICAgYWNrLnBhY2tldElkID0gdGhpcy5wYWNrZXRJZDtcbiAgICAgICAgICByZXR1cm4gYWNrO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmdjY1Y2UHViUmVsUGFja2V0O1xuICAgICAgfSkoUGFja2V0KSxcbiAgICAvKipcbiAgICAgKiDpq5ggUW9zIOeahOWPkeW4g+S6jOasoeehruiupOWTjeW6lOaKpeaWhyDvvIhRb3M9RVhBQ1RMWV9PTkNFKDIp77yJXG4gICAgICovXG4gICAgICBfYVtQQUNLRVRfVFlQRS5QVUJDT01QXSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhOZ2NjVjZQdWJDb21wUGFja2V0LCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBOZ2NjVjZQdWJDb21wUGFja2V0KCkge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIE5nY2NWNlB1YkNvbXBQYWNrZXQucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIFBBQ0tFVF9UWVBFLlBVQkNPTVA7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1YkNvbXBQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHRoaXMucGFja2V0SWQgPSBvcHRpb24ucGFja2V0SWQ7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlB1YkNvbXBQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tQnl0ZXMgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IGJ1ZmZlci5yZWFkVW5zaWduZWQxNigpO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQdWJDb21wUGFja2V0LnByb3RvdHlwZS5nZXRGaXhlZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMHg3MDtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViQ29tcFBhY2tldC5wcm90b3R5cGUuZ2V0Qm9keSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IFdyaXRlQnVmZmVyKCk7XG4gICAgICAgICAgYnVmZmVyLndyaXRlVW5zaWduZWQxNih0aGlzLnBhY2tldElkKTtcbiAgICAgICAgICByZXR1cm4gYnVmZmVyLnRvQnl0ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UHViQ29tcFBhY2tldC5wcm90b3R5cGUuaXNBY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBOZ2NjVjZQdWJDb21wUGFja2V0O1xuICAgICAgfSkoUGFja2V0KSxcbiAgICAvKipcbiAgICAgKiDorqLpmIXmiqXmlodcbiAgICAgKi9cbiAgICAgIF9hW1BBQ0tFVF9UWVBFLlNVQlNDUklCRV0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTmdjY1Y2U3Vic2NyaWJlUGFja2V0LCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBOZ2NjVjZTdWJzY3JpYmVQYWNrZXQoKSB7XG4gICAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgTmdjY1Y2U3Vic2NyaWJlUGFja2V0LnByb3RvdHlwZS5pc0hpZ2hRb3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlN1YnNjcmliZVBhY2tldC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUEFDS0VUX1RZUEUuU1VCU0NSSUJFO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZTdWJzY3JpYmVQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHRoaXMucGFja2V0SWQgPSBvcHRpb24ucGFja2V0SWQ7XG4gICAgICAgICAgdGhpcy5zdWJzY3JpYmVzID0gb3B0aW9uLnN1YnNjcmliZXM7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlN1YnNjcmliZVBhY2tldC5wcm90b3R5cGUuZ2V0Rml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDB4ODI7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlN1YnNjcmliZVBhY2tldC5wcm90b3R5cGUuZ2V0Qm9keSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuc3Vic2NyaWJlcyB8fCAhdGhpcy5zdWJzY3JpYmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlICdzdWJzY3JpYmVzJyBvZiAnU1VCU0NSSUJFJyBpcyBlbXB0eVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBXcml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIGJ1ZmZlci53cml0ZVVuc2lnbmVkMTYodGhpcy5wYWNrZXRJZCk7XG4gICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuc3Vic2NyaWJlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xuICAgICAgICAgICAgYnVmZmVyLndyaXRlTGVuUHJlZml4ZWRGaWVsZChpdGVtLnRvcGljKTtcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZUJ5dGUoaXRlbS5xb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYnVmZmVyLnRvQnl0ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2U3Vic2NyaWJlUGFja2V0LnByb3RvdHlwZS5idWlsZEFja1BhY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyDlrqLmiLfnq6/kuI3mlK/mjIHmjqXmlLbor6Xkv6Hku6RcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nY2NWNlN1YnNjcmliZVBhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICog6K6i6ZiF5ZON5bqU5oql5paHXG4gICAgICovXG4gICAgICBfYVtQQUNLRVRfVFlQRS5TVUJBQ0tdID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE5nY2NWNlN1YkFja1BhY2tldCwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTmdjY1Y2U3ViQWNrUGFja2V0KCkge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIE5nY2NWNlN1YkFja1BhY2tldC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUEFDS0VUX1RZUEUuU1VCQUNLO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZTdWJBY2tQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tQnl0ZXMgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IGJ1ZmZlci5yZWFkVW5zaWduZWQxNigpO1xuICAgICAgICAgIHRoaXMucmV0dXJuQ29kZXMgPSBbXTtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICB0aGlzLnJldHVybkNvZGVzLnB1c2goYnVmZmVyLnJlYWRCeXRlKCkgJiAweDgzKTtcbiAgICAgICAgICB9IHdoaWxlIChidWZmZXIuaXNSZWFkYWJsZSgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2U3ViQWNrUGFja2V0LnByb3RvdHlwZS5nZXRGaXhlZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMHg5MDtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2U3ViQWNrUGFja2V0LnByb3RvdHlwZS5pc0FjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nY2NWNlN1YkFja1BhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICog6YCA6K6i5oql5paHXG4gICAgICovXG4gICAgICBfYVtQQUNLRVRfVFlQRS5VTlNVQlNDUklCRV0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTmdjY1Y2VW5zdWJzY3JpYmVQYWNrZXQsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5nY2NWNlVuc3Vic2NyaWJlUGFja2V0KCkge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIE5nY2NWNlVuc3Vic2NyaWJlUGFja2V0LnByb3RvdHlwZS5pc0hpZ2hRb3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlVuc3Vic2NyaWJlUGFja2V0LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBQQUNLRVRfVFlQRS5VTlNVQlNDUklCRTtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2VW5zdWJzY3JpYmVQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHRoaXMucGFja2V0SWQgPSBvcHRpb24ucGFja2V0SWQ7XG4gICAgICAgICAgdGhpcy50b3BpY0ZpbHRlcnMgPSBvcHRpb24udG9waWNGaWx0ZXJzO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZVbnN1YnNjcmliZVBhY2tldC5wcm90b3R5cGUuZ2V0Rml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDB4QTI7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlVuc3Vic2NyaWJlUGFja2V0LnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghdGhpcy50b3BpY0ZpbHRlcnMgfHwgIXRoaXMudG9waWNGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlICd0b3BpY19maWx0ZXJzJyBvZiAnVU5TVUJTQ1JJQkUnIGlzIGVtcHR5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IFdyaXRlQnVmZmVyKCk7XG4gICAgICAgICAgYnVmZmVyLndyaXRlVW5zaWduZWQxNih0aGlzLnBhY2tldElkKTtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy50b3BpY0ZpbHRlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZUxlblByZWZpeGVkRmllbGQoaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBidWZmZXIudG9CeXRlcygpO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZVbnN1YnNjcmliZVBhY2tldC5wcm90b3R5cGUuYnVpbGRBY2tQYWNrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8g5a6i5oi356uv5LiN5pSv5oyB5o6l5pS26K+l5L+h5LukXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBOZ2NjVjZVbnN1YnNjcmliZVBhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICog6YCA6K6i5ZON5bqU5oql5paHXG4gICAgICovXG4gICAgICBfYVtQQUNLRVRfVFlQRS5VTlNVQkFDS10gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTmdjY1Y2VW5zdWJBY2tQYWNrZXQsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5nY2NWNlVuc3ViQWNrUGFja2V0KCkge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIE5nY2NWNlVuc3ViQWNrUGFja2V0LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBQQUNLRVRfVFlQRS5VTlNVQkFDSztcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2VW5zdWJBY2tQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tQnl0ZXMgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgdGhpcy5wYWNrZXRJZCA9IGJ1ZmZlci5yZWFkVW5zaWduZWQxNigpO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZVbnN1YkFja1BhY2tldC5wcm90b3R5cGUuZ2V0Rml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDB4QjA7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlVuc3ViQWNrUGFja2V0LnByb3RvdHlwZS5pc0FjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nY2NWNlVuc3ViQWNrUGFja2V0O1xuICAgICAgfSkoUGFja2V0KSxcbiAgICAvKipcbiAgICAgKiBQaW5n6K+35rGC5oql5paHXG4gICAgICovXG4gICAgICBfYVtQQUNLRVRfVFlQRS5QSU5HUkVRXSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhOZ2NjVjZQaW5nUmVxUGFja2V0LCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBOZ2NjVjZQaW5nUmVxUGFja2V0KCkge1xuICAgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIE5nY2NWNlBpbmdSZXFQYWNrZXQucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIFBBQ0tFVF9UWVBFLlBJTkdSRVE7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlBpbmdSZXFQYWNrZXQucHJvdG90eXBlLmdldEZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAweEMwO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZQaW5nUmVxUGFja2V0LnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmdjY1Y2UGluZ1JlcVBhY2tldDtcbiAgICAgIH0pKFBhY2tldCksXG4gICAgLyoqXG4gICAgICogcGluZ+WTjeW6lOaKpeaWh1xuICAgICAqL1xuICAgICAgX2FbUEFDS0VUX1RZUEUuUElOR1JFU1BdID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE5nY2NWNlBpbmdSZXNwUGFja2V0LCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBOZ2NjVjZQaW5nUmVzcFBhY2tldCgpIHtcbiAgICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBOZ2NjVjZQaW5nUmVzcFBhY2tldC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUEFDS0VUX1RZUEUuUElOR1JFU1A7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNlBpbmdSZXNwUGFja2V0LnByb3RvdHlwZS5pbml0RnJvbUJ5dGVzID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2UGluZ1Jlc3BQYWNrZXQucHJvdG90eXBlLmdldEZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAweEQwO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmdjY1Y2UGluZ1Jlc3BQYWNrZXQ7XG4gICAgICB9KShQYWNrZXQpLFxuICAgIC8qKlxuICAgICAqIOi/nuaOpeaWreW8gOaKpeaWh1xuICAgICAqL1xuICAgICAgX2FbUEFDS0VUX1RZUEUuRElTQ09OTkVDVF0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTmdjY1Y2RGlzY29ubmVjdFBhY2tldCwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTmdjY1Y2RGlzY29ubmVjdFBhY2tldCgpIHtcbiAgICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBOZ2NjVjZEaXNjb25uZWN0UGFja2V0LnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBQQUNLRVRfVFlQRS5ESVNDT05ORUNUO1xuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZEaXNjb25uZWN0UGFja2V0LnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNkRpc2Nvbm5lY3RQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHRoaXMuY29udGVudEluZm8gPSBvcHRpb24uY29udGVudEluZm87XG4gICAgICAgICAgdGhpcy5jb250ZW50ID0gb3B0aW9uLmNvbnRlbnQ7XG4gICAgICAgIH07XG4gICAgICAgIE5nY2NWNkRpc2Nvbm5lY3RQYWNrZXQucHJvdG90eXBlLmluaXRGcm9tQnl0ZXMgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgaWYgKGJ1ZmZlci5pc1JlYWRhYmxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEluZm8gPSBidWZmZXIucmVhZENvbnRlbnRJbmZvKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBidWZmZXIucmVhZFRvRW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBOZ2NjVjZEaXNjb25uZWN0UGFja2V0LnByb3RvdHlwZS5nZXRGaXhlZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMHhFMDtcbiAgICAgICAgfTtcbiAgICAgICAgTmdjY1Y2RGlzY29ubmVjdFBhY2tldC5wcm90b3R5cGUuZ2V0Qm9keSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IFdyaXRlQnVmZmVyKCk7XG4gICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgYnVmZmVyLndyaXRlQ29udGVudEluZm8odGhpcy5jb250ZW50SW5mbyk7XG4gICAgICAgICAgICBidWZmZXIud3JpdGVCeXRlcyh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYnVmZmVyLnRvQnl0ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nY2NWNkRpc2Nvbm5lY3RQYWNrZXQ7XG4gICAgICB9KShQYWNrZXQpLFxuICAgICAgX2FcbiAgKTtcbiAgLyoqXG4gICAqIOi/nuaOpeWTjeW6lOi/lOWbnueggVxuICAgKi9cbiAgKGZ1bmN0aW9uIChDT05OQUNLX1JFVFVSTl9DT0RFKSB7XG4gICAgQ09OTkFDS19SRVRVUk5fQ09ERVtDT05OQUNLX1JFVFVSTl9DT0RFW1wiQ09OTkVDVElPTl9BQ0NFUFRFRFwiXSA9IDBdID0gXCJDT05ORUNUSU9OX0FDQ0VQVEVEXCI7XG4gICAgQ09OTkFDS19SRVRVUk5fQ09ERVtDT05OQUNLX1JFVFVSTl9DT0RFW1wiVU5BQ0NFUFRBQkxFX1BST1RPQ09MX1ZFUlNJT05cIl0gPSAxXSA9IFwiVU5BQ0NFUFRBQkxFX1BST1RPQ09MX1ZFUlNJT05cIjtcbiAgICBDT05OQUNLX1JFVFVSTl9DT0RFW0NPTk5BQ0tfUkVUVVJOX0NPREVbXCJJREVOVElGSUVSX1JFSkVDVEVEXCJdID0gMl0gPSBcIklERU5USUZJRVJfUkVKRUNURURcIjtcbiAgICBDT05OQUNLX1JFVFVSTl9DT0RFW0NPTk5BQ0tfUkVUVVJOX0NPREVbXCJTRVJWRVJfVU5BVkFJTEFCTEVcIl0gPSAzXSA9IFwiU0VSVkVSX1VOQVZBSUxBQkxFXCI7XG4gICAgQ09OTkFDS19SRVRVUk5fQ09ERVtDT05OQUNLX1JFVFVSTl9DT0RFW1wiQkFEX1VTRVJfTkFNRV9PUl9QQVNTV09SRFwiXSA9IDRdID0gXCJCQURfVVNFUl9OQU1FX09SX1BBU1NXT1JEXCI7XG4gICAgQ09OTkFDS19SRVRVUk5fQ09ERVtDT05OQUNLX1JFVFVSTl9DT0RFW1wiTk9UX0FVVEhPUklaRURcIl0gPSA1XSA9IFwiTk9UX0FVVEhPUklaRURcIjtcbiAgfSkodjZzZGsuQ09OTkFDS19SRVRVUk5fQ09ERSB8fCAodjZzZGsuQ09OTkFDS19SRVRVUk5fQ09ERSA9IHt9KSk7XG4gIHZhciBDT05OQUNLX1JFVFVSTl9DT0RFID0gdjZzZGsuQ09OTkFDS19SRVRVUk5fQ09ERTtcbiAgLyoqXG4gICAqIOiuoumYheWTjeW6lOi/lOWbnueggVxuICAgKi9cbiAgKGZ1bmN0aW9uIChTVUJBQ0tfUkVUVVJOX0NPREUpIHtcbiAgICBTVUJBQ0tfUkVUVVJOX0NPREVbU1VCQUNLX1JFVFVSTl9DT0RFW1wiU1VDQ0VTU19NQVhfUU9TXzBcIl0gPSAwXSA9IFwiU1VDQ0VTU19NQVhfUU9TXzBcIjtcbiAgICBTVUJBQ0tfUkVUVVJOX0NPREVbU1VCQUNLX1JFVFVSTl9DT0RFW1wiU1VDQ0VTU19NQVhfUU9TXzFcIl0gPSAxXSA9IFwiU1VDQ0VTU19NQVhfUU9TXzFcIjtcbiAgICBTVUJBQ0tfUkVUVVJOX0NPREVbU1VCQUNLX1JFVFVSTl9DT0RFW1wiU1VDQ0VTU19NQVhfUU9TXzJcIl0gPSAyXSA9IFwiU1VDQ0VTU19NQVhfUU9TXzJcIjtcbiAgICBTVUJBQ0tfUkVUVVJOX0NPREVbU1VCQUNLX1JFVFVSTl9DT0RFW1wiRkFJTFVSRVwiXSA9IDEyOF0gPSBcIkZBSUxVUkVcIjtcbiAgfSkodjZzZGsuU1VCQUNLX1JFVFVSTl9DT0RFIHx8ICh2NnNkay5TVUJBQ0tfUkVUVVJOX0NPREUgPSB7fSkpO1xuICB2YXIgU1VCQUNLX1JFVFVSTl9DT0RFID0gdjZzZGsuU1VCQUNLX1JFVFVSTl9DT0RFO1xuICB2YXIgRnV0dXJlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdXR1cmUod3MsIHBhY2tldCwgdGltZW91dCwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy53cyA9IHdzO1xuICAgICAgdGhpcy5wYWNrZXQgPSBwYWNrZXQ7XG4gICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0ICogMTAwMDtcbiAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgRnV0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gICAgICB0aGlzLnBhY2tldCA9IHBhY2tldDtcbiAgICAgIHRoaXMucmVzZXRUaW1lb3V0KCk7XG4gICAgfTtcbiAgICBGdXR1cmUucHJvdG90eXBlLnJlc2V0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIEZ1dHVyZS5wcm90b3R5cGUuaXNUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgPiAodGhpcy5zdGFydFRpbWUgKyB0aGlzLnRpbWVvdXQpO1xuICAgIH07XG4gICAgRnV0dXJlLnByb3RvdHlwZS5zdWNjZXNzID0gZnVuY3Rpb24gKGFjaykge1xuICAgICAgdGhpcy5jb21wbGV0ZSh0cnVlLCBhY2ssIG51bGwpO1xuICAgIH07XG4gICAgRnV0dXJlLnByb3RvdHlwZS5mYXVsdCA9IGZ1bmN0aW9uIChyZWFzb24sIGFjaykge1xuICAgICAgdGhpcy5jb21wbGV0ZShmYWxzZSwgYWNrLCByZWFzb24pO1xuICAgIH07XG4gICAgRnV0dXJlLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uIChzdWNjZXNzLCBhY2ssIHJlYXNvbikge1xuICAgICAgaWYgKCF0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhzdWNjZXNzLCBhY2ssIHJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dFcnJvcigoXCJpbnZva2UgRnV0dXJlIFwiICsgKHN1Y2Nlc3MgPyBcInN1Y2Nlc3NcIiA6IFwiZmF1bHRcIikgKyBcIiBlcnJvci4gXCIpICsgZS5tZXNzYWdlLCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9nRGVidWcoXCJmdXR1cmUgXCIgKyAoc3VjY2VzcyA/IFwic3VjY2Vzc1wiIDogXCJmYXVsdFwiKSArIFwiLiBQYWNrZXRJZD1cIiArIHRoaXMucGFja2V0LnBhY2tldElkLCByZWFzb24sIGFjaywgdGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRnV0dXJlO1xuICB9KSgpO1xuICB2YXIgRnV0dXJlTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnV0dXJlTWFuYWdlcigpIHtcbiAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgdGhpcy5mdXR1cmVzID0ge307XG4gICAgICB0aGlzLm5leHRQYWNrZXRJZCA9IDE7XG4gICAgfVxuICAgIEZ1dHVyZU1hbmFnZXIucHJvdG90eXBlLnRha2VQYWNrZXRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpID0gdGhpcy5uZXh0UGFja2V0SWQ7XG4gICAgICB3aGlsZSAodGhpcy5mdXR1cmVzW2ldKSB7XG4gICAgICAgIGkgPSAoaSA9PT0gNjU1MzUpID8gMSA6IGkgKyAxO1xuICAgICAgICBpZiAoaSA9PT0gdGhpcy5uZXh0UGFja2V0SWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBhdmFpbGFibGUgcGFja2V0IGlkZW50aWZpZXJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubmV4dFBhY2tldElkID0gaSArIDE7XG4gICAgICByZXR1cm4gaTtcbiAgICB9O1xuICAgIEZ1dHVyZU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUZ1dHVyZSA9IGZ1bmN0aW9uICh3cywgcGFja2V0LCB0aW1lb3V0LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGZ1dHVyZSA9IG5ldyBGdXR1cmUod3MsIHBhY2tldCwgdGltZW91dCwgY2FsbGJhY2spO1xuICAgICAgdmFyIHBhY2tldElkID0gdGhpcy50YWtlUGFja2V0SWQoKTtcbiAgICAgIHBhY2tldC5wYWNrZXRJZCA9IHBhY2tldElkO1xuICAgICAgdGhpcy5mdXR1cmVzW3BhY2tldElkXSA9IGZ1dHVyZTtcbiAgICAgIHJldHVybiBmdXR1cmU7XG4gICAgfTtcbiAgICBGdXR1cmVNYW5hZ2VyLnByb3RvdHlwZS5wb3B1cCA9IGZ1bmN0aW9uIChwYWNrZXRJZCkge1xuICAgICAgdmFyIGZ1dHVyZSA9IHRoaXMuZnV0dXJlc1twYWNrZXRJZF07XG4gICAgICBpZiAoZnV0dXJlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKHBhY2tldElkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdXR1cmU7XG4gICAgfTtcbiAgICBGdXR1cmVNYW5hZ2VyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHBhY2tldElkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mdXR1cmVzW3BhY2tldElkXTtcbiAgICB9O1xuICAgIEZ1dHVyZU1hbmFnZXIucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgZm9yICh2YXIgcGFja2V0SWQgaW4gdGhpcy5mdXR1cmVzKSB7XG4gICAgICAgIGhhbmRsZXIocGFyc2VJbnQocGFja2V0SWQpLCB0aGlzLmZ1dHVyZXNbcGFja2V0SWRdKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEZ1dHVyZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChwYWNrZXRJZCkge1xuICAgICAgZGVsZXRlIHRoaXMuZnV0dXJlc1twYWNrZXRJZF07XG4gICAgICB0aGlzLmNvdW50LS07XG4gICAgfTtcbiAgICByZXR1cm4gRnV0dXJlTWFuYWdlcjtcbiAgfSkoKTtcbiAgdmFyIFdFQlNPQ0tFVF9DTE9TRV9DT0RFO1xuICAoZnVuY3Rpb24gKFdFQlNPQ0tFVF9DTE9TRV9DT0RFKSB7XG4gICAgLyog5q2j5bi45YWz6ZetOyDml6DorrrkuLrkvZXnm67nmoTogIzliJvlu7osIOivpemTvuaOpemDveW3suaIkOWKn+WujOaIkOS7u+WKoS4gKi9cbiAgICBXRUJTT0NLRVRfQ0xPU0VfQ09ERVtXRUJTT0NLRVRfQ0xPU0VfQ09ERVtcIkNMT1NFX05PUk1BTFwiXSA9IDEwMDBdID0gXCJDTE9TRV9OT1JNQUxcIjtcbiAgICAvKiDnu4jnq6/nprvlvIAsIOWPr+iDveWboOS4uuacjeWKoeerr+mUmeivrywg5Lmf5Y+v6IO95Zug5Li65rWP6KeI5Zmo5q2j5LuO5omT5byA6L+e5o6l55qE6aG16Z2i6Lez6L2s56a75byALiAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiQ0xPU0VfR09JTkdfQVdBWVwiXSA9IDEwMDFdID0gXCJDTE9TRV9HT0lOR19BV0FZXCI7XG4gICAgLyog55Sx5LqO5Y2P6K6u6ZSZ6K+v6ICM5Lit5pat6L+e5o6lLiAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiQ0xPU0VfUFJPVE9DT0xfRVJST1JcIl0gPSAxMDAyXSA9IFwiQ0xPU0VfUFJPVE9DT0xfRVJST1JcIjtcbiAgICAvKiDnlLHkuo7mjqXmlLbliLDkuI3lhYHorrjnmoTmlbDmja7nsbvlnovogIzmlq3lvIDov57mjqUgKOWmguS7heaOpeaUtuaWh+acrOaVsOaNrueahOe7iOerr+aOpeaUtuWIsOS6huS6jOi/m+WItuaVsOaNrikuICovXG4gICAgV0VCU09DS0VUX0NMT1NFX0NPREVbV0VCU09DS0VUX0NMT1NFX0NPREVbXCJDTE9TRV9VTlNVUFBPUlRFRFwiXSA9IDEwMDNdID0gXCJDTE9TRV9VTlNVUFBPUlRFRFwiO1xuICAgIC8qIOS/neeVmS4gIOihqOekuuayoeacieaUtuWIsOmihOacn+eahOeKtuaAgeeggS4gKi9cbiAgICBXRUJTT0NLRVRfQ0xPU0VfQ09ERVtXRUJTT0NLRVRfQ0xPU0VfQ09ERVtcIkNMT1NFX05PX1NUQVRVU1wiXSA9IDEwMDVdID0gXCJDTE9TRV9OT19TVEFUVVNcIjtcbiAgICAvKiDkv53nlZkuIOeUqOS6juacn+acm+aUtuWIsOeKtuaAgeeggeaXtui/nuaOpemdnuato+W4uOWFs+mXrSAo5Lmf5bCx5piv6K+0LCDmsqHmnInlj5HpgIHlhbPpl63luKcpLiAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiQ0xPU0VfQUJOT1JNQUxcIl0gPSAxMDA2XSA9IFwiQ0xPU0VfQUJOT1JNQUxcIjtcbiAgICAvKiDnlLHkuo7mlLbliLDkuobmoLzlvI/kuI3nrKbnmoTmlbDmja7ogIzmlq3lvIDov57mjqUgKOWmguaWh+acrOa2iOaBr+S4reWMheWQq+S6humdniBVVEYtOCDmlbDmja4pLiAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiVU5TVVBQT1JURURfREFUQVwiXSA9IDEwMDddID0gXCJVTlNVUFBPUlRFRF9EQVRBXCI7XG4gICAgLyog55Sx5LqO5pS25Yiw5LiN56ym5ZCI57qm5a6a55qE5pWw5o2u6ICM5pat5byA6L+e5o6lLiDov5nmmK/kuIDkuKrpgJrnlKjnirbmgIHnoIEsIOeUqOS6juS4jemAguWQiOS9v+eUqCAxMDAzIOWSjCAxMDA5IOeKtuaAgeeggeeahOWcuuaZry4gKi9cbiAgICBXRUJTT0NLRVRfQ0xPU0VfQ09ERVtXRUJTT0NLRVRfQ0xPU0VfQ09ERVtcIlBPTElDWV9WSU9MQVRJT05cIl0gPSAxMDA4XSA9IFwiUE9MSUNZX1ZJT0xBVElPTlwiO1xuICAgIC8qIOeUseS6juaUtuWIsOi/h+Wkp+eahOaVsOaNruW4p+iAjOaWreW8gOi/nuaOpS4gKi9cbiAgICBXRUJTT0NLRVRfQ0xPU0VfQ09ERVtXRUJTT0NLRVRfQ0xPU0VfQ09ERVtcIkNMT1NFX1RPT19MQVJHRVwiXSA9IDEwMDldID0gXCJDTE9TRV9UT09fTEFSR0VcIjtcbiAgICAvKiDlrqLmiLfnq6/mnJ/mnJvmnI3liqHlmajllYblrprkuIDkuKrmiJblpJrkuKrmi5PlsZUsIOS9huacjeWKoeWZqOayoeacieWkhOeQhiwg5Zug5q2k5a6i5oi356uv5pat5byA6L+e5o6lLiAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiTUlTU0lOR19FWFRFTlNJT05cIl0gPSAxMDEwXSA9IFwiTUlTU0lOR19FWFRFTlNJT05cIjtcbiAgICAvKiDlrqLmiLfnq6/nlLHkuo7pgYfliLDmsqHmnInpooTmlpnnmoTmg4XlhrXpmLvmraLlhbblrozmiJDor7fmsYIsIOWboOatpOacjeWKoeerr+aWreW8gOi/nuaOpS4gKi9cbiAgICBXRUJTT0NLRVRfQ0xPU0VfQ09ERVtXRUJTT0NLRVRfQ0xPU0VfQ09ERVtcIklOVEVSTkFMX0VSUk9SXCJdID0gMTAxMV0gPSBcIklOVEVSTkFMX0VSUk9SXCI7XG4gICAgLyog5pyN5Yqh5Zmo55Sx5LqO6YeN5ZCv6ICM5pat5byA6L+e5o6lLiBbUmVmXSAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiU0VSVklDRV9SRVNUQVJUXCJdID0gMTAxMl0gPSBcIlNFUlZJQ0VfUkVTVEFSVFwiO1xuICAgIC8qIOacjeWKoeWZqOeUseS6juS4tOaXtuWOn+WboOaWreW8gOi/nuaOpSwg5aaC5pyN5Yqh5Zmo6L+H6L295Zug5q2k5pat5byA5LiA6YOo5YiG5a6i5oi356uv6L+e5o6lLiBbUmVmXSAqL1xuICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFW1dFQlNPQ0tFVF9DTE9TRV9DT0RFW1wiVFJZX0FHQUlOX0xBVEVSXCJdID0gMTAxM10gPSBcIlRSWV9BR0FJTl9MQVRFUlwiO1xuICAgIC8qIOS/neeVmS4g6KGo56S66L+e5o6l55Sx5LqO5peg5rOV5a6M5oiQIFRMUyDmj6HmiYvogIzlhbPpl60gKOS+i+WmguaXoOazlemqjOivgeacjeWKoeWZqOivgeS5pikuICovXG4gICAgV0VCU09DS0VUX0NMT1NFX0NPREVbV0VCU09DS0VUX0NMT1NFX0NPREVbXCJUTFNfSEFORFNIQUtFXCJdID0gMTAxNV0gPSBcIlRMU19IQU5EU0hBS0VcIjtcbiAgfSkoV0VCU09DS0VUX0NMT1NFX0NPREUgfHwgKFdFQlNPQ0tFVF9DTE9TRV9DT0RFID0ge30pKTtcbiAgdmFyIENsaWVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2xpZW50KCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IENMSUVOVF9TVEFURS5ORVc7XG4gICAgICB0aGlzLmZ1dHVyZXMgPSBuZXcgRnV0dXJlTWFuYWdlcigpO1xuICAgIH1cbiAgICBDbGllbnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAob3B0aW9uLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGlmICghdGhpcy5tYXRjaFN0YXRlKENMSUVOVF9TVEFURS5DTE9TRUQsIENMSUVOVF9TVEFURS5ORVcsIENMSUVOVF9TVEFURS5ESVNDT05ORUNURUQsIENMSUVOVF9TVEFURS5DT05ORUNUX0ZBSUxFRCkpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soZmFsc2UsIFwibm90IGFsbG93IGNvbm5lY3Qgd2l0aCBzdGF0ZT1cIiArIENMSUVOVF9TVEFURVt0aGlzLnN0YXRlXSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICB2YXIgY2FsbGJhY2tJbnZva2VkID0gZmFsc2U7XG4gICAgICB0aGlzLm9wdGlvbiA9IG9wdGlvbjtcbiAgICAgIHRoaXMud2FpdHRpbmdQaW5nUmVzcCA9IGZhbHNlO1xuICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShudWxsLCBDTElFTlRfU1RBVEUuQ09OTkVDVElORyk7XG4gICAgICB2YXIgd3M7XG4gICAgICB0cnkge1xuICAgICAgICBsb2dEZWJ1ZyhcImNvbm5lY3QgdG8gXCIgKyBvcHRpb24udXJsKTtcbiAgICAgICAgd3MgPSBuZXcgV2ViU29ja2V0KG9wdGlvbi51cmwpO1xuICAgICAgICB3cy5iaW5hcnlUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShudWxsLCBDTElFTlRfU1RBVEUuQ09OTkVDVF9GQUlMRUQsIGUubWVzc2FnZSk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrSW52b2tlZCA9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2soZmFsc2UsIGUubWVzc2FnZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8g5aaC5p6c55So5oi35Zyo5Yib5bu66L+e5o6l55qE6L+H56iL5Lit5Y+W5raI5LqG6L+e5o6l5pON5L2c77yM5YiZ5YWz6Zetd3Pov57mjqXlubbkuJTmlL7lvIPlkI7nu63nmoTooYzkuLpcbiAgICAgIGlmICghdGhpcy5tYXRjaFN0YXRlKENMSUVOVF9TVEFURS5DT05ORUNUSU5HKSkge1xuICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLndzID0gd3M7XG4gICAgICB3cy5vbmNsb3NlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHZhciByZWFzb24gPSBldi5yZWFzb24gfHwgV0VCU09DS0VUX0NMT1NFX0NPREVbZXYuY29kZV0gfHwgXCJVTktOT1dOX0NMT1NFX0NPREUoXCIgKyBldi5jb2RlICsgXCIpXCI7XG4gICAgICAgIGxvZ1RyYWNlKFwiV2ViU29ja2V0IGNsb3NlIGZvciBcXFwiXCIgKyByZWFzb24gKyBcIlxcXCJcIiwgd3MpO1xuICAgICAgICBpZiAoX3RoaXMubWF0Y2hTdGF0ZShDTElFTlRfU1RBVEUuQ09OTkVDVElORykpIHtcbiAgICAgICAgICBfdGhpcy5jaGFuZ2VTdGF0ZSh3cywgQ0xJRU5UX1NUQVRFLkNPTk5FQ1RfRkFJTEVELCByZWFzb24pO1xuICAgICAgICAgIGlmIChjYWxsYmFjayAmJiAhY2FsbGJhY2tJbnZva2VkKSB7XG4gICAgICAgICAgICBjYWxsYmFja0ludm9rZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIHJlYXNvbiwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLm1hdGNoU3RhdGUoQ0xJRU5UX1NUQVRFLkNMT1NJTkcpKSB7XG4gICAgICAgICAgX3RoaXMuY2hhbmdlU3RhdGUod3MsIENMSUVOVF9TVEFURS5DTE9TRUQsIHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMubWF0Y2hTdGF0ZShDTElFTlRfU1RBVEUuQ09OTkVDVEVEKSkge1xuICAgICAgICAgIF90aGlzLmNoYW5nZVN0YXRlKHdzLCBDTElFTlRfU1RBVEUuRElTQ09OTkVDVEVELCByZWFzb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvZ1dhcm4oXCJXZWJTb2NrZXQgY2xvc2UgZXZlbnQgd2l0aCBzdGF0ZSAnXCIgKyBfdGhpcy5nZXRTdGF0ZSgpICsgXCInLCBldmVudCBpZ25vcmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyDlpLHotKXmiYDmnInmnKzmrKHov57mjqXmnKrlrozmiJDnmoRGdXR1cmVcbiAgICAgICAgX3RoaXMuZnV0dXJlcy5lYWNoKGZ1bmN0aW9uIChwYWNrZXRJZCwgZnV0dXJlKSB7XG4gICAgICAgICAgaWYgKGZ1dHVyZS53cyA9PT0gd3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZ1dHVyZS5mYXVsdChcIkNoYW5uZWwgY2xvc2VkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgbG9nRXJyb3IoXCJpbnZva2UgRnV0dXJlLmZhdWx0IGVycm9yLiBcIiArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mdXR1cmVzLnJlbW92ZShwYWNrZXRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB3cy5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ1RyYWNlKFwiV2ViU29ja2V0IG9wZW5cIiwgd3MpO1xuICAgICAgICBpZiAoX3RoaXMud3MgPT09IHdzKSB7XG4gICAgICAgICAgdmFyIGludGVydmFsID0gMTAwMDtcbiAgICAgICAgICBfdGhpcy51cGRhdGVEZWFkTGluZSgpO1xuICAgICAgICAgIF90aGlzLnVwZGF0ZVBpbmdMaW5lKCk7XG4gICAgICAgICAgdmFyIHBvbGxpbmdDaGVja2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLndzICE9PSB3cykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBfdGhpcy5wb2xsaW5nQ2hlY2tlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgbG9nRXJyb3IoXCJpbnZva2UgcG9sbGluZyBjaGVja2VyIGVycm9yLiBcIiArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KHBvbGxpbmdDaGVja2VyLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzZXRUaW1lb3V0KHBvbGxpbmdDaGVja2VyLCBpbnRlcnZhbCk7XG4gICAgICAgICAgX3RoaXMuc2VuZENvbm5lY3Qob3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgd3Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIGxvZ1RyYWNlKFwiV2ViU29ja2V0IG1lc3NhZ2VcIiwgd3MpO1xuICAgICAgICBpZiAoX3RoaXMud3MgPT09IHdzKSB7XG4gICAgICAgICAgdmFyIHBhY2tldCA9IF90aGlzLnJlY2VpdmVQYWNrZXQoZXYuZGF0YSk7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrICYmICFjYWxsYmFja0ludm9rZWQgJiYgcGFja2V0LmdldFR5cGUoKSA9PT0gUEFDS0VUX1RZUEUuQ09OTkFDSykge1xuICAgICAgICAgICAgdmFyIGFjayA9IHBhY2tldDtcbiAgICAgICAgICAgIHZhciBzdWNjZXNzID0gYWNrLnJldHVybkNvZGUgPT09IENPTk5BQ0tfUkVUVVJOX0NPREUuQ09OTkVDVElPTl9BQ0NFUFRFRDtcbiAgICAgICAgICAgIHZhciByZWFzb24gPSBDT05OQUNLX1JFVFVSTl9DT0RFW2Fjay5yZXR1cm5Db2RlXSB8fCBcIlVOS05PV05fQ09OTkFDS19SRVRVUk5fQ09ERShcIiArIGFjay5yZXR1cm5Db2RlICsgXCIpXCI7XG4gICAgICAgICAgICBjYWxsYmFja0ludm9rZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2FsbGJhY2soc3VjY2VzcywgcmVhc29uLCBhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIENsaWVudC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAodGhpcy5tYXRjaFN0YXRlKENMSUVOVF9TVEFURS5DT05ORUNURUQsIENMSUVOVF9TVEFURS5DT05ORUNUSU5HKSkge1xuICAgICAgICB2YXIgd3MgPSB0aGlzLndzO1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKHdzLCBDTElFTlRfU1RBVEUuQ0xPU0lORywgcmVhc29uKTtcbiAgICAgICAgaWYgKHdzKSB7XG4gICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKG51bGwsIENMSUVOVF9TVEFURS5DTE9TRUQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBDbGllbnQucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIENMSUVOVF9TVEFURVt0aGlzLnN0YXRlXTtcbiAgICB9O1xuICAgIENsaWVudC5wcm90b3R5cGUuc2VuZENvbm5lY3QgPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICB0aGlzLnNlbmQobmV3IChQQUNLRVRfREVGSU5FW1BBQ0tFVF9UWVBFLkNPTk5FQ1RdKShvcHRpb24pKTtcbiAgICB9O1xuICAgIENsaWVudC5wcm90b3R5cGUuc2VuZFBpbmdSZXEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLndhaXR0aW5nUGluZ1Jlc3AgPSB0cnVlO1xuICAgICAgdGhpcy5zZW5kKG5ldyAoUEFDS0VUX0RFRklORVtQQUNLRVRfVFlQRS5QSU5HUkVRXSkoKSk7XG4gICAgfTtcbiAgICBDbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAocGFja2V0LCBjYWxsYmFjaykge1xuICAgICAgaWYgKCF0aGlzLm1hdGNoU3RhdGUoQ0xJRU5UX1NUQVRFLkNPTk5FQ1RFRClcbiAgICAgICAgJiYgISh0aGlzLm1hdGNoU3RhdGUoQ0xJRU5UX1NUQVRFLkNPTk5FQ1RJTkcpICYmIHBhY2tldC5pcyhQQUNLRVRfVFlQRS5DT05ORUNUKSlcbiAgICAgICAgJiYgISh0aGlzLm1hdGNoU3RhdGUoQ0xJRU5UX1NUQVRFLkNMT1NJTkcpICYmIHBhY2tldC5pcyhQQUNLRVRfVFlQRS5ESVNDT05ORUNUKSkpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soZmFsc2UsIG51bGwsIFwiY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuIHNlbmQgcGFja2V0IGNhbmNlbGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFja2V0LmlzSGlnaFFvcygpICYmICFwYWNrZXQucGFja2V0SWQpIHtcbiAgICAgICAgdGhpcy5mdXR1cmVzLmNyZWF0ZUZ1dHVyZSh0aGlzLndzLCBwYWNrZXQsIHRoaXMub3B0aW9uLnBhY2tldFRpbWVvdXQgfHwgREVGQVVMVF9QQUNLRVRfVElNRU9VVCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgbG9nRGVidWcoXCJTRU5EICdcIiArIFBBQ0tFVF9UWVBFW3BhY2tldC5nZXRUeXBlKCldICsgXCInIFBBQ0tFVFwiLCBwYWNrZXQpO1xuICAgICAgdGhpcy53cy5zZW5kKHBhY2tldC50b0J5dGVzKCkpO1xuICAgIH07XG4gICAgQ2xpZW50LnByb3RvdHlwZS5tYXRjaFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0YXRlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc3RhdGVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgX2EgPSAwOyBfYSA8IHN0YXRlcy5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgdmFyIHN0YXRlID0gc3RhdGVzW19hXTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIENsaWVudC5wcm90b3R5cGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAod3MsIG5ld1N0YXRlLCByZWFzb24sIHBhY2tldCkge1xuICAgICAgaWYgKCF3cyB8fCB0aGlzLndzID09PSB3cyAmJiBuZXdTdGF0ZSAhPT0gdGhpcy5zdGF0ZSkge1xuICAgICAgICB2YXIgb2xkU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIGlmIChyZWFzb24pIHtcbiAgICAgICAgICBsb2dJbmZvKFwiY2xpZW50IHN0YXRlIGNoYW5nZSBcIiArIENMSUVOVF9TVEFURVtvbGRTdGF0ZV0gKyBcIiB0byBcIiArIENMSUVOVF9TVEFURVtuZXdTdGF0ZV0gKyBcIiByZWFzb249XFxcIlwiICsgcmVhc29uICsgXCJcXFwiXCIsIHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbG9nSW5mbyhcImNsaWVudCBzdGF0ZSBjaGFuZ2UgXCIgKyBDTElFTlRfU1RBVEVbb2xkU3RhdGVdICsgXCIgdG8gXCIgKyBDTElFTlRfU1RBVEVbbmV3U3RhdGVdLCBwYWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2UpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKG5ld1N0YXRlLCBvbGRTdGF0ZSwgcmVhc29uLCBwYWNrZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nRXJyb3IoXCJpbnZva2Ugb25TdGF0ZUNoYW5nZSBlcnJvci4gXCIgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgQ2xpZW50LnByb3RvdHlwZS5wb2xsaW5nQ2hlY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jaGVja0FsaXZlKCkgJiYgdGhpcy5tYXRjaFN0YXRlKENMSUVOVF9TVEFURS5DT05ORUNURUQsIENMSUVOVF9TVEFURS5DT05ORUNUSU5HKSkge1xuICAgICAgICBsb2dXYXJuKFwia2VlcC1hbGl2ZSB0aW1lb3V0LlwiKTtcbiAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5tYXRjaFN0YXRlKENMSUVOVF9TVEFURS5DT05ORUNURUQpICYmIHRoaXMubmVlZFBpbmcoKSkge1xuICAgICAgICB0aGlzLnNlbmRQaW5nUmVxKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZhdWx0VGltZW91dEZ1dHVyZSgpO1xuICAgIH07XG4gICAgQ2xpZW50LnByb3RvdHlwZS5mYXVsdFRpbWVvdXRGdXR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5mdXR1cmVzLmVhY2goZnVuY3Rpb24gKHBhY2tldElkLCBmdXR1cmUpIHtcbiAgICAgICAgaWYgKGZ1dHVyZS5pc1RpbWVvdXQoKSkge1xuICAgICAgICAgIF90aGlzLmZ1dHVyZXMucmVtb3ZlKHBhY2tldElkKTtcbiAgICAgICAgICBmdXR1cmUuZmF1bHQoXCJ0aW1lb3V0XCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIENsaWVudC5wcm90b3R5cGUuY2hlY2tBbGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBEYXRlLm5vdygpIDw9IHRoaXMuZGVhZExpbmU7XG4gICAgfTtcbiAgICBDbGllbnQucHJvdG90eXBlLnVwZGF0ZURlYWRMaW5lID0gZnVuY3Rpb24gKGtlZXBBbGl2ZSkge1xuICAgICAgdGhpcy5kZWFkTGluZSA9IERhdGUubm93KCkgKyAoKGtlZXBBbGl2ZSB8fCB0aGlzLm9wdGlvbi5rZWVwQWxpdmUgfHwgREVGQVVMVF9LRUVQX0FMSVZFKSAqIDE1MDApO1xuICAgIH07XG4gICAgQ2xpZW50LnByb3RvdHlwZS5uZWVkUGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhdGhpcy53YWl0dGluZ1BpbmdSZXNwICYmIERhdGUubm93KCkgPiB0aGlzLnBpbmdMaW5lO1xuICAgIH07XG4gICAgQ2xpZW50LnByb3RvdHlwZS51cGRhdGVQaW5nTGluZSA9IGZ1bmN0aW9uIChrZWVwQWxpdmUpIHtcbiAgICAgIHRoaXMucGluZ0xpbmUgPSBEYXRlLm5vdygpICsgKChrZWVwQWxpdmUgfHwgdGhpcy5vcHRpb24ua2VlcEFsaXZlIHx8IERFRkFVTFRfS0VFUF9BTElWRSkgKiAxMDAwKTtcbiAgICB9O1xuICAgIENsaWVudC5wcm90b3R5cGUucmVjZWl2ZVBhY2tldCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgYnVmZmVyID0gbmV3IFJlYWRCdWZmZXIobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgdmFyIHBhY2tldCA9IG5ldyAoUEFDS0VUX0RFRklORVtidWZmZXIuZ2V0UGFja2V0VHlwZSgpXSkoYnVmZmVyKTtcbiAgICAgIGxvZ0RlYnVnKFwiUkVDRUlWRSAnXCIgKyBQQUNLRVRfVFlQRVtwYWNrZXQuZ2V0VHlwZSgpXSArIFwiJyBQQUNLRVRcIiwgcGFja2V0KTtcbiAgICAgIHRoaXMudXBkYXRlRGVhZExpbmUoKTtcbiAgICAgIHRoaXMudXBkYXRlUGluZ0xpbmUoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BhY2tldChwYWNrZXQpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nRXJyb3IoXCJwcm9jZXNzIHBhY2tldCBlcnJvci4gXCIgKyBlLm1lc3NhZ2UsIHBhY2tldCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFja2V0O1xuICAgIH07XG4gICAgQ2xpZW50LnByb3RvdHlwZS5wcm9jZXNzUGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgc3dpdGNoIChwYWNrZXQuZ2V0VHlwZSgpKSB7XG4gICAgICAgIGNhc2UgUEFDS0VUX1RZUEUuQ09OTkFDSzpcbiAgICAgICAgICB2YXIgY29ubkFja1BhY2tldCA9IHBhY2tldDtcbiAgICAgICAgICBpZiAoY29ubkFja1BhY2tldC5yZXR1cm5Db2RlID09PSBDT05OQUNLX1JFVFVSTl9DT0RFLkNPTk5FQ1RJT05fQUNDRVBURUQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUobnVsbCwgQ0xJRU5UX1NUQVRFLkNPTk5FQ1RFRCwgbnVsbCwgcGFja2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKG51bGwsIENMSUVOVF9TVEFURS5DT05ORUNUX0ZBSUxFRCwgQ09OTkFDS19SRVRVUk5fQ09ERVtjb25uQWNrUGFja2V0LnJldHVybkNvZGVdIHx8IFwiVU5LTk9XTl9DT0RFKFwiICsgY29ubkFja1BhY2tldC5yZXR1cm5Db2RlICsgXCIpXCIsIHBhY2tldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBBQ0tFVF9UWVBFLlBJTkdSRVNQOlxuICAgICAgICAgIHRoaXMud2FpdHRpbmdQaW5nUmVzcCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBBQ0tFVF9UWVBFLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgbG9nV2FybihcInJlY2VpdmUgZGlzY29ubmVjdCFcIiwgcGFja2V0KTtcbiAgICAgICAgICB2YXIgZGlzY29ubmVjdFBhY2tldCA9IHBhY2tldDtcbiAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShudWxsLCBDTElFTlRfU1RBVEUuRElTQ09OTkVDVEVELCBcIkRJU0NPTk5FQ1RcIiwgcGFja2V0KTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChwYWNrZXQuaXNBY2soKSkge1xuICAgICAgICAgICAgdmFyIGZ1dHVyZTtcbiAgICAgICAgICAgIHZhciBwYWNrZXRJZCA9IHBhY2tldC5wYWNrZXRJZDtcbiAgICAgICAgICAgIGlmIChwYWNrZXQuaXMoUEFDS0VUX1RZUEUuUFVCUkVDKSkge1xuICAgICAgICAgICAgICBpZiAoZnV0dXJlID0gdGhpcy5mdXR1cmVzLmZpbmQocGFja2V0SWQpKSB7XG4gICAgICAgICAgICAgICAgZnV0dXJlLnVwZGF0ZShwYWNrZXQpO1xuICAgICAgICAgICAgICAgIHZhciByZWxQYWNrZXQgPSBuZXcgUEFDS0VUX0RFRklORVtQQUNLRVRfVFlQRS5QVUJSRUxdKCk7XG4gICAgICAgICAgICAgICAgcmVsUGFja2V0LnBhY2tldElkID0gcGFja2V0SWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKHJlbFBhY2tldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZ1dHVyZSA9IHRoaXMuZnV0dXJlcy5wb3B1cChwYWNrZXRJZCkpIHtcbiAgICAgICAgICAgICAgZnV0dXJlLnN1Y2Nlc3MocGFja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFja2V0LmlzSGlnaFFvcygpKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKHBhY2tldC5idWlsZEFja1BhY2tldCgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKFwic2VuZCBhY2sgcGFja2V0IGVycm9yLiBcIiArIGUubWVzc2FnZSwgcGFja2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub25QYWNrZXQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUGFja2V0KHBhY2tldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dFcnJvcihcInByb2Nlc3MgcGFja2V0IGVycm9yLiBcIiArIGUubWVzc2FnZSwgcGFja2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDbGllbnQ7XG4gIH0pKCk7XG4gIHZhciBfYTtcbn0pKHY2c2RrIHx8ICh2NnNkayA9IHt9KSk7XG5leHBvcnRzLnY2c2RrID0gdjZzZGs7XG52YXIgQnl0ZVV0aWxzO1xuKGZ1bmN0aW9uIChCeXRlVXRpbHMpIHtcbiAgZnVuY3Rpb24gYXJyYXlMaWtlVG9BcnJheShkYXRhKSB7XG4gICAgdmFyIG91dHB1dCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgb3V0cHV0LnB1c2goZGF0YVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbiAgQnl0ZVV0aWxzLmFycmF5TGlrZVRvQXJyYXkgPSBhcnJheUxpa2VUb0FycmF5O1xuICBmdW5jdGlvbiBhc0J5dGVzKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSAmJiB0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciAmJiB0YXJnZXQuYnl0ZUxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShuZXcgVWludDhBcnJheSh0YXJnZXQpKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgdGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYXJyYXlMaWtlVG9BcnJheSh0YXJnZXQpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gVVRGOC5zdHJpbmdUb0J5dGVzKHRhcmdldCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmFkIGxlbiBwcmVmaXhlZCBmaWVsZCB0eXBlICdcIiArIHR5cGVvZiAodGFyZ2V0KSArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgQnl0ZVV0aWxzLmFzQnl0ZXMgPSBhc0J5dGVzO1xuICBmdW5jdGlvbiBhc1N0cmluZyh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gVVRGOC5ieXRlc1RvU3RyaW5nKGFzQnl0ZXModGFyZ2V0KSk7XG4gICAgfVxuICB9XG4gIEJ5dGVVdGlscy5hc1N0cmluZyA9IGFzU3RyaW5nO1xufSkoQnl0ZVV0aWxzIHx8IChCeXRlVXRpbHMgPSB7fSkpO1xuZXhwb3J0cy5CeXRlVXRpbHMgPSBCeXRlVXRpbHM7XG52YXIgVVRGODtcbihmdW5jdGlvbiAoVVRGOCkge1xuICB2YXIgSElHSF9TVVJST0dBVEVfTUlOID0gMHhkODAwO1xuICB2YXIgSElHSF9TVVJST0dBVEVfTUFYID0gMHhkYmZmO1xuICB2YXIgTE9XX1NVUlJPR0FURV9NSU4gPSAweGRjMDA7XG4gIHZhciBMT1dfU1VSUk9HQVRFX01BWCA9IDB4ZGZmZjtcbiAgdmFyIFNVUlJPR0FURV9CQVNFID0gMHgxMDAwMDtcbiAgZnVuY3Rpb24gaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIEhJR0hfU1VSUk9HQVRFX01JTiA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSBISUdIX1NVUlJPR0FURV9NQVg7XG4gIH1cbiAgZnVuY3Rpb24gaXNMb3dTdXJyb2dhdGUoY2hhckNvZGUpIHtcbiAgICByZXR1cm4gTE9XX1NVUlJPR0FURV9NSU4gPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gTE9XX1NVUlJPR0FURV9NQVg7XG4gIH1cbiAgZnVuY3Rpb24gY29tYmluZVN1cnJvZ2F0ZShoaWdoLCBsb3cpIHtcbiAgICByZXR1cm4gKChoaWdoIC0gSElHSF9TVVJST0dBVEVfTUlOKSA8PCAxMCkgKyAobG93IC0gTE9XX1NVUlJPR0FURV9NSU4pICsgU1VSUk9HQVRFX0JBU0U7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgY2hhckNvZGUgdG8gSmF2YVNjcmlwdCBTdHJpbmdcbiAgICogaGFuZGxpbmcgVVRGMTYgc3Vycm9nYXRlIHBhaXJcbiAgICovXG4gIGZ1bmN0aW9uIGNocihjaGFyQ29kZSkge1xuICAgIGlmIChjaGFyQ29kZSA8IFNVUlJPR0FURV9CQVNFKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gICAgfVxuICAgIC8vIGNvbnZlcnQgdG8gVVRGMTYgc3Vycm9nYXRlIHBhaXJcbiAgICB2YXIgaGlnaCA9ICgoY2hhckNvZGUgLSBTVVJST0dBVEVfQkFTRSkgPj4gMTApICsgSElHSF9TVVJST0dBVEVfTUlOO1xuICAgIHZhciBsb3cgPSAoY2hhckNvZGUgJiAweDNmZikgKyBMT1dfU1VSUk9HQVRFX01JTjtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShoaWdoLCBsb3cpO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IEphdmFTY3JpcHQgU3RyaW5nIHRvIGFuIEFycmF5IG9mXG4gICAqIFVURjggYnl0ZXNcbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gICAgdmFyIGJ5dGVzID0gW10sIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGgsIHN0ckluZGV4ID0gMCwgY2hhckNvZGUsIGNoYXJDb2RlMjtcbiAgICB3aGlsZSAoc3RySW5kZXggPCBzdHJMZW5ndGgpIHtcbiAgICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoc3RySW5kZXgrKyk7XG4gICAgICAvLyBoYW5kbGUgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGlmIChpc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGUpKSB7XG4gICAgICAgIGlmIChzdHJJbmRleCA9PT0gc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmb3JtYXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2hhckNvZGUyID0gc3RyLmNoYXJDb2RlQXQoc3RySW5kZXgrKyk7XG4gICAgICAgIGlmICghaXNMb3dTdXJyb2dhdGUoY2hhckNvZGUyKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm9ybWF0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNoYXJDb2RlID0gY29tYmluZVN1cnJvZ2F0ZShjaGFyQ29kZSwgY2hhckNvZGUyKTtcbiAgICAgIH1cbiAgICAgIC8vIGNvbnZlcnQgY2hhckNvZGUgdG8gVVRGOCBieXRlc1xuICAgICAgaWYgKGNoYXJDb2RlIDwgMHg4MCkge1xuICAgICAgICAvLyBvbmUgYnl0ZVxuICAgICAgICBieXRlcy5wdXNoKGNoYXJDb2RlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNoYXJDb2RlIDwgMHg4MDApIHtcbiAgICAgICAgLy8gdHdvIGJ5dGVzXG4gICAgICAgIGJ5dGVzLnB1c2goMHhjMCB8IChjaGFyQ29kZSA+PiA2KSk7XG4gICAgICAgIGJ5dGVzLnB1c2goMHg4MCB8IChjaGFyQ29kZSAmIDB4M2YpKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNoYXJDb2RlIDwgMHgxMDAwMCkge1xuICAgICAgICAvLyB0aHJlZSBieXRlc1xuICAgICAgICBieXRlcy5wdXNoKDB4ZTAgfCAoY2hhckNvZGUgPj4gMTIpKTtcbiAgICAgICAgYnl0ZXMucHVzaCgweDgwIHwgKChjaGFyQ29kZSA+PiA2KSAmIDB4M2YpKTtcbiAgICAgICAgYnl0ZXMucHVzaCgweDgwIHwgKGNoYXJDb2RlICYgMHgzZikpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGZvdXIgYnl0ZXNcbiAgICAgICAgYnl0ZXMucHVzaCgweGYwIHwgKGNoYXJDb2RlID4+IDE4KSk7XG4gICAgICAgIGJ5dGVzLnB1c2goMHg4MCB8ICgoY2hhckNvZGUgPj4gMTIpICYgMHgzZikpO1xuICAgICAgICBieXRlcy5wdXNoKDB4ODAgfCAoKGNoYXJDb2RlID4+IDYpICYgMHgzZikpO1xuICAgICAgICBieXRlcy5wdXNoKDB4ODAgfCAoY2hhckNvZGUgJiAweDNmKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbiAgfVxuICBVVEY4LnN0cmluZ1RvQnl0ZXMgPSBzdHJpbmdUb0J5dGVzO1xuICAvKipcbiAgICogQ29udmVydCBhbiBBcnJheSBvZiBVVEY4IGJ5dGVzIHRvXG4gICAqIGEgSmF2YVNjcmlwdCBTdHJpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGJ5dGVzVG9TdHJpbmcoYnl0ZXMpIHtcbiAgICB2YXIgc3RyID0gXCJcIiwgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoLCBpbmRleCA9IDAsIGJ5dGUsIGNoYXJDb2RlO1xuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgLy8gZmlyc3QgYnl0ZVxuICAgICAgYnl0ZSA9IGJ5dGVzW2luZGV4KytdO1xuICAgICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICAgIC8vIG9uZSBieXRlXG4gICAgICAgIGNoYXJDb2RlID0gYnl0ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKChieXRlID4+IDUpID09PSAweDA2KSB7XG4gICAgICAgIC8vIHR3byBieXRlc1xuICAgICAgICBjaGFyQ29kZSA9ICgoYnl0ZSAmIDB4MWYpIDw8IDYpIHwgKGJ5dGVzW2luZGV4KytdICYgMHgzZik7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgoYnl0ZSA+PiA0KSA9PT0gMHgwZSkge1xuICAgICAgICAvLyB0aHJlZSBieXRlc1xuICAgICAgICBjaGFyQ29kZSA9ICgoYnl0ZSAmIDB4MGYpIDw8IDEyKSB8ICgoYnl0ZXNbaW5kZXgrK10gJiAweDNmKSA8PCA2KSB8IChieXRlc1tpbmRleCsrXSAmIDB4M2YpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGZvdXIgYnl0ZXNcbiAgICAgICAgY2hhckNvZGUgPSAoKGJ5dGUgJiAweDA3KSA8PCAxOCkgfCAoKGJ5dGVzW2luZGV4KytdICYgMHgzZikgPDwgMTIpIHwgKChieXRlc1tpbmRleCsrXSAmIDB4M2YpIDw8IDYpIHwgKGJ5dGVzW2luZGV4KytdICYgMHgzZik7XG4gICAgICB9XG4gICAgICBzdHIgKz0gY2hyKGNoYXJDb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBVVEY4LmJ5dGVzVG9TdHJpbmcgPSBieXRlc1RvU3RyaW5nO1xufSkoVVRGOCB8fCAoVVRGOCA9IHt9KSk7XG5leHBvcnRzLlVURjggPSBVVEY4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9djZzZGsuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWpCQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7OztBQUdBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUlBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBUkE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBOzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUF0REE7QUF3REE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///84\n')},function(module,exports){eval("exports.f = Object.getOwnPropertySymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzPzlhYTkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85\n")},function(module,exports){eval("exports.f = {}.propertyIsEnumerable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanM/MzU1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///86\n")},function(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(25);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190by1wcmltaXRpdmUuanM/NmE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(20);\nvar dPs = __webpack_require__(146);\nvar enumBugKeys = __webpack_require__(106);\nvar IE_PROTO = __webpack_require__(104)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(101)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(151).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanM/YTE1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///88\n")},function(module,exports,__webpack_require__){eval("var ctx = __webpack_require__(34);\nvar call = __webpack_require__(175);\nvar isArrayIter = __webpack_require__(176);\nvar anObject = __webpack_require__(20);\nvar toLength = __webpack_require__(95);\nvar getIterFn = __webpack_require__(126);\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcz9hMjJhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgQlJFQUsgPSB7fTtcbnZhciBSRVRVUk4gPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUikge1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSk7XG4gIHZhciBmID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmIChpc0FycmF5SXRlcihpdGVyRm4pKSBmb3IgKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOykge1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///89\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar classof = __webpack_require__(72);\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19yZWdleHAtZXhlYy1hYnN0cmFjdC5qcz81ZjFiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgYnVpbHRpbkV4ZWMgPSBSZWdFeHAucHJvdG90eXBlLmV4ZWM7XG5cbiAvLyBgUmVnRXhwRXhlY2AgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHBleGVjXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChSLCBTKSB7XG4gIHZhciBleGVjID0gUi5leGVjO1xuICBpZiAodHlwZW9mIGV4ZWMgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgcmVzdWx0ID0gZXhlYy5jYWxsKFIsIFMpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVnRXhwIGV4ZWMgbWV0aG9kIHJldHVybmVkIHNvbWV0aGluZyBvdGhlciB0aGFuIGFuIE9iamVjdCBvciBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKGNsYXNzb2YoUikgIT09ICdSZWdFeHAnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlcicpO1xuICB9XG4gIHJldHVybiBidWlsdGluRXhlYy5jYWxsKFIsIFMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///90\n")},function(module,exports,__webpack_require__){"use strict";eval("\n__webpack_require__(234);\nvar redefine = __webpack_require__(30);\nvar hide = __webpack_require__(28);\nvar fails = __webpack_require__(19);\nvar defined = __webpack_require__(51);\nvar wks = __webpack_require__(11);\nvar regexpExec = __webpack_require__(116);\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19maXgtcmUtd2tzLmpzPzIxNGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xucmVxdWlyZSgnLi9lczYucmVnZXhwLmV4ZWMnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciByZWdleHBFeGVjID0gcmVxdWlyZSgnLi9fcmVnZXhwLWV4ZWMnKTtcblxudmFyIFNQRUNJRVMgPSB3a3MoJ3NwZWNpZXMnKTtcblxudmFyIFJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gI3JlcGxhY2UgbmVlZHMgYnVpbHQtaW4gc3VwcG9ydCBmb3IgbmFtZWQgZ3JvdXBzLlxuICAvLyAjbWF0Y2ggd29ya3MgZmluZSBiZWNhdXNlIGl0IGp1c3QgcmV0dXJuIHRoZSBleGVjIHJlc3VsdHMsIGV2ZW4gaWYgaXQgaGFzXG4gIC8vIGEgXCJncm9wc1wiIHByb3BlcnR5LlxuICB2YXIgcmUgPSAvLi87XG4gIHJlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHJlc3VsdC5ncm91cHMgPSB7IGE6ICc3JyB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHJldHVybiAnJy5yZXBsYWNlKHJlLCAnJDxhPicpICE9PSAnNyc7XG59KTtcblxudmFyIFNQTElUX1dPUktTX1dJVEhfT1ZFUldSSVRURU5fRVhFQyA9IChmdW5jdGlvbiAoKSB7XG4gIC8vIENocm9tZSA1MSBoYXMgYSBidWdneSBcInNwbGl0XCIgaW1wbGVtZW50YXRpb24gd2hlbiBSZWdFeHAjZXhlYyAhPT0gbmF0aXZlRXhlY1xuICB2YXIgcmUgPSAvKD86KS87XG4gIHZhciBvcmlnaW5hbEV4ZWMgPSByZS5leGVjO1xuICByZS5leGVjID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gb3JpZ2luYWxFeGVjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gIHZhciByZXN1bHQgPSAnYWInLnNwbGl0KHJlKTtcbiAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDIgJiYgcmVzdWx0WzBdID09PSAnYScgJiYgcmVzdWx0WzFdID09PSAnYic7XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGxlbmd0aCwgZXhlYykge1xuICB2YXIgU1lNQk9MID0gd2tzKEtFWSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19TWU1CT0wgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN0cmluZyBtZXRob2RzIGNhbGwgc3ltYm9sLW5hbWVkIFJlZ0VwIG1ldGhvZHNcbiAgICB2YXIgTyA9IHt9O1xuICAgIE9bU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH07XG4gICAgcmV0dXJuICcnW0tFWV0oTykgIT0gNztcbiAgfSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19FWEVDID0gREVMRUdBVEVTX1RPX1NZTUJPTCA/ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gU3ltYm9sLW5hbWVkIFJlZ0V4cCBtZXRob2RzIGNhbGwgLmV4ZWNcbiAgICB2YXIgZXhlY0NhbGxlZCA9IGZhbHNlO1xuICAgIHZhciByZSA9IC9hLztcbiAgICByZS5leGVjID0gZnVuY3Rpb24gKCkgeyBleGVjQ2FsbGVkID0gdHJ1ZTsgcmV0dXJuIG51bGw7IH07XG4gICAgaWYgKEtFWSA9PT0gJ3NwbGl0Jykge1xuICAgICAgLy8gUmVnRXhwW0BAc3BsaXRdIGRvZXNuJ3QgY2FsbCB0aGUgcmVnZXgncyBleGVjIG1ldGhvZCwgYnV0IGZpcnN0IGNyZWF0ZXNcbiAgICAgIC8vIGEgbmV3IG9uZS4gV2UgbmVlZCB0byByZXR1cm4gdGhlIHBhdGNoZWQgcmVnZXggd2hlbiBjcmVhdGluZyB0aGUgbmV3IG9uZS5cbiAgICAgIHJlLmNvbnN0cnVjdG9yID0ge307XG4gICAgICByZS5jb25zdHJ1Y3RvcltTUEVDSUVTXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlOyB9O1xuICAgIH1cbiAgICByZVtTWU1CT0xdKCcnKTtcbiAgICByZXR1cm4gIWV4ZWNDYWxsZWQ7XG4gIH0pIDogdW5kZWZpbmVkO1xuXG4gIGlmIChcbiAgICAhREVMRUdBVEVTX1RPX1NZTUJPTCB8fFxuICAgICFERUxFR0FURVNfVE9fRVhFQyB8fFxuICAgIChLRVkgPT09ICdyZXBsYWNlJyAmJiAhUkVQTEFDRV9TVVBQT1JUU19OQU1FRF9HUk9VUFMpIHx8XG4gICAgKEtFWSA9PT0gJ3NwbGl0JyAmJiAhU1BMSVRfV09SS1NfV0lUSF9PVkVSV1JJVFRFTl9FWEVDKVxuICApIHtcbiAgICB2YXIgbmF0aXZlUmVnRXhwTWV0aG9kID0gLy4vW1NZTUJPTF07XG4gICAgdmFyIGZucyA9IGV4ZWMoXG4gICAgICBkZWZpbmVkLFxuICAgICAgU1lNQk9MLFxuICAgICAgJydbS0VZXSxcbiAgICAgIGZ1bmN0aW9uIG1heWJlQ2FsbE5hdGl2ZShuYXRpdmVNZXRob2QsIHJlZ2V4cCwgc3RyLCBhcmcyLCBmb3JjZVN0cmluZ01ldGhvZCkge1xuICAgICAgICBpZiAocmVnZXhwLmV4ZWMgPT09IHJlZ2V4cEV4ZWMpIHtcbiAgICAgICAgICBpZiAoREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuYXRpdmUgU3RyaW5nIG1ldGhvZCBhbHJlYWR5IGRlbGVnYXRlcyB0byBAQG1ldGhvZCAodGhpc1xuICAgICAgICAgICAgLy8gcG9seWZpbGxlZCBmdW5jdGlvbiksIGxlYXNpbmcgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxuICAgICAgICAgICAgLy8gV2UgYXZvaWQgaXQgYnkgZGlyZWN0bHkgY2FsbGluZyB0aGUgbmF0aXZlIEBAbWV0aG9kIG1ldGhvZC5cbiAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiBuYXRpdmVSZWdFeHBNZXRob2QuY2FsbChyZWdleHAsIHN0ciwgYXJnMikgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG5hdGl2ZU1ldGhvZC5jYWxsKHN0ciwgcmVnZXhwLCBhcmcyKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlIH07XG4gICAgICB9XG4gICAgKTtcbiAgICB2YXIgc3RyZm4gPSBmbnNbMF07XG4gICAgdmFyIHJ4Zm4gPSBmbnNbMV07XG5cbiAgICByZWRlZmluZShTdHJpbmcucHJvdG90eXBlLCBLRVksIHN0cmZuKTtcbiAgICBoaWRlKFJlZ0V4cC5wcm90b3R5cGUsIFNZTUJPTCwgbGVuZ3RoID09IDJcbiAgICAgIC8vIDIxLjIuNS44IFJlZ0V4cC5wcm90b3R5cGVbQEByZXBsYWNlXShzdHJpbmcsIHJlcGxhY2VWYWx1ZSlcbiAgICAgIC8vIDIxLjIuNS4xMSBSZWdFeHAucHJvdG90eXBlW0BAc3BsaXRdKHN0cmluZywgbGltaXQpXG4gICAgICA/IGZ1bmN0aW9uIChzdHJpbmcsIGFyZykgeyByZXR1cm4gcnhmbi5jYWxsKHN0cmluZywgdGhpcywgYXJnKTsgfVxuICAgICAgLy8gMjEuMi41LjYgUmVnRXhwLnByb3RvdHlwZVtAQG1hdGNoXShzdHJpbmcpXG4gICAgICAvLyAyMS4yLjUuOSBSZWdFeHAucHJvdG90eXBlW0BAc2VhcmNoXShzdHJpbmcpXG4gICAgICA6IGZ1bmN0aW9uIChzdHJpbmcpIHsgcmV0dXJuIHJ4Zm4uY2FsbChzdHJpbmcsIHRoaXMpOyB9XG4gICAgKTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///91\n")},function(module,exports,__webpack_require__){eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(73);\nvar toLength = __webpack_require__(15);\nvar toAbsoluteIndex = __webpack_require__(83);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcz9jMzY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///92\n")},function(module,exports,__webpack_require__){eval("var def = __webpack_require__(29).f;\nvar has = __webpack_require__(50);\nvar TAG = __webpack_require__(11)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcz83ZjIwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///93\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(262);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzPzRkMTYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///94\n")},function(module,exports,__webpack_require__){eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(103);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcz9iNDQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///95\n")},function(module,exports,__webpack_require__){eval("// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(6);\nvar core = __webpack_require__(4);\nvar fails = __webpack_require__(39);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanM/Y2U3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGV4ZWMpIHtcbiAgdmFyIGZuID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldO1xuICB2YXIgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///96\n")},function(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(60);\nvar TAG = __webpack_require__(14)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanM/NDBjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBjb2YoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///97\n")},function(module,exports,__webpack_require__){eval("// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(16);\nvar aFunction = __webpack_require__(70);\nvar SPECIES = __webpack_require__(11)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzP2ViZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(163);\nvar hiddenKeys = __webpack_require__(118).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XRUJTREsvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ29wbi5qcz85MDkzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///99\n")},,function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(24);\nvar document = __webpack_require__(9).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzPzFlYzkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///101\n")},function(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(24);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanM/MWJjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///102\n")},function(module,exports){eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzPzNhMzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///103\n")},function(module,exports,__webpack_require__){eval("var shared = __webpack_require__(105)('keys');\nvar uid = __webpack_require__(79);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzPzU1NTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///104\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(4);\nvar global = __webpack_require__(9);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(61) ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanM/ZGJkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246IGNvcmUudmVyc2lvbixcbiAgbW9kZTogcmVxdWlyZSgnLi9fbGlicmFyeScpID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///105\n")},function(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzPzE2OTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///106\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(147);\nvar hiddenKeys = __webpack_require__(106).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcz82YWJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///107\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(57);\nvar global = __webpack_require__(12);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(69) ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2hhcmVkLmpzPzU1MzciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xufSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICB2ZXJzaW9uOiBjb3JlLnZlcnNpb24sXG4gIG1vZGU6IHJlcXVpcmUoJy4vX2xpYnJhcnknKSA/ICdwdXJlJyA6ICdnbG9iYWwnLFxuICBjb3B5cmlnaHQ6ICfCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJ1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///108\n")},function(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(54);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qcz82MjZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///109\n")},function(module,exports,__webpack_require__){eval("exports.f = __webpack_require__(14);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzP2NjYjkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///110\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(9);\nvar core = __webpack_require__(4);\nvar LIBRARY = __webpack_require__(61);\nvar wksExt = __webpack_require__(110);\nvar defineProperty = __webpack_require__(23).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzPzY3MTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZiAobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSkgZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwgeyB2YWx1ZTogd2tzRXh0LmYobmFtZSkgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///111\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = __webpack_require__(67);\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5LmpzPzY1NmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5cbmZ1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KEMpIHtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24gKCQkcmVzb2x2ZSwgJCRyZWplY3QpIHtcbiAgICBpZiAocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIChDKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///112\n")},function(module,exports){eval("module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctd3MuanM/ZTY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICdcXHgwOVxceDBBXFx4MEJcXHgwQ1xceDBEXFx4MjBcXHhBMFxcdTE2ODBcXHUxODBFXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwMycgK1xuICAnXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///113\n")},function(module,exports,__webpack_require__){eval("// 7.2.8 IsRegExp(argument)\nvar isObject = __webpack_require__(25);\nvar cof = __webpack_require__(54);\nvar MATCH = __webpack_require__(11)('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtcmVnZXhwLmpzP2FhZTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4yLjggSXNSZWdFeHAoYXJndW1lbnQpXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbnZhciBNQVRDSCA9IHJlcXVpcmUoJy4vX3drcycpKCdtYXRjaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIGlzUmVnRXhwO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICgoaXNSZWdFeHAgPSBpdFtNQVRDSF0pICE9PSB1bmRlZmluZWQgPyAhIWlzUmVnRXhwIDogY29mKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///114\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar at = __webpack_require__(233)(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYWR2YW5jZS1zdHJpbmctaW5kZXguanM/MDM5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuIC8vIGBBZHZhbmNlU3RyaW5nSW5kZXhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYWR2YW5jZXN0cmluZ2luZGV4XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTLCBpbmRleCwgdW5pY29kZSkge1xuICByZXR1cm4gaW5kZXggKyAodW5pY29kZSA/IGF0KFMsIGluZGV4KS5sZW5ndGggOiAxKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///115\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar regexpFlags = __webpack_require__(82);\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcmVnZXhwLWV4ZWMuanM/NTIwYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciByZWdleHBGbGFncyA9IHJlcXVpcmUoJy4vX2ZsYWdzJyk7XG5cbnZhciBuYXRpdmVFeGVjID0gUmVnRXhwLnByb3RvdHlwZS5leGVjO1xuLy8gVGhpcyBhbHdheXMgcmVmZXJzIHRvIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24sIGJlY2F1c2UgdGhlXG4vLyBTdHJpbmcjcmVwbGFjZSBwb2x5ZmlsbCB1c2VzIC4vZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYy5qcyxcbi8vIHdoaWNoIGxvYWRzIHRoaXMgZmlsZSBiZWZvcmUgcGF0Y2hpbmcgdGhlIG1ldGhvZC5cbnZhciBuYXRpdmVSZXBsYWNlID0gU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlO1xuXG52YXIgcGF0Y2hlZEV4ZWMgPSBuYXRpdmVFeGVjO1xuXG52YXIgTEFTVF9JTkRFWCA9ICdsYXN0SW5kZXgnO1xuXG52YXIgVVBEQVRFU19MQVNUX0lOREVYX1dST05HID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlMSA9IC9hLyxcbiAgICAgIHJlMiA9IC9iKi9nO1xuICBuYXRpdmVFeGVjLmNhbGwocmUxLCAnYScpO1xuICBuYXRpdmVFeGVjLmNhbGwocmUyLCAnYScpO1xuICByZXR1cm4gcmUxW0xBU1RfSU5ERVhdICE9PSAwIHx8IHJlMltMQVNUX0lOREVYXSAhPT0gMDtcbn0pKCk7XG5cbi8vIG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3VwLCBjb3BpZWQgZnJvbSBlczUtc2hpbSdzIFN0cmluZyNzcGxpdCBwYXRjaC5cbnZhciBOUENHX0lOQ0xVREVEID0gLygpPz8vLmV4ZWMoJycpWzFdICE9PSB1bmRlZmluZWQ7XG5cbnZhciBQQVRDSCA9IFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyB8fCBOUENHX0lOQ0xVREVEO1xuXG5pZiAoUEFUQ0gpIHtcbiAgcGF0Y2hlZEV4ZWMgPSBmdW5jdGlvbiBleGVjKHN0cikge1xuICAgIHZhciByZSA9IHRoaXM7XG4gICAgdmFyIGxhc3RJbmRleCwgcmVDb3B5LCBtYXRjaCwgaTtcblxuICAgIGlmIChOUENHX0lOQ0xVREVEKSB7XG4gICAgICByZUNvcHkgPSBuZXcgUmVnRXhwKCdeJyArIHJlLnNvdXJjZSArICckKD8hXFxcXHMpJywgcmVnZXhwRmxhZ3MuY2FsbChyZSkpO1xuICAgIH1cbiAgICBpZiAoVVBEQVRFU19MQVNUX0lOREVYX1dST05HKSBsYXN0SW5kZXggPSByZVtMQVNUX0lOREVYXTtcblxuICAgIG1hdGNoID0gbmF0aXZlRXhlYy5jYWxsKHJlLCBzdHIpO1xuXG4gICAgaWYgKFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyAmJiBtYXRjaCkge1xuICAgICAgcmVbTEFTVF9JTkRFWF0gPSByZS5nbG9iYWwgPyBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCA6IGxhc3RJbmRleDtcbiAgICB9XG4gICAgaWYgKE5QQ0dfSU5DTFVERUQgJiYgbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgLy8gRml4IGJyb3dzZXJzIHdob3NlIGBleGVjYCBtZXRob2RzIGRvbid0IGNvbnNpc3RlbnRseSByZXR1cm4gYHVuZGVmaW5lZGBcbiAgICAgIC8vIGZvciBOUENHLCBsaWtlIElFOC4gTk9URTogVGhpcyBkb2Vzbicgd29yayBmb3IgLyguPyk/L1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgICAgbmF0aXZlUmVwbGFjZS5jYWxsKG1hdGNoWzBdLCByZUNvcHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldID09PSB1bmRlZmluZWQpIG1hdGNoW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hlZEV4ZWM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///116\n")},function(module,exports,__webpack_require__){eval("var shared = __webpack_require__(108)('keys');\nvar uid = __webpack_require__(62);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2hhcmVkLWtleS5qcz82MTNiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///117\n")},function(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcz9lMTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///118\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(12);\nvar inheritIfRequired = __webpack_require__(195);\nvar dP = __webpack_require__(29).f;\nvar gOPN = __webpack_require__(99).f;\nvar isRegExp = __webpack_require__(114);\nvar $flags = __webpack_require__(82);\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (__webpack_require__(17) && (!CORRECT_NEW || __webpack_require__(19)(function () {\n  re2[__webpack_require__(11)('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  __webpack_require__(30)(global, 'RegExp', $RegExp);\n}\n\n__webpack_require__(131)('RegExp');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmNvbnN0cnVjdG9yLmpzPzNiMmIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGluaGVyaXRJZlJlcXVpcmVkID0gcmVxdWlyZSgnLi9faW5oZXJpdC1pZi1yZXF1aXJlZCcpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi9faXMtcmVnZXhwJyk7XG52YXIgJGZsYWdzID0gcmVxdWlyZSgnLi9fZmxhZ3MnKTtcbnZhciAkUmVnRXhwID0gZ2xvYmFsLlJlZ0V4cDtcbnZhciBCYXNlID0gJFJlZ0V4cDtcbnZhciBwcm90byA9ICRSZWdFeHAucHJvdG90eXBlO1xudmFyIHJlMSA9IC9hL2c7XG52YXIgcmUyID0gL2EvZztcbi8vIFwibmV3XCIgY3JlYXRlcyBhIG5ldyBvYmplY3QsIG9sZCB3ZWJraXQgYnVnZ3kgaGVyZVxudmFyIENPUlJFQ1RfTkVXID0gbmV3ICRSZWdFeHAocmUxKSAhPT0gcmUxO1xuXG5pZiAocmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAoIUNPUlJFQ1RfTkVXIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZTJbcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyldID0gZmFsc2U7XG4gIC8vIFJlZ0V4cCBjb25zdHJ1Y3RvciBjYW4gYWx0ZXIgZmxhZ3MgYW5kIElzUmVnRXhwIHdvcmtzIGNvcnJlY3Qgd2l0aCBAQG1hdGNoXG4gIHJldHVybiAkUmVnRXhwKHJlMSkgIT0gcmUxIHx8ICRSZWdFeHAocmUyKSA9PSByZTIgfHwgJFJlZ0V4cChyZTEsICdpJykgIT0gJy9hL2knO1xufSkpKSB7XG4gICRSZWdFeHAgPSBmdW5jdGlvbiBSZWdFeHAocCwgZikge1xuICAgIHZhciB0aVJFID0gdGhpcyBpbnN0YW5jZW9mICRSZWdFeHA7XG4gICAgdmFyIHBpUkUgPSBpc1JlZ0V4cChwKTtcbiAgICB2YXIgZmlVID0gZiA9PT0gdW5kZWZpbmVkO1xuICAgIHJldHVybiAhdGlSRSAmJiBwaVJFICYmIHAuY29uc3RydWN0b3IgPT09ICRSZWdFeHAgJiYgZmlVID8gcFxuICAgICAgOiBpbmhlcml0SWZSZXF1aXJlZChDT1JSRUNUX05FV1xuICAgICAgICA/IG5ldyBCYXNlKHBpUkUgJiYgIWZpVSA/IHAuc291cmNlIDogcCwgZilcbiAgICAgICAgOiBCYXNlKChwaVJFID0gcCBpbnN0YW5jZW9mICRSZWdFeHApID8gcC5zb3VyY2UgOiBwLCBwaVJFICYmIGZpVSA/ICRmbGFncy5jYWxsKHApIDogZilcbiAgICAgICwgdGlSRSA/IHRoaXMgOiBwcm90bywgJFJlZ0V4cCk7XG4gIH07XG4gIHZhciBwcm94eSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBrZXkgaW4gJFJlZ0V4cCB8fCBkUCgkUmVnRXhwLCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQmFzZVtrZXldOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAoaXQpIHsgQmFzZVtrZXldID0gaXQ7IH1cbiAgICB9KTtcbiAgfTtcbiAgZm9yICh2YXIga2V5cyA9IGdPUE4oQmFzZSksIGkgPSAwOyBrZXlzLmxlbmd0aCA+IGk7KSBwcm94eShrZXlzW2krK10pO1xuICBwcm90by5jb25zdHJ1Y3RvciA9ICRSZWdFeHA7XG4gICRSZWdFeHAucHJvdG90eXBlID0gcHJvdG87XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoZ2xvYmFsLCAnUmVnRXhwJywgJFJlZ0V4cCk7XG59XG5cbnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoJ1JlZ0V4cCcpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///119\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(260);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzPzRhYTYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///120\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $export = __webpack_require__(10);\nvar $map = __webpack_require__(63)(1);\n\n$export($export.P + $export.F * !__webpack_require__(58)([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkubWFwLmpzPzZkNjciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciAkbWFwID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpKDEpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19zdHJpY3QtbWV0aG9kJykoW10ubWFwLCB0cnVlKSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjMuMTUgLyAxNS40LjQuMTkgQXJyYXkucHJvdG90eXBlLm1hcChjYWxsYmFja2ZuIFssIHRoaXNBcmddKVxuICBtYXA6IGZ1bmN0aW9uIG1hcChjYWxsYmFja2ZuIC8qICwgdGhpc0FyZyAqLykge1xuICAgIHJldHVybiAkbWFwKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50c1sxXSk7XG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///121\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(25);\nvar document = __webpack_require__(12).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcz8yMzBlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///122\n")},function(module,exports,__webpack_require__){eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(60);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcz85MDAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///123\n")},function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0LmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///124\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(61);\nvar $export = __webpack_require__(6);\nvar redefine = __webpack_require__(150);\nvar hide = __webpack_require__(35);\nvar Iterators = __webpack_require__(56);\nvar $iterCreate = __webpack_require__(221);\nvar setToStringTag = __webpack_require__(71);\nvar getPrototypeOf = __webpack_require__(173);\nvar ITERATOR = __webpack_require__(14)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcz8zMGYxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciAkaXRlckNyZWF0ZSA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbnZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbiAoa2luZCkge1xuICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bykgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVM7XG4gIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7XG4gIHZhciBwcm90byA9IEJhc2UucHJvdG90eXBlO1xuICB2YXIgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXTtcbiAgdmFyICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCk7XG4gIHZhciAkZW50cmllcyA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWQ7XG4gIHZhciAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZTtcbiAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYgKCRhbnlOYXRpdmUpIHtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZiAoIUxJQlJBUlkgJiYgdHlwZW9mIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSAhPSAnZnVuY3Rpb24nKSBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddID0gcmV0dXJuVGhpcztcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGlmICghKGtleSBpbiBwcm90bykpIHJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///125\n")},function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(97);\nvar ITERATOR = __webpack_require__(14)('iterator');\nvar Iterators = __webpack_require__(56);\nmodule.exports = __webpack_require__(4).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcz83Y2Q2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///126\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(12);\nvar hide = __webpack_require__(28);\nvar uid = __webpack_require__(62);\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdHlwZWQuanM/MGY4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBUWVBFRCA9IHVpZCgndHlwZWRfYXJyYXknKTtcbnZhciBWSUVXID0gdWlkKCd2aWV3Jyk7XG52YXIgQUJWID0gISEoZ2xvYmFsLkFycmF5QnVmZmVyICYmIGdsb2JhbC5EYXRhVmlldyk7XG52YXIgQ09OU1RSID0gQUJWO1xudmFyIGkgPSAwO1xudmFyIGwgPSA5O1xudmFyIFR5cGVkO1xuXG52YXIgVHlwZWRBcnJheUNvbnN0cnVjdG9ycyA9IChcbiAgJ0ludDhBcnJheSxVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5J1xuKS5zcGxpdCgnLCcpO1xuXG53aGlsZSAoaSA8IGwpIHtcbiAgaWYgKFR5cGVkID0gZ2xvYmFsW1R5cGVkQXJyYXlDb25zdHJ1Y3RvcnNbaSsrXV0pIHtcbiAgICBoaWRlKFR5cGVkLnByb3RvdHlwZSwgVFlQRUQsIHRydWUpO1xuICAgIGhpZGUoVHlwZWQucHJvdG90eXBlLCBWSUVXLCB0cnVlKTtcbiAgfSBlbHNlIENPTlNUUiA9IGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQUJWOiBBQlYsXG4gIENPTlNUUjogQ09OU1RSLFxuICBUWVBFRDogVFlQRUQsXG4gIFZJRVc6IFZJRVdcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///127\n")},function(module,exports,__webpack_require__){eval("var redefine = __webpack_require__(30);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzP2RjYmMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc3JjLCBzYWZlKSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHJlZGVmaW5lKHRhcmdldCwga2V5LCBzcmNba2V5XSwgc2FmZSk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///128\n")},function(module,exports){eval("module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYW4taW5zdGFuY2UuanM/ZjYwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKSB7XG4gIGlmICghKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///129\n")},function(module,exports,__webpack_require__){eval("// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = __webpack_require__(11)('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) __webpack_require__(28)(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzPzljNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXVxudmFyIFVOU0NPUEFCTEVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3Vuc2NvcGFibGVzJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmlmIChBcnJheVByb3RvW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpIHJlcXVpcmUoJy4vX2hpZGUnKShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIEFycmF5UHJvdG9bVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///130\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar global = __webpack_require__(12);\nvar dP = __webpack_require__(29);\nvar DESCRIPTORS = __webpack_require__(17);\nvar SPECIES = __webpack_require__(11)('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanM/N2E1NiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSkge1xuICB2YXIgQyA9IGdsb2JhbFtLRVldO1xuICBpZiAoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSkgZFAuZihDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///131\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\n__webpack_require__(65);\n\n__webpack_require__(33);\n\n/* eslint-disable */\nvar _default = {\n  base64EncodeChars: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",\n  base64DecodeChars: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1],\n\n  /*\n   base64编码\n   str ： 需编码的字符串\n   */\n  base64Encode: function base64Encode(str) {\n    var out, i, len;\n    var c1, c2, c3;\n    len = str.length;\n    i = 0;\n    out = "";\n\n    while (i < len) {\n      c1 = str.charCodeAt(i++) & 0xff;\n\n      if (i == len) {\n        out += this.base64EncodeChars.charAt(c1 >> 2);\n        out += this.base64EncodeChars.charAt((c1 & 0x3) << 4);\n        out += "==";\n        break;\n      }\n\n      c2 = str.charCodeAt(i++);\n\n      if (i == len) {\n        out += this.base64EncodeChars.charAt(c1 >> 2);\n        out += this.base64EncodeChars.charAt((c1 & 0x3) << 4 | (c2 & 0xF0) >> 4);\n        out += this.base64EncodeChars.charAt((c2 & 0xF) << 2);\n        out += "=";\n        break;\n      }\n\n      c3 = str.charCodeAt(i++);\n      out += this.base64EncodeChars.charAt(c1 >> 2);\n      out += this.base64EncodeChars.charAt((c1 & 0x3) << 4 | (c2 & 0xF0) >> 4);\n      out += this.base64EncodeChars.charAt((c2 & 0xF) << 2 | (c3 & 0xC0) >> 6);\n      out += this.base64EncodeChars.charAt(c3 & 0x3F);\n    }\n\n    return out;\n  },\n\n  /*\n   base64编码\n   str ： 需编码的字符串\n   */\n  base64decode: function base64decode(str) {\n    var c1, c2, c3, c4;\n    var i, len, out;\n    len = str.length;\n    i = 0;\n    out = "";\n\n    while (i < len) {\n      /* c1 */\n      do {\n        c1 = this.base64DecodeChars[str.charCodeAt(i++) & 0xff];\n      } while (i < len && c1 == -1);\n\n      if (c1 == -1) break;\n      /* c2 */\n\n      do {\n        c2 = this.base64DecodeChars[str.charCodeAt(i++) & 0xff];\n      } while (i < len && c2 == -1);\n\n      if (c2 == -1) break;\n      out += String.fromCharCode(c1 << 2 | (c2 & 0x30) >> 4);\n      /* c3 */\n\n      do {\n        c3 = str.charCodeAt(i++) & 0xff;\n        if (c3 == 61) return out;\n        c3 = this.base64DecodeChars[c3];\n      } while (i < len && c3 == -1);\n\n      if (c3 == -1) break;\n      out += String.fromCharCode((c2 & 0XF) << 4 | (c3 & 0x3C) >> 2);\n      /* c4 */\n\n      do {\n        c4 = str.charCodeAt(i++) & 0xff;\n        if (c4 == 61) return out;\n        c4 = this.base64DecodeChars[c4];\n      } while (i < len && c4 == -1);\n\n      if (c4 == -1) break;\n      out += String.fromCharCode((c3 & 0x03) << 6 | c4);\n    }\n\n    return out;\n  },\n\n  /*\n  * base64 转二进制流\n  * */\n  dataURItoBlob: function dataURItoBlob(dataURI) {\n    var byteString = atob(dataURI.split(\',\')[1]);\n    var mimeString = dataURI.split(\',\')[0].split(\':\')[1].split(\';\')[0];\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    return new Blob([ab], {\n      type: mimeString\n    });\n  }\n};\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3V0aWwvYmFzZTY0LmpzPzBmYTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBiYXNlNjRFbmNvZGVDaGFyczogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsXG4gICAgYmFzZTY0RGVjb2RlQ2hhcnM6wqBbLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqA2MizCoC0xLMKgLTEswqAtMSzCoDYzLMKgNTIswqA1MyzCoDU0LMKgNTUswqA1NizCoDU3LMKgNTgswqA1OSzCoDYwLMKgNjEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoDAswqAxLMKgMizCoDMswqA0LMKgNSzCoDYswqA3LMKgOCzCoDkswqAxMCzCoDExLMKgMTIswqAxMyzCoDE0LMKgMTUswqAxNizCoDE3LMKgMTgswqAxOSzCoDIwLMKgMjEswqAyMizCoDIzLMKgMjQswqAyNSzCoC0xLMKgLTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoDI2LMKgMjcswqAyOCzCoDI5LMKgMzAswqAzMSzCoDMyLMKgMzMswqAzNCzCoDM1LMKgMzYswqAzNyzCoDM4LMKgMzkswqA0MCzCoDQxLMKgNDIswqA0MyzCoDQ0LMKgNDUswqA0NizCoDQ3LMKgNDgswqA0OSzCoDUwLMKgNTEswqAtMSzCoC0xLMKgLTEswqAtMSzCoC0xXSxcbiAgICAvKlxuICAgICBiYXNlNjTnvJbnoIFcbiAgICAgc3RyIO+8miDpnIDnvJbnoIHnmoTlrZfnrKbkuLJcbiAgICAgKi9cbiAgICBiYXNlNjRFbmNvZGU6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFywqBvdXQswqBpLMKgbGVuO1xuICAgICAgICB2YXLCoGMxLMKgYzIswqBjMztcbiAgICAgICAgbGVuwqA9wqBzdHIubGVuZ3RoO1xuICAgICAgICBpwqA9wqAwO1xuICAgICAgICBvdXTCoD3CoFwiXCI7XG4gICAgICAgIHdoaWxlwqAoacKgPMKgbGVuKcKge1xuICAgICAgICAgICAgYzHCoD3CoHN0ci5jaGFyQ29kZUF0KGkrKynCoCbCoDB4ZmY7XG4gICAgICAgICAgICBpZsKgKGnCoD09wqBsZW4pwqB7XG4gICAgICAgICAgICAgICAgb3V0wqArPcKgdGhpcy5iYXNlNjRFbmNvZGVDaGFycy5jaGFyQXQoYzHCoD4+wqAyKTtcbiAgICAgICAgICAgICAgICBvdXTCoCs9wqB0aGlzLmJhc2U2NEVuY29kZUNoYXJzLmNoYXJBdCgoYzHCoCbCoDB4MynCoDw8wqA0KTtcbiAgICAgICAgICAgICAgICBvdXTCoCs9wqBcIj09XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjMsKgPcKgc3RyLmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgIGlmwqAoacKgPT3CoGxlbinCoHtcbiAgICAgICAgICAgICAgICBvdXTCoCs9wqB0aGlzLmJhc2U2NEVuY29kZUNoYXJzLmNoYXJBdChjMcKgPj7CoDIpO1xuICAgICAgICAgICAgICAgIG91dMKgKz3CoHRoaXMuYmFzZTY0RW5jb2RlQ2hhcnMuY2hhckF0KCgoYzHCoCbCoDB4MynCoDw8wqA0KcKgfMKgKChjMsKgJsKgMHhGMCnCoD4+wqA0KSk7XG4gICAgICAgICAgICAgICAgb3V0wqArPcKgdGhpcy5iYXNlNjRFbmNvZGVDaGFycy5jaGFyQXQoKGMywqAmwqAweEYpwqA8PMKgMik7XG4gICAgICAgICAgICAgICAgb3V0wqArPcKgXCI9XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjM8KgPcKgc3RyLmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgIG91dMKgKz3CoHRoaXMuYmFzZTY0RW5jb2RlQ2hhcnMuY2hhckF0KGMxwqA+PsKgMik7XG4gICAgICAgICAgICBvdXTCoCs9wqB0aGlzLmJhc2U2NEVuY29kZUNoYXJzLmNoYXJBdCgoKGMxwqAmwqAweDMpwqA8PMKgNCnCoHzCoCgoYzLCoCbCoDB4RjApwqA+PsKgNCkpO1xuICAgICAgICAgICAgb3V0wqArPcKgdGhpcy5iYXNlNjRFbmNvZGVDaGFycy5jaGFyQXQoKChjMsKgJsKgMHhGKcKgPDzCoDIpwqB8wqAoKGMzwqAmwqAweEMwKcKgPj7CoDYpKTtcbiAgICAgICAgICAgIG91dMKgKz3CoHRoaXMuYmFzZTY0RW5jb2RlQ2hhcnMuY2hhckF0KGMzwqAmwqAweDNGKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm7CoG91dDtcbiAgICB9LFxuICAgIC8qXG4gICAgIGJhc2U2NOe8lueggVxuICAgICBzdHIg77yaIOmcgOe8lueggeeahOWtl+espuS4slxuICAgICAqL1xuICAgIGJhc2U2NGRlY29kZTogZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgYzEsIGMyLCBjMywgYzQ7XG4gICAgICAgIHZhciBpLCBsZW4sIG91dDtcbiAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIG91dCA9IFwiXCI7XG4gICAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgICAgICAvKiBjMSAqL1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGMxID0gdGhpcy5iYXNlNjREZWNvZGVDaGFyc1tzdHIuY2hhckNvZGVBdChpKyspICYgMHhmZl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGxlbiAmJiBjMSA9PSAtMSk7XG4gICAgICAgICAgICBpZiAoYzEgPT0gLTEpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvKiBjMiAqL1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGMyID0gdGhpcy5iYXNlNjREZWNvZGVDaGFyc1tzdHIuY2hhckNvZGVBdChpKyspICYgMHhmZl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGxlbiAmJiBjMiA9PSAtMSk7XG4gICAgICAgICAgICBpZiAoYzIgPT0gLTEpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYzEgPDwgMikgfCAoKGMyICYgMHgzMCkgPj4gNCkpO1xuICAgICAgICAgICAgLyogYzMgKi9cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjMyA9IHN0ci5jaGFyQ29kZUF0KGkrKykgJiAweGZmO1xuICAgICAgICAgICAgICAgIGlmIChjMyA9PSA2MSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICBjMyA9IHRoaXMuYmFzZTY0RGVjb2RlQ2hhcnNbYzNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGkgPCBsZW4gJiYgYzMgPT0gLTEpO1xuICAgICAgICAgICAgaWYgKGMzID09IC0xKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMiAmIDBYRikgPDwgNCkgfCAoKGMzICYgMHgzQykgPj4gMikpO1xuICAgICAgICAgICAgLyogYzQgKi9cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjNCA9IHN0ci5jaGFyQ29kZUF0KGkrKykgJiAweGZmO1xuICAgICAgICAgICAgICAgIGlmIChjNCA9PSA2MSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICBjNCA9IHRoaXMuYmFzZTY0RGVjb2RlQ2hhcnNbYzRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGkgPCBsZW4gJiYgYzQgPT0gLTEpO1xuICAgICAgICAgICAgaWYgKGM0ID09IC0xKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMyAmIDB4MDMpIDw8IDYpIHwgYzQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSxcblxuICAgIC8qXG4gICAgKiBiYXNlNjQg6L2s5LqM6L+b5Yi25rWBXG4gICAgKiAqL1xuICAgIGRhdGFVUkl0b0Jsb2I6IGZ1bmN0aW9uIChkYXRhVVJJKSB7XG4gICAgICAgIHZhciBieXRlU3RyaW5nID0gYXRvYihkYXRhVVJJLnNwbGl0KCcsJylbMV0pO1xuICAgICAgICB2YXIgbWltZVN0cmluZyA9IGRhdGFVUkkuc3BsaXQoJywnKVswXS5zcGxpdCgnOicpWzFdLnNwbGl0KCc7JylbMF07XG4gICAgICAgIHZhciBhYiA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgIHZhciBpYSA9IG5ldyBVaW50OEFycmF5KGFiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpYVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2FiXSwge3R5cGU6IG1pbWVTdHJpbmd9KTtcbiAgICB9XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBckdBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///132\n')},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(255);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9nZXQtaXRlcmF0b3IuanM/NWQ3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///133\n")},function(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(60);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzPzMzNWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///134\n")},function(module,exports,__webpack_require__){eval("var META = __webpack_require__(79)('meta');\nvar isObject = __webpack_require__(24);\nvar has = __webpack_require__(42);\nvar setDesc = __webpack_require__(23).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(39)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzP2ViZmQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1FVEEgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgc2V0RGVzYyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaWQgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///135\n")},function(module,exports){eval("module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcz8xMTczIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///136\n")},function(module,exports,__webpack_require__){eval("var hide = __webpack_require__(35);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanM/NWM5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc3JjLCBzYWZlKSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBpZiAoc2FmZSAmJiB0YXJnZXRba2V5XSkgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtcbiAgICBlbHNlIGhpZGUodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcbiAgfSByZXR1cm4gdGFyZ2V0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///137\n")},function(module,exports,__webpack_require__){"use strict";eval("\nif (__webpack_require__(17)) {\n  var LIBRARY = __webpack_require__(69);\n  var global = __webpack_require__(12);\n  var fails = __webpack_require__(19);\n  var $export = __webpack_require__(10);\n  var $typed = __webpack_require__(127);\n  var $buffer = __webpack_require__(179);\n  var ctx = __webpack_require__(52);\n  var anInstance = __webpack_require__(129);\n  var propertyDesc = __webpack_require__(81);\n  var hide = __webpack_require__(28);\n  var redefineAll = __webpack_require__(128);\n  var toInteger = __webpack_require__(32);\n  var toLength = __webpack_require__(15);\n  var toIndex = __webpack_require__(162);\n  var toAbsoluteIndex = __webpack_require__(83);\n  var toPrimitive = __webpack_require__(87);\n  var has = __webpack_require__(50);\n  var classof = __webpack_require__(72);\n  var isObject = __webpack_require__(25);\n  var toObject = __webpack_require__(36);\n  var isArrayIter = __webpack_require__(180);\n  var create = __webpack_require__(139);\n  var getPrototypeOf = __webpack_require__(165);\n  var gOPN = __webpack_require__(99).f;\n  var getIterFn = __webpack_require__(183);\n  var uid = __webpack_require__(62);\n  var wks = __webpack_require__(11);\n  var createArrayMethod = __webpack_require__(63);\n  var createArrayIncludes = __webpack_require__(92);\n  var speciesConstructor = __webpack_require__(98);\n  var ArrayIterators = __webpack_require__(244);\n  var Iterators = __webpack_require__(66);\n  var $iterDetect = __webpack_require__(184);\n  var setSpecies = __webpack_require__(131);\n  var arrayFill = __webpack_require__(164);\n  var arrayCopyWithin = __webpack_require__(248);\n  var $DP = __webpack_require__(29);\n  var $GOPD = __webpack_require__(140);\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdHlwZWQtYXJyYXkuanM/ZWMzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pZiAocmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSkge1xuICB2YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbiAgdmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xuICB2YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xuICB2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuICB2YXIgJHR5cGVkID0gcmVxdWlyZSgnLi9fdHlwZWQnKTtcbiAgdmFyICRidWZmZXIgPSByZXF1aXJlKCcuL190eXBlZC1idWZmZXInKTtcbiAgdmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xuICB2YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJyk7XG4gIHZhciBwcm9wZXJ0eURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG4gIHZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xuICB2YXIgcmVkZWZpbmVBbGwgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKTtcbiAgdmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbiAgdmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG4gIHZhciB0b0luZGV4ID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbiAgdmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG4gIHZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xuICB2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG4gIHZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xuICB2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbiAgdmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG4gIHZhciBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKTtcbiAgdmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbiAgdmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuICB2YXIgZ09QTiA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZjtcbiAgdmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG4gIHZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbiAgdmFyIHdrcyA9IHJlcXVpcmUoJy4vX3drcycpO1xuICB2YXIgY3JlYXRlQXJyYXlNZXRob2QgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJyk7XG4gIHZhciBjcmVhdGVBcnJheUluY2x1ZGVzID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKTtcbiAgdmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbiAgdmFyIEFycmF5SXRlcmF0b3JzID0gcmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbiAgdmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xuICB2YXIgJGl0ZXJEZXRlY3QgPSByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpO1xuICB2YXIgc2V0U3BlY2llcyA9IHJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJyk7XG4gIHZhciBhcnJheUZpbGwgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJyk7XG4gIHZhciBhcnJheUNvcHlXaXRoaW4gPSByZXF1aXJlKCcuL19hcnJheS1jb3B5LXdpdGhpbicpO1xuICB2YXIgJERQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG4gIHZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG4gIHZhciBkUCA9ICREUC5mO1xuICB2YXIgZ09QRCA9ICRHT1BELmY7XG4gIHZhciBSYW5nZUVycm9yID0gZ2xvYmFsLlJhbmdlRXJyb3I7XG4gIHZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xuICB2YXIgVWludDhBcnJheSA9IGdsb2JhbC5VaW50OEFycmF5O1xuICB2YXIgQVJSQVlfQlVGRkVSID0gJ0FycmF5QnVmZmVyJztcbiAgdmFyIFNIQVJFRF9CVUZGRVIgPSAnU2hhcmVkJyArIEFSUkFZX0JVRkZFUjtcbiAgdmFyIEJZVEVTX1BFUl9FTEVNRU5UID0gJ0JZVEVTX1BFUl9FTEVNRU5UJztcbiAgdmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuICB2YXIgQXJyYXlQcm90byA9IEFycmF5W1BST1RPVFlQRV07XG4gIHZhciAkQXJyYXlCdWZmZXIgPSAkYnVmZmVyLkFycmF5QnVmZmVyO1xuICB2YXIgJERhdGFWaWV3ID0gJGJ1ZmZlci5EYXRhVmlldztcbiAgdmFyIGFycmF5Rm9yRWFjaCA9IGNyZWF0ZUFycmF5TWV0aG9kKDApO1xuICB2YXIgYXJyYXlGaWx0ZXIgPSBjcmVhdGVBcnJheU1ldGhvZCgyKTtcbiAgdmFyIGFycmF5U29tZSA9IGNyZWF0ZUFycmF5TWV0aG9kKDMpO1xuICB2YXIgYXJyYXlFdmVyeSA9IGNyZWF0ZUFycmF5TWV0aG9kKDQpO1xuICB2YXIgYXJyYXlGaW5kID0gY3JlYXRlQXJyYXlNZXRob2QoNSk7XG4gIHZhciBhcnJheUZpbmRJbmRleCA9IGNyZWF0ZUFycmF5TWV0aG9kKDYpO1xuICB2YXIgYXJyYXlJbmNsdWRlcyA9IGNyZWF0ZUFycmF5SW5jbHVkZXModHJ1ZSk7XG4gIHZhciBhcnJheUluZGV4T2YgPSBjcmVhdGVBcnJheUluY2x1ZGVzKGZhbHNlKTtcbiAgdmFyIGFycmF5VmFsdWVzID0gQXJyYXlJdGVyYXRvcnMudmFsdWVzO1xuICB2YXIgYXJyYXlLZXlzID0gQXJyYXlJdGVyYXRvcnMua2V5cztcbiAgdmFyIGFycmF5RW50cmllcyA9IEFycmF5SXRlcmF0b3JzLmVudHJpZXM7XG4gIHZhciBhcnJheUxhc3RJbmRleE9mID0gQXJyYXlQcm90by5sYXN0SW5kZXhPZjtcbiAgdmFyIGFycmF5UmVkdWNlID0gQXJyYXlQcm90by5yZWR1Y2U7XG4gIHZhciBhcnJheVJlZHVjZVJpZ2h0ID0gQXJyYXlQcm90by5yZWR1Y2VSaWdodDtcbiAgdmFyIGFycmF5Sm9pbiA9IEFycmF5UHJvdG8uam9pbjtcbiAgdmFyIGFycmF5U29ydCA9IEFycmF5UHJvdG8uc29ydDtcbiAgdmFyIGFycmF5U2xpY2UgPSBBcnJheVByb3RvLnNsaWNlO1xuICB2YXIgYXJyYXlUb1N0cmluZyA9IEFycmF5UHJvdG8udG9TdHJpbmc7XG4gIHZhciBhcnJheVRvTG9jYWxlU3RyaW5nID0gQXJyYXlQcm90by50b0xvY2FsZVN0cmluZztcbiAgdmFyIElURVJBVE9SID0gd2tzKCdpdGVyYXRvcicpO1xuICB2YXIgVEFHID0gd2tzKCd0b1N0cmluZ1RhZycpO1xuICB2YXIgVFlQRURfQ09OU1RSVUNUT1IgPSB1aWQoJ3R5cGVkX2NvbnN0cnVjdG9yJyk7XG4gIHZhciBERUZfQ09OU1RSVUNUT1IgPSB1aWQoJ2RlZl9jb25zdHJ1Y3RvcicpO1xuICB2YXIgQUxMX0NPTlNUUlVDVE9SUyA9ICR0eXBlZC5DT05TVFI7XG4gIHZhciBUWVBFRF9BUlJBWSA9ICR0eXBlZC5UWVBFRDtcbiAgdmFyIFZJRVcgPSAkdHlwZWQuVklFVztcbiAgdmFyIFdST05HX0xFTkdUSCA9ICdXcm9uZyBsZW5ndGghJztcblxuICB2YXIgJG1hcCA9IGNyZWF0ZUFycmF5TWV0aG9kKDEsIGZ1bmN0aW9uIChPLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gYWxsb2NhdGUoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSksIGxlbmd0aCk7XG4gIH0pO1xuXG4gIHZhciBMSVRUTEVfRU5ESUFOID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShuZXcgVWludDE2QXJyYXkoWzFdKS5idWZmZXIpWzBdID09PSAxO1xuICB9KTtcblxuICB2YXIgRk9SQ0VEX1NFVCA9ICEhVWludDhBcnJheSAmJiAhIVVpbnQ4QXJyYXlbUFJPVE9UWVBFXS5zZXQgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIG5ldyBVaW50OEFycmF5KDEpLnNldCh7fSk7XG4gIH0pO1xuXG4gIHZhciB0b09mZnNldCA9IGZ1bmN0aW9uIChpdCwgQllURVMpIHtcbiAgICB2YXIgb2Zmc2V0ID0gdG9JbnRlZ2VyKGl0KTtcbiAgICBpZiAob2Zmc2V0IDwgMCB8fCBvZmZzZXQgJSBCWVRFUykgdGhyb3cgUmFuZ2VFcnJvcignV3Jvbmcgb2Zmc2V0IScpO1xuICAgIHJldHVybiBvZmZzZXQ7XG4gIH07XG5cbiAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGlzT2JqZWN0KGl0KSAmJiBUWVBFRF9BUlJBWSBpbiBpdCkgcmV0dXJuIGl0O1xuICAgIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgdHlwZWQgYXJyYXkhJyk7XG4gIH07XG5cbiAgdmFyIGFsbG9jYXRlID0gZnVuY3Rpb24gKEMsIGxlbmd0aCkge1xuICAgIGlmICghKGlzT2JqZWN0KEMpICYmIFRZUEVEX0NPTlNUUlVDVE9SIGluIEMpKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ0l0IGlzIG5vdCBhIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9yIScpO1xuICAgIH0gcmV0dXJuIG5ldyBDKGxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHNwZWNpZXNGcm9tTGlzdCA9IGZ1bmN0aW9uIChPLCBsaXN0KSB7XG4gICAgcmV0dXJuIGZyb21MaXN0KHNwZWNpZXNDb25zdHJ1Y3RvcihPLCBPW0RFRl9DT05TVFJVQ1RPUl0pLCBsaXN0KTtcbiAgfTtcblxuICB2YXIgZnJvbUxpc3QgPSBmdW5jdGlvbiAoQywgbGlzdCkge1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICAgIHZhciByZXN1bHQgPSBhbGxvY2F0ZShDLCBsZW5ndGgpO1xuICAgIHdoaWxlIChsZW5ndGggPiBpbmRleCkgcmVzdWx0W2luZGV4XSA9IGxpc3RbaW5kZXgrK107XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgYWRkR2V0dGVyID0gZnVuY3Rpb24gKGl0LCBrZXksIGludGVybmFsKSB7XG4gICAgZFAoaXQsIGtleSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RbaW50ZXJuYWxdOyB9IH0pO1xuICB9O1xuXG4gIHZhciAkZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlIC8qICwgbWFwZm4sIHRoaXNBcmcgKi8pIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHNvdXJjZSk7XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKE8pO1xuICAgIHZhciBpLCBsZW5ndGgsIHZhbHVlcywgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZiAoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhaXNBcnJheUl0ZXIoaXRlckZuKSkge1xuICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCB2YWx1ZXMgPSBbXSwgaSA9IDA7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaSsrKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHN0ZXAudmFsdWUpO1xuICAgICAgfSBPID0gdmFsdWVzO1xuICAgIH1cbiAgICBpZiAobWFwcGluZyAmJiBhTGVuID4gMikgbWFwZm4gPSBjdHgobWFwZm4sIGFyZ3VtZW50c1syXSwgMik7XG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpLCByZXN1bHQgPSBhbGxvY2F0ZSh0aGlzLCBsZW5ndGgpOyBsZW5ndGggPiBpOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IG1hcHBpbmcgPyBtYXBmbihPW2ldLCBpKSA6IE9baV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyICRvZiA9IGZ1bmN0aW9uIG9mKC8qIC4uLml0ZW1zICovKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0gYWxsb2NhdGUodGhpcywgbGVuZ3RoKTtcbiAgICB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHJlc3VsdFtpbmRleF0gPSBhcmd1bWVudHNbaW5kZXgrK107XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBpT1MgU2FmYXJpIDYueCBmYWlscyBoZXJlXG4gIHZhciBUT19MT0NBTEVfQlVHID0gISFVaW50OEFycmF5ICYmIGZhaWxzKGZ1bmN0aW9uICgpIHsgYXJyYXlUb0xvY2FsZVN0cmluZy5jYWxsKG5ldyBVaW50OEFycmF5KDEpKTsgfSk7XG5cbiAgdmFyICR0b0xvY2FsZVN0cmluZyA9IGZ1bmN0aW9uIHRvTG9jYWxlU3RyaW5nKCkge1xuICAgIHJldHVybiBhcnJheVRvTG9jYWxlU3RyaW5nLmFwcGx5KFRPX0xPQ0FMRV9CVUcgPyBhcnJheVNsaWNlLmNhbGwodmFsaWRhdGUodGhpcykpIDogdmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgdmFyIHByb3RvID0ge1xuICAgIGNvcHlXaXRoaW46IGZ1bmN0aW9uIGNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCAvKiAsIGVuZCAqLykge1xuICAgICAgcmV0dXJuIGFycmF5Q29weVdpdGhpbi5jYWxsKHZhbGlkYXRlKHRoaXMpLCB0YXJnZXQsIHN0YXJ0LCBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBldmVyeTogZnVuY3Rpb24gZXZlcnkoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiBhcnJheUV2ZXJ5KHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBmaWxsOiBmdW5jdGlvbiBmaWxsKHZhbHVlIC8qICwgc3RhcnQsIGVuZCAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gYXJyYXlGaWxsLmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlGaWx0ZXIodmFsaWRhdGUodGhpcyksIGNhbGxiYWNrZm4sXG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKSk7XG4gICAgfSxcbiAgICBmaW5kOiBmdW5jdGlvbiBmaW5kKHByZWRpY2F0ZSAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiBhcnJheUZpbmQodmFsaWRhdGUodGhpcyksIHByZWRpY2F0ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgZmluZEluZGV4OiBmdW5jdGlvbiBmaW5kSW5kZXgocHJlZGljYXRlIC8qICwgdGhpc0FyZyAqLykge1xuICAgICAgcmV0dXJuIGFycmF5RmluZEluZGV4KHZhbGlkYXRlKHRoaXMpLCBwcmVkaWNhdGUsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIGFycmF5Rm9yRWFjaCh2YWxpZGF0ZSh0aGlzKSwgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgaW5kZXhPZjogZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hFbGVtZW50IC8qICwgZnJvbUluZGV4ICovKSB7XG4gICAgICByZXR1cm4gYXJyYXlJbmRleE9mKHZhbGlkYXRlKHRoaXMpLCBzZWFyY2hFbGVtZW50LCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCAqLykge1xuICAgICAgcmV0dXJuIGFycmF5SW5jbHVkZXModmFsaWRhdGUodGhpcyksIHNlYXJjaEVsZW1lbnQsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheUpvaW4uYXBwbHkodmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBsYXN0SW5kZXhPZjogZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gYXJyYXlMYXN0SW5kZXhPZi5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIG1hcDogZnVuY3Rpb24gbWFwKG1hcGZuIC8qICwgdGhpc0FyZyAqLykge1xuICAgICAgcmV0dXJuICRtYXAodmFsaWRhdGUodGhpcyksIG1hcGZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICByZWR1Y2U6IGZ1bmN0aW9uIHJlZHVjZShjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheVJlZHVjZS5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheVJlZHVjZVJpZ2h0LmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBsZW5ndGggPSB2YWxpZGF0ZSh0aGF0KS5sZW5ndGg7XG4gICAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW5ndGggLyAyKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB3aGlsZSAoaW5kZXggPCBtaWRkbGUpIHtcbiAgICAgICAgdmFsdWUgPSB0aGF0W2luZGV4XTtcbiAgICAgICAgdGhhdFtpbmRleCsrXSA9IHRoYXRbLS1sZW5ndGhdO1xuICAgICAgICB0aGF0W2xlbmd0aF0gPSB2YWx1ZTtcbiAgICAgIH0gcmV0dXJuIHRoYXQ7XG4gICAgfSxcbiAgICBzb21lOiBmdW5jdGlvbiBzb21lKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgICByZXR1cm4gYXJyYXlTb21lKHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmVmbikge1xuICAgICAgcmV0dXJuIGFycmF5U29ydC5jYWxsKHZhbGlkYXRlKHRoaXMpLCBjb21wYXJlZm4pO1xuICAgIH0sXG4gICAgc3ViYXJyYXk6IGZ1bmN0aW9uIHN1YmFycmF5KGJlZ2luLCBlbmQpIHtcbiAgICAgIHZhciBPID0gdmFsaWRhdGUodGhpcyk7XG4gICAgICB2YXIgbGVuZ3RoID0gTy5sZW5ndGg7XG4gICAgICB2YXIgJGJlZ2luID0gdG9BYnNvbHV0ZUluZGV4KGJlZ2luLCBsZW5ndGgpO1xuICAgICAgcmV0dXJuIG5ldyAoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSkpKFxuICAgICAgICBPLmJ1ZmZlcixcbiAgICAgICAgTy5ieXRlT2Zmc2V0ICsgJGJlZ2luICogTy5CWVRFU19QRVJfRUxFTUVOVCxcbiAgICAgICAgdG9MZW5ndGgoKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9BYnNvbHV0ZUluZGV4KGVuZCwgbGVuZ3RoKSkgLSAkYmVnaW4pXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICB2YXIgJHNsaWNlID0gZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlTbGljZS5jYWxsKHZhbGlkYXRlKHRoaXMpLCBzdGFydCwgZW5kKSk7XG4gIH07XG5cbiAgdmFyICRzZXQgPSBmdW5jdGlvbiBzZXQoYXJyYXlMaWtlIC8qICwgb2Zmc2V0ICovKSB7XG4gICAgdmFsaWRhdGUodGhpcyk7XG4gICAgdmFyIG9mZnNldCA9IHRvT2Zmc2V0KGFyZ3VtZW50c1sxXSwgMSk7XG4gICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgIHZhciBzcmMgPSB0b09iamVjdChhcnJheUxpa2UpO1xuICAgIHZhciBsZW4gPSB0b0xlbmd0aChzcmMubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGlmIChsZW4gKyBvZmZzZXQgPiBsZW5ndGgpIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcbiAgICB3aGlsZSAoaW5kZXggPCBsZW4pIHRoaXNbb2Zmc2V0ICsgaW5kZXhdID0gc3JjW2luZGV4KytdO1xuICB9O1xuXG4gIHZhciAkaXRlcmF0b3JzID0ge1xuICAgIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gYXJyYXlFbnRyaWVzLmNhbGwodmFsaWRhdGUodGhpcykpO1xuICAgIH0sXG4gICAga2V5czogZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgIHJldHVybiBhcnJheUtleXMuY2FsbCh2YWxpZGF0ZSh0aGlzKSk7XG4gICAgfSxcbiAgICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgIHJldHVybiBhcnJheVZhbHVlcy5jYWxsKHZhbGlkYXRlKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzVEFJbmRleCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHJldHVybiBpc09iamVjdCh0YXJnZXQpXG4gICAgICAmJiB0YXJnZXRbVFlQRURfQVJSQVldXG4gICAgICAmJiB0eXBlb2Yga2V5ICE9ICdzeW1ib2wnXG4gICAgICAmJiBrZXkgaW4gdGFyZ2V0XG4gICAgICAmJiBTdHJpbmcoK2tleSkgPT0gU3RyaW5nKGtleSk7XG4gIH07XG4gIHZhciAkZ2V0RGVzYyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkge1xuICAgIHJldHVybiBpc1RBSW5kZXgodGFyZ2V0LCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKVxuICAgICAgPyBwcm9wZXJ0eURlc2MoMiwgdGFyZ2V0W2tleV0pXG4gICAgICA6IGdPUEQodGFyZ2V0LCBrZXkpO1xuICB9O1xuICB2YXIgJHNldERlc2MgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIGlmIChpc1RBSW5kZXgodGFyZ2V0LCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKVxuICAgICAgJiYgaXNPYmplY3QoZGVzYylcbiAgICAgICYmIGhhcyhkZXNjLCAndmFsdWUnKVxuICAgICAgJiYgIWhhcyhkZXNjLCAnZ2V0JylcbiAgICAgICYmICFoYXMoZGVzYywgJ3NldCcpXG4gICAgICAvLyBUT0RPOiBhZGQgdmFsaWRhdGlvbiBkZXNjcmlwdG9yIHcvbyBjYWxsaW5nIGFjY2Vzc29yc1xuICAgICAgJiYgIWRlc2MuY29uZmlndXJhYmxlXG4gICAgICAmJiAoIWhhcyhkZXNjLCAnd3JpdGFibGUnKSB8fCBkZXNjLndyaXRhYmxlKVxuICAgICAgJiYgKCFoYXMoZGVzYywgJ2VudW1lcmFibGUnKSB8fCBkZXNjLmVudW1lcmFibGUpXG4gICAgKSB7XG4gICAgICB0YXJnZXRba2V5XSA9IGRlc2MudmFsdWU7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0gcmV0dXJuIGRQKHRhcmdldCwga2V5LCBkZXNjKTtcbiAgfTtcblxuICBpZiAoIUFMTF9DT05TVFJVQ1RPUlMpIHtcbiAgICAkR09QRC5mID0gJGdldERlc2M7XG4gICAgJERQLmYgPSAkc2V0RGVzYztcbiAgfVxuXG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIUFMTF9DT05TVFJVQ1RPUlMsICdPYmplY3QnLCB7XG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0RGVzYyxcbiAgICBkZWZpbmVQcm9wZXJ0eTogJHNldERlc2NcbiAgfSk7XG5cbiAgaWYgKGZhaWxzKGZ1bmN0aW9uICgpIHsgYXJyYXlUb1N0cmluZy5jYWxsKHt9KTsgfSkpIHtcbiAgICBhcnJheVRvU3RyaW5nID0gYXJyYXlUb0xvY2FsZVN0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIGFycmF5Sm9pbi5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH1cblxuICB2YXIgJFR5cGVkQXJyYXlQcm90b3R5cGUkID0gcmVkZWZpbmVBbGwoe30sIHByb3RvKTtcbiAgcmVkZWZpbmVBbGwoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAkaXRlcmF0b3JzKTtcbiAgaGlkZSgkVHlwZWRBcnJheVByb3RvdHlwZSQsIElURVJBVE9SLCAkaXRlcmF0b3JzLnZhbHVlcyk7XG4gIHJlZGVmaW5lQWxsKCRUeXBlZEFycmF5UHJvdG90eXBlJCwge1xuICAgIHNsaWNlOiAkc2xpY2UsXG4gICAgc2V0OiAkc2V0LFxuICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7IC8qIG5vb3AgKi8gfSxcbiAgICB0b1N0cmluZzogYXJyYXlUb1N0cmluZyxcbiAgICB0b0xvY2FsZVN0cmluZzogJHRvTG9jYWxlU3RyaW5nXG4gIH0pO1xuICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnVmZmVyJywgJ2InKTtcbiAgYWRkR2V0dGVyKCRUeXBlZEFycmF5UHJvdG90eXBlJCwgJ2J5dGVPZmZzZXQnLCAnbycpO1xuICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnl0ZUxlbmd0aCcsICdsJyk7XG4gIGFkZEdldHRlcigkVHlwZWRBcnJheVByb3RvdHlwZSQsICdsZW5ndGgnLCAnZScpO1xuICBkUCgkVHlwZWRBcnJheVByb3RvdHlwZSQsIFRBRywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tUWVBFRF9BUlJBWV07IH1cbiAgfSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgQllURVMsIHdyYXBwZXIsIENMQU1QRUQpIHtcbiAgICBDTEFNUEVEID0gISFDTEFNUEVEO1xuICAgIHZhciBOQU1FID0gS0VZICsgKENMQU1QRUQgPyAnQ2xhbXBlZCcgOiAnJykgKyAnQXJyYXknO1xuICAgIHZhciBHRVRURVIgPSAnZ2V0JyArIEtFWTtcbiAgICB2YXIgU0VUVEVSID0gJ3NldCcgKyBLRVk7XG4gICAgdmFyIFR5cGVkQXJyYXkgPSBnbG9iYWxbTkFNRV07XG4gICAgdmFyIEJhc2UgPSBUeXBlZEFycmF5IHx8IHt9O1xuICAgIHZhciBUQUMgPSBUeXBlZEFycmF5ICYmIGdldFByb3RvdHlwZU9mKFR5cGVkQXJyYXkpO1xuICAgIHZhciBGT1JDRUQgPSAhVHlwZWRBcnJheSB8fCAhJHR5cGVkLkFCVjtcbiAgICB2YXIgTyA9IHt9O1xuICAgIHZhciBUeXBlZEFycmF5UHJvdG90eXBlID0gVHlwZWRBcnJheSAmJiBUeXBlZEFycmF5W1BST1RPVFlQRV07XG4gICAgdmFyIGdldHRlciA9IGZ1bmN0aW9uICh0aGF0LCBpbmRleCkge1xuICAgICAgdmFyIGRhdGEgPSB0aGF0Ll9kO1xuICAgICAgcmV0dXJuIGRhdGEudltHRVRURVJdKGluZGV4ICogQllURVMgKyBkYXRhLm8sIExJVFRMRV9FTkRJQU4pO1xuICAgIH07XG4gICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh0aGF0LCBpbmRleCwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhhdC5fZDtcbiAgICAgIGlmIChDTEFNUEVEKSB2YWx1ZSA9ICh2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpKSA8IDAgPyAwIDogdmFsdWUgPiAweGZmID8gMHhmZiA6IHZhbHVlICYgMHhmZjtcbiAgICAgIGRhdGEudltTRVRURVJdKGluZGV4ICogQllURVMgKyBkYXRhLm8sIHZhbHVlLCBMSVRUTEVfRU5ESUFOKTtcbiAgICB9O1xuICAgIHZhciBhZGRFbGVtZW50ID0gZnVuY3Rpb24gKHRoYXQsIGluZGV4KSB7XG4gICAgICBkUCh0aGF0LCBpbmRleCwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0dGVyKHRoaXMsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc2V0dGVyKHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKEZPUkNFRCkge1xuICAgICAgVHlwZWRBcnJheSA9IHdyYXBwZXIoZnVuY3Rpb24gKHRoYXQsIGRhdGEsICRvZmZzZXQsICRsZW5ndGgpIHtcbiAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FLCAnX2QnKTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBidWZmZXIsIGJ5dGVMZW5ndGgsIGxlbmd0aCwga2xhc3M7XG4gICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICBsZW5ndGggPSB0b0luZGV4KGRhdGEpO1xuICAgICAgICAgIGJ5dGVMZW5ndGggPSBsZW5ndGggKiBCWVRFUztcbiAgICAgICAgICBidWZmZXIgPSBuZXcgJEFycmF5QnVmZmVyKGJ5dGVMZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiAkQXJyYXlCdWZmZXIgfHwgKGtsYXNzID0gY2xhc3NvZihkYXRhKSkgPT0gQVJSQVlfQlVGRkVSIHx8IGtsYXNzID09IFNIQVJFRF9CVUZGRVIpIHtcbiAgICAgICAgICBidWZmZXIgPSBkYXRhO1xuICAgICAgICAgIG9mZnNldCA9IHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKTtcbiAgICAgICAgICB2YXIgJGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBpZiAoJGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoJGxlbiAlIEJZVEVTKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0xFTkdUSCk7XG4gICAgICAgICAgICBieXRlTGVuZ3RoID0gJGxlbiAtIG9mZnNldDtcbiAgICAgICAgICAgIGlmIChieXRlTGVuZ3RoIDwgMCkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBieXRlTGVuZ3RoID0gdG9MZW5ndGgoJGxlbmd0aCkgKiBCWVRFUztcbiAgICAgICAgICAgIGlmIChieXRlTGVuZ3RoICsgb2Zmc2V0ID4gJGxlbikgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZW5ndGggPSBieXRlTGVuZ3RoIC8gQllURVM7XG4gICAgICAgIH0gZWxzZSBpZiAoVFlQRURfQVJSQVkgaW4gZGF0YSkge1xuICAgICAgICAgIHJldHVybiBmcm9tTGlzdChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJGZyb20uY2FsbChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBoaWRlKHRoYXQsICdfZCcsIHtcbiAgICAgICAgICBiOiBidWZmZXIsXG4gICAgICAgICAgbzogb2Zmc2V0LFxuICAgICAgICAgIGw6IGJ5dGVMZW5ndGgsXG4gICAgICAgICAgZTogbGVuZ3RoLFxuICAgICAgICAgIHY6IG5ldyAkRGF0YVZpZXcoYnVmZmVyKVxuICAgICAgICB9KTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSBhZGRFbGVtZW50KHRoYXQsIGluZGV4KyspO1xuICAgICAgfSk7XG4gICAgICBUeXBlZEFycmF5UHJvdG90eXBlID0gVHlwZWRBcnJheVtQUk9UT1RZUEVdID0gY3JlYXRlKCRUeXBlZEFycmF5UHJvdG90eXBlJCk7XG4gICAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsICdjb25zdHJ1Y3RvcicsIFR5cGVkQXJyYXkpO1xuICAgIH0gZWxzZSBpZiAoIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIFR5cGVkQXJyYXkoMSk7XG4gICAgfSkgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIG5ldyBUeXBlZEFycmF5KC0xKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9KSB8fCAhJGl0ZXJEZXRlY3QoZnVuY3Rpb24gKGl0ZXIpIHtcbiAgICAgIG5ldyBUeXBlZEFycmF5KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgICBuZXcgVHlwZWRBcnJheShudWxsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICAgIG5ldyBUeXBlZEFycmF5KDEuNSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgICBuZXcgVHlwZWRBcnJheShpdGVyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9LCB0cnVlKSkge1xuICAgICAgVHlwZWRBcnJheSA9IHdyYXBwZXIoZnVuY3Rpb24gKHRoYXQsIGRhdGEsICRvZmZzZXQsICRsZW5ndGgpIHtcbiAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FKTtcbiAgICAgICAgdmFyIGtsYXNzO1xuICAgICAgICAvLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NVxuICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSByZXR1cm4gbmV3IEJhc2UodG9JbmRleChkYXRhKSk7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgJEFycmF5QnVmZmVyIHx8IChrbGFzcyA9IGNsYXNzb2YoZGF0YSkpID09IEFSUkFZX0JVRkZFUiB8fCBrbGFzcyA9PSBTSEFSRURfQlVGRkVSKSB7XG4gICAgICAgICAgcmV0dXJuICRsZW5ndGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBuZXcgQmFzZShkYXRhLCB0b09mZnNldCgkb2Zmc2V0LCBCWVRFUyksICRsZW5ndGgpXG4gICAgICAgICAgICA6ICRvZmZzZXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IG5ldyBCYXNlKGRhdGEsIHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKSlcbiAgICAgICAgICAgICAgOiBuZXcgQmFzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVFlQRURfQVJSQVkgaW4gZGF0YSkgcmV0dXJuIGZyb21MaXN0KFR5cGVkQXJyYXksIGRhdGEpO1xuICAgICAgICByZXR1cm4gJGZyb20uY2FsbChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgYXJyYXlGb3JFYWNoKFRBQyAhPT0gRnVuY3Rpb24ucHJvdG90eXBlID8gZ09QTihCYXNlKS5jb25jYXQoZ09QTihUQUMpKSA6IGdPUE4oQmFzZSksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIFR5cGVkQXJyYXkpKSBoaWRlKFR5cGVkQXJyYXksIGtleSwgQmFzZVtrZXldKTtcbiAgICAgIH0pO1xuICAgICAgVHlwZWRBcnJheVtQUk9UT1RZUEVdID0gVHlwZWRBcnJheVByb3RvdHlwZTtcbiAgICAgIGlmICghTElCUkFSWSkgVHlwZWRBcnJheVByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFR5cGVkQXJyYXk7XG4gICAgfVxuICAgIHZhciAkbmF0aXZlSXRlcmF0b3IgPSBUeXBlZEFycmF5UHJvdG90eXBlW0lURVJBVE9SXTtcbiAgICB2YXIgQ09SUkVDVF9JVEVSX05BTUUgPSAhISRuYXRpdmVJdGVyYXRvclxuICAgICAgJiYgKCRuYXRpdmVJdGVyYXRvci5uYW1lID09ICd2YWx1ZXMnIHx8ICRuYXRpdmVJdGVyYXRvci5uYW1lID09IHVuZGVmaW5lZCk7XG4gICAgdmFyICRpdGVyYXRvciA9ICRpdGVyYXRvcnMudmFsdWVzO1xuICAgIGhpZGUoVHlwZWRBcnJheSwgVFlQRURfQ09OU1RSVUNUT1IsIHRydWUpO1xuICAgIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgVFlQRURfQVJSQVksIE5BTUUpO1xuICAgIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgVklFVywgdHJ1ZSk7XG4gICAgaGlkZShUeXBlZEFycmF5UHJvdG90eXBlLCBERUZfQ09OU1RSVUNUT1IsIFR5cGVkQXJyYXkpO1xuXG4gICAgaWYgKENMQU1QRUQgPyBuZXcgVHlwZWRBcnJheSgxKVtUQUddICE9IE5BTUUgOiAhKFRBRyBpbiBUeXBlZEFycmF5UHJvdG90eXBlKSkge1xuICAgICAgZFAoVHlwZWRBcnJheVByb3RvdHlwZSwgVEFHLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTkFNRTsgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgT1tOQU1FXSA9IFR5cGVkQXJyYXk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqIChUeXBlZEFycmF5ICE9IEJhc2UpLCBPKTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5TLCBOQU1FLCB7XG4gICAgICBCWVRFU19QRVJfRUxFTUVOVDogQllURVNcbiAgICB9KTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBCYXNlLm9mLmNhbGwoVHlwZWRBcnJheSwgMSk7IH0pLCBOQU1FLCB7XG4gICAgICBmcm9tOiAkZnJvbSxcbiAgICAgIG9mOiAkb2ZcbiAgICB9KTtcblxuICAgIGlmICghKEJZVEVTX1BFUl9FTEVNRU5UIGluIFR5cGVkQXJyYXlQcm90b3R5cGUpKSBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIEJZVEVTX1BFUl9FTEVNRU5ULCBCWVRFUyk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuUCwgTkFNRSwgcHJvdG8pO1xuXG4gICAgc2V0U3BlY2llcyhOQU1FKTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogRk9SQ0VEX1NFVCwgTkFNRSwgeyBzZXQ6ICRzZXQgfSk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqICFDT1JSRUNUX0lURVJfTkFNRSwgTkFNRSwgJGl0ZXJhdG9ycyk7XG5cbiAgICBpZiAoIUxJQlJBUlkgJiYgVHlwZWRBcnJheVByb3RvdHlwZS50b1N0cmluZyAhPSBhcnJheVRvU3RyaW5nKSBUeXBlZEFycmF5UHJvdG90eXBlLnRvU3RyaW5nID0gYXJyYXlUb1N0cmluZztcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgbmV3IFR5cGVkQXJyYXkoMSkuc2xpY2UoKTtcbiAgICB9KSwgTkFNRSwgeyBzbGljZTogJHNsaWNlIH0pO1xuXG4gICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFsxLCAyXS50b0xvY2FsZVN0cmluZygpICE9IG5ldyBUeXBlZEFycmF5KFsxLCAyXSkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICB9KSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgVHlwZWRBcnJheVByb3RvdHlwZS50b0xvY2FsZVN0cmluZy5jYWxsKFsxLCAyXSk7XG4gICAgfSkpLCBOQU1FLCB7IHRvTG9jYWxlU3RyaW5nOiAkdG9Mb2NhbGVTdHJpbmcgfSk7XG5cbiAgICBJdGVyYXRvcnNbTkFNRV0gPSBDT1JSRUNUX0lURVJfTkFNRSA/ICRuYXRpdmVJdGVyYXRvciA6ICRpdGVyYXRvcjtcbiAgICBpZiAoIUxJQlJBUlkgJiYgIUNPUlJFQ1RfSVRFUl9OQU1FKSBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIElURVJBVE9SLCAkaXRlcmF0b3IpO1xuICB9O1xufSBlbHNlIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///138\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(16);\nvar dPs = __webpack_require__(243);\nvar enumBugKeys = __webpack_require__(118);\nvar IE_PROTO = __webpack_require__(117)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(122)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(182).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcz8yYWViIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///139\n")},function(module,exports,__webpack_require__){eval("var pIE = __webpack_require__(185);\nvar createDesc = __webpack_require__(81);\nvar toIObject = __webpack_require__(73);\nvar toPrimitive = __webpack_require__(87);\nvar has = __webpack_require__(50);\nvar IE8_DOM_DEFINE = __webpack_require__(148);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(17) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanM/MTFlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///140\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\n__webpack_require__(46);\n\nvar _getIterator2 = _interopRequireDefault(__webpack_require__(133));\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _mqtt = _interopRequireDefault(__webpack_require__(257));\n\nvar _v6sdk = __webpack_require__(84);\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nvar _JsonMsgBodyCodec = _interopRequireDefault(__webpack_require__(265));\n\nvar Message = function Message() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Message);\n  (0, _defineProperty2["default"])(this, "sessionId", null);\n  (0, _defineProperty2["default"])(this, "connect", function (url) {\n    return new _promise["default"](function (resolve, reject) {\n      try {\n        // let protocol = window.location.protocol.indexOf(\'https\') == -1?\'ws\':\'wss\';\n        var protocol = \'wss\';\n        url = protocol + \'://\' + url + \'/srtc\';\n        console.log(\'mqttUrl >>>\', url);\n        var jsonPacketCodec = new _v6sdk.v6sdk.JsonPacketContentCodec();\n        var msgBodyCodec = new _JsonMsgBodyCodec["default"]();\n        _this.sessionId = _common["default"].uuid();\n        var data = {\n          url: url,\n          username: _config["default"].config.uccId,\n          password: _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId),\n          clientId: _config["default"].config.deviceId + \';code=json\',\n          codecs: [jsonPacketCodec],\n          keepAlive: 60\n        };\n        console.log(data);\n\n        _mqtt["default"].connect(data, msgBodyCodec);\n\n        resolve();\n      } catch (e) {\n        reject(e);\n      }\n    });\n  });\n  (0, _defineProperty2["default"])(this, "on", function (callback) {\n    _mqtt["default"].onConnectEvent(function (code, reason) {\n      callback(code, reason);\n    });\n  });\n  (0, _defineProperty2["default"])(this, "onMessage", function (callback) {\n    _mqtt["default"].onMessageEvent(function (status, res) {\n      console.log(\'--------------server get message:\', res);\n      var messages = res.messages;\n      var message = null;\n\n      if (messages.length === 1) {\n        message = messages[0].content.body;\n        callback(message);\n      } else {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = (0, _getIterator2["default"])(messages), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var item = _step.value;\n            message = item.content.body;\n            callback(message);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator["return"] != null) {\n              _iterator["return"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n    });\n  });\n  (0, _defineProperty2["default"])(this, "sendMessage", function (msg, contentType, cb) {\n    if (contentType.indexOf(\'image/\') >= 0) {\n      _mqtt["default"].sendImage(msg, cb);\n\n      return;\n    }\n\n    if (contentType === \'message/displayed-status\') {\n      // sendStatus(msg, cb)\n      return;\n    }\n\n    if (contentType === \'text/commontemplate\') {\n      // sendStatus15(msg, cb)\n      return;\n    }\n\n    _mqtt["default"].sendText(msg, cb);\n  });\n  (0, _defineProperty2["default"])(this, "isConnect", function () {\n    return _mqtt["default"].connectStatus();\n  });\n  (0, _defineProperty2["default"])(this, "disconnect", function () {\n    _mqtt["default"].quit();\n  });\n};\n\nvar _default = new Message();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3NlcnZlci9tcXR0TWVzc2FnZS5qcz8yNjQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtcXR0IGZyb20gJy4uL2xpYnJhcnkvbXF0dC9tcXR0J1xuaW1wb3J0IHsgdjZzZGsgfSBmcm9tICcuLi9saWJyYXJ5L21xdHQvdjZzZGsnXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uL2NvbmZpZydcbmltcG9ydCBDb21tb24gZnJvbSAnLi4vdXRpbC9jb21tb24nXG5pbXBvcnQgSnNvbk1zZ0JvZHlDb2RlYyBmcm9tICcuLi9saWJyYXJ5L21xdHQvSnNvbk1zZ0JvZHlDb2RlYydcbmNsYXNzIE1lc3NhZ2Uge1xuICBzZXNzaW9uSWQgPSBudWxsXG5cbiAgLyoqXG4gICAqIG1xdHTov57mjqVcbiAgICogQHBhcmFtIHVybFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+IHwgUHJvbWlzZX1cbiAgICovXG4gIGNvbm5lY3QgPSB1cmwgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBsZXQgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZignaHR0cHMnKSA9PSAtMT8nd3MnOid3c3MnO1xuICAgICAgICBsZXQgcHJvdG9jb2wgPSAnd3NzJ1xuXG4gICAgICAgIHVybCA9IHByb3RvY29sICsgJzovLycgKyB1cmwgKyAnL3NydGMnXG4gICAgICAgIGNvbnNvbGUubG9nKCdtcXR0VXJsID4+PicsIHVybClcbiAgICAgICAgbGV0IGpzb25QYWNrZXRDb2RlYyA9IG5ldyB2NnNkay5Kc29uUGFja2V0Q29udGVudENvZGVjKClcbiAgICAgICAgbGV0IG1zZ0JvZHlDb2RlYyA9IG5ldyBKc29uTXNnQm9keUNvZGVjKClcbiAgICAgICAgdGhpcy5zZXNzaW9uSWQgPSBDb21tb24udXVpZCgpXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHVzZXJuYW1lOiBDb25maWcuY29uZmlnLnVjY0lkLFxuICAgICAgICAgIHBhc3N3b3JkOiBDb21tb24uc2V0VG9rZW4odGhpcy5zZXNzaW9uSWQsIENvbmZpZy5jb25maWcuZGV2aWNlSWQpLFxuICAgICAgICAgIGNsaWVudElkOiBDb25maWcuY29uZmlnLmRldmljZUlkICsgJztjb2RlPWpzb24nLFxuICAgICAgICAgIGNvZGVjczogW2pzb25QYWNrZXRDb2RlY10sXG4gICAgICAgICAga2VlcEFsaXZlOiA2MCxcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICBtcXR0LmNvbm5lY3QoZGF0YSwgbXNnQm9keUNvZGVjKVxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDnm5HlkKxcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqL1xuICBvbiA9IGNhbGxiYWNrID0+IHtcbiAgICBtcXR0Lm9uQ29ubmVjdEV2ZW50KChjb2RlLCByZWFzb24pID0+IHtcbiAgICAgIGNhbGxiYWNrKGNvZGUsIHJlYXNvbilcbiAgICB9KVxuICB9XG5cbiAgLy/kuIvooYzmtojmga9cbiAgb25NZXNzYWdlID0gY2FsbGJhY2sgPT4ge1xuICAgIG1xdHQub25NZXNzYWdlRXZlbnQoKHN0YXR1cywgcmVzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS1zZXJ2ZXIgZ2V0IG1lc3NhZ2U6JywgcmVzKVxuICAgICAgbGV0IG1lc3NhZ2VzID0gcmVzLm1lc3NhZ2VzXG4gICAgICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzWzBdLmNvbnRlbnQuYm9keVxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgIG1lc3NhZ2UgPSBpdGVtLmNvbnRlbnQuYm9keVxuICAgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOS4iuihjOa2iOaBr1xuICAgKiBAcGFyYW0gbWVzc2FnZVR5cGUgbnVtYmVyXG4gICAqIEBwYXJhbSBwZWVyVXJpXG4gICAqIEBwYXJhbSByZWNlaXZlclxuICAgKiBAcGFyYW0gY29udGVudFxuICAgKiBAcGFyYW0gdG9waWNcbiAgICovXG4gIHNlbmRNZXNzYWdlID0gKG1zZywgY29udGVudFR5cGUsIGNiKSA9PiB7XG4gICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoJ2ltYWdlLycpID49IDApIHtcbiAgICAgIG1xdHQuc2VuZEltYWdlKG1zZywgY2IpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGNvbnRlbnRUeXBlID09PSAnbWVzc2FnZS9kaXNwbGF5ZWQtc3RhdHVzJykge1xuICAgICAgLy8gc2VuZFN0YXR1cyhtc2csIGNiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChjb250ZW50VHlwZSA9PT0gJ3RleHQvY29tbW9udGVtcGxhdGUnKSB7XG4gICAgICAvLyBzZW5kU3RhdHVzMTUobXNnLCBjYilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBtcXR0LnNlbmRUZXh0KG1zZywgY2IpXG4gIH1cblxuICBpc0Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG1xdHQuY29ubmVjdFN0YXR1cygpXG4gIH1cblxuICBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgIG1xdHQucXVpdCgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1lc3NhZ2UoKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTs7OztBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///141\n')},function(module,exports,__webpack_require__){"use strict";eval("\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = __webpack_require__(10);\nvar $find = __webpack_require__(63)(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n__webpack_require__(130)(KEY);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZC5qcz83NTE0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIDIyLjEuMy44IEFycmF5LnByb3RvdHlwZS5maW5kKHByZWRpY2F0ZSwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGZpbmQgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoNSk7XG52YXIgS0VZID0gJ2ZpbmQnO1xudmFyIGZvcmNlZCA9IHRydWU7XG4vLyBTaG91bGRuJ3Qgc2tpcCBob2xlc1xuaWYgKEtFWSBpbiBbXSkgQXJyYXkoMSlbS0VZXShmdW5jdGlvbiAoKSB7IGZvcmNlZCA9IGZhbHNlOyB9KTtcbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogZm9yY2VkLCAnQXJyYXknLCB7XG4gIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoY2FsbGJhY2tmbiAvKiAsIHRoYXQgPSB1bmRlZmluZWQgKi8pIHtcbiAgICByZXR1cm4gJGZpbmQodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbnJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpKEtFWSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///142\n")},,,function(module,exports,__webpack_require__){eval("module.exports = !__webpack_require__(21) && !__webpack_require__(39)(function () {\n  return Object.defineProperty(__webpack_require__(101)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcz83OTRiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///145\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(23);\nvar anObject = __webpack_require__(20);\nvar getKeys = __webpack_require__(68);\n\nmodule.exports = __webpack_require__(21) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzPzdlOTAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///146\n")},function(module,exports,__webpack_require__){eval("var has = __webpack_require__(42);\nvar toIObject = __webpack_require__(31);\nvar arrayIndexOf = __webpack_require__(204)(false);\nvar IE_PROTO = __webpack_require__(104)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcz9lNmYzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///147\n")},function(module,exports,__webpack_require__){eval("module.exports = !__webpack_require__(17) && !__webpack_require__(19)(function () {\n  return Object.defineProperty(__webpack_require__(122)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanM/YzY5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///148\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(9);\nvar has = __webpack_require__(42);\nvar DESCRIPTORS = __webpack_require__(21);\nvar $export = __webpack_require__(6);\nvar redefine = __webpack_require__(150);\nvar META = __webpack_require__(135).KEY;\nvar $fails = __webpack_require__(39);\nvar shared = __webpack_require__(105);\nvar setToStringTag = __webpack_require__(71);\nvar uid = __webpack_require__(79);\nvar wks = __webpack_require__(14);\nvar wksExt = __webpack_require__(110);\nvar wksDefine = __webpack_require__(111);\nvar enumKeys = __webpack_require__(216);\nvar isArray = __webpack_require__(123);\nvar anObject = __webpack_require__(20);\nvar isObject = __webpack_require__(24);\nvar toObject = __webpack_require__(55);\nvar toIObject = __webpack_require__(31);\nvar toPrimitive = __webpack_require__(102);\nvar createDesc = __webpack_require__(59);\nvar _create = __webpack_require__(88);\nvar gOPNExt = __webpack_require__(172);\nvar $GOPD = __webpack_require__(80);\nvar $GOPS = __webpack_require__(85);\nvar $DP = __webpack_require__(23);\nvar $keys = __webpack_require__(68);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(107).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(86).f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(61)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(35)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanM/MDE0YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgTUVUQSA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVk7XG52YXIgJGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIHdrc0RlZmluZSA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKTtcbnZhciBlbnVtS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBnT1BORXh0ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0Jyk7XG52YXIgJEdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICRHT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciAkRFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QRCA9ICRHT1BELmY7XG52YXIgZFAgPSAkRFAuZjtcbnZhciBnT1BOID0gZ09QTkV4dC5mO1xudmFyICRTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyICRKU09OID0gZ2xvYmFsLkpTT047XG52YXIgX3N0cmluZ2lmeSA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBISURERU4gPSB3a3MoJ19oaWRkZW4nKTtcbnZhciBUT19QUklNSVRJVkUgPSB3a3MoJ3RvUHJpbWl0aXZlJyk7XG52YXIgaXNFbnVtID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpO1xudmFyIEFsbFN5bWJvbHMgPSBzaGFyZWQoJ3N5bWJvbHMnKTtcbnZhciBPUFN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdFtQUk9UT1RZUEVdO1xudmFyIFVTRV9OQVRJVkUgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nICYmICEhJEdPUFMuZjtcbnZhciBRT2JqZWN0ID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7IHZhbHVlOiA3IH0pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24gKGl0LCBrZXksIEQpIHtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmIChwcm90b0Rlc2MpIGRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYgKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pIGRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24gKHRhZykge1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCkge1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvKSAkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSkpIHtcbiAgICBpZiAoIUQuZW51bWVyYWJsZSkge1xuICAgICAgaWYgKCFoYXMoaXQsIEhJRERFTikpIGRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSBpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHsgZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSkgfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCkge1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSk7XG4gIHZhciBpID0gMDtcbiAgdmFyIGwgPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGwgPiBpKSAkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKSB7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KSB7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmICh0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICBpdCA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZiAoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSBELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHZhciBuYW1lcyA9IGdPUE4odG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmICghaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICB2YXIgSVNfT1AgPSBpdCA9PT0gT2JqZWN0UHJvdG87XG4gIHZhciBuYW1lcyA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSkgcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZiAoIVVTRV9OQVRJVkUpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpIHRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8pICRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmIChoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmIChERVNDUklQVE9SUyAmJiBzZXR0ZXIpIHNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywgeyBjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldCB9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgJEdPUFMuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5JykpIHtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFN5bWJvbDogJFN5bWJvbCB9KTtcblxuZm9yICh2YXIgZXM2U3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBqID0gMDsgZXM2U3ltYm9scy5sZW5ndGggPiBqOyl3a3MoZXM2U3ltYm9sc1tqKytdKTtcblxuZm9yICh2YXIgd2VsbEtub3duU3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSB3a3NEZWZpbmUod2VsbEtub3duU3ltYm9sc1trKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gU3ltYm9sUmVnaXN0cnkpIGlmIChTeW1ib2xSZWdpc3RyeVtrZXldID09PSBzeW0pIHJldHVybiBrZXk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gQ2hyb21lIDM4IGFuZCAzOSBgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc2AgZmFpbHMgb24gcHJpbWl0aXZlc1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzQ0M1xudmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSAkZmFpbHMoZnVuY3Rpb24gKCkgeyAkR09QUy5mKDEpOyB9KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBGQUlMU19PTl9QUklNSVRJVkVTLCAnT2JqZWN0Jywge1xuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICAgIHJldHVybiAkR09QUy5mKHRvT2JqZWN0KGl0KSk7XG4gIH1cbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHsgYTogUyB9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpIHtcbiAgICB2YXIgYXJncyA9IFtpdF07XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAkcmVwbGFjZXIgPSByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYgKCFpc09iamVjdChyZXBsYWNlcikgJiYgaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIGlmICghaXNBcnJheShyZXBsYWNlcikpIHJlcGxhY2VyID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgJHJlcGxhY2VyID09ICdmdW5jdGlvbicpIHZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZiAoIWlzU3ltYm9sKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///149\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(35);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcz85MTM4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///150\n")},function(module,exports,__webpack_require__){eval("var document = __webpack_require__(9).document;\nmodule.exports = document && document.documentElement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzPzMyZmMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///151\n")},function(module,exports,__webpack_require__){eval("// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(20);\nvar aFunction = __webpack_require__(67);\nvar SPECIES = __webpack_require__(14)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzP2YyMDEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///152\n")},function(module,exports,__webpack_require__){eval("var ctx = __webpack_require__(34);\nvar invoke = __webpack_require__(225);\nvar html = __webpack_require__(151);\nvar cel = __webpack_require__(101);\nvar global = __webpack_require__(9);\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(60)(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190YXNrLmpzPzQxNzgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGludm9rZSA9IHJlcXVpcmUoJy4vX2ludm9rZScpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuL19odG1sJyk7XG52YXIgY2VsID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBzZXRUYXNrID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbnZhciBjbGVhclRhc2sgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGU7XG52YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG52YXIgRGlzcGF0Y2ggPSBnbG9iYWwuRGlzcGF0Y2g7XG52YXIgY291bnRlciA9IDA7XG52YXIgcXVldWUgPSB7fTtcbnZhciBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbnZhciBkZWZlciwgY2hhbm5lbCwgcG9ydDtcbnZhciBydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpZCA9ICt0aGlzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gIGlmIChxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICBmbigpO1xuICB9XG59O1xudmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmICghc2V0VGFzayB8fCAhY2xlYXJUYXNrKSB7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIHZhciBpID0gMTtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmIChyZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2VzcycpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIFNwaGVyZSAoSlMgZ2FtZSBlbmdpbmUpIERpc3BhdGNoIEFQSVxuICB9IGVsc2UgaWYgKERpc3BhdGNoICYmIERpc3BhdGNoLm5vdykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBEaXNwYXRjaC5ub3coY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0ZW5lcjtcbiAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0JykpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcbiAgICB9O1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///153\n")},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wZXJmb3JtLmpzPzQ0MzkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiB7IGU6IGZhbHNlLCB2OiBleGVjKCkgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IGU6IHRydWUsIHY6IGUgfTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///154\n")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(20);\nvar isObject = __webpack_require__(24);\nvar newPromiseCapability = __webpack_require__(112);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9taXNlLXJlc29sdmUuanM/Y2Q3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDLCB4KSB7XG4gIGFuT2JqZWN0KEMpO1xuICBpZiAoaXNPYmplY3QoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIHg7XG4gIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5LmYoQyk7XG4gIHZhciByZXNvbHZlID0gcHJvbWlzZUNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgcmVzb2x2ZSh4KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///155\n")},function(module,exports,__webpack_require__){eval("// 21.2.5.3 get RegExp.prototype.flags()\nif (__webpack_require__(17) && /./g.flags != 'g') __webpack_require__(29).f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: __webpack_require__(82)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmZsYWdzLmpzPzM4NDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MoKVxuaWYgKHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgLy4vZy5mbGFncyAhPSAnZycpIHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYoUmVnRXhwLnByb3RvdHlwZSwgJ2ZsYWdzJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogcmVxdWlyZSgnLi9fZmxhZ3MnKVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///156\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\nvar defined = __webpack_require__(78);\nvar fails = __webpack_require__(39);\nvar spaces = __webpack_require__(113);\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctdHJpbS5qcz9hMWNlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgc3BhY2VzID0gcmVxdWlyZSgnLi9fc3RyaW5nLXdzJyk7XG52YXIgc3BhY2UgPSAnWycgKyBzcGFjZXMgKyAnXSc7XG52YXIgbm9uID0gJ1xcdTIwMGJcXHUwMDg1JztcbnZhciBsdHJpbSA9IFJlZ0V4cCgnXicgKyBzcGFjZSArIHNwYWNlICsgJyonKTtcbnZhciBydHJpbSA9IFJlZ0V4cChzcGFjZSArIHNwYWNlICsgJyokJyk7XG5cbnZhciBleHBvcnRlciA9IGZ1bmN0aW9uIChLRVksIGV4ZWMsIEFMSUFTKSB7XG4gIHZhciBleHAgPSB7fTtcbiAgdmFyIEZPUkNFID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhIXNwYWNlc1tLRVldKCkgfHwgbm9uW0tFWV0oKSAhPSBub247XG4gIH0pO1xuICB2YXIgZm4gPSBleHBbS0VZXSA9IEZPUkNFID8gZXhlYyh0cmltKSA6IHNwYWNlc1tLRVldO1xuICBpZiAoQUxJQVMpIGV4cFtBTElBU10gPSBmbjtcbiAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBGT1JDRSwgJ1N0cmluZycsIGV4cCk7XG59O1xuXG4vLyAxIC0+IFN0cmluZyN0cmltTGVmdFxuLy8gMiAtPiBTdHJpbmcjdHJpbVJpZ2h0XG4vLyAzIC0+IFN0cmluZyN0cmltXG52YXIgdHJpbSA9IGV4cG9ydGVyLnRyaW0gPSBmdW5jdGlvbiAoc3RyaW5nLCBUWVBFKSB7XG4gIHN0cmluZyA9IFN0cmluZyhkZWZpbmVkKHN0cmluZykpO1xuICBpZiAoVFlQRSAmIDEpIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKGx0cmltLCAnJyk7XG4gIGlmIChUWVBFICYgMikgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocnRyaW0sICcnKTtcbiAgcmV0dXJuIHN0cmluZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///157\n")},function(module,exports,__webpack_require__){eval("// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = __webpack_require__(114);\nvar defined = __webpack_require__(51);\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWNvbnRleHQuanM/ZDJjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfVxudmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi9faXMtcmVnZXhwJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGhhdCwgc2VhcmNoU3RyaW5nLCBOQU1FKSB7XG4gIGlmIChpc1JlZ0V4cChzZWFyY2hTdHJpbmcpKSB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZyMnICsgTkFNRSArIFwiIGRvZXNuJ3QgYWNjZXB0IHJlZ2V4IVwiKTtcbiAgcmV0dXJuIFN0cmluZyhkZWZpbmVkKHRoYXQpKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///158\n")},function(module,exports,__webpack_require__){eval("var MATCH = __webpack_require__(11)('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZmFpbHMtaXMtcmVnZXhwLmpzPzUxNDciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1BVENIID0gcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIHJlID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW0tFWV0ocmUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICEnLy4vJ1tLRVldKHJlKTtcbiAgICB9IGNhdGNoIChmKSB7IC8qIGVtcHR5ICovIH1cbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///159\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(239);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanM/NWQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///160\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(240);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9zeW1ib2wuanM/NjdiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///161\n")},function(module,exports,__webpack_require__){eval("// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = __webpack_require__(32);\nvar toLength = __webpack_require__(15);\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdG8taW5kZXguanM/MDlmYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2luZGV4XG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDA7XG4gIHZhciBudW1iZXIgPSB0b0ludGVnZXIoaXQpO1xuICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgobnVtYmVyKTtcbiAgaWYgKG51bWJlciAhPT0gbGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKCdXcm9uZyBsZW5ndGghJyk7XG4gIHJldHVybiBsZW5ndGg7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///162\n")},function(module,exports,__webpack_require__){eval("var has = __webpack_require__(50);\nvar toIObject = __webpack_require__(73);\nvar arrayIndexOf = __webpack_require__(92)(false);\nvar IE_PROTO = __webpack_require__(117)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanM/Y2UxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///163\n")},function(module,exports,__webpack_require__){"use strict";eval("// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n\nvar toObject = __webpack_require__(36);\nvar toAbsoluteIndex = __webpack_require__(83);\nvar toLength = __webpack_require__(15);\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktZmlsbC5qcz8zNmJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDIyLjEuMy42IEFycmF5LnByb3RvdHlwZS5maWxsKHZhbHVlLCBzdGFydCA9IDAsIGVuZCA9IHRoaXMubGVuZ3RoKVxuJ3VzZSBzdHJpY3QnO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWxsKHZhbHVlIC8qICwgc3RhcnQgPSAwLCBlbmQgPSBAbGVuZ3RoICovKSB7XG4gIHZhciBPID0gdG9PYmplY3QodGhpcyk7XG4gIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCBsZW5ndGgpO1xuICB2YXIgZW5kID0gYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gIHZhciBlbmRQb3MgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvQWJzb2x1dGVJbmRleChlbmQsIGxlbmd0aCk7XG4gIHdoaWxlIChlbmRQb3MgPiBpbmRleCkgT1tpbmRleCsrXSA9IHZhbHVlO1xuICByZXR1cm4gTztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///164\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(50);\nvar toObject = __webpack_require__(36);\nvar IE_PROTO = __webpack_require__(117)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdwby5qcz8zOGZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChPKSB7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYgKGhhcyhPLCBJRV9QUk9UTykpIHJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///165\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\n/**\n * Created by h5 on 18/6/8.\n */\n\n/* eslint-disable */\nvar BODY_TYPE = {};\nBODY_TYPE[BODY_TYPE[\"TEXT\"] = 'text/plain'] = \"TEXT\";\nBODY_TYPE[BODY_TYPE['HTML'] = 'text/html'] = 'HTML';\nBODY_TYPE[BODY_TYPE[\"IMAGE\"] = 'image/*'] = \"IMAGE\";\nBODY_TYPE[BODY_TYPE[\"AUDIO\"] = 'audio/*'] = \"AUDIO\";\nBODY_TYPE[BODY_TYPE[\"VIDEO\"] = 'video/*'] = \"VIDEO\"; // BODY_TYPE[BODY_TYPE[\"LOCATION\"] = 'application/location'] = \"LOCATION\";\n\nBODY_TYPE[BODY_TYPE[\"CARD\"] = 'application/card+xml'] = \"CARD\";\nBODY_TYPE[BODY_TYPE['CHREDBAG'] = 'application/chredbag+xml'] = 'CHREDBAG';\nBODY_TYPE[BODY_TYPE['VEMOTICON'] = 'application/vemoticon+xml'] = 'VEMOTICON';\nBODY_TYPE[BODY_TYPE['CLOUDFILE'] = 'application/cloudfile+xml'] = 'CLOUDFILE';\nBODY_TYPE[BODY_TYPE['LOCATION'] = 'application/vnd.gsma.rcspushlocation+xml'] = 'LOCATION';\nvar _default = BODY_TYPE;\nexports[\"default\"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2xpYnJhcnkvbXF0dC9ib2R5VHlwZS5qcz8xZGJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBoNSBvbiAxOC82LzguXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbmxldCBCT0RZX1RZUEUgPSB7fVxuQk9EWV9UWVBFW0JPRFlfVFlQRVtcIlRFWFRcIl0gPSAndGV4dC9wbGFpbiddID0gXCJURVhUXCI7XG5CT0RZX1RZUEVbKEJPRFlfVFlQRVsnSFRNTCddID0gJ3RleHQvaHRtbCcpXSA9ICdIVE1MJ1xuQk9EWV9UWVBFW0JPRFlfVFlQRVtcIklNQUdFXCJdID0gJ2ltYWdlLyonXSA9IFwiSU1BR0VcIjtcbkJPRFlfVFlQRVtCT0RZX1RZUEVbXCJBVURJT1wiXSA9ICdhdWRpby8qJ10gPSBcIkFVRElPXCI7XG5CT0RZX1RZUEVbQk9EWV9UWVBFW1wiVklERU9cIl0gPSAndmlkZW8vKiddID0gXCJWSURFT1wiO1xuLy8gQk9EWV9UWVBFW0JPRFlfVFlQRVtcIkxPQ0FUSU9OXCJdID0gJ2FwcGxpY2F0aW9uL2xvY2F0aW9uJ10gPSBcIkxPQ0FUSU9OXCI7XG5CT0RZX1RZUEVbQk9EWV9UWVBFW1wiQ0FSRFwiXSA9ICdhcHBsaWNhdGlvbi9jYXJkK3htbCddID0gXCJDQVJEXCI7XG5CT0RZX1RZUEVbKEJPRFlfVFlQRVsnQ0hSRURCQUcnXSA9ICdhcHBsaWNhdGlvbi9jaHJlZGJhZyt4bWwnKV0gPSAnQ0hSRURCQUcnXG5CT0RZX1RZUEVbKEJPRFlfVFlQRVsnVkVNT1RJQ09OJ10gPSAnYXBwbGljYXRpb24vdmVtb3RpY29uK3htbCcpXSA9ICdWRU1PVElDT04nXG5CT0RZX1RZUEVbKEJPRFlfVFlQRVsnQ0xPVURGSUxFJ10gPSAnYXBwbGljYXRpb24vY2xvdWRmaWxlK3htbCcpXSA9ICdDTE9VREZJTEUnXG5CT0RZX1RZUEVbKEJPRFlfVFlQRVsnTE9DQVRJT04nXSA9ICdhcHBsaWNhdGlvbi92bmQuZ3NtYS5yY3NwdXNobG9jYXRpb24reG1sJyldID0gJ0xPQ0FUSU9OJ1xuZXhwb3J0IGRlZmF1bHQgQk9EWV9UWVBFXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///166\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(53));\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _mqttMessage = _interopRequireDefault(__webpack_require__(141));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar Message = function Message() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Message);\n  (0, _defineProperty2["default"])(this, "_reveiver", function () {\n    _mqttMessage["default"].onMessage(function (res) {\n      console.log(\'-----message >>\', res);\n\n      try {\n        var msg = res.message,\n            content = JSON.parse(msg.content);\n\n        var message = _this.formatReceiverMsg(res);\n\n        if (msg.messageType == \'liveMessage\') {\n          if (msg.topic == \'liveNotify\') {\n            //mqtt直播状态通知\n            var notifyType = (0, _parseInt2["default"])(content.notifyType);\n\n            if (_this._liveStatusCb) {\n              _this._liveStatusCb(notifyType);\n            }\n\n            if (_this._liveNotifyCb) {\n              _this._liveNotifyCb(res);\n            }\n\n            if (_this.onLiveNotifyCb) {\n              _this.onLiveNotifyCb(message);\n            }\n          } else {\n            if (_this._liveMessageCb) {\n              _this._liveMessageCb(res);\n            }\n\n            if (_this.onLiveMessageCb) {\n              _this.onLiveMessageCb(message);\n            }\n          }\n        }\n      } catch (e) {}\n    });\n  });\n  (0, _defineProperty2["default"])(this, "sendMessage", function (msg, contentType, cb) {\n    var newMsg = _this.formatSendMessage(msg);\n\n    _mqttMessage["default"].sendMessage(newMsg, contentType, cb);\n  });\n  (0, _defineProperty2["default"])(this, "_liveStatus", function (callback) {\n    _this._liveStatusCb = callback;\n  });\n  (0, _defineProperty2["default"])(this, "liveNotify", function (_ref) {\n    var callback = _ref.callback;\n\n    _this._liveNotifyCb = function (res) {\n      var msg = res.message,\n          content = JSON.parse(msg.content); //暂时，1开播、2暂停、3结束、4恢复暂不通知出去\n\n      if ((0, _parseInt2["default"])(content.notifyType) > 4) {\n        callback(res);\n      }\n    };\n  });\n  (0, _defineProperty2["default"])(this, "liveMessage", function (_ref2) {\n    var callback = _ref2.callback;\n    _this._liveMessageCb = callback;\n  });\n  (0, _defineProperty2["default"])(this, "onLiveMessage", function (_ref3) {\n    var callback = _ref3.callback;\n    _this.onLiveMessageCb = callback;\n  });\n  (0, _defineProperty2["default"])(this, "onLiveNotify", function (_ref4) {\n    var callback = _ref4.callback;\n    _this.onLiveNotifyCb = callback;\n  });\n  (0, _defineProperty2["default"])(this, "createMsg", function (_ref5) {\n    var role = _ref5.role,\n        channelName = _ref5.channelName,\n        msgData = _ref5.msgData,\n        contentType = _ref5.contentType,\n        topic = _ref5.topic,\n        _ref5$extensions = _ref5.extensions,\n        extensions = _ref5$extensions === void 0 ? null : _ref5$extensions;\n    var timeStamp = new Date().valueOf() + (_config["default"].config.diffTime || 0);\n    var newMsg = {\n      msgId: \'\',\n      uuid: _common["default"].uuid(),\n      createTime: timeStamp,\n      time: timeStamp,\n      peerUri: \'srtc-live-manage\',\n      // ownerId: uccId,\n      // ownerEpid: Config.config.deviceId,\n      options: null,\n      messageType: 1,\n      direction: \'1\',\n      receivers: [{\n        toUri: _config["default"].config.appCode + channelName\n      }],\n      data: msgData,\n      fromUri: _config["default"].config.uccId,\n      fromNickname: msgData.NKName || \'\',\n      fromEpid: _config["default"].config.deviceId,\n      channelName: channelName,\n      extensions: extensions,\n      contentBuffer: msgData.content,\n      contentType: contentType,\n      sendStatus: 0,\n      // 0 loading 1 error 2 success\n      eventType: \'1\',\n      uccId: _config["default"].config.uccId,\n      role: role,\n      topic: topic\n    };\n    return newMsg;\n  });\n  (0, _defineProperty2["default"])(this, "formatReceiverMsg", function (data) {\n    var msg = data.message;\n    var from = data.from;\n    var to = data.to;\n    var content = msg.content && JSON.parse(msg.content);\n    var msgData = content.data;\n    var newMsg = {\n      msgId: \'\',\n      uuid: msg.uuid,\n      createTime: content.createTime,\n      time: data.time,\n      peerUri: \'srtc-live-manage\',\n      // ownerId: uccId,\n      // ownerEpid: Config.config.deviceId,\n      options: msg.messageType,\n      messageType: msg.messageType,\n      direction: data.direction,\n      data: content.data,\n      fromUri: from.uccId,\n      fromNickname: msgData && msgData.NKName || \'\',\n      fromEpid: \'\',\n      channelName: _common["default"].removeAppCode(content.channelName),\n      contentBuffer: msgData && msgData.content,\n      contentType: msg.contentType,\n      eventType: \'2\',\n      ownId: _config["default"].config.uccId,\n      role: content.role,\n      topic: msg.topic\n    };\n    return newMsg;\n  });\n  (0, _defineProperty2["default"])(this, "formatSendMessage", function (msg) {\n    var body = msg.contentBuffer;\n\n    if ((0, _typeof2["default"])(msg.contentBuffer) === \'object\') {\n      body = _common["default"].deepCopy(msg.contentBuffer);\n    }\n\n    var res = {\n      content: {\n        contentBuffer: {\n          createTime: msg.createTime,\n          data: msg.data,\n          channelName: _config["default"].config.appCode + msg.channelName,\n          eventType: msg.eventType,\n          // "1：上行消息；2：下行消息",\n          uccId: msg.uccId,\n          role: msg.role // "上行消息时必传：1-主播;2-观众",\n\n        },\n        fromEpid: msg.fromEpid,\n        fromUri: msg.fromUri,\n        fromNickname: msg.fromNickname,\n        uuid: msg.uuid,\n        contentType: msg.contentType // extensions: JSON.parse(msg.extensions),\n        // sendStatus: msg.sendStatus, // 发送状态 0 发送中  1 发送失败  2 发送成功\n\n      },\n      peerUri: msg.peerUri,\n      messageType: msg.messageType,\n      options: msg.options || 0,\n      receivers: msg.receivers,\n      topic: msg.topic\n    };\n    return res;\n  });\n  this._liveStatusCb = null;\n  return {\n    liveMessage: this.liveMessage,\n    liveNotify: this.liveNotify,\n    onLiveMessage: this.onLiveMessage,\n    onLiveNotify: this.onLiveNotify,\n    _liveStatus: this._liveStatus,\n    _reveiver: this._reveiver,\n    createMsg: this.createMsg,\n    sendMessage: this.sendMessage\n  };\n};\n\nvar _default = new Message();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2FwaS9tZXNzYWdlLmpzP2U5NmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1RVFQgZnJvbSAnLi4vc2VydmVyL21xdHRNZXNzYWdlJ1xuaW1wb3J0IENvbW1vbiBmcm9tICcuLy4uL3V0aWwvY29tbW9uJ1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi9jb25maWcnXG5jbGFzcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fbGl2ZVN0YXR1c0NiID0gbnVsbFxuICAgIHJldHVybiB7XG4gICAgICBsaXZlTWVzc2FnZTogdGhpcy5saXZlTWVzc2FnZSxcbiAgICAgIGxpdmVOb3RpZnk6IHRoaXMubGl2ZU5vdGlmeSxcbiAgICAgIG9uTGl2ZU1lc3NhZ2U6IHRoaXMub25MaXZlTWVzc2FnZSxcbiAgICAgIG9uTGl2ZU5vdGlmeTogdGhpcy5vbkxpdmVOb3RpZnksXG4gICAgICBfbGl2ZVN0YXR1czogdGhpcy5fbGl2ZVN0YXR1cyxcbiAgICAgIF9yZXZlaXZlcjogdGhpcy5fcmV2ZWl2ZXIsXG4gICAgICBjcmVhdGVNc2c6IHRoaXMuY3JlYXRlTXNnLFxuICAgICAgc2VuZE1lc3NhZ2U6IHRoaXMuc2VuZE1lc3NhZ2UsXG4gICAgfVxuICB9XG5cbiAgX3JldmVpdmVyID0gKCkgPT4ge1xuICAgIE1RVFQub25NZXNzYWdlKHJlcyA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnLS0tLS1tZXNzYWdlID4+JywgcmVzKVxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IG1zZyA9IHJlcy5tZXNzYWdlLFxuICAgICAgICAgIGNvbnRlbnQgPSBKU09OLnBhcnNlKG1zZy5jb250ZW50KVxuICAgICAgICBsZXQgbWVzc2FnZSA9IHRoaXMuZm9ybWF0UmVjZWl2ZXJNc2cocmVzKVxuICAgICAgICBpZiAobXNnLm1lc3NhZ2VUeXBlID09ICdsaXZlTWVzc2FnZScpIHtcbiAgICAgICAgICBpZiAobXNnLnRvcGljID09ICdsaXZlTm90aWZ5Jykge1xuICAgICAgICAgICAgLy9tcXR055u05pKt54q25oCB6YCa55+lXG4gICAgICAgICAgICBsZXQgbm90aWZ5VHlwZSA9IHBhcnNlSW50KGNvbnRlbnQubm90aWZ5VHlwZSlcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXZlU3RhdHVzQ2IpIHtcbiAgICAgICAgICAgICAgdGhpcy5fbGl2ZVN0YXR1c0NiKG5vdGlmeVR5cGUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fbGl2ZU5vdGlmeUNiKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2xpdmVOb3RpZnlDYihyZXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vbkxpdmVOb3RpZnlDYikge1xuICAgICAgICAgICAgICB0aGlzLm9uTGl2ZU5vdGlmeUNiKG1lc3NhZ2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXZlTWVzc2FnZUNiKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2xpdmVNZXNzYWdlQ2IocmVzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub25MaXZlTWVzc2FnZUNiKSB7XG4gICAgICAgICAgICAgIHRoaXMub25MaXZlTWVzc2FnZUNiKG1lc3NhZ2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0pXG4gIH1cblxuICBzZW5kTWVzc2FnZSA9IChtc2csIGNvbnRlbnRUeXBlLCBjYikgPT4ge1xuICAgIGxldCBuZXdNc2cgPSB0aGlzLmZvcm1hdFNlbmRNZXNzYWdlKG1zZylcbiAgICBNUVRULnNlbmRNZXNzYWdlKG5ld01zZywgY29udGVudFR5cGUsIGNiKVxuICB9XG5cbiAgX2xpdmVTdGF0dXMgPSBjYWxsYmFjayA9PiB7XG4gICAgdGhpcy5fbGl2ZVN0YXR1c0NiID0gY2FsbGJhY2tcbiAgfVxuXG4gIGxpdmVOb3RpZnkgPSAoeyBjYWxsYmFjayB9KSA9PiB7XG4gICAgdGhpcy5fbGl2ZU5vdGlmeUNiID0gcmVzID0+IHtcbiAgICAgIGxldCBtc2cgPSByZXMubWVzc2FnZSxcbiAgICAgICAgY29udGVudCA9IEpTT04ucGFyc2UobXNnLmNvbnRlbnQpXG4gICAgICAvL+aaguaXtu+8jDHlvIDmkq3jgIEy5pqC5YGc44CBM+e7k+adn+OAgTTmgaLlpI3mmoLkuI3pgJrnn6Xlh7rljrtcbiAgICAgIGlmIChwYXJzZUludChjb250ZW50Lm5vdGlmeVR5cGUpID4gNCkge1xuICAgICAgICBjYWxsYmFjayhyZXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGl2ZU1lc3NhZ2UgPSAoeyBjYWxsYmFjayB9KSA9PiB7XG4gICAgdGhpcy5fbGl2ZU1lc3NhZ2VDYiA9IGNhbGxiYWNrXG4gIH1cblxuICBvbkxpdmVNZXNzYWdlID0gKHsgY2FsbGJhY2sgfSkgPT4ge1xuICAgIHRoaXMub25MaXZlTWVzc2FnZUNiID0gY2FsbGJhY2tcbiAgfVxuXG4gIG9uTGl2ZU5vdGlmeSA9ICh7IGNhbGxiYWNrIH0pID0+IHtcbiAgICB0aGlzLm9uTGl2ZU5vdGlmeUNiID0gY2FsbGJhY2tcbiAgfVxuXG4gIGNyZWF0ZU1zZyA9ICh7XG4gICAgcm9sZSxcbiAgICBjaGFubmVsTmFtZSxcbiAgICBtc2dEYXRhLFxuICAgIGNvbnRlbnRUeXBlLFxuICAgIHRvcGljLFxuICAgIGV4dGVuc2lvbnMgPSBudWxsLFxuICB9KSA9PiB7XG4gICAgbGV0IHRpbWVTdGFtcCA9IG5ldyBEYXRlKCkudmFsdWVPZigpICsgKENvbmZpZy5jb25maWcuZGlmZlRpbWUgfHwgMClcbiAgICBsZXQgbmV3TXNnID0ge1xuICAgICAgbXNnSWQ6ICcnLFxuICAgICAgdXVpZDogQ29tbW9uLnV1aWQoKSxcbiAgICAgIGNyZWF0ZVRpbWU6IHRpbWVTdGFtcCxcbiAgICAgIHRpbWU6IHRpbWVTdGFtcCxcbiAgICAgIHBlZXJVcmk6ICdzcnRjLWxpdmUtbWFuYWdlJyxcbiAgICAgIC8vIG93bmVySWQ6IHVjY0lkLFxuICAgICAgLy8gb3duZXJFcGlkOiBDb25maWcuY29uZmlnLmRldmljZUlkLFxuICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgIG1lc3NhZ2VUeXBlOiAxLFxuICAgICAgZGlyZWN0aW9uOiAnMScsXG4gICAgICByZWNlaXZlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRvVXJpOiBDb25maWcuY29uZmlnLmFwcENvZGUgKyBjaGFubmVsTmFtZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBkYXRhOiBtc2dEYXRhLFxuICAgICAgZnJvbVVyaTogQ29uZmlnLmNvbmZpZy51Y2NJZCxcbiAgICAgIGZyb21OaWNrbmFtZTogbXNnRGF0YS5OS05hbWUgfHwgJycsXG4gICAgICBmcm9tRXBpZDogQ29uZmlnLmNvbmZpZy5kZXZpY2VJZCxcbiAgICAgIGNoYW5uZWxOYW1lOiBjaGFubmVsTmFtZSxcbiAgICAgIGV4dGVuc2lvbnMsXG4gICAgICBjb250ZW50QnVmZmVyOiBtc2dEYXRhLmNvbnRlbnQsXG4gICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICBzZW5kU3RhdHVzOiAwLCAvLyAwIGxvYWRpbmcgMSBlcnJvciAyIHN1Y2Nlc3NcbiAgICAgIGV2ZW50VHlwZTogJzEnLFxuICAgICAgdWNjSWQ6IENvbmZpZy5jb25maWcudWNjSWQsXG4gICAgICByb2xlLFxuICAgICAgdG9waWMsXG4gICAgfVxuICAgIHJldHVybiBuZXdNc2dcbiAgfVxuXG4gIGZvcm1hdFJlY2VpdmVyTXNnID0gZGF0YSA9PiB7XG4gICAgbGV0IG1zZyA9IGRhdGEubWVzc2FnZVxuICAgIGxldCBmcm9tID0gZGF0YS5mcm9tXG4gICAgbGV0IHRvID0gZGF0YS50b1xuICAgIGxldCBjb250ZW50ID0gbXNnLmNvbnRlbnQgJiYgSlNPTi5wYXJzZShtc2cuY29udGVudClcbiAgICBsZXQgbXNnRGF0YSA9IGNvbnRlbnQuZGF0YVxuICAgIGxldCBuZXdNc2cgPSB7XG4gICAgICBtc2dJZDogJycsXG4gICAgICB1dWlkOiBtc2cudXVpZCxcbiAgICAgIGNyZWF0ZVRpbWU6IGNvbnRlbnQuY3JlYXRlVGltZSxcbiAgICAgIHRpbWU6IGRhdGEudGltZSxcbiAgICAgIHBlZXJVcmk6ICdzcnRjLWxpdmUtbWFuYWdlJyxcbiAgICAgIC8vIG93bmVySWQ6IHVjY0lkLFxuICAgICAgLy8gb3duZXJFcGlkOiBDb25maWcuY29uZmlnLmRldmljZUlkLFxuICAgICAgb3B0aW9uczogbXNnLm1lc3NhZ2VUeXBlLFxuICAgICAgbWVzc2FnZVR5cGU6IG1zZy5tZXNzYWdlVHlwZSxcbiAgICAgIGRpcmVjdGlvbjogZGF0YS5kaXJlY3Rpb24sXG4gICAgICBkYXRhOiBjb250ZW50LmRhdGEsXG4gICAgICBmcm9tVXJpOiBmcm9tLnVjY0lkLFxuICAgICAgZnJvbU5pY2tuYW1lOiAobXNnRGF0YSAmJiBtc2dEYXRhLk5LTmFtZSkgfHwgJycsXG4gICAgICBmcm9tRXBpZDogJycsXG4gICAgICBjaGFubmVsTmFtZTogQ29tbW9uLnJlbW92ZUFwcENvZGUoY29udGVudC5jaGFubmVsTmFtZSksXG4gICAgICBjb250ZW50QnVmZmVyOiBtc2dEYXRhICYmIG1zZ0RhdGEuY29udGVudCxcbiAgICAgIGNvbnRlbnRUeXBlOiBtc2cuY29udGVudFR5cGUsXG4gICAgICBldmVudFR5cGU6ICcyJyxcbiAgICAgIG93bklkOiBDb25maWcuY29uZmlnLnVjY0lkLFxuICAgICAgcm9sZTogY29udGVudC5yb2xlLFxuICAgICAgdG9waWM6IG1zZy50b3BpYyxcbiAgICB9XG4gICAgcmV0dXJuIG5ld01zZ1xuICB9XG5cbiAgZm9ybWF0U2VuZE1lc3NhZ2UgPSBtc2cgPT4ge1xuICAgIGxldCBib2R5ID0gbXNnLmNvbnRlbnRCdWZmZXJcbiAgICBpZiAodHlwZW9mIG1zZy5jb250ZW50QnVmZmVyID09PSAnb2JqZWN0Jykge1xuICAgICAgYm9keSA9IENvbW1vbi5kZWVwQ29weShtc2cuY29udGVudEJ1ZmZlcilcbiAgICB9XG4gICAgbGV0IHJlcyA9IHtcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgY29udGVudEJ1ZmZlcjoge1xuICAgICAgICAgIGNyZWF0ZVRpbWU6IG1zZy5jcmVhdGVUaW1lLFxuICAgICAgICAgIGRhdGE6IG1zZy5kYXRhLFxuICAgICAgICAgIGNoYW5uZWxOYW1lOiBDb25maWcuY29uZmlnLmFwcENvZGUgKyBtc2cuY2hhbm5lbE5hbWUsXG4gICAgICAgICAgZXZlbnRUeXBlOiBtc2cuZXZlbnRUeXBlLCAvLyBcIjHvvJrkuIrooYzmtojmga/vvJsy77ya5LiL6KGM5raI5oGvXCIsXG4gICAgICAgICAgdWNjSWQ6IG1zZy51Y2NJZCxcbiAgICAgICAgICByb2xlOiBtc2cucm9sZSwgLy8gXCLkuIrooYzmtojmga/ml7blv4XkvKDvvJoxLeS4u+aSrTsyLeinguS8l1wiLFxuICAgICAgICB9LFxuICAgICAgICBmcm9tRXBpZDogbXNnLmZyb21FcGlkLFxuICAgICAgICBmcm9tVXJpOiBtc2cuZnJvbVVyaSxcbiAgICAgICAgZnJvbU5pY2tuYW1lOiBtc2cuZnJvbU5pY2tuYW1lLFxuICAgICAgICB1dWlkOiBtc2cudXVpZCxcbiAgICAgICAgY29udGVudFR5cGU6IG1zZy5jb250ZW50VHlwZSxcbiAgICAgICAgLy8gZXh0ZW5zaW9uczogSlNPTi5wYXJzZShtc2cuZXh0ZW5zaW9ucyksXG4gICAgICAgIC8vIHNlbmRTdGF0dXM6IG1zZy5zZW5kU3RhdHVzLCAvLyDlj5HpgIHnirbmgIEgMCDlj5HpgIHkuK0gIDEg5Y+R6YCB5aSx6LSlICAyIOWPkemAgeaIkOWKn1xuICAgICAgfSxcbiAgICAgIHBlZXJVcmk6IG1zZy5wZWVyVXJpLFxuICAgICAgbWVzc2FnZVR5cGU6IG1zZy5tZXNzYWdlVHlwZSxcbiAgICAgIG9wdGlvbnM6IG1zZy5vcHRpb25zIHx8IDAsXG4gICAgICByZWNlaXZlcnM6IG1zZy5yZWNlaXZlcnMsXG4gICAgICB0b3BpYzogbXNnLnRvcGljLFxuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1lc3NhZ2UoKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFlQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0NBO0FBZ0RBO0FBQ0E7QUFBQTtBQUNBO0FBbERBO0FBcURBO0FBQ0E7QUF0REE7QUF3REE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpFQTtBQW1FQTtBQUNBO0FBQ0E7QUFyRUE7QUF1RUE7QUFDQTtBQUNBO0FBekVBO0FBMkVBO0FBQ0E7QUFDQTtBQTdFQTtBQXNGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1QkE7QUE4QkE7QUFDQTtBQXZIQTtBQTBIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7QUF1QkE7QUFDQTtBQXZKQTtBQTBKQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWhCQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBO0FBd0JBO0FBQ0E7QUF0TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUE2S0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///167\n')},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(266);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9wYXJzZS1mbG9hdC5qcz81OWFkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wYXJzZS1mbG9hdFwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///168\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(269);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9hcnJheS9pcy1hcnJheS5qcz9hNzQ1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9pcy1hcnJheVwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///169\n")},function(module,exports,__webpack_require__){"use strict";eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanM/ZmFhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///170\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $defineProperty = __webpack_require__(23);\nvar createDesc = __webpack_require__(59);\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanM/MjBmZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBpbmRleCwgdmFsdWUpIHtcbiAgaWYgKGluZGV4IGluIG9iamVjdCkgJGRlZmluZVByb3BlcnR5LmYob2JqZWN0LCBpbmRleCwgY3JlYXRlRGVzYygwLCB2YWx1ZSkpO1xuICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///171\n")},function(module,exports,__webpack_require__){eval("// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(31);\nvar gOPN = __webpack_require__(107).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanM/MDM5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///172\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(42);\nvar toObject = __webpack_require__(55);\nvar IE_PROTO = __webpack_require__(104)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzPzUzZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///173\n")},function(module,exports){eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanM/NTBlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///174\n")},function(module,exports,__webpack_require__){eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(20);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanM/YjBkYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///175\n")},function(module,exports,__webpack_require__){eval("// check on default Array iterator\nvar Iterators = __webpack_require__(56);\nvar ITERATOR = __webpack_require__(14)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzPzM3MDIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///176\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar global = __webpack_require__(9);\nvar core = __webpack_require__(4);\nvar dP = __webpack_require__(23);\nvar DESCRIPTORS = __webpack_require__(21);\nvar SPECIES = __webpack_require__(14)('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtc3BlY2llcy5qcz80Yzk1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pIGRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///177\n")},function(module,exports,__webpack_require__){eval("var ITERATOR = __webpack_require__(14)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qcz80ZWUxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uICgpIHsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjLCBza2lwQ2xvc2luZykge1xuICBpZiAoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gWzddO1xuICAgIHZhciBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHsgZG9uZTogc2FmZSA9IHRydWUgfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///178\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar global = __webpack_require__(12);\nvar DESCRIPTORS = __webpack_require__(17);\nvar LIBRARY = __webpack_require__(69);\nvar $typed = __webpack_require__(127);\nvar hide = __webpack_require__(28);\nvar redefineAll = __webpack_require__(128);\nvar fails = __webpack_require__(19);\nvar anInstance = __webpack_require__(129);\nvar toInteger = __webpack_require__(32);\nvar toLength = __webpack_require__(15);\nvar toIndex = __webpack_require__(162);\nvar gOPN = __webpack_require__(99).f;\nvar dP = __webpack_require__(29).f;\nvar arrayFill = __webpack_require__(164);\nvar setToStringTag = __webpack_require__(93);\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdHlwZWQtYnVmZmVyLmpzP2VkMGIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICR0eXBlZCA9IHJlcXVpcmUoJy4vX3R5cGVkJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciB0b0luZGV4ID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBhcnJheUZpbGwgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEFSUkFZX0JVRkZFUiA9ICdBcnJheUJ1ZmZlcic7XG52YXIgREFUQV9WSUVXID0gJ0RhdGFWaWV3JztcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBXUk9OR19MRU5HVEggPSAnV3JvbmcgbGVuZ3RoISc7XG52YXIgV1JPTkdfSU5ERVggPSAnV3JvbmcgaW5kZXghJztcbnZhciAkQXJyYXlCdWZmZXIgPSBnbG9iYWxbQVJSQVlfQlVGRkVSXTtcbnZhciAkRGF0YVZpZXcgPSBnbG9iYWxbREFUQV9WSUVXXTtcbnZhciBNYXRoID0gZ2xvYmFsLk1hdGg7XG52YXIgUmFuZ2VFcnJvciA9IGdsb2JhbC5SYW5nZUVycm9yO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdy1yZXN0cmljdGVkLW5hbWVzXG52YXIgSW5maW5pdHkgPSBnbG9iYWwuSW5maW5pdHk7XG52YXIgQmFzZUJ1ZmZlciA9ICRBcnJheUJ1ZmZlcjtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBwb3cgPSBNYXRoLnBvdztcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG52YXIgbG9nID0gTWF0aC5sb2c7XG52YXIgTE4yID0gTWF0aC5MTjI7XG52YXIgQlVGRkVSID0gJ2J1ZmZlcic7XG52YXIgQllURV9MRU5HVEggPSAnYnl0ZUxlbmd0aCc7XG52YXIgQllURV9PRkZTRVQgPSAnYnl0ZU9mZnNldCc7XG52YXIgJEJVRkZFUiA9IERFU0NSSVBUT1JTID8gJ19iJyA6IEJVRkZFUjtcbnZhciAkTEVOR1RIID0gREVTQ1JJUFRPUlMgPyAnX2wnIDogQllURV9MRU5HVEg7XG52YXIgJE9GRlNFVCA9IERFU0NSSVBUT1JTID8gJ19vJyA6IEJZVEVfT0ZGU0VUO1xuXG4vLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NFxuZnVuY3Rpb24gcGFja0lFRUU3NTQodmFsdWUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgYnVmZmVyID0gbmV3IEFycmF5KG5CeXRlcyk7XG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxO1xuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMTtcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxO1xuICB2YXIgcnQgPSBtTGVuID09PSAyMyA/IHBvdygyLCAtMjQpIC0gcG93KDIsIC03NykgOiAwO1xuICB2YXIgaSA9IDA7XG4gIHZhciBzID0gdmFsdWUgPCAwIHx8IHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDAgPyAxIDogMDtcbiAgdmFyIGUsIG0sIGM7XG4gIHZhbHVlID0gYWJzKHZhbHVlKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICBpZiAodmFsdWUgIT0gdmFsdWUgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIG0gPSB2YWx1ZSAhPSB2YWx1ZSA/IDEgOiAwO1xuICAgIGUgPSBlTWF4O1xuICB9IGVsc2Uge1xuICAgIGUgPSBmbG9vcihsb2codmFsdWUpIC8gTE4yKTtcbiAgICBpZiAodmFsdWUgKiAoYyA9IHBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tO1xuICAgICAgYyAqPSAyO1xuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gYztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBwb3coMiwgMSAtIGVCaWFzKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKys7XG4gICAgICBjIC89IDI7XG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDA7XG4gICAgICBlID0gZU1heDtcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogcG93KDIsIG1MZW4pO1xuICAgICAgZSA9IGUgKyBlQmlhcztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogcG93KDIsIGVCaWFzIC0gMSkgKiBwb3coMiwgbUxlbik7XG4gICAgICBlID0gMDtcbiAgICB9XG4gIH1cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW2krK10gPSBtICYgMjU1LCBtIC89IDI1NiwgbUxlbiAtPSA4KTtcbiAgZSA9IGUgPDwgbUxlbiB8IG07XG4gIGVMZW4gKz0gbUxlbjtcbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbaSsrXSA9IGUgJiAyNTUsIGUgLz0gMjU2LCBlTGVuIC09IDgpO1xuICBidWZmZXJbLS1pXSB8PSBzICogMTI4O1xuICByZXR1cm4gYnVmZmVyO1xufVxuZnVuY3Rpb24gdW5wYWNrSUVFRTc1NChidWZmZXIsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMTtcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7XG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMTtcbiAgdmFyIG5CaXRzID0gZUxlbiAtIDc7XG4gIHZhciBpID0gbkJ5dGVzIC0gMTtcbiAgdmFyIHMgPSBidWZmZXJbaS0tXTtcbiAgdmFyIGUgPSBzICYgMTI3O1xuICB2YXIgbTtcbiAgcyA+Pj0gNztcbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCk7XG4gIG0gPSBlICYgKDEgPDwgLW5CaXRzKSAtIDE7XG4gIGUgPj49IC1uQml0cztcbiAgbkJpdHMgKz0gbUxlbjtcbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCk7XG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhcztcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiBzID8gLUluZmluaXR5IDogSW5maW5pdHk7XG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBwb3coMiwgbUxlbik7XG4gICAgZSA9IGUgLSBlQmlhcztcbiAgfSByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIHBvdygyLCBlIC0gbUxlbik7XG59XG5cbmZ1bmN0aW9uIHVucGFja0kzMihieXRlcykge1xuICByZXR1cm4gYnl0ZXNbM10gPDwgMjQgfCBieXRlc1syXSA8PCAxNiB8IGJ5dGVzWzFdIDw8IDggfCBieXRlc1swXTtcbn1cbmZ1bmN0aW9uIHBhY2tJOChpdCkge1xuICByZXR1cm4gW2l0ICYgMHhmZl07XG59XG5mdW5jdGlvbiBwYWNrSTE2KGl0KSB7XG4gIHJldHVybiBbaXQgJiAweGZmLCBpdCA+PiA4ICYgMHhmZl07XG59XG5mdW5jdGlvbiBwYWNrSTMyKGl0KSB7XG4gIHJldHVybiBbaXQgJiAweGZmLCBpdCA+PiA4ICYgMHhmZiwgaXQgPj4gMTYgJiAweGZmLCBpdCA+PiAyNCAmIDB4ZmZdO1xufVxuZnVuY3Rpb24gcGFja0Y2NChpdCkge1xuICByZXR1cm4gcGFja0lFRUU3NTQoaXQsIDUyLCA4KTtcbn1cbmZ1bmN0aW9uIHBhY2tGMzIoaXQpIHtcbiAgcmV0dXJuIHBhY2tJRUVFNzU0KGl0LCAyMywgNCk7XG59XG5cbmZ1bmN0aW9uIGFkZEdldHRlcihDLCBrZXksIGludGVybmFsKSB7XG4gIGRQKENbUFJPVE9UWVBFXSwga2V5LCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tpbnRlcm5hbF07IH0gfSk7XG59XG5cbmZ1bmN0aW9uIGdldCh2aWV3LCBieXRlcywgaW5kZXgsIGlzTGl0dGxlRW5kaWFuKSB7XG4gIHZhciBudW1JbmRleCA9ICtpbmRleDtcbiAgdmFyIGludEluZGV4ID0gdG9JbmRleChudW1JbmRleCk7XG4gIGlmIChpbnRJbmRleCArIGJ5dGVzID4gdmlld1skTEVOR1RIXSkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19JTkRFWCk7XG4gIHZhciBzdG9yZSA9IHZpZXdbJEJVRkZFUl0uX2I7XG4gIHZhciBzdGFydCA9IGludEluZGV4ICsgdmlld1skT0ZGU0VUXTtcbiAgdmFyIHBhY2sgPSBzdG9yZS5zbGljZShzdGFydCwgc3RhcnQgKyBieXRlcyk7XG4gIHJldHVybiBpc0xpdHRsZUVuZGlhbiA/IHBhY2sgOiBwYWNrLnJldmVyc2UoKTtcbn1cbmZ1bmN0aW9uIHNldCh2aWV3LCBieXRlcywgaW5kZXgsIGNvbnZlcnNpb24sIHZhbHVlLCBpc0xpdHRsZUVuZGlhbikge1xuICB2YXIgbnVtSW5kZXggPSAraW5kZXg7XG4gIHZhciBpbnRJbmRleCA9IHRvSW5kZXgobnVtSW5kZXgpO1xuICBpZiAoaW50SW5kZXggKyBieXRlcyA+IHZpZXdbJExFTkdUSF0pIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfSU5ERVgpO1xuICB2YXIgc3RvcmUgPSB2aWV3WyRCVUZGRVJdLl9iO1xuICB2YXIgc3RhcnQgPSBpbnRJbmRleCArIHZpZXdbJE9GRlNFVF07XG4gIHZhciBwYWNrID0gY29udmVyc2lvbigrdmFsdWUpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzOyBpKyspIHN0b3JlW3N0YXJ0ICsgaV0gPSBwYWNrW2lzTGl0dGxlRW5kaWFuID8gaSA6IGJ5dGVzIC0gaSAtIDFdO1xufVxuXG5pZiAoISR0eXBlZC5BQlYpIHtcbiAgJEFycmF5QnVmZmVyID0gZnVuY3Rpb24gQXJyYXlCdWZmZXIobGVuZ3RoKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkQXJyYXlCdWZmZXIsIEFSUkFZX0JVRkZFUik7XG4gICAgdmFyIGJ5dGVMZW5ndGggPSB0b0luZGV4KGxlbmd0aCk7XG4gICAgdGhpcy5fYiA9IGFycmF5RmlsbC5jYWxsKG5ldyBBcnJheShieXRlTGVuZ3RoKSwgMCk7XG4gICAgdGhpc1skTEVOR1RIXSA9IGJ5dGVMZW5ndGg7XG4gIH07XG5cbiAgJERhdGFWaWV3ID0gZnVuY3Rpb24gRGF0YVZpZXcoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkRGF0YVZpZXcsIERBVEFfVklFVyk7XG4gICAgYW5JbnN0YW5jZShidWZmZXIsICRBcnJheUJ1ZmZlciwgREFUQV9WSUVXKTtcbiAgICB2YXIgYnVmZmVyTGVuZ3RoID0gYnVmZmVyWyRMRU5HVEhdO1xuICAgIHZhciBvZmZzZXQgPSB0b0ludGVnZXIoYnl0ZU9mZnNldCk7XG4gICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID4gYnVmZmVyTGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKCdXcm9uZyBvZmZzZXQhJyk7XG4gICAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPT09IHVuZGVmaW5lZCA/IGJ1ZmZlckxlbmd0aCAtIG9mZnNldCA6IHRvTGVuZ3RoKGJ5dGVMZW5ndGgpO1xuICAgIGlmIChvZmZzZXQgKyBieXRlTGVuZ3RoID4gYnVmZmVyTGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0xFTkdUSCk7XG4gICAgdGhpc1skQlVGRkVSXSA9IGJ1ZmZlcjtcbiAgICB0aGlzWyRPRkZTRVRdID0gb2Zmc2V0O1xuICAgIHRoaXNbJExFTkdUSF0gPSBieXRlTGVuZ3RoO1xuICB9O1xuXG4gIGlmIChERVNDUklQVE9SUykge1xuICAgIGFkZEdldHRlcigkQXJyYXlCdWZmZXIsIEJZVEVfTEVOR1RILCAnX2wnKTtcbiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCVUZGRVIsICdfYicpO1xuICAgIGFkZEdldHRlcigkRGF0YVZpZXcsIEJZVEVfTEVOR1RILCAnX2wnKTtcbiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCWVRFX09GRlNFVCwgJ19vJyk7XG4gIH1cblxuICByZWRlZmluZUFsbCgkRGF0YVZpZXdbUFJPVE9UWVBFXSwge1xuICAgIGdldEludDg6IGZ1bmN0aW9uIGdldEludDgoYnl0ZU9mZnNldCkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCAxLCBieXRlT2Zmc2V0KVswXSA8PCAyNCA+PiAyNDtcbiAgICB9LFxuICAgIGdldFVpbnQ4OiBmdW5jdGlvbiBnZXRVaW50OChieXRlT2Zmc2V0KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIDEsIGJ5dGVPZmZzZXQpWzBdO1xuICAgIH0sXG4gICAgZ2V0SW50MTY6IGZ1bmN0aW9uIGdldEludDE2KGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHZhciBieXRlcyA9IGdldCh0aGlzLCAyLCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pO1xuICAgICAgcmV0dXJuIChieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF0pIDw8IDE2ID4+IDE2O1xuICAgIH0sXG4gICAgZ2V0VWludDE2OiBmdW5jdGlvbiBnZXRVaW50MTYoYnl0ZU9mZnNldCAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgdmFyIGJ5dGVzID0gZ2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSk7XG4gICAgICByZXR1cm4gYnl0ZXNbMV0gPDwgOCB8IGJ5dGVzWzBdO1xuICAgIH0sXG4gICAgZ2V0SW50MzI6IGZ1bmN0aW9uIGdldEludDMyKGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHJldHVybiB1bnBhY2tJMzIoZ2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSkpO1xuICAgIH0sXG4gICAgZ2V0VWludDMyOiBmdW5jdGlvbiBnZXRVaW50MzIoYnl0ZU9mZnNldCAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgcmV0dXJuIHVucGFja0kzMihnZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKSkgPj4+IDA7XG4gICAgfSxcbiAgICBnZXRGbG9hdDMyOiBmdW5jdGlvbiBnZXRGbG9hdDMyKGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHJldHVybiB1bnBhY2tJRUVFNzU0KGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pLCAyMywgNCk7XG4gICAgfSxcbiAgICBnZXRGbG9hdDY0OiBmdW5jdGlvbiBnZXRGbG9hdDY0KGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHJldHVybiB1bnBhY2tJRUVFNzU0KGdldCh0aGlzLCA4LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pLCA1MiwgOCk7XG4gICAgfSxcbiAgICBzZXRJbnQ4OiBmdW5jdGlvbiBzZXRJbnQ4KGJ5dGVPZmZzZXQsIHZhbHVlKSB7XG4gICAgICBzZXQodGhpcywgMSwgYnl0ZU9mZnNldCwgcGFja0k4LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHtcbiAgICAgIHNldCh0aGlzLCAxLCBieXRlT2Zmc2V0LCBwYWNrSTgsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNldEludDE2OiBmdW5jdGlvbiBzZXRJbnQxNihieXRlT2Zmc2V0LCB2YWx1ZSAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgc2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIHBhY2tJMTYsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuICAgIH0sXG4gICAgc2V0VWludDE2OiBmdW5jdGlvbiBzZXRVaW50MTYoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCAyLCBieXRlT2Zmc2V0LCBwYWNrSTE2LCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEludDMyOiBmdW5jdGlvbiBzZXRJbnQzMihieXRlT2Zmc2V0LCB2YWx1ZSAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuICAgICAgc2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIHBhY2tJMzIsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuICAgIH0sXG4gICAgc2V0VWludDMyOiBmdW5jdGlvbiBzZXRVaW50MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBwYWNrSTMyLCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEZsb2F0MzI6IGZ1bmN0aW9uIHNldEZsb2F0MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBwYWNrRjMyLCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEZsb2F0NjQ6IGZ1bmN0aW9uIHNldEZsb2F0NjQoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcbiAgICAgIHNldCh0aGlzLCA4LCBieXRlT2Zmc2V0LCBwYWNrRjY0LCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgaWYgKCFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgJEFycmF5QnVmZmVyKDEpO1xuICB9KSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIG5ldyAkQXJyYXlCdWZmZXIoLTEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICB9KSB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgbmV3ICRBcnJheUJ1ZmZlcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5ldyAkQXJyYXlCdWZmZXIoMS41KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBuZXcgJEFycmF5QnVmZmVyKE5hTik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgcmV0dXJuICRBcnJheUJ1ZmZlci5uYW1lICE9IEFSUkFZX0JVRkZFUjtcbiAgfSkpIHtcbiAgICAkQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHtcbiAgICAgIGFuSW5zdGFuY2UodGhpcywgJEFycmF5QnVmZmVyKTtcbiAgICAgIHJldHVybiBuZXcgQmFzZUJ1ZmZlcih0b0luZGV4KGxlbmd0aCkpO1xuICAgIH07XG4gICAgdmFyIEFycmF5QnVmZmVyUHJvdG8gPSAkQXJyYXlCdWZmZXJbUFJPVE9UWVBFXSA9IEJhc2VCdWZmZXJbUFJPVE9UWVBFXTtcbiAgICBmb3IgKHZhciBrZXlzID0gZ09QTihCYXNlQnVmZmVyKSwgaiA9IDAsIGtleTsga2V5cy5sZW5ndGggPiBqOykge1xuICAgICAgaWYgKCEoKGtleSA9IGtleXNbaisrXSkgaW4gJEFycmF5QnVmZmVyKSkgaGlkZSgkQXJyYXlCdWZmZXIsIGtleSwgQmFzZUJ1ZmZlcltrZXldKTtcbiAgICB9XG4gICAgaWYgKCFMSUJSQVJZKSBBcnJheUJ1ZmZlclByb3RvLmNvbnN0cnVjdG9yID0gJEFycmF5QnVmZmVyO1xuICB9XG4gIC8vIGlPUyBTYWZhcmkgNy54IGJ1Z1xuICB2YXIgdmlldyA9IG5ldyAkRGF0YVZpZXcobmV3ICRBcnJheUJ1ZmZlcigyKSk7XG4gIHZhciAkc2V0SW50OCA9ICREYXRhVmlld1tQUk9UT1RZUEVdLnNldEludDg7XG4gIHZpZXcuc2V0SW50OCgwLCAyMTQ3NDgzNjQ4KTtcbiAgdmlldy5zZXRJbnQ4KDEsIDIxNDc0ODM2NDkpO1xuICBpZiAodmlldy5nZXRJbnQ4KDApIHx8ICF2aWV3LmdldEludDgoMSkpIHJlZGVmaW5lQWxsKCREYXRhVmlld1tQUk9UT1RZUEVdLCB7XG4gICAgc2V0SW50ODogZnVuY3Rpb24gc2V0SW50OChieXRlT2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgJHNldEludDguY2FsbCh0aGlzLCBieXRlT2Zmc2V0LCB2YWx1ZSA8PCAyNCA+PiAyNCk7XG4gICAgfSxcbiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHtcbiAgICAgICRzZXRJbnQ4LmNhbGwodGhpcywgYnl0ZU9mZnNldCwgdmFsdWUgPDwgMjQgPj4gMjQpO1xuICAgIH1cbiAgfSwgdHJ1ZSk7XG59XG5zZXRUb1N0cmluZ1RhZygkQXJyYXlCdWZmZXIsIEFSUkFZX0JVRkZFUik7XG5zZXRUb1N0cmluZ1RhZygkRGF0YVZpZXcsIERBVEFfVklFVyk7XG5oaWRlKCREYXRhVmlld1tQUk9UT1RZUEVdLCAkdHlwZWQuVklFVywgdHJ1ZSk7XG5leHBvcnRzW0FSUkFZX0JVRkZFUl0gPSAkQXJyYXlCdWZmZXI7XG5leHBvcnRzW0RBVEFfVklFV10gPSAkRGF0YVZpZXc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///179\n")},function(module,exports,__webpack_require__){eval("// check on default Array iterator\nvar Iterators = __webpack_require__(66);\nvar ITERATOR = __webpack_require__(11)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcz8zM2E0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///180\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(163);\nvar enumBugKeys = __webpack_require__(118);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMuanM/MGQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///181\n")},function(module,exports,__webpack_require__){eval("var document = __webpack_require__(12).document;\nmodule.exports = document && document.documentElement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faHRtbC5qcz9mYWIyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xubW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///182\n")},function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(72);\nvar ITERATOR = __webpack_require__(11)('iterator');\nvar Iterators = __webpack_require__(66);\nmodule.exports = __webpack_require__(57).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanM/MjdlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///183\n")},function(module,exports,__webpack_require__){eval("var ITERATOR = __webpack_require__(11)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1kZXRlY3QuanM/NWNjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///184\n")},function(module,exports){eval("exports.f = {}.propertyIsEnumerable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcz81MmE3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///185\n")},function(module,exports,__webpack_require__){eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(25);\nvar anObject = __webpack_require__(16);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(52)(Function.call, __webpack_require__(140).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2V0LXByb3RvLmpzPzhiOTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uIChPLCBwcm90bykge1xuICBhbk9iamVjdChPKTtcbiAgaWYgKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpIHRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uICh0ZXN0LCBidWdneSwgc2V0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaCAoZSkgeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmIChidWdneSkgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///186\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(258);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9kYXRlL25vdy5qcz8wYTBkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9kYXRlL25vd1wiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///187\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar events = __webpack_require__(170);\n\nvar Emitter = function Emitter() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Emitter);\n  (0, _defineProperty2["default"])(this, "createEventEmitter", function () {\n    _this.eventEmitter = new events.EventEmitter();\n  });\n  (0, _defineProperty2["default"])(this, "removeEventEmitter", function () {\n    if (_this.eventEmitter) {\n      _this.eventEmitter.removeAllListeners();\n    }\n\n    _this.eventEmitter = null;\n  });\n} //创建全局监听对象\n;\n\nvar _default = new Emitter();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3V0aWwvZXZlbnRFbWl0dGVyLmpzPzBmMjQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXZlbnRzID0gcmVxdWlyZSgnZXZlbnRzJyk7XG5cbmNsYXNzIEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG5cbiAgICB9XG4gICAgLy/liJvlu7rlhajlsYDnm5HlkKzlr7nosaFcbiAgICBjcmVhdGVFdmVudEVtaXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IGV2ZW50cy5FdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgLy/np7vpmaTlhajlsYDnm5HlkKzlr7nosaFcbiAgICByZW1vdmVFdmVudEVtaXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuZXZlbnRFbWl0dGVyKXtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBFbWl0dGVyKClcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBS0E7QUFDQTtBQU5BO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBWEE7OztBQWNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///188\n')},,,,,,,function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(25);\nvar setPrototypeOf = __webpack_require__(186).set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faW5oZXJpdC1pZi1yZXF1aXJlZC5qcz81ZGJjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGhhdCwgdGFyZ2V0LCBDKSB7XG4gIHZhciBTID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICB2YXIgUDtcbiAgaWYgKFMgIT09IEMgJiYgdHlwZW9mIFMgPT0gJ2Z1bmN0aW9uJyAmJiAoUCA9IFMucHJvdG90eXBlKSAhPT0gQy5wcm90b3R5cGUgJiYgaXNPYmplY3QoUCkgJiYgc2V0UHJvdG90eXBlT2YpIHtcbiAgICBzZXRQcm90b3R5cGVPZih0aGF0LCBQKTtcbiAgfSByZXR1cm4gdGhhdDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///195\n")},function(module,exports,__webpack_require__){eval('/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  "use strict";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === "function" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || "@@iterator";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\n  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there\'s no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don\'t have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: "normal", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: "throw", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = "suspendedStart";\n  var GenStateSuspendedYield = "suspendedYield";\n  var GenStateExecuting = "executing";\n  var GenStateCompleted = "completed";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don\'t natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = "GeneratorFunction";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    ["next", "throw", "return"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === "function" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = "GeneratorFunction";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, "__await")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === "throw") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === "object" &&\n            hasOwn.call(value, "__await")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke("next", value, resolve, reject);\n          }, function(err) {\n            invoke("throw", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke("throw", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error("Generator is already running");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === "throw") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === "next") {\n          // Setting context._sent for legacy support of Babel\'s\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === "throw") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === "return") {\n          context.abrupt("return", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === "normal") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === "throw") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = "throw";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === "throw") {\n        // Note: ["return"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator["return"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = "return";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === "throw") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // "return" to "throw", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = "throw";\n        context.arg = new TypeError(\n          "The iterator does not provide a \'throw\' method");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === "throw") {\n      context.method = "throw";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = "throw";\n      context.arg = new TypeError("iterator result is not an object");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was "throw" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was "next", forget context.arg since it has been\n      // "consumed" by the delegate iterator. If context.method was\n      // "return", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== "return") {\n        context.method = "next";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = "Generator";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers\' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn\'t happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return "[object Generator]";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = "normal";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: "root" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === "function") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel\'s\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = "next";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === "t" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === "throw") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = "throw";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = "next";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === "root") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle("end");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, "catchLoc");\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error("try statement without catch or finally");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, "finallyLoc") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === "break" ||\n           type === "continue") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = "next";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === "throw") {\n        throw record.arg;\n      }\n\n      if (record.type === "break" ||\n          record.type === "continue") {\n        this.next = record.arg;\n      } else if (record.type === "return") {\n        this.rval = this.arg = record.arg;\n        this.method = "return";\n        this.next = "end";\n      } else if (record.type === "normal" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    "catch": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === "throw") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error("illegal catch attempt");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === "next") {\n        // Deliberately forget the last sent value so that we don\'t\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you\'ve misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you\'re not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function("r", "regeneratorRuntime = r")(runtime);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcz85NmNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///196\n')},,,function(module,exports,__webpack_require__){eval("__webpack_require__(200);\nvar $Object = __webpack_require__(4).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzPzQ1NGYiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///199\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(21), 'Object', { defineProperty: __webpack_require__(23).f });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzPzQ2YTciXSwic291cmNlc0NvbnRlbnQiOlsidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0JywgeyBkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZiB9KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///200\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty2 = __webpack_require__(2);\n\n_Object$defineProperty2(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(2));\n\nvar _defineProperties = _interopRequireDefault(__webpack_require__(47));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(__webpack_require__(48));\n\n__webpack_require__(27);\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(__webpack_require__(40));\n\n__webpack_require__(37);\n\nvar _getOwnPropertySymbols = _interopRequireDefault(__webpack_require__(49));\n\nvar _keys = _interopRequireDefault(__webpack_require__(38));\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\n__webpack_require__(43);\n\n__webpack_require__(44);\n\n__webpack_require__(41);\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty3 = _interopRequireDefault(__webpack_require__(8));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _auth = _interopRequireDefault(__webpack_require__(236));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nvar _mqttMessage = _interopRequireDefault(__webpack_require__(141));\n\nvar _message = _interopRequireDefault(__webpack_require__(167));\n\nfunction ownKeys(object, enumerableOnly) { var keys = (0, _keys["default"])(object); if (_getOwnPropertySymbols["default"]) { var symbols = (0, _getOwnPropertySymbols["default"])(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return (0, _getOwnPropertyDescriptor["default"])(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty3["default"])(target, key, source[key]); }); } else if (_getOwnPropertyDescriptors["default"]) { (0, _defineProperties["default"])(target, (0, _getOwnPropertyDescriptors["default"])(source)); } else { ownKeys(Object(source)).forEach(function (key) { (0, _defineProperty2["default"])(target, key, (0, _getOwnPropertyDescriptor["default"])(source, key)); }); } } return target; }\n\n/**\n * 初始化，登录\n */\nvar WebSdk = function WebSdk() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, WebSdk);\n  (0, _defineProperty3["default"])(this, "getVersion", function () {\n    return _config["default"].config.sdkVersion;\n  });\n  (0, _defineProperty3["default"])(this, "init", function (_ref) {\n    var onSuccess = _ref.onSuccess,\n        onFailure = _ref.onFailure;\n\n    try {\n      _config["default"].init();\n\n      _config["default"].updateLoginStatus(false);\n\n      if (onSuccess) {\n        onSuccess(200, \'init success!\');\n      }\n    } catch (e) {\n      if (onFailure) {\n        onFailure(500, e);\n      }\n    }\n  });\n  (0, _defineProperty3["default"])(this, "setRootServerUrl", function (serverUrl) {\n    _config["default"].setAuthBaseUrl(serverUrl);\n  });\n  (0, _defineProperty3["default"])(this, "setImmediatelyConnectMqtt", function (isConnect) {\n    _this._isConnect = isConnect ? isConnect : false;\n\n    if (_this._isConnect) {\n      _this._init_mqtt();\n    }\n  });\n  (0, _defineProperty3["default"])(this, "_init_mqtt", function () {\n    _this._onMqttConnectCb = null;\n  });\n  (0, _defineProperty3["default"])(this, "login", function (_ref2) {\n    var appKey = _ref2.appKey,\n        uccId = _ref2.uccId,\n        type = _ref2.type,\n        nonce = _ref2.nonce,\n        token = _ref2.token,\n        curTime = _ref2.curTime,\n        checkSum = _ref2.checkSum,\n        onSuccess = _ref2.onSuccess,\n        onFailure = _ref2.onFailure;\n\n    if (!onFailure || typeof onFailure !== "function") {\n      throw new TypeError("onFailure is required and onFailure must be a function");\n      return;\n    }\n\n    if (!onSuccess || typeof onSuccess !== "function") {\n      onFailure(400, \'onSuccess is required and onSuccess must be a function\');\n      return;\n    }\n\n    if (!appKey) {\n      onFailure(400, \'The appKey parameter is required and cannot be null\');\n      return;\n    }\n\n    if (!uccId || !_common["default"].checkNumber(uccId) || (0, _parseInt2["default"])(uccId) > _config["default"].config.uccIdMax) {\n      onFailure(400, \'uccId must be a number not starting with 0 and less than \' + _config["default"].config.uccIdMax);\n      return;\n    }\n\n    if (typeof uccId === \'number\') {\n      uccId = uccId.toString();\n    }\n\n    if (!type) {\n      type = 1;\n    }\n\n    if (type == 1 && !curTime) {\n      onFailure(400, \'The value of the curTime parameter is required and cannot be null in tourist mode\');\n      return;\n    }\n\n    if (type == 1 && !checkSum) {\n      onFailure(400, \'The value of the checkSum parameter is required and cannot be null in tourist mode\');\n      return;\n    }\n\n    if (type == 2 && !token) {\n      onFailure(400, \'The value of the token parameter is required and cannot be null in registration mode\');\n      return;\n    }\n\n    if (type == 1) {\n      token = token ? token : uccId;\n      nonce = nonce != undefined ? nonce : uccId;\n    } else if (type == 2) {\n      nonce = token;\n    }\n\n    var old_config = _objectSpread({}, _config["default"].config);\n\n    if (!_config["default"]._init) {\n      _config["default"].init();\n    }\n\n    _config["default"].setData(old_config);\n\n    _config["default"].setConfig({\n      appKey: appKey,\n      uccId: uccId,\n      nonce: nonce,\n      token: token,\n      roleType: type,\n      curTime: curTime,\n      checkSum: checkSum,\n      counter: 0\n    }); //先login,如果报错，尝试走全部的登录流程（调用登录鉴权的三个接口），结果即为最后登录结果\n\n\n    _this._tryLogin().then(function (res) {\n      var code = res.code;\n\n      if (code == 200) {\n        return _promise["default"].resolve(res);\n      } else {\n        //登录失败,重新走全部登录流程\n        return _this._login();\n      }\n    }).then(function (res) {\n      _config["default"].setMqttConnect(_this._isConnect); //mqtt\n\n\n      if (_config["default"].config.mqttConnect) {\n        console.log(\'---to connect mqtt\');\n\n        _this._mqttConnect();\n      }\n\n      return _promise["default"].resolve(200);\n    }).then(function (code) {\n      if (code == 200) {\n        onSuccess(code, _config["default"].config);\n      } else {\n        console.log(\'------login failure\');\n        onFailure(code, \'login failure\');\n      }\n    })["catch"](function (err) {\n      console.log(\'------login failure :\', err);\n      onFailure(err.code, err.desc);\n    });\n  });\n  (0, _defineProperty3["default"])(this, "_mqttConnect", function () {\n    var url = _config["default"].config.webMqttGateway;\n\n    _mqttMessage["default"].connect(url).then(function () {})["catch"](function (e) {\n      if (_this._onMqttConnectCb) {\n        _this._onMqttConnectCb(0, e);\n      }\n    });\n\n    _mqttMessage["default"].on(function (status, desc) {\n      console.log(\'---mqtt callback:\', status, desc);\n\n      if (_this._onMqttConnectCb) {\n        _this._onMqttConnectCb(status, desc);\n      }\n\n      if (status == 1) {\n        _message["default"]._reveiver();\n      }\n    });\n  });\n  (0, _defineProperty3["default"])(this, "onMqttConnect", function (callback) {\n    _this._onMqttConnectCb = callback;\n  });\n  (0, _defineProperty3["default"])(this, "logOut", function (_ref3) {\n    var onSuccess = _ref3.onSuccess,\n        onFailure = _ref3.onFailure;\n\n    if (_config["default"].config.mqttConnect && _mqttMessage["default"].isConnect()) {\n      _mqttMessage["default"].disconnect();\n\n      _this._init_mqtt();\n    }\n\n    _config["default"].init();\n\n    _config["default"].updateLoginStatus(false);\n\n    if (onSuccess) {\n      onSuccess(200, \'logout success\');\n    }\n  });\n  (0, _defineProperty3["default"])(this, "loginStatus", function () {\n    if (_config["default"].config.loginStatus) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  (0, _defineProperty3["default"])(this, "_tryLogin", function () {\n    return new _promise["default"](function (resolve, reject) {\n      if (_config["default"].config.rsaPublicKey && _config["default"].config.masterKey) {\n        _auth["default"].login(_config["default"].config.rsaPublicKey, _config["default"].config.masterKey).then(function (res) {\n          res.mqttConnect = _this._isConnect;\n\n          _config["default"].updateLoginStatus(true);\n\n          _config["default"].setData(res);\n\n          _config["default"].setDiffTime(res);\n\n          res.code = 200;\n          resolve(res);\n        })["catch"](function (err) {\n          resolve({\n            code: err.code,\n            desc: err.desc\n          });\n        });\n      } else {\n        resolve({\n          code: 500,\n          desc: \'\'\n        });\n      }\n    });\n  });\n  (0, _defineProperty3["default"])(this, "_login", function () {\n    return new _promise["default"](function (resolve, reject) {\n      _auth["default"].provision().then(function (res) {\n        _config["default"].setProvision(res);\n\n        return _auth["default"].getRsaPublicKey(res.fnonce);\n      }).then(function (res) {\n        _config["default"].setRsaPublicKey(res.rsaPublicKey);\n\n        return _auth["default"].login(res.rsaPublicKey);\n      }).then(function (res) {\n        res.mqttConnect = _this._isConnect;\n\n        _config["default"].updateLoginStatus(true);\n\n        _config["default"].setData(res);\n\n        _config["default"].setDiffTime(res);\n\n        res.code = 200;\n        resolve(res);\n      })["catch"](function (err) {\n        console.log(\'----login\', err);\n        reject({\n          code: err.code,\n          desc: err.desc\n        });\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "commonRequest", function (_ref4) {\n    var url = _ref4.url,\n        params = _ref4.params,\n        headers = _ref4.headers,\n        method = _ref4.method;\n    return new _promise["default"](function (resolve, reject) {\n      _auth["default"].commonRequest({\n        url: url,\n        params: params,\n        headers: headers,\n        method: method\n      }).then(function (res) {\n        resolve(res);\n      })["catch"](function (err) {\n        reject(err);\n      });\n    });\n  });\n  return {\n    getVersion: this.getVersion,\n    init: this.init,\n    setRootServerUrl: this.setRootServerUrl,\n    setImmediatelyConnectMqtt: this.setImmediatelyConnectMqtt,\n    onMqttConnect: this.onMqttConnect,\n    login: this.login,\n    logOut: this.logOut,\n    loginStatus: this.loginStatus\n  };\n}\n/**\n * 获取当前sdk版本\n * @returns {string}\n */\n;\n\nvar _default = new WebSdk();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2FwaS9zaWduaW4uanM/NTkyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZmlnIGZyb20gXCIuLi9jb25maWdcIjtcbmltcG9ydCBBdXRoIGZyb20gXCIuLi9zZXJ2ZXIvYXV0aFwiO1xuaW1wb3J0IENvbW1vbiBmcm9tICcuLi91dGlsL2NvbW1vbic7XG5pbXBvcnQgTVFUVCBmcm9tICcuLi9zZXJ2ZXIvbXF0dE1lc3NhZ2UnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlJztcblxuLyoqXG4gKiDliJ3lp4vljJbvvIznmbvlvZVcbiAqL1xuY2xhc3MgV2ViU2RrIHtcblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXRWZXJzaW9uOiB0aGlzLmdldFZlcnNpb24sXG4gICAgICAgICAgICBpbml0OiB0aGlzLmluaXQsXG4gICAgICAgICAgICBzZXRSb290U2VydmVyVXJsOnRoaXMuc2V0Um9vdFNlcnZlclVybCxcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZWx5Q29ubmVjdE1xdHQ6dGhpcy5zZXRJbW1lZGlhdGVseUNvbm5lY3RNcXR0LFxuICAgICAgICAgICAgb25NcXR0Q29ubmVjdDp0aGlzLm9uTXF0dENvbm5lY3QsXG4gICAgICAgICAgICBsb2dpbjp0aGlzLmxvZ2luLFxuICAgICAgICAgICAgbG9nT3V0OnRoaXMubG9nT3V0LFxuICAgICAgICAgICAgbG9naW5TdGF0dXM6dGhpcy5sb2dpblN0YXR1c1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635Y+W5b2T5YmNc2Rr54mI5pysXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRWZXJzaW9uID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmNvbmZpZy5zZGtWZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIneWni+WMllxuICAgICAqL1xuICAgIGluaXQgPSAoe29uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIENvbmZpZy5pbml0KCk7XG4gICAgICAgICAgICBDb25maWcudXBkYXRlTG9naW5TdGF0dXMoZmFsc2UpO1xuICAgICAgICAgICAgaWYob25TdWNjZXNzKXtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoMjAwLCdpbml0IHN1Y2Nlc3MhJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoNTAwLGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDorr7nva7mnI3liqHlmajot5/ot6/lvoRcbiAgICAgKiBAcGFyYW0gc2VydmVyVXJsIElQL+Wfn+WQjSvnq6/lj6NcbiAgICAgKi9cbiAgICBzZXRSb290U2VydmVyVXJsID0gKHNlcnZlclVybCkgPT4ge1xuICAgICAgICBDb25maWcuc2V0QXV0aEJhc2VVcmwoc2VydmVyVXJsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmmK/lkKblnKjnmbvlvZXmiJDlip/lkI7nq4vljbPlu7rnq4vplb/ov57mjqVcbiAgICAgKiBAcGFyYW0gaXNDb25uZWN0ICB0cnVl77ya5bu656uLIOm7mOiupGZhbHNlXG4gICAgICovXG4gICAgc2V0SW1tZWRpYXRlbHlDb25uZWN0TXF0dCA9IChpc0Nvbm5lY3QpID0+IHtcbiAgICAgICAgdGhpcy5faXNDb25uZWN0ID0gaXNDb25uZWN0P2lzQ29ubmVjdDpmYWxzZTtcbiAgICAgICAgaWYodGhpcy5faXNDb25uZWN0KXtcbiAgICAgICAgICAgIHRoaXMuX2luaXRfbXF0dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2luaXRfbXF0dCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5fb25NcXR0Q29ubmVjdENiID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnmbvlvZVcbiAgICAgKiBAcGFyYW0gYXBwS2V5IOW/heWhq1xuICAgICAqIEBwYXJhbSB1Y2NJZCDlv4XloavvvIzmnIDlpKcxNuS9jeS4lOS4jeWMheWQqzk5OTk5OTk5OTk5OTk5OTnvvIzkuI3ku6Uw5byA5aS077yI5b2T54S25Lmf5LiN6IO95pivMO+8iVxuICAgICAqIEBwYXJhbSB0eXBlICDpnZ7lv4XloavvvIwx5piv5ri45a6i77yMMuaYr+azqOWGjOeUqOaIt++8jOm7mOiupOS4uua4uOWuolxuICAgICAqIEBwYXJhbSBub25jZSDpnZ7lv4XloavvvIzmuLjlrqLnirbmgIHkuIvpu5jorqTkuLp1Y2NJZO+8jOazqOWGjOaooeW8j+S4jemcgOimgei/meS4quWPguaVsO+8jOS9huaYr+S4uuS6huaWueS+v+iuoeeul++8jOm7mOiupOS4unRva2Vu5YC8XG4gICAgICogQHBhcmFtIHRva2VuIOazqOWGjOW/heWhq++8jOa4uOWuouaaguS4jemcgOimge+8iOm7mOiupOS4unVjY0lk55qE5YC877yJXG4gICAgICogQHBhcmFtIGN1clRpbWUg5ri45a6i5b+F5aGr77yM5rOo5YaM5pqC5LiN6ZyA6KaB77yM5q+r56eS57qn5pe26Ze05oizXG4gICAgICogQHBhcmFtIGNoZWNrU3VtIOa4uOWuouW/hemhu++8jOazqOWGjOaaguS4jemcgOimge+8jOa4uOWuouaooeW8j+S4ulNIQTEoYXBwU2VjcmV0ICsgbm9uY2UgKyBjdXJUaW1lKSzms6jlhozmqKHlvI/kuI3pnIDopoHov5nkuKrlj4LmlbDvvIzlu7rorq7nlLHlubPlj7DmjInnhadBUEnpibTmnYPmlrnlvI/nlJ/miJBcbiAgICAgKiBAcGFyYW0gb25TdWNjZXNzIOi/lOWbnuS4pOS4quWPguaVsO+8jGNvZGXlkoxyZXN1bHTvvIjnirbmgIHnoIFzdWNjZXNz77yaMjAw772eMzAw77yb5omn6KGM57uT5p6c77yJXG4gICAgICogQHBhcmFtIG9uRmFpbHVyZSDov5Tlm57kuKTkuKrlj4LmlbDvvIxjb2Rl5ZKMcmVzdWx077yI54q25oCB56CBZmFpbHVyZe+8mj4zMDDvvJvmiafooYznu5PmnpzvvIlcbiAgICAgKi9cbiAgICBsb2dpbiA9ICh7YXBwS2V5LHVjY0lkLHR5cGUsbm9uY2UsdG9rZW4sY3VyVGltZSxjaGVja1N1bSxvblN1Y2Nlc3Msb25GYWlsdXJlfSkgPT4ge1xuICAgICAgICBpZighb25GYWlsdXJlIHx8IHR5cGVvZiBvbkZhaWx1cmUgIT09IFwiZnVuY3Rpb25cIil7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIHJlcXVpcmVkIGFuZCBvbkZhaWx1cmUgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFvblN1Y2Nlc3MgfHwgdHlwZW9mIG9uU3VjY2VzcyAhPT0gXCJmdW5jdGlvblwiKXtcbiAgICAgICAgICAgIG9uRmFpbHVyZSg0MDAsJ29uU3VjY2VzcyBpcyByZXF1aXJlZCBhbmQgb25TdWNjZXNzIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFhcHBLZXkpe1xuICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwnVGhlIGFwcEtleSBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgYW5kIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZighdWNjSWQgfHwgIUNvbW1vbi5jaGVja051bWJlcih1Y2NJZCkgfHwgcGFyc2VJbnQodWNjSWQpID4gQ29uZmlnLmNvbmZpZy51Y2NJZE1heCApe1xuICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwndWNjSWQgbXVzdCBiZSBhIG51bWJlciBub3Qgc3RhcnRpbmcgd2l0aCAwIGFuZCBsZXNzIHRoYW4gJytDb25maWcuY29uZmlnLnVjY0lkTWF4KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlb2YgdWNjSWQgPT09ICdudW1iZXInKXt1Y2NJZCA9IHVjY0lkLnRvU3RyaW5nKCl9XG5cbiAgICAgICAgaWYoIXR5cGUpe1xuICAgICAgICAgICAgdHlwZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZSA9PSAxICYmICFjdXJUaW1lKXtcbiAgICAgICAgICAgIG9uRmFpbHVyZSg0MDAsJ1RoZSB2YWx1ZSBvZiB0aGUgY3VyVGltZSBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgYW5kIGNhbm5vdCBiZSBudWxsIGluIHRvdXJpc3QgbW9kZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGUgPT0gMSAmJiAhY2hlY2tTdW0pe1xuICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwnVGhlIHZhbHVlIG9mIHRoZSBjaGVja1N1bSBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgYW5kIGNhbm5vdCBiZSBudWxsIGluIHRvdXJpc3QgbW9kZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGUgPT0gMiAmJiAhdG9rZW4pe1xuICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwnVGhlIHZhbHVlIG9mIHRoZSB0b2tlbiBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgYW5kIGNhbm5vdCBiZSBudWxsIGluIHJlZ2lzdHJhdGlvbiBtb2RlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZih0eXBlID09IDEpe1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbiA/IHRva2VuIDogdWNjSWQ7XG4gICAgICAgICAgICBub25jZSA9IG5vbmNlICE9IHVuZGVmaW5lZCA/IG5vbmNlIDogdWNjSWQ7XG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT0gMil7XG4gICAgICAgICAgICBub25jZSA9IHRva2VuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9sZF9jb25maWcgPSB7Li4uQ29uZmlnLmNvbmZpZ307XG5cbiAgICAgICAgaWYoIUNvbmZpZy5faW5pdCl7XG4gICAgICAgICAgICBDb25maWcuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29uZmlnLnNldERhdGEob2xkX2NvbmZpZyk7XG4gICAgICAgIENvbmZpZy5zZXRDb25maWcoe2FwcEtleTphcHBLZXksdWNjSWQ6dWNjSWQsIG5vbmNlOm5vbmNlLCB0b2tlbjp0b2tlbiwgcm9sZVR5cGU6dHlwZSwgY3VyVGltZTpjdXJUaW1lLCBjaGVja1N1bTpjaGVja1N1bSxjb3VudGVyOjB9KTtcblxuICAgICAgICAvL+WFiGxvZ2luLOWmguaenOaKpemUme+8jOWwneivlei1sOWFqOmDqOeahOeZu+W9lea1geeoi++8iOiwg+eUqOeZu+W9lemJtOadg+eahOS4ieS4quaOpeWPo++8ie+8jOe7k+aenOWNs+S4uuacgOWQjueZu+W9lee7k+aenFxuICAgICAgICB0aGlzLl90cnlMb2dpbigpXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvZGUgPSByZXMuY29kZTtcbiAgICAgICAgICAgICAgICBpZihjb2RlID09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgLy/nmbvlvZXlpLHotKUs6YeN5paw6LWw5YWo6YOo55m75b2V5rWB56iLXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dpbigpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBDb25maWcuc2V0TXF0dENvbm5lY3QodGhpcy5faXNDb25uZWN0KTtcbiAgICAgICAgICAgICAgICAvL21xdHRcbiAgICAgICAgICAgICAgICBpZihDb25maWcuY29uZmlnLm1xdHRDb25uZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLXRvIGNvbm5lY3QgbXF0dCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tcXR0Q29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDIwMClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoY29kZSxDb25maWcuY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLWxvZ2luIGZhaWx1cmUnKTtcbiAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlKGNvZGUsJ2xvZ2luIGZhaWx1cmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tbG9naW4gZmFpbHVyZSA6JyxlcnIpO1xuICAgICAgICAgICAgICAgIG9uRmFpbHVyZShlcnIuY29kZSxlcnIuZGVzYyk7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIF9tcXR0Q29ubmVjdCA9ICgpID0+IHtcbiAgICAgICAgbGV0IHVybCA9IENvbmZpZy5jb25maWcud2ViTXF0dEdhdGV3YXk7XG4gICAgICAgIE1RVFQuY29ubmVjdCh1cmwpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7fSlcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX29uTXF0dENvbm5lY3RDYil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTXF0dENvbm5lY3RDYigwLGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIE1RVFQub24oKHN0YXR1cyxkZXNjKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tbXF0dCBjYWxsYmFjazonLHN0YXR1cyxkZXNjKTtcbiAgICAgICAgICAgIGlmKHRoaXMuX29uTXF0dENvbm5lY3RDYil7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25NcXR0Q29ubmVjdENiKHN0YXR1cyxkZXNjKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc3RhdHVzID09IDEpe1xuICAgICAgICAgICAgICAgIE1lc3NhZ2UuX3JldmVpdmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5bu656uLbXF0dOmVv+i/nuaOpeaXtueahOeKtuaAgeebkeWQrO+8jOi/lOWbnnN0YXR1c+WSjGRlc2MsIDEwMe+8mui/nuaOpeS4rSAgMTAxMe+8mumHjei/nuS4rSAgMTrmiJDlip8gIC0x77ya5aSx6LSlICAxMDLvvJrlhbPpl63ov57mjqXkuK0gIDLvvJrkuLvliqjosIPnlKjlhbPpl63ov57mjqUgICAz77ya5pat5byA6L+e5o6lICAwOuW8guW4uO+8iOS7o+eggemXrumimO+8iVxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIG9uTXF0dENvbm5lY3QgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgdGhpcy5fb25NcXR0Q29ubmVjdENiID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnmbvlh7pcbiAgICAgKiDlm57osIPov5Tlm57nirbmgIHlkJflkoznu5Pmnpzmj4/ov7DvvIzmiJDlip8yMDDvvIzlpLHotKU1MDBcbiAgICAgKi9cbiAgICBsb2dPdXQgPSAoe29uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIGlmKENvbmZpZy5jb25maWcubXF0dENvbm5lY3QgJiYgTVFUVC5pc0Nvbm5lY3QoKSl7XG4gICAgICAgICAgICBNUVRULmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRfbXF0dCgpO1xuICAgICAgICB9XG4gICAgICAgIENvbmZpZy5pbml0KCk7XG4gICAgICAgIENvbmZpZy51cGRhdGVMb2dpblN0YXR1cyhmYWxzZSk7XG4gICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICBvblN1Y2Nlc3MoMjAwLCdsb2dvdXQgc3VjY2VzcycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5p+l55yL55m75b2V54q25oCBXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgbG9naW5TdGF0dXMgPSAoKSA9PiB7XG4gICAgICAgIGlmKENvbmZpZy5jb25maWcubG9naW5TdGF0dXMpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8v5YWI5bCd6K+V55m75b2V77yM5LiN5oiQ5Yqf55qE6K+d5YaN5Y676LWw6Ym05p2D562J5rWB56iLXG4gICAgX3RyeUxvZ2luID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKENvbmZpZy5jb25maWcucnNhUHVibGljS2V5ICYmIENvbmZpZy5jb25maWcubWFzdGVyS2V5KSB7XG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbihDb25maWcuY29uZmlnLnJzYVB1YmxpY0tleSwgQ29uZmlnLmNvbmZpZy5tYXN0ZXJLZXkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5tcXR0Q29ubmVjdCA9IHRoaXMuX2lzQ29ubmVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZy51cGRhdGVMb2dpblN0YXR1cyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZy5zZXREYXRhKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0RGlmZlRpbWUocmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmNvZGUgPSAyMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe2NvZGU6ZXJyLmNvZGUsZGVzYzplcnIuZGVzY30pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7Y29kZTo1MDAsZGVzYzonJ30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvL+mJtOadgyvnmbvlvZXmlbTkvZPmtYHnqItcbiAgICBfbG9naW4gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBBdXRoLnByb3Zpc2lvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0UHJvdmlzaW9uKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBdXRoLmdldFJzYVB1YmxpY0tleShyZXMuZm5vbmNlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnNldFJzYVB1YmxpY0tleShyZXMucnNhUHVibGljS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEF1dGgubG9naW4ocmVzLnJzYVB1YmxpY0tleSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5tcXR0Q29ubmVjdCA9IHRoaXMuX2lzQ29ubmVjdDtcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnVwZGF0ZUxvZ2luU3RhdHVzKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0RGF0YShyZXMpO1xuICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0RGlmZlRpbWUocmVzKVxuICAgICAgICAgICAgICAgICAgICByZXMuY29kZSA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1sb2dpbicsZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtjb2RlOmVyci5jb2RlLGRlc2M6ZXJyLmRlc2N9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBodHRw6K+35rGC6LCD55SoXG4gICAgICovXG4gICAgY29tbW9uUmVxdWVzdCA9ICh7IHVybCwgcGFyYW1zLCBoZWFkZXJzLCBtZXRob2QgfSkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgQXV0aC5jb21tb25SZXF1ZXN0KHsgdXJsLCBwYXJhbXMsIGhlYWRlcnMsIG1ldGhvZCB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpXG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgV2ViU2RrKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUNBOzs7QUFHQTtBQUVBO0FBQ0E7QUFEQTtBQUFBO0FBa0JBO0FBQ0E7QUFuQkE7QUF3QkE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBDQTtBQTJDQTtBQUNBO0FBNUNBO0FBbURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXZEQTtBQTBEQTtBQUNBO0FBM0RBO0FBeUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBN0pBO0FBZ0tBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqTEE7QUF3TEE7QUFDQTtBQXpMQTtBQStMQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBek1BO0FBZ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJOQTtBQTBOQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUEzT0E7QUErT0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXRRQTtBQTJRQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbFJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFFQTs7Ozs7O0FBMFFBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///201\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(203);\nvar $Object = __webpack_require__(4).Object;\nmodule.exports = function defineProperties(T, D) {\n  return $Object.defineProperties(T, D);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnRpZXMuanM/NWJiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhULCBEKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVCwgRCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///202\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !__webpack_require__(21), 'Object', { defineProperties: __webpack_require__(146) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMuanM/OWQ5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjMgLyAxNS4yLjMuNyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydGllczogcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpIH0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///203\n")},function(module,exports,__webpack_require__){eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(31);\nvar toLength = __webpack_require__(95);\nvar toAbsoluteIndex = __webpack_require__(205);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcz81YjRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///204\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(103);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcz8wZmM5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///205\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(207);\nmodule.exports = __webpack_require__(4).Object.getOwnPropertyDescriptors;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcz84NTgwIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///206\n")},function(module,exports,__webpack_require__){eval("// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = __webpack_require__(6);\nvar ownKeys = __webpack_require__(208);\nvar toIObject = __webpack_require__(31);\nvar gOPD = __webpack_require__(80);\nvar createProperty = __webpack_require__(171);\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcz9lZTZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIG93bktleXMgPSByZXF1aXJlKCcuL19vd24ta2V5cycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2NyZWF0ZS1wcm9wZXJ0eScpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmplY3QpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICAgIHZhciBnZXREZXNjID0gZ09QRC5mO1xuICAgIHZhciBrZXlzID0gb3duS2V5cyhPKTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBrZXksIGRlc2M7XG4gICAgd2hpbGUgKGtleXMubGVuZ3RoID4gaSkge1xuICAgICAgZGVzYyA9IGdldERlc2MoTywga2V5ID0ga2V5c1tpKytdKTtcbiAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQpIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwga2V5LCBkZXNjKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///207\n")},function(module,exports,__webpack_require__){eval("// all object keys, includes non-enumerable and symbols\nvar gOPN = __webpack_require__(107);\nvar gOPS = __webpack_require__(85);\nvar anObject = __webpack_require__(20);\nvar Reflect = __webpack_require__(9).Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vd24ta2V5cy5qcz9iYTk5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGFsbCBvYmplY3Qga2V5cywgaW5jbHVkZXMgbm9uLWVudW1lcmFibGUgYW5kIHN5bWJvbHNcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIFJlZmxlY3QgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5SZWZsZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBSZWZsZWN0ICYmIFJlZmxlY3Qub3duS2V5cyB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG4gIHZhciBrZXlzID0gZ09QTi5mKGFuT2JqZWN0KGl0KSk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICByZXR1cm4gZ2V0U3ltYm9scyA/IGtleXMuY29uY2F0KGdldFN5bWJvbHMoaXQpKSA6IGtleXM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///208\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(108)('native-function-to-string', Function.toString);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZnVuY3Rpb24tdG8tc3RyaW5nLmpzP2ZhNWIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnbmF0aXZlLWZ1bmN0aW9uLXRvLXN0cmluZycsIEZ1bmN0aW9uLnRvU3RyaW5nKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///209\n")},function(module,exports,__webpack_require__){eval("// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = __webpack_require__(211);\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktc3BlY2llcy1jcmVhdGUuanM/Y2QxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA5LjQuMi4zIEFycmF5U3BlY2llc0NyZWF0ZShvcmlnaW5hbEFycmF5LCBsZW5ndGgpXG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKHNwZWNpZXNDb25zdHJ1Y3RvcihvcmlnaW5hbCkpKGxlbmd0aCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///210\n")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(25);\nvar isArray = __webpack_require__(212);\nvar SPECIES = __webpack_require__(11)('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3Rvci5qcz9lODUzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICB2YXIgQztcbiAgaWYgKGlzQXJyYXkob3JpZ2luYWwpKSB7XG4gICAgQyA9IG9yaWdpbmFsLmNvbnN0cnVjdG9yO1xuICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiBDID09ICdmdW5jdGlvbicgJiYgKEMgPT09IEFycmF5IHx8IGlzQXJyYXkoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNPYmplY3QoQykpIHtcbiAgICAgIEMgPSBDW1NQRUNJRVNdO1xuICAgICAgaWYgKEMgPT09IG51bGwpIEMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyBBcnJheSA6IEM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///211\n")},function(module,exports,__webpack_require__){eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(54);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXkuanM/MTE2OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///212\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(214);\nvar $Object = __webpack_require__(4).Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzP2ZkZTQiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICByZXR1cm4gJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///213\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = __webpack_require__(31);\nvar $getOwnPropertyDescriptor = __webpack_require__(80).f;\n\n__webpack_require__(96)('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzP2JmOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodG9JT2JqZWN0KGl0KSwga2V5KTtcbiAgfTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///214\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(149);\nmodule.exports = __webpack_require__(4).Object.getOwnPropertySymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzP2VkMzMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///215\n")},function(module,exports,__webpack_require__){eval("// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(68);\nvar gOPS = __webpack_require__(85);\nvar pIE = __webpack_require__(86);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanM/NDdlZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciByZXN1bHQgPSBnZXRLZXlzKGl0KTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmIChnZXRTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KTtcbiAgICB2YXIgaXNFbnVtID0gcElFLmY7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKHN5bWJvbHMubGVuZ3RoID4gaSkgaWYgKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///216\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(218);\nmodule.exports = __webpack_require__(4).Object.keys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qcz84YWFlIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5cztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///217\n")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(55);\nvar $keys = __webpack_require__(68);\n\n__webpack_require__(96)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcz8zMmE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KSB7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///218\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(124);\n__webpack_require__(64);\n__webpack_require__(74);\n__webpack_require__(224);\n__webpack_require__(228);\n__webpack_require__(229);\nmodule.exports = __webpack_require__(4).Promise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlLmpzPzY5NmUiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnByb21pc2UnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcucHJvbWlzZS50cnknKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLlByb21pc2U7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///219\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(103);\nvar defined = __webpack_require__(78);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanM/NzFjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///220\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar create = __webpack_require__(88);\nvar descriptor = __webpack_require__(59);\nvar setToStringTag = __webpack_require__(71);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(35)(IteratorPrototype, __webpack_require__(14)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcz84ZjYwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///221\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(223);\nvar step = __webpack_require__(174);\nvar Iterators = __webpack_require__(56);\nvar toIObject = __webpack_require__(31);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(125)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcz9jMzY3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgc3RlcCA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPID0gdGhpcy5fdDtcbiAgdmFyIGtpbmQgPSB0aGlzLl9rO1xuICB2YXIgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///222\n")},function(module,exports){eval("module.exports = function () { /* empty */ };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanM/ODQzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///223\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(61);\nvar global = __webpack_require__(9);\nvar ctx = __webpack_require__(34);\nvar classof = __webpack_require__(97);\nvar $export = __webpack_require__(6);\nvar isObject = __webpack_require__(24);\nvar aFunction = __webpack_require__(67);\nvar anInstance = __webpack_require__(136);\nvar forOf = __webpack_require__(89);\nvar speciesConstructor = __webpack_require__(152);\nvar task = __webpack_require__(153).set;\nvar microtask = __webpack_require__(226)();\nvar newPromiseCapabilityModule = __webpack_require__(112);\nvar perform = __webpack_require__(154);\nvar userAgent = __webpack_require__(227);\nvar promiseResolve = __webpack_require__(155);\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[__webpack_require__(14)('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(137)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(71)($Promise, PROMISE);\n__webpack_require__(177)(PROMISE);\nWrapper = __webpack_require__(4)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(178)(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzPzI0YzUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJyk7XG52YXIgZm9yT2YgPSByZXF1aXJlKCcuL19mb3Itb2YnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgbWljcm90YXNrID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4vX25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcbnZhciBwZXJmb3JtID0gcmVxdWlyZSgnLi9fcGVyZm9ybScpO1xudmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4vX3VzZXItYWdlbnQnKTtcbnZhciBwcm9taXNlUmVzb2x2ZSA9IHJlcXVpcmUoJy4vX3Byb21pc2UtcmVzb2x2ZScpO1xudmFyIFBST01JU0UgPSAnUHJvbWlzZSc7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnM7XG52YXIgdjggPSB2ZXJzaW9ucyAmJiB2ZXJzaW9ucy52OCB8fCAnJztcbnZhciAkUHJvbWlzZSA9IGdsb2JhbFtQUk9NSVNFXTtcbnZhciBpc05vZGUgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJztcbnZhciBlbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBJbnRlcm5hbCwgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5LCBPd25Qcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7XG5cbnZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgPSAkUHJvbWlzZS5yZXNvbHZlKDEpO1xuICAgIHZhciBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICAgIGV4ZWMoZW1wdHksIGVtcHR5KTtcbiAgICB9O1xuICAgIC8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICByZXR1cm4gKGlzTm9kZSB8fCB0eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50ID09ICdmdW5jdGlvbicpXG4gICAgICAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2VcbiAgICAgIC8vIHY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXNcbiAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTgzMDU2NVxuICAgICAgLy8gd2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnNcbiAgICAgICYmIHY4LmluZGV4T2YoJzYuNicpICE9PSAwXG4gICAgICAmJiB1c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lLzY2JykgPT09IC0xO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHByb21pc2UsIGlzUmVqZWN0KSB7XG4gIGlmIChwcm9taXNlLl9uKSByZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIG9rID0gcHJvbWlzZS5fcyA9PSAxO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKHJlYWN0aW9uKSB7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICAgICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgICAgIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gICAgICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLl9oID09IDIpIG9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuICAgICAgICAgICAgcHJvbWlzZS5faCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYW5kbGVyID09PSB0cnVlKSByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkb21haW4pIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIG1heSB0aHJvd1xuICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGRvbWFpbiAmJiAhZXhpdGVkKSBkb21haW4uZXhpdCgpO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkgcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIHByb21pc2UuX2MgPSBbXTtcbiAgICBwcm9taXNlLl9uID0gZmFsc2U7XG4gICAgaWYgKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKSBvblVuaGFuZGxlZChwcm9taXNlKTtcbiAgfSk7XG59O1xudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIHVuaGFuZGxlZCA9IGlzVW5oYW5kbGVkKHByb21pc2UpO1xuICAgIHZhciByZXN1bHQsIGhhbmRsZXIsIGNvbnNvbGU7XG4gICAgaWYgKHVuaGFuZGxlZCkge1xuICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKSB7XG4gICAgICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWUgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgcHJvbWlzZS5faCA9IGlzTm9kZSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuICAgIH0gcHJvbWlzZS5fYSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodW5oYW5kbGVkICYmIHJlc3VsdC5lKSB0aHJvdyByZXN1bHQudjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgcmV0dXJuIHByb21pc2UuX2ggIT09IDEgJiYgKHByb21pc2UuX2EgfHwgcHJvbWlzZS5fYykubGVuZ3RoID09PSAwO1xufTtcbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKSB7XG4gICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiBwcm9taXNlLl92IH0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICBpZiAocHJvbWlzZS5fZCkgcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fcyA9IDI7XG4gIGlmICghcHJvbWlzZS5fYSkgcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIHZhciB0aGVuO1xuICBpZiAocHJvbWlzZS5fZCkgcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICBpZiAodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKSB7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9OyAvLyB3cmFwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgICRyZWplY3QuY2FsbCh7IF93OiBwcm9taXNlLCBfZDogZmFsc2UgfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmICghVVNFX05BVElWRSkge1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBhbkluc3RhbmNlKHRoaXMsICRQcm9taXNlLCBQUk9NSVNFLCAnX2gnKTtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIEludGVybmFsLmNhbGwodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgdGhpcywgMSksIGN0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICB0aGlzLl9jID0gW107ICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgdGhpcy5fZCA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBkb25lXG4gICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSB2YWx1ZVxuICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcbiAgICB0aGlzLl9uID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICB9O1xuICBJbnRlcm5hbC5wcm90b3R5cGUgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKSgkUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgIHZhciByZWFjdGlvbiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZiAodGhpcy5fYSkgdGhpcy5fYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9zKSBub3RpZnkodGhpcywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gICAgfSxcbiAgICAvLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKVxuICAgICdjYXRjaCc6IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgSW50ZXJuYWwoKTtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgPSBjdHgoJHJlamVjdCwgcHJvbWlzZSwgMSk7XG4gIH07XG4gIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgcmV0dXJuIEMgPT09ICRQcm9taXNlIHx8IEMgPT09IFdyYXBwZXJcbiAgICAgID8gbmV3IE93blByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICA6IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBQcm9taXNlOiAkUHJvbWlzZSB9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcyk7XG4gICAgdmFyICQkcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKExJQlJBUlkgJiYgdGhpcyA9PT0gV3JhcHBlciA/ICRQcm9taXNlIDogdGhpcywgeCk7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbiAoaXRlcikge1xuICAkUHJvbWlzZS5hbGwoaXRlcilbJ2NhdGNoJ10oZW1wdHkpO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciAkaW5kZXggPSBpbmRleCsrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbJGluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9LFxuICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpXG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmUpIHJlamVjdChyZXN1bHQudik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///224\n")},function(module,exports){eval("// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pbnZva2UuanM/MzAyNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///225\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(9);\nvar macrotask = __webpack_require__(153).set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = __webpack_require__(60)(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19taWNyb3Rhc2suanM/YWJhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgbWFjcm90YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBPYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBQcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG52YXIgaXNOb2RlID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYgKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKSBwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICBmbiA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGhlYWQpIG5vdGlmeSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgIGlmIChwYXJlbnQpIHBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYgKGlzTm9kZSkge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyBTYWZhcmkgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG4gIH0gZWxzZSBpZiAoT2JzZXJ2ZXIgJiYgIShnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSkpIHtcbiAgICB2YXIgdG9nZ2xlID0gdHJ1ZTtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmIChQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSkge1xuICAgIC8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuICAgIHZhciB0YXNrID0geyBmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCB9O1xuICAgIGlmIChsYXN0KSBsYXN0Lm5leHQgPSB0YXNrO1xuICAgIGlmICghaGVhZCkge1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///226\n")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(9);\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191c2VyLWFnZW50LmpzP2JjMTMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG5hdmlnYXRvciA9IGdsb2JhbC5uYXZpZ2F0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJyc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///227\n")},function(module,exports,__webpack_require__){"use strict";eval("// https://github.com/tc39/proposal-promise-finally\n\nvar $export = __webpack_require__(6);\nvar core = __webpack_require__(4);\nvar global = __webpack_require__(9);\nvar speciesConstructor = __webpack_require__(152);\nvar promiseResolve = __webpack_require__(155);\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5wcm9taXNlLmZpbmFsbHkuanM/M2MxMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLWZpbmFsbHlcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuL19wcm9taXNlLXJlc29sdmUnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LlIsICdQcm9taXNlJywgeyAnZmluYWxseSc6IGZ1bmN0aW9uIChvbkZpbmFsbHkpIHtcbiAgdmFyIEMgPSBzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgY29yZS5Qcm9taXNlIHx8IGdsb2JhbC5Qcm9taXNlKTtcbiAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2Ygb25GaW5hbGx5ID09ICdmdW5jdGlvbic7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgfSA6IG9uRmluYWxseSxcbiAgICBpc0Z1bmN0aW9uID8gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IGU7IH0pO1xuICAgIH0gOiBvbkZpbmFsbHlcbiAgKTtcbn0gfSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///228\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// https://github.com/tc39/proposal-promise-try\nvar $export = __webpack_require__(6);\nvar newPromiseCapability = __webpack_require__(112);\nvar perform = __webpack_require__(154);\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5wcm9taXNlLnRyeS5qcz80M2ZjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuL19wZXJmb3JtJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUHJvbWlzZScsIHsgJ3RyeSc6IGZ1bmN0aW9uIChjYWxsYmFja2ZuKSB7XG4gIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5LmYodGhpcyk7XG4gIHZhciByZXN1bHQgPSBwZXJmb3JtKGNhbGxiYWNrZm4pO1xuICAocmVzdWx0LmUgPyBwcm9taXNlQ2FwYWJpbGl0eS5yZWplY3QgOiBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlKShyZXN1bHQudik7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufSB9KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///229\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(231);\nmodule.exports = __webpack_require__(4).parseInt;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9wYXJzZS1pbnQuanM/YjllOSJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wYXJzZS1pbnQnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLnBhcnNlSW50O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///230\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\nvar $parseInt = __webpack_require__(232);\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wYXJzZS1pbnQuanM/NzQ0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRwYXJzZUludCA9IHJlcXVpcmUoJy4vX3BhcnNlLWludCcpO1xuLy8gMTguMi41IHBhcnNlSW50KHN0cmluZywgcmFkaXgpXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuRiAqIChwYXJzZUludCAhPSAkcGFyc2VJbnQpLCB7IHBhcnNlSW50OiAkcGFyc2VJbnQgfSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///231\n")},function(module,exports,__webpack_require__){eval("var $parseInt = __webpack_require__(9).parseInt;\nvar $trim = __webpack_require__(157).trim;\nvar ws = __webpack_require__(113);\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wYXJzZS1pbnQuanM/NWQ2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJHBhcnNlSW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykucGFyc2VJbnQ7XG52YXIgJHRyaW0gPSByZXF1aXJlKCcuL19zdHJpbmctdHJpbScpLnRyaW07XG52YXIgd3MgPSByZXF1aXJlKCcuL19zdHJpbmctd3MnKTtcbnZhciBoZXggPSAvXlstK10/MFt4WF0vO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICRwYXJzZUludCh3cyArICcwOCcpICE9PSA4IHx8ICRwYXJzZUludCh3cyArICcweDE2JykgIT09IDIyID8gZnVuY3Rpb24gcGFyc2VJbnQoc3RyLCByYWRpeCkge1xuICB2YXIgc3RyaW5nID0gJHRyaW0oU3RyaW5nKHN0ciksIDMpO1xuICByZXR1cm4gJHBhcnNlSW50KHN0cmluZywgKHJhZGl4ID4+PiAwKSB8fCAoaGV4LnRlc3Qoc3RyaW5nKSA/IDE2IDogMTApKTtcbn0gOiAkcGFyc2VJbnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///232\n")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(32);\nvar defined = __webpack_require__(51);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWF0LmpzPzAyZjQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///233\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar regexpExec = __webpack_require__(116);\n__webpack_require__(10)({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmV4ZWMuanM/YjBjNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4vX3JlZ2V4cC1leGVjJyk7XG5yZXF1aXJlKCcuL19leHBvcnQnKSh7XG4gIHRhcmdldDogJ1JlZ0V4cCcsXG4gIHByb3RvOiB0cnVlLFxuICBmb3JjZWQ6IHJlZ2V4cEV4ZWMgIT09IC8uLy5leGVjXG59LCB7XG4gIGV4ZWM6IHJlZ2V4cEV4ZWNcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///234\n")},function(module){eval('module.exports = JSON.parse("{\\"name\\":\\"srtcpwebsdk\\",\\"sideEffects\\":false,\\"version\\":\\"1.5.1\\",\\"author\\":\\"zhaoxin <zhaoxinjc@feinno.com>\\",\\"license\\":\\"MIT\\",\\"scripts\\":{\\"clean:dist\\":\\"rimraf ./dist\\",\\"dev\\":\\"cross-env NODE_ENV=development webpack --config webpack.config.js -w\\",\\"dev:url\\":\\"cross-env NODE_ENV=development webpack-dev-server --config webpack.config.js -w\\",\\"build:product\\":\\"cross-env NODE_ENV=production webpack --config webpack.config.js --hide-modules --progress\\",\\"build\\":\\"npm-run-all clean:* --parallel build:*\\"},\\"dependencies\\":{\\"@babel/runtime\\":\\"^7.2.0\\",\\"bowser\\":\\"^1.9.3\\",\\"debug\\":\\"^4.1.1\\",\\"events\\":\\"^3.0.0\\",\\"hark\\":\\"^1.2.3\\",\\"jsonp\\":\\"^0.2.1\\",\\"random-number\\":\\"^0.0.9\\",\\"retry\\":\\"^0.12.0\\",\\"socket.io-client\\":\\"^2.2.0\\",\\"tttwebsdk\\":\\"^3.4.30\\",\\"websocket\\":\\"^1.0.28\\",\\"xml2json-light\\":\\"^1.0.6\\"},\\"devDependencies\\":{\\"@babel/cli\\":\\"^7.2.0\\",\\"@babel/core\\":\\"^7.2.0\\",\\"@babel/plugin-proposal-class-properties\\":\\"^7.2.1\\",\\"@babel/plugin-syntax-dynamic-import\\":\\"^7.2.0\\",\\"@babel/plugin-transform-modules-umd\\":\\"^7.2.0\\",\\"@babel/plugin-transform-runtime\\":\\"^7.2.0\\",\\"@babel/preset-env\\":\\"^7.2.0\\",\\"@babel/runtime-corejs2\\":\\"^7.2.0\\",\\"babel-loader\\":\\"^8.0.4\\",\\"babel-plugin-import\\":\\"^1.11.0\\",\\"clean-webpack-plugin\\":\\"^0.1.19\\",\\"cross-env\\":\\"^5.2.0\\",\\"css-loader\\":\\"^1.0.0\\",\\"file-loader\\":\\"^4.2.0\\",\\"hard-source-webpack-plugin\\":\\"^0.13.1\\",\\"jsencrypt\\":\\"^3.0.0-rc.1\\",\\"npm-run-all\\":\\"^4.1.5\\",\\"promise-polyfill\\":\\"^8.1.0\\",\\"rimraf\\":\\"^2.6.2\\",\\"style-loader\\":\\"^0.23.1\\",\\"terser-webpack-plugin\\":\\"^1.3.0\\",\\"url-loader\\":\\"^2.1.0\\",\\"video.js\\":\\"^7.6.5\\",\\"webpack\\":\\"^4.28.0\\",\\"webpack-cli\\":\\"^3.1.2\\",\\"whatwg-fetch\\":\\"^3.0.0\\"}}");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM1LmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///235\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty2 = __webpack_require__(2);\n\n_Object$defineProperty2(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(2));\n\nvar _defineProperties = _interopRequireDefault(__webpack_require__(47));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(__webpack_require__(48));\n\n__webpack_require__(27);\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(__webpack_require__(40));\n\n__webpack_require__(37);\n\nvar _getOwnPropertySymbols = _interopRequireDefault(__webpack_require__(49));\n\nvar _keys = _interopRequireDefault(__webpack_require__(38));\n\n__webpack_require__(237);\n\nvar _stringify = _interopRequireDefault(__webpack_require__(45));\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty3 = _interopRequireDefault(__webpack_require__(8));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _md = _interopRequireDefault(__webpack_require__(253));\n\nvar _base = _interopRequireDefault(__webpack_require__(132));\n\nvar _jsencrypt = __webpack_require__(254);\n\nfunction ownKeys(object, enumerableOnly) { var keys = (0, _keys["default"])(object); if (_getOwnPropertySymbols["default"]) { var symbols = (0, _getOwnPropertySymbols["default"])(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return (0, _getOwnPropertyDescriptor["default"])(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty3["default"])(target, key, source[key]); }); } else if (_getOwnPropertyDescriptors["default"]) { (0, _defineProperties["default"])(target, (0, _getOwnPropertyDescriptors["default"])(source)); } else { ownKeys(Object(source)).forEach(function (key) { (0, _defineProperty2["default"])(target, key, (0, _getOwnPropertyDescriptor["default"])(source, key)); }); } } return target; }\n\n/**\n * 登录鉴权接口封装\n */\nvar Auth = function Auth() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Auth);\n  (0, _defineProperty3["default"])(this, "aesSeed", null);\n  (0, _defineProperty3["default"])(this, "aesVi", null);\n  (0, _defineProperty3["default"])(this, "_getBaseHeaders", function () {\n    return {\n      \'Content-Type\': \'text/plain\',\n      \'DeviceId\': _config["default"].config.deviceId,\n      \'AppKey\': _config["default"].config.appKey,\n      \'SdkVersion\': _config["default"].config.sdkVersion\n    };\n  });\n  (0, _defineProperty3["default"])(this, "provision", function () {\n    var config = _config["default"].config;\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/auth/provisioning?uccId=\' + config.uccId + \'&type=\' + config.roleType;\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Authorization\': \'srtc-sso\',\n      \'Token\': config.token\n    }); //游客特有\n\n\n    if (config.roleType == 1) {\n      headers.Nonce = config.nonce;\n      headers.CurTime = config.curTime;\n      headers.CheckSum = config.checkSum;\n    }\n\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestXml(url, {\n        method: \'GET\',\n        headers: headers,\n        success: function success(status, res) {\n          console.log(\'----auth provision success status ----\x3e>\', status);\n          console.log(\'----auth provision success res ----\x3e>\', res.results);\n          resolve(res.results);\n        },\n        fail: function fail(status, res) {\n          console.log(\'----auth provision fail status ----\x3e>\', status);\n          console.log(\'----auth provision fail res ----\x3e>\', res);\n          reject({\n            code: status,\n            desc: \'login failure，\' + _this._errorMag(status)\n          });\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "getRsaPublicKey", function (fnonce) {\n    var config = _config["default"].config;\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/auth/getRsaPublicKey?uccId=\' + config.uccId + \'&type=\' + config.roleType; //注册模式下 nonce就是token\n\n    var authToken = _md["default"].hex_md5(config.nonce + fnonce);\n\n    var authorization = \'srtc-sso oauth_client_token=\' + authToken + \',oauth_client_timeExprie=100,oauth_version=1.0\';\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Authorization\': authorization\n    });\n\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestXml(url, {\n        method: \'GET\',\n        headers: headers,\n        success: function success(status, res) {\n          console.log(\'----auth getRsaPublicKey success status ----\x3e>\', status);\n          console.log(\'----auth getRsaPublicKey success res ----\x3e>\', res.results);\n          resolve(res.results);\n        },\n        fail: function fail(status, res) {\n          console.log(\'----auth getRsaPublicKey fail status ----\x3e>\', status);\n          console.log(\'----auth getRsaPublicKey fail res ----\x3e>\', res);\n          reject({\n            code: status,\n            desc: \'login failure，\' + _this._errorMag(status)\n          });\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "login", function (rsaPublicKey, masterKeyStr) {\n    var config = _config["default"].config;\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/auth/login?uccId=\' + config.uccId + \'&type=\' + config.roleType;\n    var masterKey = \'\';\n\n    if (!masterKeyStr) {\n      _this.aesSeed = _base["default"].base64Encode(_common["default"].randomStr(16));\n      _this.aesVi = _base["default"].base64Encode(_common["default"].randomStr(16));\n      masterKey = _this._getMasterKey(rsaPublicKey);\n    } else {\n      _this.aesSeed = config.aesSeed;\n      _this.aesVi = config.aesVi;\n      masterKey = masterKeyStr;\n    }\n\n    var authorization = \'srtc-sso oauth_client_masterKey=\' + masterKey;\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Authorization\': authorization,\n      \'NavVersion\': config.navVersion\n    });\n\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestXml(url, {\n        method: \'GET\',\n        headers: headers,\n        success: function success(status, res) {\n          //请求成功但是后端服务解析失败，返回数据中有resultCode表示\n          var code = res.results.resultCode;\n\n          if (code >= 200 && code < 300) {\n            var message = _objectSpread({}, res.results, {\n              aesVi: _this.aesVi,\n              aesSeed: _this.aesSeed,\n              masterKey: masterKey\n            });\n\n            console.log(\'----auth login success status ----\x3e>\', code);\n            console.log(\'----auth login success res ----\x3e>\', message);\n            resolve(message);\n          } else {\n            reject({\n              code: code,\n              desc: \'login failure,\' + _this._errorMag(code)\n            });\n          }\n        },\n        fail: function fail(status, res) {\n          console.log(\'----auth login fail status ----\x3e>\', status);\n          console.log(\'----auth login fail res ----\x3e>\', res);\n          reject({\n            code: status,\n            desc: \'login failure !\'\n          });\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "_getMasterKey", function (rsaPublicKey) {\n    var config = _config["default"].config;\n    var aesSeed = _this.aesSeed;\n    var aesVi = _this.aesVi;\n    var masterKey = {\n      deviceId: config.deviceId,\n      uccId: config.uccId,\n      aesSeed: aesSeed,\n      aesVi: aesVi,\n      duration: 30,\n      createTime: _common["default"].getTimeStamp()\n    };\n    var jsencrypt = new _jsencrypt.JSEncrypt();\n    jsencrypt.setPublicKey(rsaPublicKey);\n    var content = (0, _stringify["default"])(masterKey); //内容过长，分段加密\n\n    var masterBytes = _common["default"].asBytes(content),\n        secretBytes = [],\n        byteLen = masterBytes.length,\n        xhLen = Math.ceil(byteLen / 117);\n\n    for (var i = 0; i < xhLen; i++) {\n      var end = (i + 1) * 116,\n          start = i * 116;\n\n      if (i == xhLen - 1) {\n        end = Math.min(end, byteLen);\n      }\n\n      var sectionBytes = masterBytes.slice(start, end),\n          sectionStr = _common["default"].asString(sectionBytes),\n          encryptedSectionStr = jsencrypt.encrypt(sectionStr),\n          encryptedSectionBytes = _common["default"].asBytes(_base["default"].base64decode(encryptedSectionStr));\n\n      secretBytes = secretBytes.concat(encryptedSectionBytes);\n    }\n\n    var masterKeyStr = _base["default"].base64Encode(_common["default"].asString(secretBytes));\n\n    return masterKeyStr;\n  });\n  (0, _defineProperty3["default"])(this, "_errorMag", function (code) {\n    var msg = code;\n\n    switch (code) {\n      case 404:\n        msg = \'user is not found\';\n        break;\n\n      case 435:\n        msg = \'Navigation version Numbers does not match\';\n        break;\n\n      case 461:\n        msg = \'rsakey is expire\';\n        break;\n\n      case 462:\n        msg = \'masterkey is expire\';\n        break;\n\n      case 463:\n        msg = \'sessionkey is expire\';\n        break;\n\n      case 464:\n        msg = \'sessionKey is illegal\';\n        break;\n\n      case 500:\n        msg = \'Server error\';\n        break;\n    }\n\n    return msg;\n  });\n  (0, _defineProperty3["default"])(this, "commonRequest", function (_ref) {\n    var url = _ref.url,\n        params = _ref.params,\n        headers = _ref.headers,\n        method = _ref.method;\n    var commonUrl = url.startsWith(\'http\') ? url : _config["default"].config.webHttpGateway + url;\n\n    var sessionId = _common["default"].uuid();\n\n    var token = _common["default"].setToken(sessionId, _config["default"].config.deviceId);\n\n    var commonHeaders = _objectSpread({}, _this._getBaseHeaders(), {\n      Token: token,\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    });\n\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(commonUrl, {\n        method: method,\n        headers: _objectSpread({}, commonHeaders, {}, headers),\n        data: params,\n        success: function success(code, res) {\n          console.log(\'----success ->\', res);\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            resolve(res);\n          } else {\n            reject(\'Failed to commonRequest , code is \' + code + \',\' + _this._errorMag(code));\n          }\n        },\n        fail: function fail(code, err) {\n          reject(\'Failed to commonRequest , code is \' + code + \',\' + err);\n        }\n      });\n    });\n  });\n};\n\nvar _default = new Auth();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3NlcnZlci9hdXRoLmpzPzAwMjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDnmbvlvZXpibTmnYPlkI7lj7DmnI3liqHmjqXlj6NcbiAqL1xuaW1wb3J0IENvbW1vbiBmcm9tICcuLi91dGlsL2NvbW1vbic7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgbWQ1IGZyb20nLi4vdXRpbC9tZDUnO1xuaW1wb3J0IEJhc2U2NCBmcm9tICcuLi91dGlsL2Jhc2U2NCc7XG5pbXBvcnQgeyBKU0VuY3J5cHQgfSBmcm9tICdqc2VuY3J5cHQnO1xuXG4vKipcbiAqIOeZu+W9lemJtOadg+aOpeWPo+WwgeijhVxuICovXG5jbGFzcyBBdXRoIHtcbiAgICBhZXNTZWVkID0gbnVsbDtcbiAgICBhZXNWaSA9IG51bGw7XG5cbiAgICBfZ2V0QmFzZUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nLFxuICAgICAgICAgICAgJ0RldmljZUlkJzogQ29uZmlnLmNvbmZpZy5kZXZpY2VJZCxcbiAgICAgICAgICAgICdBcHBLZXknOkNvbmZpZy5jb25maWcuYXBwS2V5LFxuICAgICAgICAgICAgJ1Nka1ZlcnNpb24nOkNvbmZpZy5jb25maWcuc2RrVmVyc2lvblxuICAgICAgICB9XG4gICAgfTtcbiAgICAvL+eZu+W9lTEgPj4g55m75b2V6Ym05p2D5YeG5aSHXG4gICAgcHJvdmlzaW9uID0gKCkgPT4ge1xuICAgICAgICBsZXQgY29uZmlnID0gQ29uZmlnLmNvbmZpZztcbiAgICAgICAgbGV0IHVybCA9IENvbmZpZy5jb25maWcud2ViSHR0cEdhdGV3YXkrJy9zcnRjX3NlcnZlci9hdXRoL3Byb3Zpc2lvbmluZz91Y2NJZD0nK2NvbmZpZy51Y2NJZCsnJnR5cGU9Jytjb25maWcucm9sZVR5cGU7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5fZ2V0QmFzZUhlYWRlcnMoKSxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ3NydGMtc3NvJyxcbiAgICAgICAgICAgICdUb2tlbic6Y29uZmlnLnRva2VuLFxuICAgICAgICB9XG4gICAgICAgIC8v5ri45a6i54m55pyJXG4gICAgICAgIGlmKGNvbmZpZy5yb2xlVHlwZSA9PSAxKXtcbiAgICAgICAgICAgIGhlYWRlcnMuTm9uY2UgPSBjb25maWcubm9uY2U7XG4gICAgICAgICAgICBoZWFkZXJzLkN1clRpbWUgPSBjb25maWcuY3VyVGltZTtcbiAgICAgICAgICAgIGhlYWRlcnMuQ2hlY2tTdW0gPSBjb25maWcuY2hlY2tTdW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIENvbW1vbi5yZXF1ZXN0WG1sKHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoc3RhdHVzLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1hdXRoIHByb3Zpc2lvbiBzdWNjZXNzIHN0YXR1cyAtLS0tPj4nLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWF1dGggcHJvdmlzaW9uIHN1Y2Nlc3MgcmVzIC0tLS0+PicsIHJlcy5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiAoc3RhdHVzLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1hdXRoIHByb3Zpc2lvbiBmYWlsIHN0YXR1cyAtLS0tPj4nLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWF1dGggcHJvdmlzaW9uIGZhaWwgcmVzIC0tLS0+PicsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh7Y29kZTpzdGF0dXMsZGVzYzonbG9naW4gZmFpbHVyZe+8jCcrdGhpcy5fZXJyb3JNYWcoc3RhdHVzKX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8v55m75b2VMiA+PiDojrflj5blhazpkqVcbiAgICBnZXRSc2FQdWJsaWNLZXkgPSAoZm5vbmNlKSA9PiB7XG4gICAgICAgIGxldCBjb25maWcgPSBDb25maWcuY29uZmlnO1xuICAgICAgICBsZXQgdXJsID0gQ29uZmlnLmNvbmZpZy53ZWJIdHRwR2F0ZXdheSsnL3NydGNfc2VydmVyL2F1dGgvZ2V0UnNhUHVibGljS2V5P3VjY0lkPScrY29uZmlnLnVjY0lkKycmdHlwZT0nK2NvbmZpZy5yb2xlVHlwZTtcbiAgICAgICAgLy/ms6jlhozmqKHlvI/kuIsgbm9uY2XlsLHmmK90b2tlblxuICAgICAgICBsZXQgYXV0aFRva2VuID0gbWQ1LmhleF9tZDUoY29uZmlnLm5vbmNlK2Zub25jZSk7XG4gICAgICAgIGxldCBhdXRob3JpemF0aW9uID0gJ3NydGMtc3NvIG9hdXRoX2NsaWVudF90b2tlbj0nK2F1dGhUb2tlbisnLG9hdXRoX2NsaWVudF90aW1lRXhwcmllPTEwMCxvYXV0aF92ZXJzaW9uPTEuMCc7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5fZ2V0QmFzZUhlYWRlcnMoKSxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYXV0aG9yaXphdGlvbixcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBDb21tb24ucmVxdWVzdFhtbCh1cmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKHN0YXR1cywgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tYXV0aCBnZXRSc2FQdWJsaWNLZXkgc3VjY2VzcyBzdGF0dXMgLS0tLT4+Jywgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1hdXRoIGdldFJzYVB1YmxpY0tleSBzdWNjZXNzIHJlcyAtLS0tPj4nLCByZXMucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbDogKHN0YXR1cywgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tYXV0aCBnZXRSc2FQdWJsaWNLZXkgZmFpbCBzdGF0dXMgLS0tLT4+Jywgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1hdXRoIGdldFJzYVB1YmxpY0tleSBmYWlsIHJlcyAtLS0tPj4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe2NvZGU6c3RhdHVzLGRlc2M6J2xvZ2luIGZhaWx1cmXvvIwnK3RoaXMuX2Vycm9yTWFnKHN0YXR1cyl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvL+eZu+W9lTMgPj4g55m75b2VKOi/m+WFpeezu+e7n+mmluasoei/m+WFpeeZu+W9lemcgOimgeaJp+ihjDHvvIwy5q2l77yM6L+b5YWl5ZCO5YaN55m75b2V5LiN6ZyA6KaBMe+8jDIpXG4gICAgbG9naW4gPSAocnNhUHVibGljS2V5LG1hc3RlcktleVN0cikgPT4ge1xuICAgICAgICBsZXQgY29uZmlnID0gQ29uZmlnLmNvbmZpZztcbiAgICAgICAgbGV0IHVybCA9IENvbmZpZy5jb25maWcud2ViSHR0cEdhdGV3YXkrJy9zcnRjX3NlcnZlci9hdXRoL2xvZ2luP3VjY0lkPScrY29uZmlnLnVjY0lkKycmdHlwZT0nK2NvbmZpZy5yb2xlVHlwZTtcblxuICAgICAgICBsZXQgbWFzdGVyS2V5ID0gJyc7XG4gICAgICAgIGlmKCFtYXN0ZXJLZXlTdHIpe1xuICAgICAgICAgICAgdGhpcy5hZXNTZWVkID0gQmFzZTY0LmJhc2U2NEVuY29kZShDb21tb24ucmFuZG9tU3RyKDE2KSk7XG4gICAgICAgICAgICB0aGlzLmFlc1ZpID0gQmFzZTY0LmJhc2U2NEVuY29kZShDb21tb24ucmFuZG9tU3RyKDE2KSlcbiAgICAgICAgICAgIG1hc3RlcktleSA9IHRoaXMuX2dldE1hc3RlcktleShyc2FQdWJsaWNLZXkpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuYWVzU2VlZCA9IGNvbmZpZy5hZXNTZWVkO1xuICAgICAgICAgICAgdGhpcy5hZXNWaSA9IGNvbmZpZy5hZXNWaTtcblxuICAgICAgICAgICAgbWFzdGVyS2V5ID0gbWFzdGVyS2V5U3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGF1dGhvcml6YXRpb24gPSAnc3J0Yy1zc28gb2F1dGhfY2xpZW50X21hc3RlcktleT0nK21hc3RlcktleTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLl9nZXRCYXNlSGVhZGVycygpLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgJ05hdlZlcnNpb24nOmNvbmZpZy5uYXZWZXJzaW9uLFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIENvbW1vbi5yZXF1ZXN0WG1sKHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoc3RhdHVzLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy/or7fmsYLmiJDlip/kvYbmmK/lkI7nq6/mnI3liqHop6PmnpDlpLHotKXvvIzov5Tlm57mlbDmja7kuK3mnIlyZXN1bHRDb2Rl6KGo56S6XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2RlID0gcmVzLnJlc3VsdHMucmVzdWx0Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPj0gMjAwICYmIGNvZGUgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlcy5yZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFlc1ZpOiB0aGlzLmFlc1ZpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFlc1NlZWQ6IHRoaXMuYWVzU2VlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXN0ZXJLZXk6bWFzdGVyS2V5XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWF1dGggbG9naW4gc3VjY2VzcyBzdGF0dXMgLS0tLT4+JywgY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWF1dGggbG9naW4gc3VjY2VzcyByZXMgLS0tLT4+JywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtjb2RlOmNvZGUsZGVzYzonbG9naW4gZmFpbHVyZSwnK3RoaXMuX2Vycm9yTWFnKGNvZGUpfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbDogKHN0YXR1cywgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tYXV0aCBsb2dpbiBmYWlsIHN0YXR1cyAtLS0tPj4nLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWF1dGggbG9naW4gZmFpbCByZXMgLS0tLT4+JywgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtjb2RlOnN0YXR1cyxkZXNjOidsb2dpbiBmYWlsdXJlICEnfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy/nlJ/miJBtYXN0ZXJLZXk65Yip55SocnNh6Z2e5a+556ew77yM5Yqg5a+GbWFzdGVyS2V5LGJhc2U2NOe8lueggei+k+WHulxuICAgIF9nZXRNYXN0ZXJLZXkgPSAocnNhUHVibGljS2V5KSA9PiB7XG4gICAgICAgIGxldCBjb25maWcgPSBDb25maWcuY29uZmlnO1xuICAgICAgICBsZXQgYWVzU2VlZCA9IHRoaXMuYWVzU2VlZDtcbiAgICAgICAgbGV0IGFlc1ZpID0gdGhpcy5hZXNWaTtcbiAgICAgICAgbGV0IG1hc3RlcktleSA9IHtcbiAgICAgICAgICAgIGRldmljZUlkOmNvbmZpZy5kZXZpY2VJZCxcbiAgICAgICAgICAgIHVjY0lkOmNvbmZpZy51Y2NJZCxcbiAgICAgICAgICAgIGFlc1NlZWQ6YWVzU2VlZCxcbiAgICAgICAgICAgIGFlc1ZpOmFlc1ZpLFxuICAgICAgICAgICAgZHVyYXRpb246MzAsXG4gICAgICAgICAgICBjcmVhdGVUaW1lOkNvbW1vbi5nZXRUaW1lU3RhbXAoKVxuICAgICAgICB9XG4gICAgICAgIGxldCBqc2VuY3J5cHQgPSBuZXcgSlNFbmNyeXB0KCk7XG4gICAgICAgIGpzZW5jcnlwdC5zZXRQdWJsaWNLZXkocnNhUHVibGljS2V5KTtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShtYXN0ZXJLZXkpO1xuICAgICAgICAvL+WGheWuuei/h+mVv++8jOWIhuauteWKoOWvhlxuICAgICAgICBsZXQgbWFzdGVyQnl0ZXMgPSBDb21tb24uYXNCeXRlcyhjb250ZW50KSxcbiAgICAgICAgICAgIHNlY3JldEJ5dGVzID0gW10sXG4gICAgICAgICAgICBieXRlTGVuID0gbWFzdGVyQnl0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgeGhMZW4gPSBNYXRoLmNlaWwoYnl0ZUxlbiAvIDExNyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeGhMZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IGVuZCA9IChpICsgMSkgKiAxMTYsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpICogMTE2O1xuICAgICAgICAgICAgaWYgKGkgPT0geGhMZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gTWF0aC5taW4oZW5kLCBieXRlTGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzZWN0aW9uQnl0ZXMgPSBtYXN0ZXJCeXRlcy5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uU3RyID0gQ29tbW9uLmFzU3RyaW5nKHNlY3Rpb25CeXRlcyksXG4gICAgICAgICAgICAgICAgZW5jcnlwdGVkU2VjdGlvblN0ciA9IGpzZW5jcnlwdC5lbmNyeXB0KHNlY3Rpb25TdHIpLFxuICAgICAgICAgICAgICAgIGVuY3J5cHRlZFNlY3Rpb25CeXRlcyA9IENvbW1vbi5hc0J5dGVzKEJhc2U2NC5iYXNlNjRkZWNvZGUoZW5jcnlwdGVkU2VjdGlvblN0cikpO1xuICAgICAgICAgICAgc2VjcmV0Qnl0ZXMgPSBzZWNyZXRCeXRlcy5jb25jYXQoZW5jcnlwdGVkU2VjdGlvbkJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFzdGVyS2V5U3RyID0gQmFzZTY0LmJhc2U2NEVuY29kZShDb21tb24uYXNTdHJpbmcoc2VjcmV0Qnl0ZXMpKTtcblxuICAgICAgICByZXR1cm4gbWFzdGVyS2V5U3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmoLnmja7plJnor6/noIHov5Tlm57lr7nlupTplJnor6/kv6Hmga9cbiAgICAgKiBAcGFyYW0gY29kZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXJyb3JNYWcgPSAoY29kZSkgPT4ge1xuICAgICAgICBsZXQgbXNnID0gY29kZTtcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDQwNDpcbiAgICAgICAgICAgICAgICBtc2cgPSAndXNlciBpcyBub3QgZm91bmQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MzU6XG4gICAgICAgICAgICAgICAgbXNnID0gJ05hdmlnYXRpb24gdmVyc2lvbiBOdW1iZXJzIGRvZXMgbm90IG1hdGNoJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDYxOlxuICAgICAgICAgICAgICAgIG1zZyA9ICdyc2FrZXkgaXMgZXhwaXJlJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDYyOlxuICAgICAgICAgICAgICAgIG1zZyA9ICdtYXN0ZXJrZXkgaXMgZXhwaXJlJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDYzOlxuICAgICAgICAgICAgICAgIG1zZyA9ICdzZXNzaW9ua2V5IGlzIGV4cGlyZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ2NDpcbiAgICAgICAgICAgICAgICBtc2cgPSAnc2Vzc2lvbktleSBpcyBpbGxlZ2FsJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTAwOlxuICAgICAgICAgICAgICAgIG1zZyA9ICdTZXJ2ZXIgZXJyb3InO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuXG4gICAgY29tbW9uUmVxdWVzdCA9ICh7IHVybCwgcGFyYW1zLCBoZWFkZXJzLCBtZXRob2QgfSkgID0+IHtcbiAgICAgICAgbGV0IGNvbW1vblVybCA9IHVybC5zdGFydHNXaXRoKCdodHRwJykgPyB1cmwgOiBDb25maWcuY29uZmlnLndlYkh0dHBHYXRld2F5ICsgdXJsXG4gICAgICAgIGxldCBzZXNzaW9uSWQgPSBDb21tb24udXVpZCgpO1xuICAgICAgICBsZXQgdG9rZW4gPSBDb21tb24uc2V0VG9rZW4oc2Vzc2lvbklkLENvbmZpZy5jb25maWcuZGV2aWNlSWQpO1xuICAgICAgICBsZXQgY29tbW9uSGVhZGVycyA9IHtcbiAgICAgICAgICAuLi50aGlzLl9nZXRCYXNlSGVhZGVycygpLFxuICAgICAgICAgIFRva2VuOiB0b2tlbixcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgQ29tbW9uLnJlcXVlc3RKc29uKGNvbW1vblVybCwge1xuICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAuLi5jb21tb25IZWFkZXJzLCAuLi5oZWFkZXJzIH0sXG4gICAgICAgICAgICAgIGRhdGE6IHBhcmFtcyxcbiAgICAgICAgICAgICAgc3VjY2VzczogKGNvZGUsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tc3VjY2VzcyAtPicsIHJlcylcbiAgICAgICAgICAgICAgICBjb2RlID0gcmVzLmNvZGVcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA+PSAyMDAwICYmIGNvZGUgPCAzMDAwKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgICAgICAnRmFpbGVkIHRvIGNvbW1vblJlcXVlc3QgLCBjb2RlIGlzICcgK1xuICAgICAgICAgICAgICAgICAgICAgIGNvZGUgK1xuICAgICAgICAgICAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JNYWcoY29kZSksXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmYWlsOiAoY29kZSwgZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gY29tbW9uUmVxdWVzdCAsIGNvZGUgaXMgJyArIGNvZGUgKyAnLCcgKyBlcnIpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUNBOzs7QUFHQTs7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFIQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBWkE7QUFjQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBekJBO0FBMkJBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQXNCQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFzQkE7QUFDQTs7O0FBSUE7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///236\n')},function(module,exports,__webpack_require__){"use strict";eval("// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n\nvar $export = __webpack_require__(10);\nvar toLength = __webpack_require__(15);\nvar context = __webpack_require__(158);\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * __webpack_require__(159)(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN0YXJ0cy13aXRoLmpzP2Y1NTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMjEuMS4zLjE4IFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aChzZWFyY2hTdHJpbmcgWywgcG9zaXRpb24gXSlcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjb250ZXh0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWNvbnRleHQnKTtcbnZhciBTVEFSVFNfV0lUSCA9ICdzdGFydHNXaXRoJztcbnZhciAkc3RhcnRzV2l0aCA9ICcnW1NUQVJUU19XSVRIXTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiByZXF1aXJlKCcuL19mYWlscy1pcy1yZWdleHAnKShTVEFSVFNfV0lUSCksICdTdHJpbmcnLCB7XG4gIHN0YXJ0c1dpdGg6IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nIC8qICwgcG9zaXRpb24gPSAwICovKSB7XG4gICAgdmFyIHRoYXQgPSBjb250ZXh0KHRoaXMsIHNlYXJjaFN0cmluZywgU1RBUlRTX1dJVEgpO1xuICAgIHZhciBpbmRleCA9IHRvTGVuZ3RoKE1hdGgubWluKGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCB0aGF0Lmxlbmd0aCkpO1xuICAgIHZhciBzZWFyY2ggPSBTdHJpbmcoc2VhcmNoU3RyaW5nKTtcbiAgICByZXR1cm4gJHN0YXJ0c1dpdGhcbiAgICAgID8gJHN0YXJ0c1dpdGguY2FsbCh0aGF0LCBzZWFyY2gsIGluZGV4KVxuICAgICAgOiB0aGF0LnNsaWNlKGluZGV4LCBpbmRleCArIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///237\n")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(4);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcz9hMjFmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb3JlID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpO1xudmFyICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7IHN0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnkgfSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAkSlNPTi5zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3VtZW50cyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///238\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(64);\n__webpack_require__(74);\nmodule.exports = __webpack_require__(110).f('iterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanM/ZDhkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL193a3MtZXh0JykuZignaXRlcmF0b3InKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///239\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(149);\n__webpack_require__(124);\n__webpack_require__(241);\n__webpack_require__(242);\nmodule.exports = __webpack_require__(4).Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanM/ZjkyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///240\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(111)('asyncIterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanM/NjlkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ2FzeW5jSXRlcmF0b3InKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///241\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(111)('observable');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcz83NjVkIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnb2JzZXJ2YWJsZScpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///242\n")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(29);\nvar anObject = __webpack_require__(16);\nvar getKeys = __webpack_require__(181);\n\nmodule.exports = __webpack_require__(17) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcz8xNDk1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///243\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(130);\nvar step = __webpack_require__(245);\nvar Iterators = __webpack_require__(66);\nvar toIObject = __webpack_require__(73);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(246)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanM/Y2FkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpO1xudmFyIHN0ZXAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBraW5kID0gdGhpcy5faztcbiAgdmFyIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZiAoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpIHtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///244\n")},function(module,exports){eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1zdGVwLmpzP2Q1M2IiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///245\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(69);\nvar $export = __webpack_require__(10);\nvar redefine = __webpack_require__(30);\nvar hide = __webpack_require__(28);\nvar Iterators = __webpack_require__(66);\nvar $iterCreate = __webpack_require__(247);\nvar setToStringTag = __webpack_require__(93);\nvar getPrototypeOf = __webpack_require__(165);\nvar ITERATOR = __webpack_require__(11)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1kZWZpbmUuanM/MDFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///246\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar create = __webpack_require__(139);\nvar descriptor = __webpack_require__(81);\nvar setToStringTag = __webpack_require__(93);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(28)(IteratorPrototype, __webpack_require__(11)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXRlci1jcmVhdGUuanM/NDFhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///247\n")},function(module,exports,__webpack_require__){"use strict";eval("// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n\nvar toObject = __webpack_require__(36);\nvar toAbsoluteIndex = __webpack_require__(83);\nvar toLength = __webpack_require__(15);\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktY29weS13aXRoaW4uanM/YmE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAyMi4xLjMuMyBBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbih0YXJnZXQsIHN0YXJ0LCBlbmQgPSB0aGlzLmxlbmd0aClcbid1c2Ugc3RyaWN0JztcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBbXS5jb3B5V2l0aGluIHx8IGZ1bmN0aW9uIGNvcHlXaXRoaW4odGFyZ2V0IC8qID0gMCAqLywgc3RhcnQgLyogPSAwLCBlbmQgPSBAbGVuZ3RoICovKSB7XG4gIHZhciBPID0gdG9PYmplY3QodGhpcyk7XG4gIHZhciBsZW4gPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gIHZhciB0byA9IHRvQWJzb2x1dGVJbmRleCh0YXJnZXQsIGxlbik7XG4gIHZhciBmcm9tID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW4pO1xuICB2YXIgZW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gIHZhciBjb3VudCA9IE1hdGgubWluKChlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IHRvQWJzb2x1dGVJbmRleChlbmQsIGxlbikpIC0gZnJvbSwgbGVuIC0gdG8pO1xuICB2YXIgaW5jID0gMTtcbiAgaWYgKGZyb20gPCB0byAmJiB0byA8IGZyb20gKyBjb3VudCkge1xuICAgIGluYyA9IC0xO1xuICAgIGZyb20gKz0gY291bnQgLSAxO1xuICAgIHRvICs9IGNvdW50IC0gMTtcbiAgfVxuICB3aGlsZSAoY291bnQtLSA+IDApIHtcbiAgICBpZiAoZnJvbSBpbiBPKSBPW3RvXSA9IE9bZnJvbV07XG4gICAgZWxzZSBkZWxldGUgT1t0b107XG4gICAgdG8gKz0gaW5jO1xuICAgIGZyb20gKz0gaW5jO1xuICB9IHJldHVybiBPO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///248\n")},function(module,exports,__webpack_require__){eval('var _Object$defineProperty = __webpack_require__(2);\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ("value" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQ5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9jcmVhdGVDbGFzcy5qcz81OWExIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG5cbiAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///249\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nmodule.exports = {\n    xml2json: xml2json\n};\n\n//***********************************************************************\n// Main function. Clears the given xml and then starts the recursion\n//***********************************************************************\nfunction xml2json(xmlStr){ \n    xmlStr = cleanXML(xmlStr);\n    return xml2jsonRecurse(xmlStr,0); \n}\n\n//***********************************************************************\n// Recursive function that creates a JSON object with a given XML string.\n//***********************************************************************\nfunction xml2jsonRecurse(xmlStr) {\n    var obj = {},\n        tagName, indexClosingTag, inner_substring, tempVal, openingTag;\n\n    while (xmlStr.match(/<[^\\/][^>]*>/)) {\n        openingTag = xmlStr.match(/<[^\\/][^>]*>/)[0];\n        tagName = openingTag.substring(1, openingTag.length - 1);\n        indexClosingTag = xmlStr.indexOf(openingTag.replace(\'<\', \'</\'));\n\n        // account for case where additional information in the openning tag\n        if (indexClosingTag == -1) {\n\n            tagName = openingTag.match(/[^<][\\w+$]*/)[0];\n            indexClosingTag = xmlStr.indexOf(\'</\' + tagName);\n            if (indexClosingTag == -1) {\n                indexClosingTag = xmlStr.indexOf(\'<\\\\/\' + tagName);\n            }\n        }\n        inner_substring = xmlStr.substring(openingTag.length, indexClosingTag);\n        if (inner_substring.match(/<[^\\/][^>]*>/)) {\n            tempVal = xml2json(inner_substring);\n        }\n        else {\n            tempVal = inner_substring;\n        }\n        // account for array or obj //\n        if (obj[tagName] === undefined) {\n            obj[tagName] = tempVal;\n        }\n        else if (Array.isArray(obj[tagName])) {\n            obj[tagName].push(tempVal);\n        }\n        else {\n            obj[tagName] = [obj[tagName], tempVal];\n        }\n\n        xmlStr = xmlStr.substring(openingTag.length * 2 + 1 + inner_substring.length);\n    }\n\n    return obj;\n}\n\n//*****************************************************************\n// Removes some characters that would break the recursive function.\n//*****************************************************************\nfunction cleanXML(xmlStr) {\n    \n    xmlStr = xmlStr.replace( /\x3c!--[\\s\\S]*?--\x3e/g, \'\' ); //remove commented lines\n    xmlStr = xmlStr.replace(/\\n|\\t|\\r/g, \'\'); //replace special characters\n    xmlStr = xmlStr.replace(/ {1,}<|\\t{1,}</g, \'<\'); //replace leading spaces and tabs\n    xmlStr = xmlStr.replace(/> {1,}|>\\t{1,}/g, \'>\'); //replace trailing spaces and tabs\n    xmlStr = xmlStr.replace(/<\\?[^>]*\\?>/g, \'\'); //delete docType tags\n\n    xmlStr = replaceSelfClosingTags(xmlStr); //replace self closing tags\n    xmlStr = replaceAloneValues(xmlStr); //replace the alone tags values\n    xmlStr = replaceAttributes(xmlStr); //replace attributes\n\n    return xmlStr;\n}\n\n//************************************************************************************************************\n// Replaces all the self closing tags with attributes with another tag containing its attribute as a property.\n// The function works if the tag contains multiple attributes. \n//\n// Example : \'<tagName attrName="attrValue" />\' becomes \n//           \'<tagName><attrName>attrValue</attrName></tagName>\'\n//************************************************************************************************************\nfunction replaceSelfClosingTags(xmlStr) {\n\n    var selfClosingTags = xmlStr.match(/<[^/][^>]*\\/>/g);\n\n    if (selfClosingTags) {\n        for (var i = 0; i < selfClosingTags.length; i++) {\n\n            var oldTag = selfClosingTags[i];\n            var tempTag = oldTag.substring(0, oldTag.length - 2);\n            tempTag += ">";\n\n            var tagName = oldTag.match(/[^<][\\w+$]*/)[0];\n            var closingTag = "</" + tagName + ">";\n            var newTag = "<" + tagName + ">";\n\n            var attrs = tempTag.match(/(\\S+)=["\']?((?:.(?!["\']?\\s+(?:\\S+)=|[>"\']))+.)["\']?/g);\n\n            if (attrs) {\n                for(var j = 0; j < attrs.length; j++) {\n                    var attr = attrs[j];\n                    var attrName = attr.substring(0, attr.indexOf(\'=\'));\n                    var attrValue = attr.substring(attr.indexOf(\'"\') + 1, attr.lastIndexOf(\'"\'));\n                    \n                    newTag += "<" + attrName + ">" + attrValue + "</" + attrName + ">";\n                }\n            }\n\n            newTag += closingTag;\n\n            xmlStr = xmlStr.replace(oldTag, newTag);\n        }\n    }\n\n    return xmlStr;\n}\n\n//*************************************************************************************************\n// Replaces all the tags with attributes and a value with a new tag.\n// \n// Example : \'<tagName attrName="attrValue">tagValue</tagName>\' becomes \n//           \'<tagName><attrName>attrValue</attrName><_@attribute>tagValue</_@attribute></tagName>\'\n//*************************************************************************************************\nfunction replaceAloneValues(xmlStr) {\n \n    var tagsWithAttributesAndValue = xmlStr.match(/<[^\\/][^>][^<]+\\s+.[^<]+[=][^<]+>{1}([^<]+)/g);\n    \n    if (tagsWithAttributesAndValue) {\n        for(var i = 0; i < tagsWithAttributesAndValue.length; i++) {\n\n            var oldTag = tagsWithAttributesAndValue[i];\n            var oldTagName = oldTag.substring(0, oldTag.indexOf(">") + 1);\n            var oldTagValue = oldTag.substring(oldTag.indexOf(">") + 1);\n            \n            var newTag = oldTagName + "<_@ttribute>" + oldTagValue + "</_@ttribute>";\n            \n            xmlStr = xmlStr.replace(oldTag, newTag);\n        }    \n    }\n    \n    return xmlStr;\n}\n\n//*****************************************************************************************************************\n// Replaces all the tags with attributes with another tag containing its attribute as a property.\n// The function works if the tag contains multiple attributes.\n//\n// Example : \'<tagName attrName="attrValue"></tagName>\' becomes \'<tagName><attrName>attrValue</attrName></tagName>\'\n//*****************************************************************************************************************\nfunction replaceAttributes(xmlStr) {\n\n    var tagsWithAttributes = xmlStr.match(/<[^\\/][^>][^<]+\\s+.[^<]+[=][^<]+>/g);\n\n    if (tagsWithAttributes) {\n        for (var i = 0; i < tagsWithAttributes.length; i++) {\n           \n            var oldTag = tagsWithAttributes[i];\n            var tagName = oldTag.match(/[^<][\\w+$]*/)[0];\n            var newTag = "<" + tagName + ">";\n            var attrs = oldTag.match(/(\\S+)=["\']?((?:.(?!["\']?\\s+(?:\\S+)=|[>"\']))+.)["\']?/g);\n\n            if (attrs) {\n                for(var j = 0; j < attrs.length; j++) {\n                    \n                    var attr = attrs[j];\n                    var attrName = attr.substring(0, attr.indexOf(\'=\'));\n                    var attrValue = attr.substring(attr.indexOf(\'"\') + 1, attr.lastIndexOf(\'"\'));\n                    \n                    newTag += "<" + attrName + ">" + attrValue + "</" + attrName + ">";\n                }\n            }\n\n            xmlStr = xmlStr.replace(oldTag, newTag);\n        }\n    }\n\n    return xmlStr;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL3htbDJqc29uLWxpZ2h0L3htbDJqc29uLmpzP2ExZGEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB4bWwyanNvbjogeG1sMmpzb25cbn07XG5cbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vIE1haW4gZnVuY3Rpb24uIENsZWFycyB0aGUgZ2l2ZW4geG1sIGFuZCB0aGVuIHN0YXJ0cyB0aGUgcmVjdXJzaW9uXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5mdW5jdGlvbiB4bWwyanNvbih4bWxTdHIpeyBcbiAgICB4bWxTdHIgPSBjbGVhblhNTCh4bWxTdHIpO1xuICAgIHJldHVybiB4bWwyanNvblJlY3Vyc2UoeG1sU3RyLDApOyBcbn1cblxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8gUmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIEpTT04gb2JqZWN0IHdpdGggYSBnaXZlbiBYTUwgc3RyaW5nLlxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuZnVuY3Rpb24geG1sMmpzb25SZWN1cnNlKHhtbFN0cikge1xuICAgIHZhciBvYmogPSB7fSxcbiAgICAgICAgdGFnTmFtZSwgaW5kZXhDbG9zaW5nVGFnLCBpbm5lcl9zdWJzdHJpbmcsIHRlbXBWYWwsIG9wZW5pbmdUYWc7XG5cbiAgICB3aGlsZSAoeG1sU3RyLm1hdGNoKC88W15cXC9dW14+XSo+LykpIHtcbiAgICAgICAgb3BlbmluZ1RhZyA9IHhtbFN0ci5tYXRjaCgvPFteXFwvXVtePl0qPi8pWzBdO1xuICAgICAgICB0YWdOYW1lID0gb3BlbmluZ1RhZy5zdWJzdHJpbmcoMSwgb3BlbmluZ1RhZy5sZW5ndGggLSAxKTtcbiAgICAgICAgaW5kZXhDbG9zaW5nVGFnID0geG1sU3RyLmluZGV4T2Yob3BlbmluZ1RhZy5yZXBsYWNlKCc8JywgJzwvJykpO1xuXG4gICAgICAgIC8vIGFjY291bnQgZm9yIGNhc2Ugd2hlcmUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBpbiB0aGUgb3Blbm5pbmcgdGFnXG4gICAgICAgIGlmIChpbmRleENsb3NpbmdUYWcgPT0gLTEpIHtcblxuICAgICAgICAgICAgdGFnTmFtZSA9IG9wZW5pbmdUYWcubWF0Y2goL1tePF1bXFx3KyRdKi8pWzBdO1xuICAgICAgICAgICAgaW5kZXhDbG9zaW5nVGFnID0geG1sU3RyLmluZGV4T2YoJzwvJyArIHRhZ05hbWUpO1xuICAgICAgICAgICAgaWYgKGluZGV4Q2xvc2luZ1RhZyA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGluZGV4Q2xvc2luZ1RhZyA9IHhtbFN0ci5pbmRleE9mKCc8XFxcXC8nICsgdGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5uZXJfc3Vic3RyaW5nID0geG1sU3RyLnN1YnN0cmluZyhvcGVuaW5nVGFnLmxlbmd0aCwgaW5kZXhDbG9zaW5nVGFnKTtcbiAgICAgICAgaWYgKGlubmVyX3N1YnN0cmluZy5tYXRjaCgvPFteXFwvXVtePl0qPi8pKSB7XG4gICAgICAgICAgICB0ZW1wVmFsID0geG1sMmpzb24oaW5uZXJfc3Vic3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRlbXBWYWwgPSBpbm5lcl9zdWJzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWNjb3VudCBmb3IgYXJyYXkgb3Igb2JqIC8vXG4gICAgICAgIGlmIChvYmpbdGFnTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2JqW3RhZ05hbWVdID0gdGVtcFZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ialt0YWdOYW1lXSkpIHtcbiAgICAgICAgICAgIG9ialt0YWdOYW1lXS5wdXNoKHRlbXBWYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqW3RhZ05hbWVdID0gW29ialt0YWdOYW1lXSwgdGVtcFZhbF07XG4gICAgICAgIH1cblxuICAgICAgICB4bWxTdHIgPSB4bWxTdHIuc3Vic3RyaW5nKG9wZW5pbmdUYWcubGVuZ3RoICogMiArIDEgKyBpbm5lcl9zdWJzdHJpbmcubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufVxuXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyBSZW1vdmVzIHNvbWUgY2hhcmFjdGVycyB0aGF0IHdvdWxkIGJyZWFrIHRoZSByZWN1cnNpdmUgZnVuY3Rpb24uXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5mdW5jdGlvbiBjbGVhblhNTCh4bWxTdHIpIHtcbiAgICBcbiAgICB4bWxTdHIgPSB4bWxTdHIucmVwbGFjZSggLzwhLS1bXFxzXFxTXSo/LS0+L2csICcnICk7IC8vcmVtb3ZlIGNvbW1lbnRlZCBsaW5lc1xuICAgIHhtbFN0ciA9IHhtbFN0ci5yZXBsYWNlKC9cXG58XFx0fFxcci9nLCAnJyk7IC8vcmVwbGFjZSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgICB4bWxTdHIgPSB4bWxTdHIucmVwbGFjZSgvIHsxLH08fFxcdHsxLH08L2csICc8Jyk7IC8vcmVwbGFjZSBsZWFkaW5nIHNwYWNlcyBhbmQgdGFic1xuICAgIHhtbFN0ciA9IHhtbFN0ci5yZXBsYWNlKC8+IHsxLH18PlxcdHsxLH0vZywgJz4nKTsgLy9yZXBsYWNlIHRyYWlsaW5nIHNwYWNlcyBhbmQgdGFic1xuICAgIHhtbFN0ciA9IHhtbFN0ci5yZXBsYWNlKC88XFw/W14+XSpcXD8+L2csICcnKTsgLy9kZWxldGUgZG9jVHlwZSB0YWdzXG5cbiAgICB4bWxTdHIgPSByZXBsYWNlU2VsZkNsb3NpbmdUYWdzKHhtbFN0cik7IC8vcmVwbGFjZSBzZWxmIGNsb3NpbmcgdGFnc1xuICAgIHhtbFN0ciA9IHJlcGxhY2VBbG9uZVZhbHVlcyh4bWxTdHIpOyAvL3JlcGxhY2UgdGhlIGFsb25lIHRhZ3MgdmFsdWVzXG4gICAgeG1sU3RyID0gcmVwbGFjZUF0dHJpYnV0ZXMoeG1sU3RyKTsgLy9yZXBsYWNlIGF0dHJpYnV0ZXNcblxuICAgIHJldHVybiB4bWxTdHI7XG59XG5cbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyBSZXBsYWNlcyBhbGwgdGhlIHNlbGYgY2xvc2luZyB0YWdzIHdpdGggYXR0cmlidXRlcyB3aXRoIGFub3RoZXIgdGFnIGNvbnRhaW5pbmcgaXRzIGF0dHJpYnV0ZSBhcyBhIHByb3BlcnR5LlxuLy8gVGhlIGZ1bmN0aW9uIHdvcmtzIGlmIHRoZSB0YWcgY29udGFpbnMgbXVsdGlwbGUgYXR0cmlidXRlcy4gXG4vL1xuLy8gRXhhbXBsZSA6ICc8dGFnTmFtZSBhdHRyTmFtZT1cImF0dHJWYWx1ZVwiIC8+JyBiZWNvbWVzIFxuLy8gICAgICAgICAgICc8dGFnTmFtZT48YXR0ck5hbWU+YXR0clZhbHVlPC9hdHRyTmFtZT48L3RhZ05hbWU+J1xuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbmZ1bmN0aW9uIHJlcGxhY2VTZWxmQ2xvc2luZ1RhZ3MoeG1sU3RyKSB7XG5cbiAgICB2YXIgc2VsZkNsb3NpbmdUYWdzID0geG1sU3RyLm1hdGNoKC88W14vXVtePl0qXFwvPi9nKTtcblxuICAgIGlmIChzZWxmQ2xvc2luZ1RhZ3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmQ2xvc2luZ1RhZ3MubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgdmFyIG9sZFRhZyA9IHNlbGZDbG9zaW5nVGFnc1tpXTtcbiAgICAgICAgICAgIHZhciB0ZW1wVGFnID0gb2xkVGFnLnN1YnN0cmluZygwLCBvbGRUYWcubGVuZ3RoIC0gMik7XG4gICAgICAgICAgICB0ZW1wVGFnICs9IFwiPlwiO1xuXG4gICAgICAgICAgICB2YXIgdGFnTmFtZSA9IG9sZFRhZy5tYXRjaCgvW148XVtcXHcrJF0qLylbMF07XG4gICAgICAgICAgICB2YXIgY2xvc2luZ1RhZyA9IFwiPC9cIiArIHRhZ05hbWUgKyBcIj5cIjtcbiAgICAgICAgICAgIHZhciBuZXdUYWcgPSBcIjxcIiArIHRhZ05hbWUgKyBcIj5cIjtcblxuICAgICAgICAgICAgdmFyIGF0dHJzID0gdGVtcFRhZy5tYXRjaCgvKFxcUyspPVtcIiddPygoPzouKD8hW1wiJ10/XFxzKyg/OlxcUyspPXxbPlwiJ10pKSsuKVtcIiddPy9nKTtcblxuICAgICAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGF0dHJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyID0gYXR0cnNbal07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHIuc3Vic3RyaW5nKDAsIGF0dHIuaW5kZXhPZignPScpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJWYWx1ZSA9IGF0dHIuc3Vic3RyaW5nKGF0dHIuaW5kZXhPZignXCInKSArIDEsIGF0dHIubGFzdEluZGV4T2YoJ1wiJykpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbmV3VGFnICs9IFwiPFwiICsgYXR0ck5hbWUgKyBcIj5cIiArIGF0dHJWYWx1ZSArIFwiPC9cIiArIGF0dHJOYW1lICsgXCI+XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdUYWcgKz0gY2xvc2luZ1RhZztcblxuICAgICAgICAgICAgeG1sU3RyID0geG1sU3RyLnJlcGxhY2Uob2xkVGFnLCBuZXdUYWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHhtbFN0cjtcbn1cblxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyBSZXBsYWNlcyBhbGwgdGhlIHRhZ3Mgd2l0aCBhdHRyaWJ1dGVzIGFuZCBhIHZhbHVlIHdpdGggYSBuZXcgdGFnLlxuLy8gXG4vLyBFeGFtcGxlIDogJzx0YWdOYW1lIGF0dHJOYW1lPVwiYXR0clZhbHVlXCI+dGFnVmFsdWU8L3RhZ05hbWU+JyBiZWNvbWVzIFxuLy8gICAgICAgICAgICc8dGFnTmFtZT48YXR0ck5hbWU+YXR0clZhbHVlPC9hdHRyTmFtZT48X0BhdHRyaWJ1dGU+dGFnVmFsdWU8L19AYXR0cmlidXRlPjwvdGFnTmFtZT4nXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbmZ1bmN0aW9uIHJlcGxhY2VBbG9uZVZhbHVlcyh4bWxTdHIpIHtcbiBcbiAgICB2YXIgdGFnc1dpdGhBdHRyaWJ1dGVzQW5kVmFsdWUgPSB4bWxTdHIubWF0Y2goLzxbXlxcL11bXj5dW148XStcXHMrLltePF0rWz1dW148XSs+ezF9KFtePF0rKS9nKTtcbiAgICBcbiAgICBpZiAodGFnc1dpdGhBdHRyaWJ1dGVzQW5kVmFsdWUpIHtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRhZ3NXaXRoQXR0cmlidXRlc0FuZFZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIHZhciBvbGRUYWcgPSB0YWdzV2l0aEF0dHJpYnV0ZXNBbmRWYWx1ZVtpXTtcbiAgICAgICAgICAgIHZhciBvbGRUYWdOYW1lID0gb2xkVGFnLnN1YnN0cmluZygwLCBvbGRUYWcuaW5kZXhPZihcIj5cIikgKyAxKTtcbiAgICAgICAgICAgIHZhciBvbGRUYWdWYWx1ZSA9IG9sZFRhZy5zdWJzdHJpbmcob2xkVGFnLmluZGV4T2YoXCI+XCIpICsgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBuZXdUYWcgPSBvbGRUYWdOYW1lICsgXCI8X0B0dHJpYnV0ZT5cIiArIG9sZFRhZ1ZhbHVlICsgXCI8L19AdHRyaWJ1dGU+XCI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHhtbFN0ciA9IHhtbFN0ci5yZXBsYWNlKG9sZFRhZywgbmV3VGFnKTtcbiAgICAgICAgfSAgICBcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHhtbFN0cjtcbn1cblxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8gUmVwbGFjZXMgYWxsIHRoZSB0YWdzIHdpdGggYXR0cmlidXRlcyB3aXRoIGFub3RoZXIgdGFnIGNvbnRhaW5pbmcgaXRzIGF0dHJpYnV0ZSBhcyBhIHByb3BlcnR5LlxuLy8gVGhlIGZ1bmN0aW9uIHdvcmtzIGlmIHRoZSB0YWcgY29udGFpbnMgbXVsdGlwbGUgYXR0cmlidXRlcy5cbi8vXG4vLyBFeGFtcGxlIDogJzx0YWdOYW1lIGF0dHJOYW1lPVwiYXR0clZhbHVlXCI+PC90YWdOYW1lPicgYmVjb21lcyAnPHRhZ05hbWU+PGF0dHJOYW1lPmF0dHJWYWx1ZTwvYXR0ck5hbWU+PC90YWdOYW1lPidcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbmZ1bmN0aW9uIHJlcGxhY2VBdHRyaWJ1dGVzKHhtbFN0cikge1xuXG4gICAgdmFyIHRhZ3NXaXRoQXR0cmlidXRlcyA9IHhtbFN0ci5tYXRjaCgvPFteXFwvXVtePl1bXjxdK1xccysuW148XStbPV1bXjxdKz4vZyk7XG5cbiAgICBpZiAodGFnc1dpdGhBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnc1dpdGhBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG9sZFRhZyA9IHRhZ3NXaXRoQXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciB0YWdOYW1lID0gb2xkVGFnLm1hdGNoKC9bXjxdW1xcdyskXSovKVswXTtcbiAgICAgICAgICAgIHZhciBuZXdUYWcgPSBcIjxcIiArIHRhZ05hbWUgKyBcIj5cIjtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IG9sZFRhZy5tYXRjaCgvKFxcUyspPVtcIiddPygoPzouKD8hW1wiJ10/XFxzKyg/OlxcUyspPXxbPlwiJ10pKSsuKVtcIiddPy9nKTtcblxuICAgICAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGF0dHJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IGF0dHJzW2pdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyLnN1YnN0cmluZygwLCBhdHRyLmluZGV4T2YoJz0nKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyVmFsdWUgPSBhdHRyLnN1YnN0cmluZyhhdHRyLmluZGV4T2YoJ1wiJykgKyAxLCBhdHRyLmxhc3RJbmRleE9mKCdcIicpKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG5ld1RhZyArPSBcIjxcIiArIGF0dHJOYW1lICsgXCI+XCIgKyBhdHRyVmFsdWUgKyBcIjwvXCIgKyBhdHRyTmFtZSArIFwiPlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeG1sU3RyID0geG1sU3RyLnJlcGxhY2Uob2xkVGFnLCBuZXdUYWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHhtbFN0cjtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///250\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports.SHA256 = SHA256;\n\n/*\n* A JavaScript implementation of the SHA256 hash function.\n*\n* FILE:\tsha256.js\n* VERSION:\t0.8\n* AUTHOR:\tChristoph Bichlmeier <informatik@zombiearena.de>\n*\n* NOTE: This version is not tested thoroughly!\n*\n* Copyright (c) 2003, Christoph Bichlmeier\n* All rights reserved.\n*\n* Redistribution and use in source and binary forms, with or without\n* modification, are permitted provided that the following conditions\n* are met:\n* 1. Redistributions of source code must retain the above copyright\n*    notice, this list of conditions and the following disclaimer.\n* 2. Redistributions in binary form must reproduce the above copyright\n*    notice, this list of conditions and the following disclaimer in the\n*    documentation and/or other materials provided with the distribution.\n* 3. Neither the name of the copyright holder nor the names of contributors\n*    may be used to endorse or promote products derived from this software\n*    without specific prior written permission.\n*\n* ======================================================================\n*\n* THIS SOFTWARE IS PROVIDED BY THE AUTHORS \'\'AS IS\'\' AND ANY EXPRESS\n* OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n* WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n* ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE\n* LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n* CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n* SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n* BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n* OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n* EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n/* SHA256 logical functions */\nfunction rotateRight(n, x) {\n  return x >>> n | x << 32 - n;\n}\n\nfunction choice(x, y, z) {\n  return x & y ^ ~x & z;\n}\n\nfunction majority(x, y, z) {\n  return x & y ^ x & z ^ y & z;\n}\n\nfunction sha256_Sigma0(x) {\n  return rotateRight(2, x) ^ rotateRight(13, x) ^ rotateRight(22, x);\n}\n\nfunction sha256_Sigma1(x) {\n  return rotateRight(6, x) ^ rotateRight(11, x) ^ rotateRight(25, x);\n}\n\nfunction sha256_sigma0(x) {\n  return rotateRight(7, x) ^ rotateRight(18, x) ^ x >>> 3;\n}\n\nfunction sha256_sigma1(x) {\n  return rotateRight(17, x) ^ rotateRight(19, x) ^ x >>> 10;\n}\n\nfunction sha256_expand(W, j) {\n  return W[j & 0x0f] += sha256_sigma1(W[j + 14 & 0x0f]) + W[j + 9 & 0x0f] + sha256_sigma0(W[j + 1 & 0x0f]);\n}\n/* Hash constant words K: */\n\n\nvar K256 = new Array(0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2);\n/* global arrays */\n\nvar ihash, count, buffer;\nvar sha256_hex_digits = "0123456789abcdef";\n/* Add 32-bit integers with 16-bit operations (bug in some JS-interpreters:\noverflow) */\n\nfunction safe_add(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/* Initialise the SHA256 computation */\n\n\nfunction sha256_init() {\n  ihash = new Array(8);\n  count = new Array(2);\n  buffer = new Array(64);\n  count[0] = count[1] = 0;\n  ihash[0] = 0x6a09e667;\n  ihash[1] = 0xbb67ae85;\n  ihash[2] = 0x3c6ef372;\n  ihash[3] = 0xa54ff53a;\n  ihash[4] = 0x510e527f;\n  ihash[5] = 0x9b05688c;\n  ihash[6] = 0x1f83d9ab;\n  ihash[7] = 0x5be0cd19;\n}\n/* Transform a 512-bit message block */\n\n\nfunction sha256_transform() {\n  var a, b, c, d, e, f, g, h, T1, T2;\n  var W = new Array(16);\n  /* Initialize registers with the previous intermediate value */\n\n  a = ihash[0];\n  b = ihash[1];\n  c = ihash[2];\n  d = ihash[3];\n  e = ihash[4];\n  f = ihash[5];\n  g = ihash[6];\n  h = ihash[7];\n  /* make 32-bit words */\n\n  for (var i = 0; i < 16; i++) {\n    W[i] = buffer[(i << 2) + 3] | buffer[(i << 2) + 2] << 8 | buffer[(i << 2) + 1] << 16 | buffer[i << 2] << 24;\n  }\n\n  for (var j = 0; j < 64; j++) {\n    T1 = h + sha256_Sigma1(e) + choice(e, f, g) + K256[j];\n    if (j < 16) T1 += W[j];else T1 += sha256_expand(W, j);\n    T2 = sha256_Sigma0(a) + majority(a, b, c);\n    h = g;\n    g = f;\n    f = e;\n    e = safe_add(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = safe_add(T1, T2);\n  }\n  /* Compute the current intermediate hash value */\n\n\n  ihash[0] += a;\n  ihash[1] += b;\n  ihash[2] += c;\n  ihash[3] += d;\n  ihash[4] += e;\n  ihash[5] += f;\n  ihash[6] += g;\n  ihash[7] += h;\n}\n/* Read the next chunk of data and update the SHA256 computation */\n\n\nfunction sha256_update(data, inputLen) {\n  var i,\n      index,\n      curpos = 0;\n  /* Compute number of bytes mod 64 */\n\n  index = count[0] >> 3 & 0x3f;\n  var remainder = inputLen & 0x3f;\n  /* Update number of bits */\n\n  if ((count[0] += inputLen << 3) < inputLen << 3) count[1]++;\n  count[1] += inputLen >> 29;\n  /* Transform as many times as possible */\n\n  for (i = 0; i + 63 < inputLen; i += 64) {\n    for (var j = index; j < 64; j++) {\n      buffer[j] = data.charCodeAt(curpos++);\n    }\n\n    sha256_transform();\n    index = 0;\n  }\n  /* Buffer remaining input */\n\n\n  for (var j = 0; j < remainder; j++) {\n    buffer[j] = data.charCodeAt(curpos++);\n  }\n}\n/* Finish the computation by operations such as padding */\n\n\nfunction sha256_final() {\n  var index = count[0] >> 3 & 0x3f;\n  buffer[index++] = 0x80;\n\n  if (index <= 56) {\n    for (var i = index; i < 56; i++) {\n      buffer[i] = 0;\n    }\n  } else {\n    for (var i = index; i < 64; i++) {\n      buffer[i] = 0;\n    }\n\n    sha256_transform();\n\n    for (var i = 0; i < 56; i++) {\n      buffer[i] = 0;\n    }\n  }\n\n  buffer[56] = count[1] >>> 24 & 0xff;\n  buffer[57] = count[1] >>> 16 & 0xff;\n  buffer[58] = count[1] >>> 8 & 0xff;\n  buffer[59] = count[1] & 0xff;\n  buffer[60] = count[0] >>> 24 & 0xff;\n  buffer[61] = count[0] >>> 16 & 0xff;\n  buffer[62] = count[0] >>> 8 & 0xff;\n  buffer[63] = count[0] & 0xff;\n  sha256_transform();\n}\n/* Split the internal hash values into an array of bytes */\n\n\nfunction sha256_encode_bytes() {\n  var j = 0;\n  var output = new Array(32);\n\n  for (var i = 0; i < 8; i++) {\n    output[j++] = ihash[i] >>> 24 & 0xff;\n    output[j++] = ihash[i] >>> 16 & 0xff;\n    output[j++] = ihash[i] >>> 8 & 0xff;\n    output[j++] = ihash[i] & 0xff;\n  }\n\n  return output;\n}\n/* Get the internal hash as a hex string */\n\n\nfunction sha256_encode_hex() {\n  var output = new String();\n\n  for (var i = 0; i < 8; i++) {\n    for (var j = 28; j >= 0; j -= 4) {\n      output += sha256_hex_digits.charAt(ihash[i] >>> j & 0x0f);\n    }\n  }\n\n  return output;\n}\n/* Main function: returns a hex string representing the SHA256 value of the\ngiven data */\n\n\nfunction SHA256(data) {\n  sha256_init();\n  sha256_update(data, data.length);\n  sha256_final();\n  return sha256_encode_hex();\n}\n/* test if the JS-interpreter is working properly */\n\n\nfunction sha256_self_test() {\n  return SHA256("message digest") == "f7846f55cf23e14eebeab5b4e1550cad5b509e3348fbc4efa3a1413d393cb650";\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3V0aWwvU0hBMjU2LmpzPzE4ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTSEEyNTYgaGFzaCBmdW5jdGlvbi5cbipcbiogRklMRTpcdHNoYTI1Ni5qc1xuKiBWRVJTSU9OOlx0MC44XG4qIEFVVEhPUjpcdENocmlzdG9waCBCaWNobG1laWVyIDxpbmZvcm1hdGlrQHpvbWJpZWFyZW5hLmRlPlxuKlxuKiBOT1RFOiBUaGlzIHZlcnNpb24gaXMgbm90IHRlc3RlZCB0aG9yb3VnaGx5IVxuKlxuKiBDb3B5cmlnaHQgKGMpIDIwMDMsIENocmlzdG9waCBCaWNobG1laWVyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiogYXJlIG1ldDpcbiogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4qICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4qIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBjb250cmlidXRvcnNcbiogICAgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4qICAgIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuKlxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIEFVVEhPUlMgJydBUyBJUycnIEFORCBBTlkgRVhQUkVTU1xuKiBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuKiBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiogQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT05UUklCVVRPUlMgQkVcbiogTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1JcbiogQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFXG4qIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsXG4qIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuXG4vKiBTSEEyNTYgbG9naWNhbCBmdW5jdGlvbnMgKi9cbmZ1bmN0aW9uIHJvdGF0ZVJpZ2h0KG4seCkge1xuICAgIHJldHVybiAoKHggPj4+IG4pIHwgKHggPDwgKDMyIC0gbikpKTtcbn1cbmZ1bmN0aW9uIGNob2ljZSh4LHkseikge1xuICAgIHJldHVybiAoKHggJiB5KSBeICh+eCAmIHopKTtcbn1cbmZ1bmN0aW9uIG1ham9yaXR5KHgseSx6KSB7XG4gICAgcmV0dXJuICgoeCAmIHkpIF4gKHggJiB6KSBeICh5ICYgeikpO1xufVxuZnVuY3Rpb24gc2hhMjU2X1NpZ21hMCh4KSB7XG4gICAgcmV0dXJuIChyb3RhdGVSaWdodCgyLCB4KSBeIHJvdGF0ZVJpZ2h0KDEzLCB4KSBeIHJvdGF0ZVJpZ2h0KDIyLCB4KSk7XG59XG5mdW5jdGlvbiBzaGEyNTZfU2lnbWExKHgpIHtcbiAgICByZXR1cm4gKHJvdGF0ZVJpZ2h0KDYsIHgpIF4gcm90YXRlUmlnaHQoMTEsIHgpIF4gcm90YXRlUmlnaHQoMjUsIHgpKTtcbn1cbmZ1bmN0aW9uIHNoYTI1Nl9zaWdtYTAoeCkge1xuICAgIHJldHVybiAocm90YXRlUmlnaHQoNywgeCkgXiByb3RhdGVSaWdodCgxOCwgeCkgXiAoeCA+Pj4gMykpO1xufVxuZnVuY3Rpb24gc2hhMjU2X3NpZ21hMSh4KSB7XG4gICAgcmV0dXJuIChyb3RhdGVSaWdodCgxNywgeCkgXiByb3RhdGVSaWdodCgxOSwgeCkgXiAoeCA+Pj4gMTApKTtcbn1cbmZ1bmN0aW9uIHNoYTI1Nl9leHBhbmQoVywgaikge1xuICAgIHJldHVybiAoV1tqJjB4MGZdICs9IHNoYTI1Nl9zaWdtYTEoV1soaisxNCkmMHgwZl0pICsgV1soais5KSYweDBmXSArXG4gICAgICAgIHNoYTI1Nl9zaWdtYTAoV1soaisxKSYweDBmXSkpO1xufVxuXG4vKiBIYXNoIGNvbnN0YW50IHdvcmRzIEs6ICovXG52YXIgSzI1NiA9IG5ldyBBcnJheShcbiAgICAweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LFxuICAgIDB4Mzk1NmMyNWIsIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsXG4gICAgMHhkODA3YWE5OCwgMHgxMjgzNWIwMSwgMHgyNDMxODViZSwgMHg1NTBjN2RjMyxcbiAgICAweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LCAweGMxOWJmMTc0LFxuICAgIDB4ZTQ5YjY5YzEsIDB4ZWZiZTQ3ODYsIDB4MGZjMTlkYzYsIDB4MjQwY2ExY2MsXG4gICAgMHgyZGU5MmM2ZiwgMHg0YTc0ODRhYSwgMHg1Y2IwYTlkYywgMHg3NmY5ODhkYSxcbiAgICAweDk4M2U1MTUyLCAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LFxuICAgIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsIDB4MDZjYTYzNTEsIDB4MTQyOTI5NjcsXG4gICAgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYywgMHg1MzM4MGQxMyxcbiAgICAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuICAgIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsXG4gICAgMHhkMTkyZTgxOSwgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCxcbiAgICAweDE5YTRjMTE2LCAweDFlMzc2YzA4LCAweDI3NDg3NzRjLCAweDM0YjBiY2I1LFxuICAgIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsIDB4NjgyZTZmZjMsXG4gICAgMHg3NDhmODJlZSwgMHg3OGE1NjM2ZiwgMHg4NGM4NzgxNCwgMHg4Y2M3MDIwOCxcbiAgICAweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXG4pO1xuXG4vKiBnbG9iYWwgYXJyYXlzICovXG52YXIgaWhhc2gsIGNvdW50LCBidWZmZXI7XG52YXIgc2hhMjU2X2hleF9kaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcblxuLyogQWRkIDMyLWJpdCBpbnRlZ2VycyB3aXRoIDE2LWJpdCBvcGVyYXRpb25zIChidWcgaW4gc29tZSBKUy1pbnRlcnByZXRlcnM6XG5vdmVyZmxvdykgKi9cbmZ1bmN0aW9uIHNhZmVfYWRkKHgsIHkpXG57XG4gICAgdmFyIGxzdyA9ICh4ICYgMHhmZmZmKSArICh5ICYgMHhmZmZmKTtcbiAgICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4ZmZmZik7XG59XG5cbi8qIEluaXRpYWxpc2UgdGhlIFNIQTI1NiBjb21wdXRhdGlvbiAqL1xuZnVuY3Rpb24gc2hhMjU2X2luaXQoKSB7XG4gICAgaWhhc2ggPSBuZXcgQXJyYXkoOCk7XG4gICAgY291bnQgPSBuZXcgQXJyYXkoMik7XG4gICAgYnVmZmVyID0gbmV3IEFycmF5KDY0KTtcbiAgICBjb3VudFswXSA9IGNvdW50WzFdID0gMDtcbiAgICBpaGFzaFswXSA9IDB4NmEwOWU2Njc7XG4gICAgaWhhc2hbMV0gPSAweGJiNjdhZTg1O1xuICAgIGloYXNoWzJdID0gMHgzYzZlZjM3MjtcbiAgICBpaGFzaFszXSA9IDB4YTU0ZmY1M2E7XG4gICAgaWhhc2hbNF0gPSAweDUxMGU1MjdmO1xuICAgIGloYXNoWzVdID0gMHg5YjA1Njg4YztcbiAgICBpaGFzaFs2XSA9IDB4MWY4M2Q5YWI7XG4gICAgaWhhc2hbN10gPSAweDViZTBjZDE5O1xufVxuXG4vKiBUcmFuc2Zvcm0gYSA1MTItYml0IG1lc3NhZ2UgYmxvY2sgKi9cbmZ1bmN0aW9uIHNoYTI1Nl90cmFuc2Zvcm0oKSB7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIFQxLCBUMjtcbiAgICB2YXIgVyA9IG5ldyBBcnJheSgxNik7XG5cbiAgICAvKiBJbml0aWFsaXplIHJlZ2lzdGVycyB3aXRoIHRoZSBwcmV2aW91cyBpbnRlcm1lZGlhdGUgdmFsdWUgKi9cbiAgICBhID0gaWhhc2hbMF07XG4gICAgYiA9IGloYXNoWzFdO1xuICAgIGMgPSBpaGFzaFsyXTtcbiAgICBkID0gaWhhc2hbM107XG4gICAgZSA9IGloYXNoWzRdO1xuICAgIGYgPSBpaGFzaFs1XTtcbiAgICBnID0gaWhhc2hbNl07XG4gICAgaCA9IGloYXNoWzddO1xuXG4gICAgLyogbWFrZSAzMi1iaXQgd29yZHMgKi9cbiAgICBmb3IodmFyIGk9MDsgaTwxNjsgaSsrKVxuICAgICAgICBXW2ldID0gKChidWZmZXJbKGk8PDIpKzNdKSB8IChidWZmZXJbKGk8PDIpKzJdIDw8IDgpIHwgKGJ1ZmZlclsoaTw8MikrMV1cbiAgICAgICAgICAgIDw8IDE2KSB8IChidWZmZXJbaTw8Ml0gPDwgMjQpKTtcblxuICAgIGZvcih2YXIgaj0wOyBqPDY0OyBqKyspIHtcbiAgICAgICAgVDEgPSBoICsgc2hhMjU2X1NpZ21hMShlKSArIGNob2ljZShlLCBmLCBnKSArIEsyNTZbal07XG4gICAgICAgIGlmKGogPCAxNikgVDEgKz0gV1tqXTtcbiAgICAgICAgZWxzZSBUMSArPSBzaGEyNTZfZXhwYW5kKFcsIGopO1xuICAgICAgICBUMiA9IHNoYTI1Nl9TaWdtYTAoYSkgKyBtYWpvcml0eShhLCBiLCBjKTtcbiAgICAgICAgaCA9IGc7XG4gICAgICAgIGcgPSBmO1xuICAgICAgICBmID0gZTtcbiAgICAgICAgZSA9IHNhZmVfYWRkKGQsIFQxKTtcbiAgICAgICAgZCA9IGM7XG4gICAgICAgIGMgPSBiO1xuICAgICAgICBiID0gYTtcbiAgICAgICAgYSA9IHNhZmVfYWRkKFQxLCBUMik7XG4gICAgfVxuXG4gICAgLyogQ29tcHV0ZSB0aGUgY3VycmVudCBpbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZSAqL1xuICAgIGloYXNoWzBdICs9IGE7XG4gICAgaWhhc2hbMV0gKz0gYjtcbiAgICBpaGFzaFsyXSArPSBjO1xuICAgIGloYXNoWzNdICs9IGQ7XG4gICAgaWhhc2hbNF0gKz0gZTtcbiAgICBpaGFzaFs1XSArPSBmO1xuICAgIGloYXNoWzZdICs9IGc7XG4gICAgaWhhc2hbN10gKz0gaDtcbn1cblxuLyogUmVhZCB0aGUgbmV4dCBjaHVuayBvZiBkYXRhIGFuZCB1cGRhdGUgdGhlIFNIQTI1NiBjb21wdXRhdGlvbiAqL1xuZnVuY3Rpb24gc2hhMjU2X3VwZGF0ZShkYXRhLCBpbnB1dExlbikge1xuICAgIHZhciBpLCBpbmRleCwgY3VycG9zID0gMDtcbiAgICAvKiBDb21wdXRlIG51bWJlciBvZiBieXRlcyBtb2QgNjQgKi9cbiAgICBpbmRleCA9ICgoY291bnRbMF0gPj4gMykgJiAweDNmKTtcbiAgICB2YXIgcmVtYWluZGVyID0gKGlucHV0TGVuICYgMHgzZik7XG5cbiAgICAvKiBVcGRhdGUgbnVtYmVyIG9mIGJpdHMgKi9cbiAgICBpZiAoKGNvdW50WzBdICs9IChpbnB1dExlbiA8PCAzKSkgPCAoaW5wdXRMZW4gPDwgMykpIGNvdW50WzFdKys7XG4gICAgY291bnRbMV0gKz0gKGlucHV0TGVuID4+IDI5KTtcblxuICAgIC8qIFRyYW5zZm9ybSBhcyBtYW55IHRpbWVzIGFzIHBvc3NpYmxlICovXG4gICAgZm9yKGk9MDsgaSs2MzxpbnB1dExlbjsgaSs9NjQpIHtcbiAgICAgICAgZm9yKHZhciBqPWluZGV4OyBqPDY0OyBqKyspXG4gICAgICAgICAgICBidWZmZXJbal0gPSBkYXRhLmNoYXJDb2RlQXQoY3VycG9zKyspO1xuICAgICAgICBzaGEyNTZfdHJhbnNmb3JtKCk7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICB9XG5cbiAgICAvKiBCdWZmZXIgcmVtYWluaW5nIGlucHV0ICovXG4gICAgZm9yKHZhciBqPTA7IGo8cmVtYWluZGVyOyBqKyspXG4gICAgICAgIGJ1ZmZlcltqXSA9IGRhdGEuY2hhckNvZGVBdChjdXJwb3MrKyk7XG59XG5cbi8qIEZpbmlzaCB0aGUgY29tcHV0YXRpb24gYnkgb3BlcmF0aW9ucyBzdWNoIGFzIHBhZGRpbmcgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9maW5hbCgpIHtcbiAgICB2YXIgaW5kZXggPSAoKGNvdW50WzBdID4+IDMpICYgMHgzZik7XG4gICAgYnVmZmVyW2luZGV4KytdID0gMHg4MDtcbiAgICBpZihpbmRleCA8PSA1Nikge1xuICAgICAgICBmb3IodmFyIGk9aW5kZXg7IGk8NTY7IGkrKylcbiAgICAgICAgICAgIGJ1ZmZlcltpXSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yKHZhciBpPWluZGV4OyBpPDY0OyBpKyspXG4gICAgICAgICAgICBidWZmZXJbaV0gPSAwO1xuICAgICAgICBzaGEyNTZfdHJhbnNmb3JtKCk7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPDU2OyBpKyspXG4gICAgICAgICAgICBidWZmZXJbaV0gPSAwO1xuICAgIH1cbiAgICBidWZmZXJbNTZdID0gKGNvdW50WzFdID4+PiAyNCkgJiAweGZmO1xuICAgIGJ1ZmZlcls1N10gPSAoY291bnRbMV0gPj4+IDE2KSAmIDB4ZmY7XG4gICAgYnVmZmVyWzU4XSA9IChjb3VudFsxXSA+Pj4gOCkgJiAweGZmO1xuICAgIGJ1ZmZlcls1OV0gPSBjb3VudFsxXSAmIDB4ZmY7XG4gICAgYnVmZmVyWzYwXSA9IChjb3VudFswXSA+Pj4gMjQpICYgMHhmZjtcbiAgICBidWZmZXJbNjFdID0gKGNvdW50WzBdID4+PiAxNikgJiAweGZmO1xuICAgIGJ1ZmZlcls2Ml0gPSAoY291bnRbMF0gPj4+IDgpICYgMHhmZjtcbiAgICBidWZmZXJbNjNdID0gY291bnRbMF0gJiAweGZmO1xuICAgIHNoYTI1Nl90cmFuc2Zvcm0oKTtcbn1cblxuLyogU3BsaXQgdGhlIGludGVybmFsIGhhc2ggdmFsdWVzIGludG8gYW4gYXJyYXkgb2YgYnl0ZXMgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9lbmNvZGVfYnl0ZXMoKSB7XG4gICAgdmFyIGo9MDtcbiAgICB2YXIgb3V0cHV0ID0gbmV3IEFycmF5KDMyKTtcbiAgICBmb3IodmFyIGk9MDsgaTw4OyBpKyspIHtcbiAgICAgICAgb3V0cHV0W2orK10gPSAoKGloYXNoW2ldID4+PiAyNCkgJiAweGZmKTtcbiAgICAgICAgb3V0cHV0W2orK10gPSAoKGloYXNoW2ldID4+PiAxNikgJiAweGZmKTtcbiAgICAgICAgb3V0cHV0W2orK10gPSAoKGloYXNoW2ldID4+PiA4KSAmIDB4ZmYpO1xuICAgICAgICBvdXRwdXRbaisrXSA9IChpaGFzaFtpXSAmIDB4ZmYpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKiBHZXQgdGhlIGludGVybmFsIGhhc2ggYXMgYSBoZXggc3RyaW5nICovXG5mdW5jdGlvbiBzaGEyNTZfZW5jb2RlX2hleCgpIHtcbiAgICB2YXIgb3V0cHV0ID0gbmV3IFN0cmluZygpO1xuICAgIGZvcih2YXIgaT0wOyBpPDg7IGkrKykge1xuICAgICAgICBmb3IodmFyIGo9Mjg7IGo+PTA7IGotPTQpXG4gICAgICAgICAgICBvdXRwdXQgKz0gc2hhMjU2X2hleF9kaWdpdHMuY2hhckF0KChpaGFzaFtpXSA+Pj4gaikgJiAweDBmKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cblxuLyogTWFpbiBmdW5jdGlvbjogcmV0dXJucyBhIGhleCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBTSEEyNTYgdmFsdWUgb2YgdGhlXG5naXZlbiBkYXRhICovXG5mdW5jdGlvbiBTSEEyNTYoZGF0YSkge1xuICAgIHNoYTI1Nl9pbml0KCk7XG4gICAgc2hhMjU2X3VwZGF0ZShkYXRhLCBkYXRhLmxlbmd0aCk7XG4gICAgc2hhMjU2X2ZpbmFsKCk7XG4gICAgcmV0dXJuIHNoYTI1Nl9lbmNvZGVfaGV4KCk7XG59XG5cbi8qIHRlc3QgaWYgdGhlIEpTLWludGVycHJldGVyIGlzIHdvcmtpbmcgcHJvcGVybHkgKi9cbmZ1bmN0aW9uIHNoYTI1Nl9zZWxmX3Rlc3QoKVxue1xuICAgIHJldHVybiBTSEEyNTYoXCJtZXNzYWdlIGRpZ2VzdFwiKSA9PVxuICAgICAgICBcImY3ODQ2ZjU1Y2YyM2UxNGVlYmVhYjViNGUxNTUwY2FkNWI1MDllMzM0OGZiYzRlZmEzYTE0MTNkMzkzY2I2NTBcIjtcbn1cblxuZXhwb3J0IHsgU0hBMjU2IH1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBbUJBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///251\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\n__webpack_require__(46);\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\n__webpack_require__(43);\n\n__webpack_require__(44);\n\n__webpack_require__(41);\n\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n\n/* eslint-disable */\nvar CryptoJS = CryptoJS || function (u, p) {\n  var d = {},\n      l = d.lib = {},\n      s = function s() {},\n      t = l.Base = {\n    extend: function extend(a) {\n      s.prototype = this;\n      var c = new s();\n      a && c.mixIn(a);\n      c.hasOwnProperty("init") || (c.init = function () {\n        c.$super.init.apply(this, arguments);\n      });\n      c.init.prototype = c;\n      c.$super = this;\n      return c;\n    },\n    create: function create() {\n      var a = this.extend();\n      a.init.apply(a, arguments);\n      return a;\n    },\n    init: function init() {},\n    mixIn: function mixIn(a) {\n      for (var c in a) {\n        a.hasOwnProperty(c) && (this[c] = a[c]);\n      }\n\n      a.hasOwnProperty("toString") && (this.toString = a.toString);\n    },\n    clone: function clone() {\n      return this.init.prototype.extend(this);\n    }\n  },\n      r = l.WordArray = t.extend({\n    init: function init(a, c) {\n      a = this.words = a || [];\n      this.sigBytes = c != p ? c : 4 * a.length;\n    },\n    toString: function toString(a) {\n      return (a || v).stringify(this);\n    },\n    concat: function concat(a) {\n      var c = this.words,\n          e = a.words,\n          j = this.sigBytes;\n      a = a.sigBytes;\n      this.clamp();\n      if (j % 4) for (var k = 0; k < a; k++) {\n        c[j + k >>> 2] |= (e[k >>> 2] >>> 24 - 8 * (k % 4) & 255) << 24 - 8 * ((j + k) % 4);\n      } else if (65535 < e.length) for (k = 0; k < a; k += 4) {\n        c[j + k >>> 2] = e[k >>> 2];\n      } else c.push.apply(c, e);\n      this.sigBytes += a;\n      return this;\n    },\n    clamp: function clamp() {\n      var a = this.words,\n          c = this.sigBytes;\n      a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);\n      a.length = u.ceil(c / 4);\n    },\n    clone: function clone() {\n      var a = t.clone.call(this);\n      a.words = this.words.slice(0);\n      return a;\n    },\n    random: function random(a) {\n      for (var c = [], e = 0; e < a; e += 4) {\n        c.push(4294967296 * u.random() | 0);\n      }\n\n      return new r.init(c, a);\n    }\n  }),\n      w = d.enc = {},\n      v = w.Hex = {\n    stringify: function stringify(a) {\n      var c = a.words;\n      a = a.sigBytes;\n\n      for (var e = [], j = 0; j < a; j++) {\n        var k = c[j >>> 2] >>> 24 - 8 * (j % 4) & 255;\n        e.push((k >>> 4).toString(16));\n        e.push((k & 15).toString(16));\n      }\n\n      return e.join("");\n    },\n    parse: function parse(a) {\n      for (var c = a.length, e = [], j = 0; j < c; j += 2) {\n        e[j >>> 3] |= (0, _parseInt2["default"])(a.substr(j, 2), 16) << 24 - 4 * (j % 8);\n      }\n\n      return new r.init(e, c / 2);\n    }\n  },\n      b = w.Latin1 = {\n    stringify: function stringify(a) {\n      var c = a.words;\n      a = a.sigBytes;\n\n      for (var e = [], j = 0; j < a; j++) {\n        e.push(String.fromCharCode(c[j >>> 2] >>> 24 - 8 * (j % 4) & 255));\n      }\n\n      return e.join("");\n    },\n    parse: function parse(a) {\n      for (var c = a.length, e = [], j = 0; j < c; j++) {\n        e[j >>> 2] |= (a.charCodeAt(j) & 255) << 24 - 8 * (j % 4);\n      }\n\n      return new r.init(e, c);\n    }\n  },\n      x = w.Utf8 = {\n    stringify: function stringify(a) {\n      try {\n        return decodeURIComponent(escape(b.stringify(a)));\n      } catch (c) {\n        throw Error("Malformed UTF-8 data");\n      }\n    },\n    parse: function parse(a) {\n      return b.parse(unescape(encodeURIComponent(a)));\n    }\n  },\n      q = l.BufferedBlockAlgorithm = t.extend({\n    reset: function reset() {\n      this._data = new r.init();\n      this._nDataBytes = 0;\n    },\n    _append: function _append(a) {\n      "string" == typeof a && (a = x.parse(a));\n\n      this._data.concat(a);\n\n      this._nDataBytes += a.sigBytes;\n    },\n    _process: function _process(a) {\n      var c = this._data,\n          e = c.words,\n          j = c.sigBytes,\n          k = this.blockSize,\n          b = j / (4 * k),\n          b = a ? u.ceil(b) : u.max((b | 0) - this._minBufferSize, 0);\n      a = b * k;\n      j = u.min(4 * a, j);\n\n      if (a) {\n        for (var q = 0; q < a; q += k) {\n          this._doProcessBlock(e, q);\n        }\n\n        q = e.splice(0, a);\n        c.sigBytes -= j;\n      }\n\n      return new r.init(q, j);\n    },\n    clone: function clone() {\n      var a = t.clone.call(this);\n      a._data = this._data.clone();\n      return a;\n    },\n    _minBufferSize: 0\n  });\n\n  l.Hasher = q.extend({\n    cfg: t.extend(),\n    init: function init(a) {\n      this.cfg = this.cfg.extend(a);\n      this.reset();\n    },\n    reset: function reset() {\n      q.reset.call(this);\n\n      this._doReset();\n    },\n    update: function update(a) {\n      this._append(a);\n\n      this._process();\n\n      return this;\n    },\n    finalize: function finalize(a) {\n      a && this._append(a);\n      return this._doFinalize();\n    },\n    blockSize: 16,\n    _createHelper: function _createHelper(a) {\n      return function (b, e) {\n        return new a.init(e).finalize(b);\n      };\n    },\n    _createHmacHelper: function _createHmacHelper(a) {\n      return function (b, e) {\n        return new n.HMAC.init(a, e).finalize(b);\n      };\n    }\n  });\n  var n = d.algo = {};\n  return d;\n}(Math);\n\n(function () {\n  var u = CryptoJS,\n      p = u.lib.WordArray;\n  u.enc.Base64 = {\n    stringify: function stringify(d) {\n      var l = d.words,\n          p = d.sigBytes,\n          t = this._map;\n      d.clamp();\n      d = [];\n\n      for (var r = 0; r < p; r += 3) {\n        for (var w = (l[r >>> 2] >>> 24 - 8 * (r % 4) & 255) << 16 | (l[r + 1 >>> 2] >>> 24 - 8 * ((r + 1) % 4) & 255) << 8 | l[r + 2 >>> 2] >>> 24 - 8 * ((r + 2) % 4) & 255, v = 0; 4 > v && r + 0.75 * v < p; v++) {\n          d.push(t.charAt(w >>> 6 * (3 - v) & 63));\n        }\n      }\n\n      if (l = t.charAt(64)) for (; d.length % 4;) {\n        d.push(l);\n      }\n      return d.join("");\n    },\n    parse: function parse(d) {\n      var l = d.length,\n          s = this._map,\n          t = s.charAt(64);\n      t && (t = d.indexOf(t), -1 != t && (l = t));\n\n      for (var t = [], r = 0, w = 0; w < l; w++) {\n        if (w % 4) {\n          var v = s.indexOf(d.charAt(w - 1)) << 2 * (w % 4),\n              b = s.indexOf(d.charAt(w)) >>> 6 - 2 * (w % 4);\n          t[r >>> 2] |= (v | b) << 24 - 8 * (r % 4);\n          r++;\n        }\n      }\n\n      return p.create(t, r);\n    },\n    _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="\n  };\n})();\n\n(function (u) {\n  function p(b, n, a, c, e, j, k) {\n    b = b + (n & a | ~n & c) + e + k;\n    return (b << j | b >>> 32 - j) + n;\n  }\n\n  function d(b, n, a, c, e, j, k) {\n    b = b + (n & c | a & ~c) + e + k;\n    return (b << j | b >>> 32 - j) + n;\n  }\n\n  function l(b, n, a, c, e, j, k) {\n    b = b + (n ^ a ^ c) + e + k;\n    return (b << j | b >>> 32 - j) + n;\n  }\n\n  function s(b, n, a, c, e, j, k) {\n    b = b + (a ^ (n | ~c)) + e + k;\n    return (b << j | b >>> 32 - j) + n;\n  }\n\n  for (var t = CryptoJS, r = t.lib, w = r.WordArray, v = r.Hasher, r = t.algo, b = [], x = 0; 64 > x; x++) {\n    b[x] = 4294967296 * u.abs(u.sin(x + 1)) | 0;\n  }\n\n  r = r.MD5 = v.extend({\n    _doReset: function _doReset() {\n      this._hash = new w.init([1732584193, 4023233417, 2562383102, 271733878]);\n    },\n    _doProcessBlock: function _doProcessBlock(q, n) {\n      for (var a = 0; 16 > a; a++) {\n        var c = n + a,\n            e = q[c];\n        q[c] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;\n      }\n\n      var a = this._hash.words,\n          c = q[n + 0],\n          e = q[n + 1],\n          j = q[n + 2],\n          k = q[n + 3],\n          z = q[n + 4],\n          r = q[n + 5],\n          t = q[n + 6],\n          w = q[n + 7],\n          v = q[n + 8],\n          A = q[n + 9],\n          B = q[n + 10],\n          C = q[n + 11],\n          u = q[n + 12],\n          D = q[n + 13],\n          E = q[n + 14],\n          x = q[n + 15],\n          f = a[0],\n          m = a[1],\n          g = a[2],\n          h = a[3],\n          f = p(f, m, g, h, c, 7, b[0]),\n          h = p(h, f, m, g, e, 12, b[1]),\n          g = p(g, h, f, m, j, 17, b[2]),\n          m = p(m, g, h, f, k, 22, b[3]),\n          f = p(f, m, g, h, z, 7, b[4]),\n          h = p(h, f, m, g, r, 12, b[5]),\n          g = p(g, h, f, m, t, 17, b[6]),\n          m = p(m, g, h, f, w, 22, b[7]),\n          f = p(f, m, g, h, v, 7, b[8]),\n          h = p(h, f, m, g, A, 12, b[9]),\n          g = p(g, h, f, m, B, 17, b[10]),\n          m = p(m, g, h, f, C, 22, b[11]),\n          f = p(f, m, g, h, u, 7, b[12]),\n          h = p(h, f, m, g, D, 12, b[13]),\n          g = p(g, h, f, m, E, 17, b[14]),\n          m = p(m, g, h, f, x, 22, b[15]),\n          f = d(f, m, g, h, e, 5, b[16]),\n          h = d(h, f, m, g, t, 9, b[17]),\n          g = d(g, h, f, m, C, 14, b[18]),\n          m = d(m, g, h, f, c, 20, b[19]),\n          f = d(f, m, g, h, r, 5, b[20]),\n          h = d(h, f, m, g, B, 9, b[21]),\n          g = d(g, h, f, m, x, 14, b[22]),\n          m = d(m, g, h, f, z, 20, b[23]),\n          f = d(f, m, g, h, A, 5, b[24]),\n          h = d(h, f, m, g, E, 9, b[25]),\n          g = d(g, h, f, m, k, 14, b[26]),\n          m = d(m, g, h, f, v, 20, b[27]),\n          f = d(f, m, g, h, D, 5, b[28]),\n          h = d(h, f, m, g, j, 9, b[29]),\n          g = d(g, h, f, m, w, 14, b[30]),\n          m = d(m, g, h, f, u, 20, b[31]),\n          f = l(f, m, g, h, r, 4, b[32]),\n          h = l(h, f, m, g, v, 11, b[33]),\n          g = l(g, h, f, m, C, 16, b[34]),\n          m = l(m, g, h, f, E, 23, b[35]),\n          f = l(f, m, g, h, e, 4, b[36]),\n          h = l(h, f, m, g, z, 11, b[37]),\n          g = l(g, h, f, m, w, 16, b[38]),\n          m = l(m, g, h, f, B, 23, b[39]),\n          f = l(f, m, g, h, D, 4, b[40]),\n          h = l(h, f, m, g, c, 11, b[41]),\n          g = l(g, h, f, m, k, 16, b[42]),\n          m = l(m, g, h, f, t, 23, b[43]),\n          f = l(f, m, g, h, A, 4, b[44]),\n          h = l(h, f, m, g, u, 11, b[45]),\n          g = l(g, h, f, m, x, 16, b[46]),\n          m = l(m, g, h, f, j, 23, b[47]),\n          f = s(f, m, g, h, c, 6, b[48]),\n          h = s(h, f, m, g, w, 10, b[49]),\n          g = s(g, h, f, m, E, 15, b[50]),\n          m = s(m, g, h, f, r, 21, b[51]),\n          f = s(f, m, g, h, u, 6, b[52]),\n          h = s(h, f, m, g, k, 10, b[53]),\n          g = s(g, h, f, m, B, 15, b[54]),\n          m = s(m, g, h, f, e, 21, b[55]),\n          f = s(f, m, g, h, v, 6, b[56]),\n          h = s(h, f, m, g, x, 10, b[57]),\n          g = s(g, h, f, m, t, 15, b[58]),\n          m = s(m, g, h, f, D, 21, b[59]),\n          f = s(f, m, g, h, z, 6, b[60]),\n          h = s(h, f, m, g, C, 10, b[61]),\n          g = s(g, h, f, m, j, 15, b[62]),\n          m = s(m, g, h, f, A, 21, b[63]);\n      a[0] = a[0] + f | 0;\n      a[1] = a[1] + m | 0;\n      a[2] = a[2] + g | 0;\n      a[3] = a[3] + h | 0;\n    },\n    _doFinalize: function _doFinalize() {\n      var b = this._data,\n          n = b.words,\n          a = 8 * this._nDataBytes,\n          c = 8 * b.sigBytes;\n      n[c >>> 5] |= 128 << 24 - c % 32;\n      var e = u.floor(a / 4294967296);\n      n[(c + 64 >>> 9 << 4) + 15] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;\n      n[(c + 64 >>> 9 << 4) + 14] = (a << 8 | a >>> 24) & 16711935 | (a << 24 | a >>> 8) & 4278255360;\n      b.sigBytes = 4 * (n.length + 1);\n\n      this._process();\n\n      b = this._hash;\n      n = b.words;\n\n      for (a = 0; 4 > a; a++) {\n        c = n[a], n[a] = (c << 8 | c >>> 24) & 16711935 | (c << 24 | c >>> 8) & 4278255360;\n      }\n\n      return b;\n    },\n    clone: function clone() {\n      var b = v.clone.call(this);\n      b._hash = this._hash.clone();\n      return b;\n    }\n  });\n  t.MD5 = v._createHelper(r);\n  t.HmacMD5 = v._createHmacHelper(r);\n})(Math);\n\n(function () {\n  var u = CryptoJS,\n      p = u.lib,\n      d = p.Base,\n      l = p.WordArray,\n      p = u.algo,\n      s = p.EvpKDF = d.extend({\n    cfg: d.extend({\n      keySize: 4,\n      hasher: p.MD5,\n      iterations: 1\n    }),\n    init: function init(d) {\n      this.cfg = this.cfg.extend(d);\n    },\n    compute: function compute(d, r) {\n      for (var p = this.cfg, s = p.hasher.create(), b = l.create(), u = b.words, q = p.keySize, p = p.iterations; u.length < q;) {\n        n && s.update(n);\n        var n = s.update(d).finalize(r);\n        s.reset();\n\n        for (var a = 1; a < p; a++) {\n          n = s.finalize(n), s.reset();\n        }\n\n        b.concat(n);\n      }\n\n      b.sigBytes = 4 * q;\n      return b;\n    }\n  });\n\n  u.EvpKDF = function (d, l, p) {\n    return s.create(p).compute(d, l);\n  };\n})();\n\nCryptoJS.lib.Cipher || function (u) {\n  var p = CryptoJS,\n      d = p.lib,\n      l = d.Base,\n      s = d.WordArray,\n      t = d.BufferedBlockAlgorithm,\n      r = p.enc.Base64,\n      w = p.algo.EvpKDF,\n      v = d.Cipher = t.extend({\n    cfg: l.extend(),\n    createEncryptor: function createEncryptor(e, a) {\n      return this.create(this._ENC_XFORM_MODE, e, a);\n    },\n    createDecryptor: function createDecryptor(e, a) {\n      return this.create(this._DEC_XFORM_MODE, e, a);\n    },\n    init: function init(e, a, b) {\n      this.cfg = this.cfg.extend(b);\n      this._xformMode = e;\n      this._key = a;\n      this.reset();\n    },\n    reset: function reset() {\n      t.reset.call(this);\n\n      this._doReset();\n    },\n    process: function process(e) {\n      this._append(e);\n\n      return this._process();\n    },\n    finalize: function finalize(e) {\n      e && this._append(e);\n      return this._doFinalize();\n    },\n    keySize: 4,\n    ivSize: 4,\n    _ENC_XFORM_MODE: 1,\n    _DEC_XFORM_MODE: 2,\n    _createHelper: function _createHelper(e) {\n      return {\n        encrypt: function encrypt(b, k, d) {\n          return ("string" == typeof k ? c : a).encrypt(e, b, k, d);\n        },\n        decrypt: function decrypt(b, k, d) {\n          return ("string" == typeof k ? c : a).decrypt(e, b, k, d);\n        }\n      };\n    }\n  });\n  d.StreamCipher = v.extend({\n    _doFinalize: function _doFinalize() {\n      return this._process(!0);\n    },\n    blockSize: 1\n  });\n\n  var b = p.mode = {},\n      x = function x(e, a, b) {\n    var c = this._iv;\n    c ? this._iv = u : c = this._prevBlock;\n\n    for (var d = 0; d < b; d++) {\n      e[a + d] ^= c[d];\n    }\n  },\n      q = (d.BlockCipherMode = l.extend({\n    createEncryptor: function createEncryptor(e, a) {\n      return this.Encryptor.create(e, a);\n    },\n    createDecryptor: function createDecryptor(e, a) {\n      return this.Decryptor.create(e, a);\n    },\n    init: function init(e, a) {\n      this._cipher = e;\n      this._iv = a;\n    }\n  })).extend();\n\n  q.Encryptor = q.extend({\n    processBlock: function processBlock(e, a) {\n      var b = this._cipher,\n          c = b.blockSize;\n      x.call(this, e, a, c);\n      b.encryptBlock(e, a);\n      this._prevBlock = e.slice(a, a + c);\n    }\n  });\n  q.Decryptor = q.extend({\n    processBlock: function processBlock(e, a) {\n      var b = this._cipher,\n          c = b.blockSize,\n          d = e.slice(a, a + c);\n      b.decryptBlock(e, a);\n      x.call(this, e, a, c);\n      this._prevBlock = d;\n    }\n  });\n  b = b.CBC = q;\n  q = (p.pad = {}).Pkcs7 = {\n    pad: function pad(a, b) {\n      for (var c = 4 * b, c = c - a.sigBytes % c, d = c << 24 | c << 16 | c << 8 | c, l = [], n = 0; n < c; n += 4) {\n        l.push(d);\n      }\n\n      c = s.create(l, c);\n      a.concat(c);\n    },\n    unpad: function unpad(a) {\n      a.sigBytes -= a.words[a.sigBytes - 1 >>> 2] & 255;\n    }\n  };\n  d.BlockCipher = v.extend({\n    cfg: v.cfg.extend({\n      mode: b,\n      padding: q\n    }),\n    reset: function reset() {\n      v.reset.call(this);\n      var a = this.cfg,\n          b = a.iv,\n          a = a.mode;\n      if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor;else c = a.createDecryptor, this._minBufferSize = 1;\n      this._mode = c.call(a, this, b && b.words);\n    },\n    _doProcessBlock: function _doProcessBlock(a, b) {\n      this._mode.processBlock(a, b);\n    },\n    _doFinalize: function _doFinalize() {\n      var a = this.cfg.padding;\n\n      if (this._xformMode == this._ENC_XFORM_MODE) {\n        a.pad(this._data, this.blockSize);\n\n        var b = this._process(!0);\n      } else b = this._process(!0), a.unpad(b);\n\n      return b;\n    },\n    blockSize: 4\n  });\n  var n = d.CipherParams = l.extend({\n    init: function init(a) {\n      this.mixIn(a);\n    },\n    toString: function toString(a) {\n      return (a || this.formatter).stringify(this);\n    }\n  }),\n      b = (p.format = {}).OpenSSL = {\n    stringify: function stringify(a) {\n      var b = a.ciphertext;\n      a = a.salt;\n      return (a ? s.create([1398893684, 1701076831]).concat(a).concat(b) : b).toString(r);\n    },\n    parse: function parse(a) {\n      a = r.parse(a);\n      var b = a.words;\n\n      if (1398893684 == b[0] && 1701076831 == b[1]) {\n        var c = s.create(b.slice(2, 4));\n        b.splice(0, 4);\n        a.sigBytes -= 16;\n      }\n\n      return n.create({\n        ciphertext: a,\n        salt: c\n      });\n    }\n  },\n      a = d.SerializableCipher = l.extend({\n    cfg: l.extend({\n      format: b\n    }),\n    encrypt: function encrypt(a, b, c, d) {\n      d = this.cfg.extend(d);\n      var l = a.createEncryptor(c, d);\n      b = l.finalize(b);\n      l = l.cfg;\n      return n.create({\n        ciphertext: b,\n        key: c,\n        iv: l.iv,\n        algorithm: a,\n        mode: l.mode,\n        padding: l.padding,\n        blockSize: a.blockSize,\n        formatter: d.format\n      });\n    },\n    decrypt: function decrypt(a, b, c, d) {\n      d = this.cfg.extend(d);\n      b = this._parse(b, d.format);\n      return a.createDecryptor(c, d).finalize(b.ciphertext);\n    },\n    _parse: function _parse(a, b) {\n      return "string" == typeof a ? b.parse(a, this) : a;\n    }\n  }),\n      p = (p.kdf = {}).OpenSSL = {\n    execute: function execute(a, b, c, d) {\n      d || (d = s.random(8));\n      a = w.create({\n        keySize: b + c\n      }).compute(a, d);\n      c = s.create(a.words.slice(b), 4 * c);\n      a.sigBytes = 4 * b;\n      return n.create({\n        key: a,\n        iv: c,\n        salt: d\n      });\n    }\n  },\n      c = d.PasswordBasedCipher = a.extend({\n    cfg: a.cfg.extend({\n      kdf: p\n    }),\n    encrypt: function encrypt(b, c, d, l) {\n      l = this.cfg.extend(l);\n      d = l.kdf.execute(d, b.keySize, b.ivSize);\n      l.iv = d.iv;\n      b = a.encrypt.call(this, b, c, d.key, l);\n      b.mixIn(d);\n      return b;\n    },\n    decrypt: function decrypt(b, c, d, l) {\n      l = this.cfg.extend(l);\n      c = this._parse(c, l.format);\n      d = l.kdf.execute(d, b.keySize, b.ivSize, c.salt);\n      l.iv = d.iv;\n      return a.decrypt.call(this, b, c, d.key, l);\n    }\n  });\n}();\n\n(function () {\n  for (var u = CryptoJS, p = u.lib.BlockCipher, d = u.algo, l = [], s = [], t = [], r = [], w = [], v = [], b = [], x = [], q = [], n = [], a = [], c = 0; 256 > c; c++) {\n    a[c] = 128 > c ? c << 1 : c << 1 ^ 283;\n  }\n\n  for (var e = 0, j = 0, c = 0; 256 > c; c++) {\n    var k = j ^ j << 1 ^ j << 2 ^ j << 3 ^ j << 4,\n        k = k >>> 8 ^ k & 255 ^ 99;\n    l[e] = k;\n    s[k] = e;\n    var z = a[e],\n        F = a[z],\n        G = a[F],\n        y = 257 * a[k] ^ 16843008 * k;\n    t[e] = y << 24 | y >>> 8;\n    r[e] = y << 16 | y >>> 16;\n    w[e] = y << 8 | y >>> 24;\n    v[e] = y;\n    y = 16843009 * G ^ 65537 * F ^ 257 * z ^ 16843008 * e;\n    b[k] = y << 24 | y >>> 8;\n    x[k] = y << 16 | y >>> 16;\n    q[k] = y << 8 | y >>> 24;\n    n[k] = y;\n    e ? (e = z ^ a[a[a[G ^ z]]], j ^= a[a[j]]) : e = j = 1;\n  }\n\n  var H = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],\n      d = d.AES = p.extend({\n    _doReset: function _doReset() {\n      for (var a = this._key, c = a.words, d = a.sigBytes / 4, a = 4 * ((this._nRounds = d + 6) + 1), e = this._keySchedule = [], j = 0; j < a; j++) {\n        if (j < d) e[j] = c[j];else {\n          var k = e[j - 1];\n          j % d ? 6 < d && 4 == j % d && (k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255]) : (k = k << 8 | k >>> 24, k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255], k ^= H[j / d | 0] << 24);\n          e[j] = e[j - d] ^ k;\n        }\n      }\n\n      c = this._invKeySchedule = [];\n\n      for (d = 0; d < a; d++) {\n        j = a - d, k = d % 4 ? e[j] : e[j - 4], c[d] = 4 > d || 4 >= j ? k : b[l[k >>> 24]] ^ x[l[k >>> 16 & 255]] ^ q[l[k >>> 8 & 255]] ^ n[l[k & 255]];\n      }\n    },\n    encryptBlock: function encryptBlock(a, b) {\n      this._doCryptBlock(a, b, this._keySchedule, t, r, w, v, l);\n    },\n    decryptBlock: function decryptBlock(a, c) {\n      var d = a[c + 1];\n      a[c + 1] = a[c + 3];\n      a[c + 3] = d;\n\n      this._doCryptBlock(a, c, this._invKeySchedule, b, x, q, n, s);\n\n      d = a[c + 1];\n      a[c + 1] = a[c + 3];\n      a[c + 3] = d;\n    },\n    _doCryptBlock: function _doCryptBlock(a, b, c, d, e, j, l, f) {\n      for (var m = this._nRounds, g = a[b] ^ c[0], h = a[b + 1] ^ c[1], k = a[b + 2] ^ c[2], n = a[b + 3] ^ c[3], p = 4, r = 1; r < m; r++) {\n        var q = d[g >>> 24] ^ e[h >>> 16 & 255] ^ j[k >>> 8 & 255] ^ l[n & 255] ^ c[p++],\n            s = d[h >>> 24] ^ e[k >>> 16 & 255] ^ j[n >>> 8 & 255] ^ l[g & 255] ^ c[p++],\n            t = d[k >>> 24] ^ e[n >>> 16 & 255] ^ j[g >>> 8 & 255] ^ l[h & 255] ^ c[p++],\n            n = d[n >>> 24] ^ e[g >>> 16 & 255] ^ j[h >>> 8 & 255] ^ l[k & 255] ^ c[p++],\n            g = q,\n            h = s,\n            k = t;\n      }\n\n      q = (f[g >>> 24] << 24 | f[h >>> 16 & 255] << 16 | f[k >>> 8 & 255] << 8 | f[n & 255]) ^ c[p++];\n      s = (f[h >>> 24] << 24 | f[k >>> 16 & 255] << 16 | f[n >>> 8 & 255] << 8 | f[g & 255]) ^ c[p++];\n      t = (f[k >>> 24] << 24 | f[n >>> 16 & 255] << 16 | f[g >>> 8 & 255] << 8 | f[h & 255]) ^ c[p++];\n      n = (f[n >>> 24] << 24 | f[g >>> 16 & 255] << 16 | f[h >>> 8 & 255] << 8 | f[k & 255]) ^ c[p++];\n      a[b] = q;\n      a[b + 1] = s;\n      a[b + 2] = t;\n      a[b + 3] = n;\n    },\n    keySize: 8\n  });\n  u.AES = p._createHelper(d);\n})();\n\nvar _default = CryptoJS;\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3V0aWwvYWVzLmpzPzU3MmUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkNyeXB0b0pTIHYzLjEuMlxuY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzXG4oYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2VcbiovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xudmFyIENyeXB0b0pTPUNyeXB0b0pTfHxmdW5jdGlvbih1LHApe3ZhciBkPXt9LGw9ZC5saWI9e30scz1mdW5jdGlvbigpe30sdD1sLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihhKXtzLnByb3RvdHlwZT10aGlzO3ZhciBjPW5ldyBzO2EmJmMubWl4SW4oYSk7Yy5oYXNPd25Qcm9wZXJ0eShcImluaXRcIil8fChjLmluaXQ9ZnVuY3Rpb24oKXtjLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2MuaW5pdC5wcm90b3R5cGU9YztjLiRzdXBlcj10aGlzO3JldHVybiBjfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmV4dGVuZCgpO2EuaW5pdC5hcHBseShhLGFyZ3VtZW50cyk7cmV0dXJuIGF9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJih0aGlzW2NdPWFbY10pO2EuaGFzT3duUHJvcGVydHkoXCJ0b1N0cmluZ1wiKSYmKHRoaXMudG9TdHJpbmc9YS50b1N0cmluZyl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX0sXG5yPWwuV29yZEFycmF5PXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGEsYyl7YT10aGlzLndvcmRzPWF8fFtdO3RoaXMuc2lnQnl0ZXM9YyE9cD9jOjQqYS5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybihhfHx2KS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndvcmRzLGU9YS53b3JkcyxqPXRoaXMuc2lnQnl0ZXM7YT1hLnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihqJTQpZm9yKHZhciBrPTA7azxhO2srKyljW2oraz4+PjJdfD0oZVtrPj4+Ml0+Pj4yNC04KihrJTQpJjI1NSk8PDI0LTgqKChqK2spJTQpO2Vsc2UgaWYoNjU1MzU8ZS5sZW5ndGgpZm9yKGs9MDtrPGE7ays9NCljW2oraz4+PjJdPWVbaz4+PjJdO2Vsc2UgYy5wdXNoLmFwcGx5KGMsZSk7dGhpcy5zaWdCeXRlcys9YTtyZXR1cm4gdGhpc30sY2xhbXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLndvcmRzLGM9dGhpcy5zaWdCeXRlczthW2M+Pj4yXSY9NDI5NDk2NzI5NTw8XG4zMi04KihjJTQpO2EubGVuZ3RoPXUuY2VpbChjLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPXQuY2xvbmUuY2FsbCh0aGlzKTthLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIGF9LHJhbmRvbTpmdW5jdGlvbihhKXtmb3IodmFyIGM9W10sZT0wO2U8YTtlKz00KWMucHVzaCg0Mjk0OTY3Mjk2KnUucmFuZG9tKCl8MCk7cmV0dXJuIG5ldyByLmluaXQoYyxhKX19KSx3PWQuZW5jPXt9LHY9dy5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYz1hLndvcmRzO2E9YS5zaWdCeXRlcztmb3IodmFyIGU9W10saj0wO2o8YTtqKyspe3ZhciBrPWNbaj4+PjJdPj4+MjQtOCooaiU0KSYyNTU7ZS5wdXNoKChrPj4+NCkudG9TdHJpbmcoMTYpKTtlLnB1c2goKGsmMTUpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIGUuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPWEubGVuZ3RoLGU9W10saj0wO2o8YztqKz0yKWVbaj4+PjNdfD1wYXJzZUludChhLnN1YnN0cihqLFxuMiksMTYpPDwyNC00KihqJTgpO3JldHVybiBuZXcgci5pbml0KGUsYy8yKX19LGI9dy5MYXRpbjE9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYz1hLndvcmRzO2E9YS5zaWdCeXRlcztmb3IodmFyIGU9W10saj0wO2o8YTtqKyspZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoY1tqPj4+Ml0+Pj4yNC04KihqJTQpJjI1NSkpO3JldHVybiBlLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1hLmxlbmd0aCxlPVtdLGo9MDtqPGM7aisrKWVbaj4+PjJdfD0oYS5jaGFyQ29kZUF0KGopJjI1NSk8PDI0LTgqKGolNCk7cmV0dXJuIG5ldyByLmluaXQoZSxjKX19LHg9dy5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGIuc3RyaW5naWZ5KGEpKSl9Y2F0Y2goYyl7dGhyb3cgRXJyb3IoXCJNYWxmb3JtZWQgVVRGLTggZGF0YVwiKTt9fSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gYi5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKX19LFxucT1sLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09dC5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgci5pbml0O3RoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbihhKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9eC5wYXJzZShhKSk7dGhpcy5fZGF0YS5jb25jYXQoYSk7dGhpcy5fbkRhdGFCeXRlcys9YS5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5fZGF0YSxlPWMud29yZHMsaj1jLnNpZ0J5dGVzLGs9dGhpcy5ibG9ja1NpemUsYj1qLyg0KmspLGI9YT91LmNlaWwoYik6dS5tYXgoKGJ8MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTthPWIqaztqPXUubWluKDQqYSxqKTtpZihhKXtmb3IodmFyIHE9MDtxPGE7cSs9ayl0aGlzLl9kb1Byb2Nlc3NCbG9jayhlLHEpO3E9ZS5zcGxpY2UoMCxhKTtjLnNpZ0J5dGVzLT1qfXJldHVybiBuZXcgci5pbml0KHEsail9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9dC5jbG9uZS5jYWxsKHRoaXMpO1xuYS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIGF9LF9taW5CdWZmZXJTaXplOjB9KTtsLkhhc2hlcj1xLmV4dGVuZCh7Y2ZnOnQuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihhKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQoYSk7dGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe3EucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBlbmQoYSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihhKXthJiZ0aGlzLl9hcHBlbmQoYSk7cmV0dXJuIHRoaXMuX2RvRmluYWxpemUoKX0sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7cmV0dXJuKG5ldyBhLmluaXQoZSkpLmZpbmFsaXplKGIpfX0sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7cmV0dXJuKG5ldyBuLkhNQUMuaW5pdChhLFxuZSkpLmZpbmFsaXplKGIpfX19KTt2YXIgbj1kLmFsZ289e307cmV0dXJuIGR9KE1hdGgpO1xuKGZ1bmN0aW9uKCl7dmFyIHU9Q3J5cHRvSlMscD11LmxpYi5Xb3JkQXJyYXk7dS5lbmMuQmFzZTY0PXtzdHJpbmdpZnk6ZnVuY3Rpb24oZCl7dmFyIGw9ZC53b3JkcyxwPWQuc2lnQnl0ZXMsdD10aGlzLl9tYXA7ZC5jbGFtcCgpO2Q9W107Zm9yKHZhciByPTA7cjxwO3IrPTMpZm9yKHZhciB3PShsW3I+Pj4yXT4+PjI0LTgqKHIlNCkmMjU1KTw8MTZ8KGxbcisxPj4+Ml0+Pj4yNC04KigocisxKSU0KSYyNTUpPDw4fGxbcisyPj4+Ml0+Pj4yNC04KigocisyKSU0KSYyNTUsdj0wOzQ+diYmciswLjc1KnY8cDt2KyspZC5wdXNoKHQuY2hhckF0KHc+Pj42KigzLXYpJjYzKSk7aWYobD10LmNoYXJBdCg2NCkpZm9yKDtkLmxlbmd0aCU0OylkLnB1c2gobCk7cmV0dXJuIGQuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24oZCl7dmFyIGw9ZC5sZW5ndGgscz10aGlzLl9tYXAsdD1zLmNoYXJBdCg2NCk7dCYmKHQ9ZC5pbmRleE9mKHQpLC0xIT10JiYobD10KSk7Zm9yKHZhciB0PVtdLHI9MCx3PTA7dzxcbmw7dysrKWlmKHclNCl7dmFyIHY9cy5pbmRleE9mKGQuY2hhckF0KHctMSkpPDwyKih3JTQpLGI9cy5pbmRleE9mKGQuY2hhckF0KHcpKT4+PjYtMioodyU0KTt0W3I+Pj4yXXw9KHZ8Yik8PDI0LTgqKHIlNCk7cisrfXJldHVybiBwLmNyZWF0ZSh0LHIpfSxfbWFwOlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIn19KSgpO1xuKGZ1bmN0aW9uKHUpe2Z1bmN0aW9uIHAoYixuLGEsYyxlLGosayl7Yj1iKyhuJmF8fm4mYykrZStrO3JldHVybihiPDxqfGI+Pj4zMi1qKStufWZ1bmN0aW9uIGQoYixuLGEsYyxlLGosayl7Yj1iKyhuJmN8YSZ+YykrZStrO3JldHVybihiPDxqfGI+Pj4zMi1qKStufWZ1bmN0aW9uIGwoYixuLGEsYyxlLGosayl7Yj1iKyhuXmFeYykrZStrO3JldHVybihiPDxqfGI+Pj4zMi1qKStufWZ1bmN0aW9uIHMoYixuLGEsYyxlLGosayl7Yj1iKyhhXihufH5jKSkrZStrO3JldHVybihiPDxqfGI+Pj4zMi1qKStufWZvcih2YXIgdD1DcnlwdG9KUyxyPXQubGliLHc9ci5Xb3JkQXJyYXksdj1yLkhhc2hlcixyPXQuYWxnbyxiPVtdLHg9MDs2ND54O3grKyliW3hdPTQyOTQ5NjcyOTYqdS5hYnModS5zaW4oeCsxKSl8MDtyPXIuTUQ1PXYuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IHcuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LFxuX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHEsbil7Zm9yKHZhciBhPTA7MTY+YTthKyspe3ZhciBjPW4rYSxlPXFbY107cVtjXT0oZTw8OHxlPj4+MjQpJjE2NzExOTM1fChlPDwyNHxlPj4+OCkmNDI3ODI1NTM2MH12YXIgYT10aGlzLl9oYXNoLndvcmRzLGM9cVtuKzBdLGU9cVtuKzFdLGo9cVtuKzJdLGs9cVtuKzNdLHo9cVtuKzRdLHI9cVtuKzVdLHQ9cVtuKzZdLHc9cVtuKzddLHY9cVtuKzhdLEE9cVtuKzldLEI9cVtuKzEwXSxDPXFbbisxMV0sdT1xW24rMTJdLEQ9cVtuKzEzXSxFPXFbbisxNF0seD1xW24rMTVdLGY9YVswXSxtPWFbMV0sZz1hWzJdLGg9YVszXSxmPXAoZixtLGcsaCxjLDcsYlswXSksaD1wKGgsZixtLGcsZSwxMixiWzFdKSxnPXAoZyxoLGYsbSxqLDE3LGJbMl0pLG09cChtLGcsaCxmLGssMjIsYlszXSksZj1wKGYsbSxnLGgseiw3LGJbNF0pLGg9cChoLGYsbSxnLHIsMTIsYls1XSksZz1wKGcsaCxmLG0sdCwxNyxiWzZdKSxtPXAobSxnLGgsZix3LDIyLGJbN10pLFxuZj1wKGYsbSxnLGgsdiw3LGJbOF0pLGg9cChoLGYsbSxnLEEsMTIsYls5XSksZz1wKGcsaCxmLG0sQiwxNyxiWzEwXSksbT1wKG0sZyxoLGYsQywyMixiWzExXSksZj1wKGYsbSxnLGgsdSw3LGJbMTJdKSxoPXAoaCxmLG0sZyxELDEyLGJbMTNdKSxnPXAoZyxoLGYsbSxFLDE3LGJbMTRdKSxtPXAobSxnLGgsZix4LDIyLGJbMTVdKSxmPWQoZixtLGcsaCxlLDUsYlsxNl0pLGg9ZChoLGYsbSxnLHQsOSxiWzE3XSksZz1kKGcsaCxmLG0sQywxNCxiWzE4XSksbT1kKG0sZyxoLGYsYywyMCxiWzE5XSksZj1kKGYsbSxnLGgsciw1LGJbMjBdKSxoPWQoaCxmLG0sZyxCLDksYlsyMV0pLGc9ZChnLGgsZixtLHgsMTQsYlsyMl0pLG09ZChtLGcsaCxmLHosMjAsYlsyM10pLGY9ZChmLG0sZyxoLEEsNSxiWzI0XSksaD1kKGgsZixtLGcsRSw5LGJbMjVdKSxnPWQoZyxoLGYsbSxrLDE0LGJbMjZdKSxtPWQobSxnLGgsZix2LDIwLGJbMjddKSxmPWQoZixtLGcsaCxELDUsYlsyOF0pLGg9ZChoLGYsXG5tLGcsaiw5LGJbMjldKSxnPWQoZyxoLGYsbSx3LDE0LGJbMzBdKSxtPWQobSxnLGgsZix1LDIwLGJbMzFdKSxmPWwoZixtLGcsaCxyLDQsYlszMl0pLGg9bChoLGYsbSxnLHYsMTEsYlszM10pLGc9bChnLGgsZixtLEMsMTYsYlszNF0pLG09bChtLGcsaCxmLEUsMjMsYlszNV0pLGY9bChmLG0sZyxoLGUsNCxiWzM2XSksaD1sKGgsZixtLGcseiwxMSxiWzM3XSksZz1sKGcsaCxmLG0sdywxNixiWzM4XSksbT1sKG0sZyxoLGYsQiwyMyxiWzM5XSksZj1sKGYsbSxnLGgsRCw0LGJbNDBdKSxoPWwoaCxmLG0sZyxjLDExLGJbNDFdKSxnPWwoZyxoLGYsbSxrLDE2LGJbNDJdKSxtPWwobSxnLGgsZix0LDIzLGJbNDNdKSxmPWwoZixtLGcsaCxBLDQsYls0NF0pLGg9bChoLGYsbSxnLHUsMTEsYls0NV0pLGc9bChnLGgsZixtLHgsMTYsYls0Nl0pLG09bChtLGcsaCxmLGosMjMsYls0N10pLGY9cyhmLG0sZyxoLGMsNixiWzQ4XSksaD1zKGgsZixtLGcsdywxMCxiWzQ5XSksZz1zKGcsaCxmLG0sXG5FLDE1LGJbNTBdKSxtPXMobSxnLGgsZixyLDIxLGJbNTFdKSxmPXMoZixtLGcsaCx1LDYsYls1Ml0pLGg9cyhoLGYsbSxnLGssMTAsYls1M10pLGc9cyhnLGgsZixtLEIsMTUsYls1NF0pLG09cyhtLGcsaCxmLGUsMjEsYls1NV0pLGY9cyhmLG0sZyxoLHYsNixiWzU2XSksaD1zKGgsZixtLGcseCwxMCxiWzU3XSksZz1zKGcsaCxmLG0sdCwxNSxiWzU4XSksbT1zKG0sZyxoLGYsRCwyMSxiWzU5XSksZj1zKGYsbSxnLGgseiw2LGJbNjBdKSxoPXMoaCxmLG0sZyxDLDEwLGJbNjFdKSxnPXMoZyxoLGYsbSxqLDE1LGJbNjJdKSxtPXMobSxnLGgsZixBLDIxLGJbNjNdKTthWzBdPWFbMF0rZnwwO2FbMV09YVsxXSttfDA7YVsyXT1hWzJdK2d8MDthWzNdPWFbM10raHwwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX2RhdGEsbj1iLndvcmRzLGE9OCp0aGlzLl9uRGF0YUJ5dGVzLGM9OCpiLnNpZ0J5dGVzO25bYz4+PjVdfD0xMjg8PDI0LWMlMzI7dmFyIGU9dS5mbG9vcihhL1xuNDI5NDk2NzI5Nik7blsoYys2ND4+Pjk8PDQpKzE1XT0oZTw8OHxlPj4+MjQpJjE2NzExOTM1fChlPDwyNHxlPj4+OCkmNDI3ODI1NTM2MDtuWyhjKzY0Pj4+OTw8NCkrMTRdPShhPDw4fGE+Pj4yNCkmMTY3MTE5MzV8KGE8PDI0fGE+Pj44KSY0Mjc4MjU1MzYwO2Iuc2lnQnl0ZXM9NCoobi5sZW5ndGgrMSk7dGhpcy5fcHJvY2VzcygpO2I9dGhpcy5faGFzaDtuPWIud29yZHM7Zm9yKGE9MDs0PmE7YSsrKWM9blthXSxuW2FdPShjPDw4fGM+Pj4yNCkmMTY3MTE5MzV8KGM8PDI0fGM+Pj44KSY0Mjc4MjU1MzYwO3JldHVybiBifSxjbG9uZTpmdW5jdGlvbigpe3ZhciBiPXYuY2xvbmUuY2FsbCh0aGlzKTtiLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gYn19KTt0Lk1ENT12Ll9jcmVhdGVIZWxwZXIocik7dC5IbWFjTUQ1PXYuX2NyZWF0ZUhtYWNIZWxwZXIocil9KShNYXRoKTtcbihmdW5jdGlvbigpe3ZhciB1PUNyeXB0b0pTLHA9dS5saWIsZD1wLkJhc2UsbD1wLldvcmRBcnJheSxwPXUuYWxnbyxzPXAuRXZwS0RGPWQuZXh0ZW5kKHtjZmc6ZC5leHRlbmQoe2tleVNpemU6NCxoYXNoZXI6cC5NRDUsaXRlcmF0aW9uczoxfSksaW5pdDpmdW5jdGlvbihkKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQoZCl9LGNvbXB1dGU6ZnVuY3Rpb24oZCxyKXtmb3IodmFyIHA9dGhpcy5jZmcscz1wLmhhc2hlci5jcmVhdGUoKSxiPWwuY3JlYXRlKCksdT1iLndvcmRzLHE9cC5rZXlTaXplLHA9cC5pdGVyYXRpb25zO3UubGVuZ3RoPHE7KXtuJiZzLnVwZGF0ZShuKTt2YXIgbj1zLnVwZGF0ZShkKS5maW5hbGl6ZShyKTtzLnJlc2V0KCk7Zm9yKHZhciBhPTE7YTxwO2ErKyluPXMuZmluYWxpemUobikscy5yZXNldCgpO2IuY29uY2F0KG4pfWIuc2lnQnl0ZXM9NCpxO3JldHVybiBifX0pO3UuRXZwS0RGPWZ1bmN0aW9uKGQsbCxwKXtyZXR1cm4gcy5jcmVhdGUocCkuY29tcHV0ZShkLFxubCl9fSkoKTtcbkNyeXB0b0pTLmxpYi5DaXBoZXJ8fGZ1bmN0aW9uKHUpe3ZhciBwPUNyeXB0b0pTLGQ9cC5saWIsbD1kLkJhc2Uscz1kLldvcmRBcnJheSx0PWQuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSxyPXAuZW5jLkJhc2U2NCx3PXAuYWxnby5FdnBLREYsdj1kLkNpcGhlcj10LmV4dGVuZCh7Y2ZnOmwuZXh0ZW5kKCksY3JlYXRlRW5jcnlwdG9yOmZ1bmN0aW9uKGUsYSl7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0VOQ19YRk9STV9NT0RFLGUsYSl9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbihlLGEpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9ERUNfWEZPUk1fTU9ERSxlLGEpfSxpbml0OmZ1bmN0aW9uKGUsYSxiKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQoYik7dGhpcy5feGZvcm1Nb2RlPWU7dGhpcy5fa2V5PWE7dGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe3QucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCl9LHByb2Nlc3M6ZnVuY3Rpb24oZSl7dGhpcy5fYXBwZW5kKGUpO3JldHVybiB0aGlzLl9wcm9jZXNzKCl9LFxuZmluYWxpemU6ZnVuY3Rpb24oZSl7ZSYmdGhpcy5fYXBwZW5kKGUpO3JldHVybiB0aGlzLl9kb0ZpbmFsaXplKCl9LGtleVNpemU6NCxpdlNpemU6NCxfRU5DX1hGT1JNX01PREU6MSxfREVDX1hGT1JNX01PREU6MixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGUpe3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKGIsayxkKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIGs/YzphKS5lbmNyeXB0KGUsYixrLGQpfSxkZWNyeXB0OmZ1bmN0aW9uKGIsayxkKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIGs/YzphKS5kZWNyeXB0KGUsYixrLGQpfX19fSk7ZC5TdHJlYW1DaXBoZXI9di5leHRlbmQoe19kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3MoITApfSxibG9ja1NpemU6MX0pO3ZhciBiPXAubW9kZT17fSx4PWZ1bmN0aW9uKGUsYSxiKXt2YXIgYz10aGlzLl9pdjtjP3RoaXMuX2l2PXU6Yz10aGlzLl9wcmV2QmxvY2s7Zm9yKHZhciBkPTA7ZDxiO2QrKyllW2ErZF1ePVxuY1tkXX0scT0oZC5CbG9ja0NpcGhlck1vZGU9bC5leHRlbmQoe2NyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbihlLGEpe3JldHVybiB0aGlzLkVuY3J5cHRvci5jcmVhdGUoZSxhKX0sY3JlYXRlRGVjcnlwdG9yOmZ1bmN0aW9uKGUsYSl7cmV0dXJuIHRoaXMuRGVjcnlwdG9yLmNyZWF0ZShlLGEpfSxpbml0OmZ1bmN0aW9uKGUsYSl7dGhpcy5fY2lwaGVyPWU7dGhpcy5faXY9YX19KSkuZXh0ZW5kKCk7cS5FbmNyeXB0b3I9cS5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbihlLGEpe3ZhciBiPXRoaXMuX2NpcGhlcixjPWIuYmxvY2tTaXplO3guY2FsbCh0aGlzLGUsYSxjKTtiLmVuY3J5cHRCbG9jayhlLGEpO3RoaXMuX3ByZXZCbG9jaz1lLnNsaWNlKGEsYStjKX19KTtxLkRlY3J5cHRvcj1xLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGUsYSl7dmFyIGI9dGhpcy5fY2lwaGVyLGM9Yi5ibG9ja1NpemUsZD1lLnNsaWNlKGEsYStjKTtiLmRlY3J5cHRCbG9jayhlLGEpO3guY2FsbCh0aGlzLFxuZSxhLGMpO3RoaXMuX3ByZXZCbG9jaz1kfX0pO2I9Yi5DQkM9cTtxPShwLnBhZD17fSkuUGtjczc9e3BhZDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz00KmIsYz1jLWEuc2lnQnl0ZXMlYyxkPWM8PDI0fGM8PDE2fGM8PDh8YyxsPVtdLG49MDtuPGM7bis9NClsLnB1c2goZCk7Yz1zLmNyZWF0ZShsLGMpO2EuY29uY2F0KGMpfSx1bnBhZDpmdW5jdGlvbihhKXthLnNpZ0J5dGVzLT1hLndvcmRzW2Euc2lnQnl0ZXMtMT4+PjJdJjI1NX19O2QuQmxvY2tDaXBoZXI9di5leHRlbmQoe2NmZzp2LmNmZy5leHRlbmQoe21vZGU6YixwYWRkaW5nOnF9KSxyZXNldDpmdW5jdGlvbigpe3YucmVzZXQuY2FsbCh0aGlzKTt2YXIgYT10aGlzLmNmZyxiPWEuaXYsYT1hLm1vZGU7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl2YXIgYz1hLmNyZWF0ZUVuY3J5cHRvcjtlbHNlIGM9YS5jcmVhdGVEZWNyeXB0b3IsdGhpcy5fbWluQnVmZmVyU2l6ZT0xO3RoaXMuX21vZGU9Yy5jYWxsKGEsXG50aGlzLGImJmIud29yZHMpfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLl9tb2RlLnByb2Nlc3NCbG9jayhhLGIpfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2ZnLnBhZGRpbmc7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl7YS5wYWQodGhpcy5fZGF0YSx0aGlzLmJsb2NrU2l6ZSk7dmFyIGI9dGhpcy5fcHJvY2VzcyghMCl9ZWxzZSBiPXRoaXMuX3Byb2Nlc3MoITApLGEudW5wYWQoYik7cmV0dXJuIGJ9LGJsb2NrU2l6ZTo0fSk7dmFyIG49ZC5DaXBoZXJQYXJhbXM9bC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYSl7dGhpcy5taXhJbihhKX0sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fSksYj0ocC5mb3JtYXQ9e30pLk9wZW5TU0w9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj1hLmNpcGhlcnRleHQ7YT1hLnNhbHQ7cmV0dXJuKGE/cy5jcmVhdGUoWzEzOTg4OTM2ODQsXG4xNzAxMDc2ODMxXSkuY29uY2F0KGEpLmNvbmNhdChiKTpiKS50b1N0cmluZyhyKX0scGFyc2U6ZnVuY3Rpb24oYSl7YT1yLnBhcnNlKGEpO3ZhciBiPWEud29yZHM7aWYoMTM5ODg5MzY4ND09YlswXSYmMTcwMTA3NjgzMT09YlsxXSl7dmFyIGM9cy5jcmVhdGUoYi5zbGljZSgyLDQpKTtiLnNwbGljZSgwLDQpO2Euc2lnQnl0ZXMtPTE2fXJldHVybiBuLmNyZWF0ZSh7Y2lwaGVydGV4dDphLHNhbHQ6Y30pfX0sYT1kLlNlcmlhbGl6YWJsZUNpcGhlcj1sLmV4dGVuZCh7Y2ZnOmwuZXh0ZW5kKHtmb3JtYXQ6Yn0pLGVuY3J5cHQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZD10aGlzLmNmZy5leHRlbmQoZCk7dmFyIGw9YS5jcmVhdGVFbmNyeXB0b3IoYyxkKTtiPWwuZmluYWxpemUoYik7bD1sLmNmZztyZXR1cm4gbi5jcmVhdGUoe2NpcGhlcnRleHQ6YixrZXk6YyxpdjpsLml2LGFsZ29yaXRobTphLG1vZGU6bC5tb2RlLHBhZGRpbmc6bC5wYWRkaW5nLGJsb2NrU2l6ZTphLmJsb2NrU2l6ZSxmb3JtYXR0ZXI6ZC5mb3JtYXR9KX0sXG5kZWNyeXB0OmZ1bmN0aW9uKGEsYixjLGQpe2Q9dGhpcy5jZmcuZXh0ZW5kKGQpO2I9dGhpcy5fcGFyc2UoYixkLmZvcm1hdCk7cmV0dXJuIGEuY3JlYXRlRGVjcnlwdG9yKGMsZCkuZmluYWxpemUoYi5jaXBoZXJ0ZXh0KX0sX3BhcnNlOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/Yi5wYXJzZShhLHRoaXMpOmF9fSkscD0ocC5rZGY9e30pLk9wZW5TU0w9e2V4ZWN1dGU6ZnVuY3Rpb24oYSxiLGMsZCl7ZHx8KGQ9cy5yYW5kb20oOCkpO2E9dy5jcmVhdGUoe2tleVNpemU6YitjfSkuY29tcHV0ZShhLGQpO2M9cy5jcmVhdGUoYS53b3Jkcy5zbGljZShiKSw0KmMpO2Euc2lnQnl0ZXM9NCpiO3JldHVybiBuLmNyZWF0ZSh7a2V5OmEsaXY6YyxzYWx0OmR9KX19LGM9ZC5QYXNzd29yZEJhc2VkQ2lwaGVyPWEuZXh0ZW5kKHtjZmc6YS5jZmcuZXh0ZW5kKHtrZGY6cH0pLGVuY3J5cHQ6ZnVuY3Rpb24oYixjLGQsbCl7bD10aGlzLmNmZy5leHRlbmQobCk7ZD1sLmtkZi5leGVjdXRlKGQsXG5iLmtleVNpemUsYi5pdlNpemUpO2wuaXY9ZC5pdjtiPWEuZW5jcnlwdC5jYWxsKHRoaXMsYixjLGQua2V5LGwpO2IubWl4SW4oZCk7cmV0dXJuIGJ9LGRlY3J5cHQ6ZnVuY3Rpb24oYixjLGQsbCl7bD10aGlzLmNmZy5leHRlbmQobCk7Yz10aGlzLl9wYXJzZShjLGwuZm9ybWF0KTtkPWwua2RmLmV4ZWN1dGUoZCxiLmtleVNpemUsYi5pdlNpemUsYy5zYWx0KTtsLml2PWQuaXY7cmV0dXJuIGEuZGVjcnlwdC5jYWxsKHRoaXMsYixjLGQua2V5LGwpfX0pfSgpO1xuKGZ1bmN0aW9uKCl7Zm9yKHZhciB1PUNyeXB0b0pTLHA9dS5saWIuQmxvY2tDaXBoZXIsZD11LmFsZ28sbD1bXSxzPVtdLHQ9W10scj1bXSx3PVtdLHY9W10sYj1bXSx4PVtdLHE9W10sbj1bXSxhPVtdLGM9MDsyNTY+YztjKyspYVtjXT0xMjg+Yz9jPDwxOmM8PDFeMjgzO2Zvcih2YXIgZT0wLGo9MCxjPTA7MjU2PmM7YysrKXt2YXIgaz1qXmo8PDFeajw8Ml5qPDwzXmo8PDQsaz1rPj4+OF5rJjI1NV45OTtsW2VdPWs7c1trXT1lO3ZhciB6PWFbZV0sRj1hW3pdLEc9YVtGXSx5PTI1NyphW2tdXjE2ODQzMDA4Kms7dFtlXT15PDwyNHx5Pj4+ODtyW2VdPXk8PDE2fHk+Pj4xNjt3W2VdPXk8PDh8eT4+PjI0O3ZbZV09eTt5PTE2ODQzMDA5KkdeNjU1MzcqRl4yNTcqel4xNjg0MzAwOCplO2Jba109eTw8MjR8eT4+Pjg7eFtrXT15PDwxNnx5Pj4+MTY7cVtrXT15PDw4fHk+Pj4yNDtuW2tdPXk7ZT8oZT16XmFbYVthW0deel1dXSxqXj1hW2Fbal1dKTplPWo9MX12YXIgSD1bMCwxLDIsNCw4LFxuMTYsMzIsNjQsMTI4LDI3LDU0XSxkPWQuQUVTPXAuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9rZXksYz1hLndvcmRzLGQ9YS5zaWdCeXRlcy80LGE9NCooKHRoaXMuX25Sb3VuZHM9ZCs2KSsxKSxlPXRoaXMuX2tleVNjaGVkdWxlPVtdLGo9MDtqPGE7aisrKWlmKGo8ZCllW2pdPWNbal07ZWxzZXt2YXIgaz1lW2otMV07aiVkPzY8ZCYmND09aiVkJiYoaz1sW2s+Pj4yNF08PDI0fGxbaz4+PjE2JjI1NV08PDE2fGxbaz4+PjgmMjU1XTw8OHxsW2smMjU1XSk6KGs9azw8OHxrPj4+MjQsaz1sW2s+Pj4yNF08PDI0fGxbaz4+PjE2JjI1NV08PDE2fGxbaz4+PjgmMjU1XTw8OHxsW2smMjU1XSxrXj1IW2ovZHwwXTw8MjQpO2Vbal09ZVtqLWRdXmt9Yz10aGlzLl9pbnZLZXlTY2hlZHVsZT1bXTtmb3IoZD0wO2Q8YTtkKyspaj1hLWQsaz1kJTQ/ZVtqXTplW2otNF0sY1tkXT00PmR8fDQ+PWo/azpiW2xbaz4+PjI0XV1eeFtsW2s+Pj4xNiYyNTVdXV5xW2xbaz4+PlxuOCYyNTVdXV5uW2xbayYyNTVdXX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKGEsYil7dGhpcy5fZG9DcnlwdEJsb2NrKGEsYix0aGlzLl9rZXlTY2hlZHVsZSx0LHIsdyx2LGwpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hW2MrMV07YVtjKzFdPWFbYyszXTthW2MrM109ZDt0aGlzLl9kb0NyeXB0QmxvY2soYSxjLHRoaXMuX2ludktleVNjaGVkdWxlLGIseCxxLG4scyk7ZD1hW2MrMV07YVtjKzFdPWFbYyszXTthW2MrM109ZH0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbihhLGIsYyxkLGUsaixsLGYpe2Zvcih2YXIgbT10aGlzLl9uUm91bmRzLGc9YVtiXV5jWzBdLGg9YVtiKzFdXmNbMV0saz1hW2IrMl1eY1syXSxuPWFbYiszXV5jWzNdLHA9NCxyPTE7cjxtO3IrKyl2YXIgcT1kW2c+Pj4yNF1eZVtoPj4+MTYmMjU1XV5qW2s+Pj44JjI1NV1ebFtuJjI1NV1eY1twKytdLHM9ZFtoPj4+MjRdXmVbaz4+PjE2JjI1NV1ealtuPj4+OCYyNTVdXmxbZyYyNTVdXmNbcCsrXSx0PVxuZFtrPj4+MjRdXmVbbj4+PjE2JjI1NV1ealtnPj4+OCYyNTVdXmxbaCYyNTVdXmNbcCsrXSxuPWRbbj4+PjI0XV5lW2c+Pj4xNiYyNTVdXmpbaD4+PjgmMjU1XV5sW2smMjU1XV5jW3ArK10sZz1xLGg9cyxrPXQ7cT0oZltnPj4+MjRdPDwyNHxmW2g+Pj4xNiYyNTVdPDwxNnxmW2s+Pj44JjI1NV08PDh8ZltuJjI1NV0pXmNbcCsrXTtzPShmW2g+Pj4yNF08PDI0fGZbaz4+PjE2JjI1NV08PDE2fGZbbj4+PjgmMjU1XTw8OHxmW2cmMjU1XSleY1twKytdO3Q9KGZbaz4+PjI0XTw8MjR8ZltuPj4+MTYmMjU1XTw8MTZ8ZltnPj4+OCYyNTVdPDw4fGZbaCYyNTVdKV5jW3ArK107bj0oZltuPj4+MjRdPDwyNHxmW2c+Pj4xNiYyNTVdPDwxNnxmW2g+Pj44JjI1NV08PDh8ZltrJjI1NV0pXmNbcCsrXTthW2JdPXE7YVtiKzFdPXM7YVtiKzJdPXQ7YVtiKzNdPW59LGtleVNpemU6OH0pO3UuQUVTPXAuX2NyZWF0ZUhlbHBlcihkKX0pKCk7XG5leHBvcnQgZGVmYXVsdCBDcnlwdG9KUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQURBO0FBREE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFGQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUhBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFMQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQURBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///252\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\n/*\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\n\n/* eslint-disable */\nvar hexcase = 0;\n/* hex output format. 0 - lowercase; 1 - uppercase        */\n\nvar b64pad = "";\n/* base-64 pad character. "=" for strict RFC compliance   */\n\nvar chrsz = 8;\n/* bits per input character. 8 - ASCII; 16 - Unicode      */\n\n/*\n * These are the functions you\'ll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\n\nvar _default = {\n  hex_md5: function hex_md5(s) {\n    return binl2hex(core_md5(str2binl(s), s.length * chrsz));\n  }\n}; // function hex_md5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}\n\nexports["default"] = _default;\n\nfunction b64_md5(s) {\n  return binl2b64(core_md5(str2binl(s), s.length * chrsz));\n}\n\nfunction str_md5(s) {\n  return binl2str(core_md5(str2binl(s), s.length * chrsz));\n}\n\nfunction hex_hmac_md5(key, data) {\n  return binl2hex(core_hmac_md5(key, data));\n}\n\nfunction b64_hmac_md5(key, data) {\n  return binl2b64(core_hmac_md5(key, data));\n}\n\nfunction str_hmac_md5(key, data) {\n  return binl2str(core_hmac_md5(key, data));\n}\n/*\n * Perform a simple self-test to see if the VM is working\n */\n\n\nfunction md5_vm_test() {\n  return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length\n */\n\n\nfunction core_md5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\n    d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\n    a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\n    c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\n    d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n  }\n\n  return Array(a, b, c, d);\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5_cmn(q, a, b, x, s, t) {\n  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n}\n\nfunction md5_ff(a, b, c, d, x, s, t) {\n  return md5_cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5_gg(a, b, c, d, x, s, t) {\n  return md5_cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5_hh(a, b, c, d, x, s, t) {\n  return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5_ii(a, b, c, d, x, s, t) {\n  return md5_cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n/*\n * Calculate the HMAC-MD5, of a key and some data\n */\n\n\nfunction core_hmac_md5(key, data) {\n  var bkey = str2binl(key);\n  if (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);\n  var ipad = Array(16),\n      opad = Array(16);\n\n  for (var i = 0; i < 16; i++) {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5C5C5C5C;\n  }\n\n  var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);\n  return core_md5(opad.concat(hash), 512 + 128);\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safe_add(x, y) {\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xFFFF;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bit_rol(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * Convert a string to an array of little-endian words\n * If chrsz is ASCII, characters >255 have their hi-byte silently ignored.\n */\n\n\nfunction str2binl(str) {\n  var bin = Array();\n  var mask = (1 << chrsz) - 1;\n\n  for (var i = 0; i < str.length * chrsz; i += chrsz) {\n    bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << i % 32;\n  }\n\n  return bin;\n}\n/*\n * Convert an array of little-endian words to a string\n */\n\n\nfunction binl2str(bin) {\n  var str = "";\n  var mask = (1 << chrsz) - 1;\n\n  for (var i = 0; i < bin.length * 32; i += chrsz) {\n    str += String.fromCharCode(bin[i >> 5] >>> i % 32 & mask);\n  }\n\n  return str;\n}\n/*\n * Convert an array of little-endian words to a hex string.\n */\n\n\nfunction binl2hex(binarray) {\n  var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";\n  var str = "";\n\n  for (var i = 0; i < binarray.length * 4; i++) {\n    str += hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 + 4 & 0xF) + hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 & 0xF);\n  }\n\n  return str;\n}\n/*\n * Convert an array of little-endian words to a base-64 string\n */\n\n\nfunction binl2b64(binarray) {\n  var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";\n  var str = "";\n\n  for (var i = 0; i < binarray.length * 4; i += 3) {\n    var triplet = (binarray[i >> 2] >> 8 * (i % 4) & 0xFF) << 16 | (binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4) & 0xFF) << 8 | binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4) & 0xFF;\n\n    for (var j = 0; j < 4; j++) {\n      if (i * 8 + j * 6 > binarray.length * 32) str += b64pad;else str += tab.charAt(triplet >> 6 * (3 - j) & 0x3F);\n    }\n  }\n\n  return str;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3V0aWwvbWQ1LmpzP2Y1NDciXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUlNBIERhdGEgU2VjdXJpdHksIEluYy4gTUQ1IE1lc3NhZ2VcbiAqIERpZ2VzdCBBbGdvcml0aG0sIGFzIGRlZmluZWQgaW4gUkZDIDEzMjEuXG4gKiBWZXJzaW9uIDIuMSBDb3B5cmlnaHQgKEMpIFBhdWwgSm9obnN0b24gMTk5OSAtIDIwMDIuXG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cblxuLypcbiAqIENvbmZpZ3VyYWJsZSB2YXJpYWJsZXMuIFlvdSBtYXkgbmVlZCB0byB0d2VhayB0aGVzZSB0byBiZSBjb21wYXRpYmxlIHdpdGhcbiAqIHRoZSBzZXJ2ZXItc2lkZSwgYnV0IHRoZSBkZWZhdWx0cyB3b3JrIGluIG1vc3QgY2FzZXMuXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG52YXIgaGV4Y2FzZSA9IDA7ICAvKiBoZXggb3V0cHV0IGZvcm1hdC4gMCAtIGxvd2VyY2FzZTsgMSAtIHVwcGVyY2FzZSAgICAgICAgKi9cbnZhciBiNjRwYWQgID0gXCJcIjsgLyogYmFzZS02NCBwYWQgY2hhcmFjdGVyLiBcIj1cIiBmb3Igc3RyaWN0IFJGQyBjb21wbGlhbmNlICAgKi9cbnZhciBjaHJzeiAgID0gODsgIC8qIGJpdHMgcGVyIGlucHV0IGNoYXJhY3Rlci4gOCAtIEFTQ0lJOyAxNiAtIFVuaWNvZGUgICAgICAqL1xuXG4vKlxuICogVGhlc2UgYXJlIHRoZSBmdW5jdGlvbnMgeW91J2xsIHVzdWFsbHkgd2FudCB0byBjYWxsXG4gKiBUaGV5IHRha2Ugc3RyaW5nIGFyZ3VtZW50cyBhbmQgcmV0dXJuIGVpdGhlciBoZXggb3IgYmFzZS02NCBlbmNvZGVkIHN0cmluZ3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBoZXhfbWQ1IChzKSB7XG4gICAgcmV0dXJuIGJpbmwyaGV4KGNvcmVfbWQ1KHN0cjJiaW5sKHMpLCBzLmxlbmd0aCAqIGNocnN6KSk7XG4gIH1cbn1cblxuLy8gZnVuY3Rpb24gaGV4X21kNShzKXsgcmV0dXJuIGJpbmwyaGV4KGNvcmVfbWQ1KHN0cjJiaW5sKHMpLCBzLmxlbmd0aCAqIGNocnN6KSk7fVxuZnVuY3Rpb24gYjY0X21kNShzKXsgcmV0dXJuIGJpbmwyYjY0KGNvcmVfbWQ1KHN0cjJiaW5sKHMpLCBzLmxlbmd0aCAqIGNocnN6KSk7fVxuZnVuY3Rpb24gc3RyX21kNShzKXsgcmV0dXJuIGJpbmwyc3RyKGNvcmVfbWQ1KHN0cjJiaW5sKHMpLCBzLmxlbmd0aCAqIGNocnN6KSk7fVxuZnVuY3Rpb24gaGV4X2htYWNfbWQ1KGtleSwgZGF0YSkgeyByZXR1cm4gYmlubDJoZXgoY29yZV9obWFjX21kNShrZXksIGRhdGEpKTsgfVxuZnVuY3Rpb24gYjY0X2htYWNfbWQ1KGtleSwgZGF0YSkgeyByZXR1cm4gYmlubDJiNjQoY29yZV9obWFjX21kNShrZXksIGRhdGEpKTsgfVxuZnVuY3Rpb24gc3RyX2htYWNfbWQ1KGtleSwgZGF0YSkgeyByZXR1cm4gYmlubDJzdHIoY29yZV9obWFjX21kNShrZXksIGRhdGEpKTsgfVxuXG4vKlxuICogUGVyZm9ybSBhIHNpbXBsZSBzZWxmLXRlc3QgdG8gc2VlIGlmIHRoZSBWTSBpcyB3b3JraW5nXG4gKi9cbmZ1bmN0aW9uIG1kNV92bV90ZXN0KClcbntcbiAgcmV0dXJuIGhleF9tZDUoXCJhYmNcIikgPT0gXCI5MDAxNTA5ODNjZDI0ZmIwZDY5NjNmN2QyOGUxN2Y3MlwiO1xufVxuXG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aFxuICovXG5mdW5jdGlvbiBjb3JlX21kNSh4LCBsZW4pXG57XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgKChsZW4pICUgMzIpO1xuICB4WygoKGxlbiArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNF0gPSBsZW47XG5cbiAgdmFyIGEgPSAgMTczMjU4NDE5MztcbiAgdmFyIGIgPSAtMjcxNzMzODc5O1xuICB2YXIgYyA9IC0xNzMyNTg0MTk0O1xuICB2YXIgZCA9ICAyNzE3MzM4Nzg7XG5cbiAgZm9yKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KVxuICB7XG4gICAgdmFyIG9sZGEgPSBhO1xuICAgIHZhciBvbGRiID0gYjtcbiAgICB2YXIgb2xkYyA9IGM7XG4gICAgdmFyIG9sZGQgPSBkO1xuXG4gICAgYSA9IG1kNV9mZihhLCBiLCBjLCBkLCB4W2krIDBdLCA3ICwgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNV9mZihkLCBhLCBiLCBjLCB4W2krIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNV9mZihjLCBkLCBhLCBiLCB4W2krIDJdLCAxNywgIDYwNjEwNTgxOSk7XG4gICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICAgIGEgPSBtZDVfZmYoYSwgYiwgYywgZCwgeFtpKyA0XSwgNyAsIC0xNzY0MTg4OTcpO1xuICAgIGQgPSBtZDVfZmYoZCwgYSwgYiwgYywgeFtpKyA1XSwgMTIsICAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1X2ZmKGMsIGQsIGEsIGIsIHhbaSsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSsgOF0sIDcgLCAgMTc3MDAzNTQxNik7XG4gICAgZCA9IG1kNV9mZihkLCBhLCBiLCBjLCB4W2krIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xuICAgIGMgPSBtZDVfZmYoYywgZCwgYSwgYiwgeFtpKzEwXSwgMTcsIC00MjA2Myk7XG4gICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVfZmYoYSwgYiwgYywgZCwgeFtpKzEyXSwgNyAsICAxODA0NjAzNjgyKTtcbiAgICBkID0gbWQ1X2ZmKGQsIGEsIGIsIGMsIHhbaSsxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVfZmYoYywgZCwgYSwgYiwgeFtpKzE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcbiAgICBiID0gbWQ1X2ZmKGIsIGMsIGQsIGEsIHhbaSsxNV0sIDIyLCAgMTIzNjUzNTMyOSk7XG5cbiAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSsgMV0sIDUgLCAtMTY1Nzk2NTEwKTtcbiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsgNl0sIDkgLCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNV9nZyhjLCBkLCBhLCBiLCB4W2krMTFdLCAxNCwgIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgYSA9IG1kNV9nZyhhLCBiLCBjLCBkLCB4W2krIDVdLCA1ICwgLTcwMTU1ODY5MSk7XG4gICAgZCA9IG1kNV9nZyhkLCBhLCBiLCBjLCB4W2krMTBdLCA5ICwgIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1X2dnKGMsIGQsIGEsIGIsIHhbaSsxNV0sIDE0LCAtNjYwNDc4MzM1KTtcbiAgICBiID0gbWQ1X2dnKGIsIGMsIGQsIGEsIHhbaSsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcbiAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSsgOV0sIDUgLCAgNTY4NDQ2NDM4KTtcbiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsxNF0sIDkgLCAtMTAxOTgwMzY5MCk7XG4gICAgYyA9IG1kNV9nZyhjLCBkLCBhLCBiLCB4W2krIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2krIDhdLCAyMCwgIDExNjM1MzE1MDEpO1xuICAgIGEgPSBtZDVfZ2coYSwgYiwgYywgZCwgeFtpKzEzXSwgNSAsIC0xNDQ0NjgxNDY3KTtcbiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsgMl0sIDkgLCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVfZ2coYywgZCwgYSwgYiwgeFtpKyA3XSwgMTQsICAxNzM1MzI4NDczKTtcbiAgICBiID0gbWQ1X2dnKGIsIGMsIGQsIGEsIHhbaSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG5cbiAgICBhID0gbWQ1X2hoKGEsIGIsIGMsIGQsIHhbaSsgNV0sIDQgLCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNV9oaChjLCBkLCBhLCBiLCB4W2krMTFdLCAxNiwgIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVfaGgoYiwgYywgZCwgYSwgeFtpKzE0XSwgMjMsIC0zNTMwOTU1Nik7XG4gICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krIDFdLCA0ICwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVfaGgoZCwgYSwgYiwgYywgeFtpKyA0XSwgMTEsICAxMjcyODkzMzUzKTtcbiAgICBjID0gbWQ1X2hoKGMsIGQsIGEsIGIsIHhbaSsgN10sIDE2LCAtMTU1NDk3NjMyKTtcbiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krMTNdLCA0ICwgIDY4MTI3OTE3NCk7XG4gICAgZCA9IG1kNV9oaChkLCBhLCBiLCBjLCB4W2krIDBdLCAxMSwgLTM1ODUzNzIyMik7XG4gICAgYyA9IG1kNV9oaChjLCBkLCBhLCBiLCB4W2krIDNdLCAxNiwgLTcyMjUyMTk3OSk7XG4gICAgYiA9IG1kNV9oaChiLCBjLCBkLCBhLCB4W2krIDZdLCAyMywgIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1X2hoKGEsIGIsIGMsIGQsIHhbaSsgOV0sIDQgLCAtNjQwMzY0NDg3KTtcbiAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSsxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1X2hoKGMsIGQsIGEsIGIsIHhbaSsxNV0sIDE2LCAgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcblxuICAgIGEgPSBtZDVfaWkoYSwgYiwgYywgZCwgeFtpKyAwXSwgNiAsIC0xOTg2MzA4NDQpO1xuICAgIGQgPSBtZDVfaWkoZCwgYSwgYiwgYywgeFtpKyA3XSwgMTAsICAxMTI2ODkxNDE1KTtcbiAgICBjID0gbWQ1X2lpKGMsIGQsIGEsIGIsIHhbaSsxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gICAgYiA9IG1kNV9paShiLCBjLCBkLCBhLCB4W2krIDVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgICBhID0gbWQ1X2lpKGEsIGIsIGMsIGQsIHhbaSsxMl0sIDYgLCAgMTcwMDQ4NTU3MSk7XG4gICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2krIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xuICAgIGMgPSBtZDVfaWkoYywgZCwgYSwgYiwgeFtpKzEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgICBiID0gbWQ1X2lpKGIsIGMsIGQsIGEsIHhbaSsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gICAgYSA9IG1kNV9paShhLCBiLCBjLCBkLCB4W2krIDhdLCA2ICwgIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVfaWkoZCwgYSwgYiwgYywgeFtpKzE1XSwgMTAsIC0zMDYxMTc0NCk7XG4gICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2krIDZdLCAxNSwgLTE1NjAxOTgzODApO1xuICAgIGIgPSBtZDVfaWkoYiwgYywgZCwgYSwgeFtpKzEzXSwgMjEsICAxMzA5MTUxNjQ5KTtcbiAgICBhID0gbWQ1X2lpKGEsIGIsIGMsIGQsIHhbaSsgNF0sIDYgLCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1X2lpKGQsIGEsIGIsIGMsIHhbaSsxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XG4gICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2krIDJdLCAxNSwgIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNV9paShiLCBjLCBkLCBhLCB4W2krIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG5cbiAgICBhID0gc2FmZV9hZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVfYWRkKGIsIG9sZGIpO1xuICAgIGMgPSBzYWZlX2FkZChjLCBvbGRjKTtcbiAgICBkID0gc2FmZV9hZGQoZCwgb2xkZCk7XG4gIH1cbiAgcmV0dXJuIEFycmF5KGEsIGIsIGMsIGQpO1xuXG59XG5cbi8qXG4gKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICovXG5mdW5jdGlvbiBtZDVfY21uKHEsIGEsIGIsIHgsIHMsIHQpXG57XG4gIHJldHVybiBzYWZlX2FkZChiaXRfcm9sKHNhZmVfYWRkKHNhZmVfYWRkKGEsIHEpLCBzYWZlX2FkZCh4LCB0KSksIHMpLGIpO1xufVxuZnVuY3Rpb24gbWQ1X2ZmKGEsIGIsIGMsIGQsIHgsIHMsIHQpXG57XG4gIHJldHVybiBtZDVfY21uKChiICYgYykgfCAoKH5iKSAmIGQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cbmZ1bmN0aW9uIG1kNV9nZyhhLCBiLCBjLCBkLCB4LCBzLCB0KVxue1xuICByZXR1cm4gbWQ1X2NtbigoYiAmIGQpIHwgKGMgJiAofmQpKSwgYSwgYiwgeCwgcywgdCk7XG59XG5mdW5jdGlvbiBtZDVfaGgoYSwgYiwgYywgZCwgeCwgcywgdClcbntcbiAgcmV0dXJuIG1kNV9jbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cbmZ1bmN0aW9uIG1kNV9paShhLCBiLCBjLCBkLCB4LCBzLCB0KVxue1xuICByZXR1cm4gbWQ1X2NtbihjIF4gKGIgfCAofmQpKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIEhNQUMtTUQ1LCBvZiBhIGtleSBhbmQgc29tZSBkYXRhXG4gKi9cbmZ1bmN0aW9uIGNvcmVfaG1hY19tZDUoa2V5LCBkYXRhKVxue1xuICB2YXIgYmtleSA9IHN0cjJiaW5sKGtleSk7XG4gIGlmKGJrZXkubGVuZ3RoID4gMTYpIGJrZXkgPSBjb3JlX21kNShia2V5LCBrZXkubGVuZ3RoICogY2hyc3opO1xuXG4gIHZhciBpcGFkID0gQXJyYXkoMTYpLCBvcGFkID0gQXJyYXkoMTYpO1xuICBmb3IodmFyIGkgPSAwOyBpIDwgMTY7IGkrKylcbiAge1xuICAgIGlwYWRbaV0gPSBia2V5W2ldIF4gMHgzNjM2MzYzNjtcbiAgICBvcGFkW2ldID0gYmtleVtpXSBeIDB4NUM1QzVDNUM7XG4gIH1cblxuICB2YXIgaGFzaCA9IGNvcmVfbWQ1KGlwYWQuY29uY2F0KHN0cjJiaW5sKGRhdGEpKSwgNTEyICsgZGF0YS5sZW5ndGggKiBjaHJzeik7XG4gIHJldHVybiBjb3JlX21kNShvcGFkLmNvbmNhdChoYXNoKSwgNTEyICsgMTI4KTtcbn1cblxuLypcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcbiAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gKi9cbmZ1bmN0aW9uIHNhZmVfYWRkKHgsIHkpXG57XG4gIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRik7XG4gIHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG59XG5cbi8qXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXG4gKi9cbmZ1bmN0aW9uIGJpdF9yb2wobnVtLCBjbnQpXG57XG4gIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKTtcbn1cblxuLypcbiAqIENvbnZlcnQgYSBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogSWYgY2hyc3ogaXMgQVNDSUksIGNoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpLWJ5dGUgc2lsZW50bHkgaWdub3JlZC5cbiAqL1xuZnVuY3Rpb24gc3RyMmJpbmwoc3RyKVxue1xuICB2YXIgYmluID0gQXJyYXkoKTtcbiAgdmFyIG1hc2sgPSAoMSA8PCBjaHJzeikgLSAxO1xuICBmb3IodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aCAqIGNocnN6OyBpICs9IGNocnN6KVxuICAgIGJpbltpPj41XSB8PSAoc3RyLmNoYXJDb2RlQXQoaSAvIGNocnN6KSAmIG1hc2spIDw8IChpJTMyKTtcbiAgcmV0dXJuIGJpbjtcbn1cblxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBiaW5sMnN0cihiaW4pXG57XG4gIHZhciBzdHIgPSBcIlwiO1xuICB2YXIgbWFzayA9ICgxIDw8IGNocnN6KSAtIDE7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoICogMzI7IGkgKz0gY2hyc3opXG4gICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGJpbltpPj41XSA+Pj4gKGkgJSAzMikpICYgbWFzayk7XG4gIHJldHVybiBzdHI7XG59XG5cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYSBoZXggc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiaW5sMmhleChiaW5hcnJheSlcbntcbiAgdmFyIGhleF90YWIgPSBoZXhjYXNlID8gXCIwMTIzNDU2Nzg5QUJDREVGXCIgOiBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgdmFyIHN0ciA9IFwiXCI7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBiaW5hcnJheS5sZW5ndGggKiA0OyBpKyspXG4gIHtcbiAgICBzdHIgKz0gaGV4X3RhYi5jaGFyQXQoKGJpbmFycmF5W2k+PjJdID4+ICgoaSU0KSo4KzQpKSAmIDB4RikgK1xuICAgICAgICAgICBoZXhfdGFiLmNoYXJBdCgoYmluYXJyYXlbaT4+Ml0gPj4gKChpJTQpKjggICkpICYgMHhGKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufVxuXG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGEgYmFzZS02NCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gYmlubDJiNjQoYmluYXJyYXkpXG57XG4gIHZhciB0YWIgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbiAgdmFyIHN0ciA9IFwiXCI7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBiaW5hcnJheS5sZW5ndGggKiA0OyBpICs9IDMpXG4gIHtcbiAgICB2YXIgdHJpcGxldCA9ICgoKGJpbmFycmF5W2kgICA+PiAyXSA+PiA4ICogKCBpICAgJTQpKSAmIDB4RkYpIDw8IDE2KVxuICAgICAgICAgICAgICAgIHwgKCgoYmluYXJyYXlbaSsxID4+IDJdID4+IDggKiAoKGkrMSklNCkpICYgMHhGRikgPDwgOCApXG4gICAgICAgICAgICAgICAgfCAgKChiaW5hcnJheVtpKzIgPj4gMl0gPj4gOCAqICgoaSsyKSU0KSkgJiAweEZGKTtcbiAgICBmb3IodmFyIGogPSAwOyBqIDwgNDsgaisrKVxuICAgIHtcbiAgICAgIGlmKGkgKiA4ICsgaiAqIDYgPiBiaW5hcnJheS5sZW5ndGggKiAzMikgc3RyICs9IGI2NHBhZDtcbiAgICAgIGVsc2Ugc3RyICs9IHRhYi5jaGFyQXQoKHRyaXBsZXQgPj4gNiooMy1qKSkgJiAweDNGKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7QUFTQTs7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTs7O0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7Ozs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Ozs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///253\n')},function(module,exports,__webpack_require__){eval('(function (global, factory) {\n\t true ? factory(exports) :\n\tundefined;\n}(this, (function (exports) { \'use strict\';\n\nvar BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz";\nfunction int2char(n) {\n    return BI_RM.charAt(n);\n}\n//#region BIT_OPERATIONS\n// (public) this & a\nfunction op_and(x, y) {\n    return x & y;\n}\n// (public) this | a\nfunction op_or(x, y) {\n    return x | y;\n}\n// (public) this ^ a\nfunction op_xor(x, y) {\n    return x ^ y;\n}\n// (public) this & ~a\nfunction op_andnot(x, y) {\n    return x & ~y;\n}\n// return index of lowest 1-bit in x, x < 2^31\nfunction lbit(x) {\n    if (x == 0) {\n        return -1;\n    }\n    var r = 0;\n    if ((x & 0xffff) == 0) {\n        x >>= 16;\n        r += 16;\n    }\n    if ((x & 0xff) == 0) {\n        x >>= 8;\n        r += 8;\n    }\n    if ((x & 0xf) == 0) {\n        x >>= 4;\n        r += 4;\n    }\n    if ((x & 3) == 0) {\n        x >>= 2;\n        r += 2;\n    }\n    if ((x & 1) == 0) {\n        ++r;\n    }\n    return r;\n}\n// return number of 1 bits in x\nfunction cbit(x) {\n    var r = 0;\n    while (x != 0) {\n        x &= x - 1;\n        ++r;\n    }\n    return r;\n}\n//#endregion BIT_OPERATIONS\n\nvar b64map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";\nvar b64pad = "=";\nfunction hex2b64(h) {\n    var i;\n    var c;\n    var ret = "";\n    for (i = 0; i + 3 <= h.length; i += 3) {\n        c = parseInt(h.substring(i, i + 3), 16);\n        ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n    }\n    if (i + 1 == h.length) {\n        c = parseInt(h.substring(i, i + 1), 16);\n        ret += b64map.charAt(c << 2);\n    }\n    else if (i + 2 == h.length) {\n        c = parseInt(h.substring(i, i + 2), 16);\n        ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n    }\n    while ((ret.length & 3) > 0) {\n        ret += b64pad;\n    }\n    return ret;\n}\n// convert a base64 string to hex\nfunction b64tohex(s) {\n    var ret = "";\n    var i;\n    var k = 0; // b64 state, 0-3\n    var slop = 0;\n    for (i = 0; i < s.length; ++i) {\n        if (s.charAt(i) == b64pad) {\n            break;\n        }\n        var v = b64map.indexOf(s.charAt(i));\n        if (v < 0) {\n            continue;\n        }\n        if (k == 0) {\n            ret += int2char(v >> 2);\n            slop = v & 3;\n            k = 1;\n        }\n        else if (k == 1) {\n            ret += int2char((slop << 2) | (v >> 4));\n            slop = v & 0xf;\n            k = 2;\n        }\n        else if (k == 2) {\n            ret += int2char(slop);\n            ret += int2char(v >> 2);\n            slop = v & 3;\n            k = 3;\n        }\n        else {\n            ret += int2char((slop << 2) | (v >> 4));\n            ret += int2char(v & 0xf);\n            k = 0;\n        }\n    }\n    if (k == 1) {\n        ret += int2char(slop << 2);\n    }\n    return ret;\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n// Hex JavaScript decoder\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n//\n// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\nvar decoder;\nvar Hex = {\n    decode: function (a) {\n        var i;\n        if (decoder === undefined) {\n            var hex = "0123456789ABCDEF";\n            var ignore = " \\f\\n\\r\\t\\u00A0\\u2028\\u2029";\n            decoder = {};\n            for (i = 0; i < 16; ++i) {\n                decoder[hex.charAt(i)] = i;\n            }\n            hex = hex.toLowerCase();\n            for (i = 10; i < 16; ++i) {\n                decoder[hex.charAt(i)] = i;\n            }\n            for (i = 0; i < ignore.length; ++i) {\n                decoder[ignore.charAt(i)] = -1;\n            }\n        }\n        var out = [];\n        var bits = 0;\n        var char_count = 0;\n        for (i = 0; i < a.length; ++i) {\n            var c = a.charAt(i);\n            if (c == "=") {\n                break;\n            }\n            c = decoder[c];\n            if (c == -1) {\n                continue;\n            }\n            if (c === undefined) {\n                throw new Error("Illegal character at offset " + i);\n            }\n            bits |= c;\n            if (++char_count >= 2) {\n                out[out.length] = bits;\n                bits = 0;\n                char_count = 0;\n            }\n            else {\n                bits <<= 4;\n            }\n        }\n        if (char_count) {\n            throw new Error("Hex encoding incomplete: 4 bits missing");\n        }\n        return out;\n    }\n};\n\n// Base64 JavaScript decoder\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n//\n// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\nvar decoder$1;\nvar Base64 = {\n    decode: function (a) {\n        var i;\n        if (decoder$1 === undefined) {\n            var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";\n            var ignore = "= \\f\\n\\r\\t\\u00A0\\u2028\\u2029";\n            decoder$1 = Object.create(null);\n            for (i = 0; i < 64; ++i) {\n                decoder$1[b64.charAt(i)] = i;\n            }\n            for (i = 0; i < ignore.length; ++i) {\n                decoder$1[ignore.charAt(i)] = -1;\n            }\n        }\n        var out = [];\n        var bits = 0;\n        var char_count = 0;\n        for (i = 0; i < a.length; ++i) {\n            var c = a.charAt(i);\n            if (c == "=") {\n                break;\n            }\n            c = decoder$1[c];\n            if (c == -1) {\n                continue;\n            }\n            if (c === undefined) {\n                throw new Error("Illegal character at offset " + i);\n            }\n            bits |= c;\n            if (++char_count >= 4) {\n                out[out.length] = (bits >> 16);\n                out[out.length] = (bits >> 8) & 0xFF;\n                out[out.length] = bits & 0xFF;\n                bits = 0;\n                char_count = 0;\n            }\n            else {\n                bits <<= 6;\n            }\n        }\n        switch (char_count) {\n            case 1:\n                throw new Error("Base64 encoding incomplete: at least 2 bits missing");\n            case 2:\n                out[out.length] = (bits >> 10);\n                break;\n            case 3:\n                out[out.length] = (bits >> 16);\n                out[out.length] = (bits >> 8) & 0xFF;\n                break;\n        }\n        return out;\n    },\n    re: /-----BEGIN [^-]+-----([A-Za-z0-9+\\/=\\s]+)-----END [^-]+-----|begin-base64[^\\n]+\\n([A-Za-z0-9+\\/=\\s]+)====/,\n    unarmor: function (a) {\n        var m = Base64.re.exec(a);\n        if (m) {\n            if (m[1]) {\n                a = m[1];\n            }\n            else if (m[2]) {\n                a = m[2];\n            }\n            else {\n                throw new Error("RegExp out of sync");\n            }\n        }\n        return Base64.decode(a);\n    }\n};\n\n// Big integer base-10 printing library\n// Copyright (c) 2014 Lapo Luchini <lapo@lapo.it>\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n//\n// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\nvar max = 10000000000000; // biggest integer that can still fit 2^53 when multiplied by 256\nvar Int10 = /** @class */ (function () {\n    function Int10(value) {\n        this.buf = [+value || 0];\n    }\n    Int10.prototype.mulAdd = function (m, c) {\n        // assert(m <= 256)\n        var b = this.buf;\n        var l = b.length;\n        var i;\n        var t;\n        for (i = 0; i < l; ++i) {\n            t = b[i] * m + c;\n            if (t < max) {\n                c = 0;\n            }\n            else {\n                c = 0 | (t / max);\n                t -= c * max;\n            }\n            b[i] = t;\n        }\n        if (c > 0) {\n            b[i] = c;\n        }\n    };\n    Int10.prototype.sub = function (c) {\n        // assert(m <= 256)\n        var b = this.buf;\n        var l = b.length;\n        var i;\n        var t;\n        for (i = 0; i < l; ++i) {\n            t = b[i] - c;\n            if (t < 0) {\n                t += max;\n                c = 1;\n            }\n            else {\n                c = 0;\n            }\n            b[i] = t;\n        }\n        while (b[b.length - 1] === 0) {\n            b.pop();\n        }\n    };\n    Int10.prototype.toString = function (base) {\n        if ((base || 10) != 10) {\n            throw new Error("only base 10 is supported");\n        }\n        var b = this.buf;\n        var s = b[b.length - 1].toString();\n        for (var i = b.length - 2; i >= 0; --i) {\n            s += (max + b[i]).toString().substring(1);\n        }\n        return s;\n    };\n    Int10.prototype.valueOf = function () {\n        var b = this.buf;\n        var v = 0;\n        for (var i = b.length - 1; i >= 0; --i) {\n            v = v * max + b[i];\n        }\n        return v;\n    };\n    Int10.prototype.simplify = function () {\n        var b = this.buf;\n        return (b.length == 1) ? b[0] : this;\n    };\n    return Int10;\n}());\n\n// ASN.1 JavaScript decoder\nvar ellipsis = "\\u2026";\nvar reTimeS = /^(\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;\nvar reTimeL = /^(\\d\\d\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;\nfunction stringCut(str, len) {\n    if (str.length > len) {\n        str = str.substring(0, len) + ellipsis;\n    }\n    return str;\n}\nvar Stream = /** @class */ (function () {\n    function Stream(enc, pos) {\n        this.hexDigits = "0123456789ABCDEF";\n        if (enc instanceof Stream) {\n            this.enc = enc.enc;\n            this.pos = enc.pos;\n        }\n        else {\n            // enc should be an array or a binary string\n            this.enc = enc;\n            this.pos = pos;\n        }\n    }\n    Stream.prototype.get = function (pos) {\n        if (pos === undefined) {\n            pos = this.pos++;\n        }\n        if (pos >= this.enc.length) {\n            throw new Error("Requesting byte offset " + pos + " on a stream of length " + this.enc.length);\n        }\n        return ("string" === typeof this.enc) ? this.enc.charCodeAt(pos) : this.enc[pos];\n    };\n    Stream.prototype.hexByte = function (b) {\n        return this.hexDigits.charAt((b >> 4) & 0xF) + this.hexDigits.charAt(b & 0xF);\n    };\n    Stream.prototype.hexDump = function (start, end, raw) {\n        var s = "";\n        for (var i = start; i < end; ++i) {\n            s += this.hexByte(this.get(i));\n            if (raw !== true) {\n                switch (i & 0xF) {\n                    case 0x7:\n                        s += "  ";\n                        break;\n                    case 0xF:\n                        s += "\\n";\n                        break;\n                    default:\n                        s += " ";\n                }\n            }\n        }\n        return s;\n    };\n    Stream.prototype.isASCII = function (start, end) {\n        for (var i = start; i < end; ++i) {\n            var c = this.get(i);\n            if (c < 32 || c > 176) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Stream.prototype.parseStringISO = function (start, end) {\n        var s = "";\n        for (var i = start; i < end; ++i) {\n            s += String.fromCharCode(this.get(i));\n        }\n        return s;\n    };\n    Stream.prototype.parseStringUTF = function (start, end) {\n        var s = "";\n        for (var i = start; i < end;) {\n            var c = this.get(i++);\n            if (c < 128) {\n                s += String.fromCharCode(c);\n            }\n            else if ((c > 191) && (c < 224)) {\n                s += String.fromCharCode(((c & 0x1F) << 6) | (this.get(i++) & 0x3F));\n            }\n            else {\n                s += String.fromCharCode(((c & 0x0F) << 12) | ((this.get(i++) & 0x3F) << 6) | (this.get(i++) & 0x3F));\n            }\n        }\n        return s;\n    };\n    Stream.prototype.parseStringBMP = function (start, end) {\n        var str = "";\n        var hi;\n        var lo;\n        for (var i = start; i < end;) {\n            hi = this.get(i++);\n            lo = this.get(i++);\n            str += String.fromCharCode((hi << 8) | lo);\n        }\n        return str;\n    };\n    Stream.prototype.parseTime = function (start, end, shortYear) {\n        var s = this.parseStringISO(start, end);\n        var m = (shortYear ? reTimeS : reTimeL).exec(s);\n        if (!m) {\n            return "Unrecognized time: " + s;\n        }\n        if (shortYear) {\n            // to avoid querying the timer, use the fixed range [1970, 2069]\n            // it will conform with ITU X.400 [-10, +40] sliding window until 2030\n            m[1] = +m[1];\n            m[1] += (+m[1] < 70) ? 2000 : 1900;\n        }\n        s = m[1] + "-" + m[2] + "-" + m[3] + " " + m[4];\n        if (m[5]) {\n            s += ":" + m[5];\n            if (m[6]) {\n                s += ":" + m[6];\n                if (m[7]) {\n                    s += "." + m[7];\n                }\n            }\n        }\n        if (m[8]) {\n            s += " UTC";\n            if (m[8] != "Z") {\n                s += m[8];\n                if (m[9]) {\n                    s += ":" + m[9];\n                }\n            }\n        }\n        return s;\n    };\n    Stream.prototype.parseInteger = function (start, end) {\n        var v = this.get(start);\n        var neg = (v > 127);\n        var pad = neg ? 255 : 0;\n        var len;\n        var s = "";\n        // skip unuseful bits (not allowed in DER)\n        while (v == pad && ++start < end) {\n            v = this.get(start);\n        }\n        len = end - start;\n        if (len === 0) {\n            return neg ? -1 : 0;\n        }\n        // show bit length of huge integers\n        if (len > 4) {\n            s = v;\n            len <<= 3;\n            while (((+s ^ pad) & 0x80) == 0) {\n                s = +s << 1;\n                --len;\n            }\n            s = "(" + len + " bit)\\n";\n        }\n        // decode the integer\n        if (neg) {\n            v = v - 256;\n        }\n        var n = new Int10(v);\n        for (var i = start + 1; i < end; ++i) {\n            n.mulAdd(256, this.get(i));\n        }\n        return s + n.toString();\n    };\n    Stream.prototype.parseBitString = function (start, end, maxLength) {\n        var unusedBit = this.get(start);\n        var lenBit = ((end - start - 1) << 3) - unusedBit;\n        var intro = "(" + lenBit + " bit)\\n";\n        var s = "";\n        for (var i = start + 1; i < end; ++i) {\n            var b = this.get(i);\n            var skip = (i == end - 1) ? unusedBit : 0;\n            for (var j = 7; j >= skip; --j) {\n                s += (b >> j) & 1 ? "1" : "0";\n            }\n            if (s.length > maxLength) {\n                return intro + stringCut(s, maxLength);\n            }\n        }\n        return intro + s;\n    };\n    Stream.prototype.parseOctetString = function (start, end, maxLength) {\n        if (this.isASCII(start, end)) {\n            return stringCut(this.parseStringISO(start, end), maxLength);\n        }\n        var len = end - start;\n        var s = "(" + len + " byte)\\n";\n        maxLength /= 2; // we work in bytes\n        if (len > maxLength) {\n            end = start + maxLength;\n        }\n        for (var i = start; i < end; ++i) {\n            s += this.hexByte(this.get(i));\n        }\n        if (len > maxLength) {\n            s += ellipsis;\n        }\n        return s;\n    };\n    Stream.prototype.parseOID = function (start, end, maxLength) {\n        var s = "";\n        var n = new Int10();\n        var bits = 0;\n        for (var i = start; i < end; ++i) {\n            var v = this.get(i);\n            n.mulAdd(128, v & 0x7F);\n            bits += 7;\n            if (!(v & 0x80)) { // finished\n                if (s === "") {\n                    n = n.simplify();\n                    if (n instanceof Int10) {\n                        n.sub(80);\n                        s = "2." + n.toString();\n                    }\n                    else {\n                        var m = n < 80 ? n < 40 ? 0 : 1 : 2;\n                        s = m + "." + (n - m * 40);\n                    }\n                }\n                else {\n                    s += "." + n.toString();\n                }\n                if (s.length > maxLength) {\n                    return stringCut(s, maxLength);\n                }\n                n = new Int10();\n                bits = 0;\n            }\n        }\n        if (bits > 0) {\n            s += ".incomplete";\n        }\n        return s;\n    };\n    return Stream;\n}());\nvar ASN1 = /** @class */ (function () {\n    function ASN1(stream, header, length, tag, sub) {\n        if (!(tag instanceof ASN1Tag)) {\n            throw new Error("Invalid tag value.");\n        }\n        this.stream = stream;\n        this.header = header;\n        this.length = length;\n        this.tag = tag;\n        this.sub = sub;\n    }\n    ASN1.prototype.typeName = function () {\n        switch (this.tag.tagClass) {\n            case 0: // universal\n                switch (this.tag.tagNumber) {\n                    case 0x00:\n                        return "EOC";\n                    case 0x01:\n                        return "BOOLEAN";\n                    case 0x02:\n                        return "INTEGER";\n                    case 0x03:\n                        return "BIT_STRING";\n                    case 0x04:\n                        return "OCTET_STRING";\n                    case 0x05:\n                        return "NULL";\n                    case 0x06:\n                        return "OBJECT_IDENTIFIER";\n                    case 0x07:\n                        return "ObjectDescriptor";\n                    case 0x08:\n                        return "EXTERNAL";\n                    case 0x09:\n                        return "REAL";\n                    case 0x0A:\n                        return "ENUMERATED";\n                    case 0x0B:\n                        return "EMBEDDED_PDV";\n                    case 0x0C:\n                        return "UTF8String";\n                    case 0x10:\n                        return "SEQUENCE";\n                    case 0x11:\n                        return "SET";\n                    case 0x12:\n                        return "NumericString";\n                    case 0x13:\n                        return "PrintableString"; // ASCII subset\n                    case 0x14:\n                        return "TeletexString"; // aka T61String\n                    case 0x15:\n                        return "VideotexString";\n                    case 0x16:\n                        return "IA5String"; // ASCII\n                    case 0x17:\n                        return "UTCTime";\n                    case 0x18:\n                        return "GeneralizedTime";\n                    case 0x19:\n                        return "GraphicString";\n                    case 0x1A:\n                        return "VisibleString"; // ASCII subset\n                    case 0x1B:\n                        return "GeneralString";\n                    case 0x1C:\n                        return "UniversalString";\n                    case 0x1E:\n                        return "BMPString";\n                }\n                return "Universal_" + this.tag.tagNumber.toString();\n            case 1:\n                return "Application_" + this.tag.tagNumber.toString();\n            case 2:\n                return "[" + this.tag.tagNumber.toString() + "]"; // Context\n            case 3:\n                return "Private_" + this.tag.tagNumber.toString();\n        }\n    };\n    ASN1.prototype.content = function (maxLength) {\n        if (this.tag === undefined) {\n            return null;\n        }\n        if (maxLength === undefined) {\n            maxLength = Infinity;\n        }\n        var content = this.posContent();\n        var len = Math.abs(this.length);\n        if (!this.tag.isUniversal()) {\n            if (this.sub !== null) {\n                return "(" + this.sub.length + " elem)";\n            }\n            return this.stream.parseOctetString(content, content + len, maxLength);\n        }\n        switch (this.tag.tagNumber) {\n            case 0x01: // BOOLEAN\n                return (this.stream.get(content) === 0) ? "false" : "true";\n            case 0x02: // INTEGER\n                return this.stream.parseInteger(content, content + len);\n            case 0x03: // BIT_STRING\n                return this.sub ? "(" + this.sub.length + " elem)" :\n                    this.stream.parseBitString(content, content + len, maxLength);\n            case 0x04: // OCTET_STRING\n                return this.sub ? "(" + this.sub.length + " elem)" :\n                    this.stream.parseOctetString(content, content + len, maxLength);\n            // case 0x05: // NULL\n            case 0x06: // OBJECT_IDENTIFIER\n                return this.stream.parseOID(content, content + len, maxLength);\n            // case 0x07: // ObjectDescriptor\n            // case 0x08: // EXTERNAL\n            // case 0x09: // REAL\n            // case 0x0A: // ENUMERATED\n            // case 0x0B: // EMBEDDED_PDV\n            case 0x10: // SEQUENCE\n            case 0x11: // SET\n                if (this.sub !== null) {\n                    return "(" + this.sub.length + " elem)";\n                }\n                else {\n                    return "(no elem)";\n                }\n            case 0x0C: // UTF8String\n                return stringCut(this.stream.parseStringUTF(content, content + len), maxLength);\n            case 0x12: // NumericString\n            case 0x13: // PrintableString\n            case 0x14: // TeletexString\n            case 0x15: // VideotexString\n            case 0x16: // IA5String\n            // case 0x19: // GraphicString\n            case 0x1A: // VisibleString\n                // case 0x1B: // GeneralString\n                // case 0x1C: // UniversalString\n                return stringCut(this.stream.parseStringISO(content, content + len), maxLength);\n            case 0x1E: // BMPString\n                return stringCut(this.stream.parseStringBMP(content, content + len), maxLength);\n            case 0x17: // UTCTime\n            case 0x18: // GeneralizedTime\n                return this.stream.parseTime(content, content + len, (this.tag.tagNumber == 0x17));\n        }\n        return null;\n    };\n    ASN1.prototype.toString = function () {\n        return this.typeName() + "@" + this.stream.pos + "[header:" + this.header + ",length:" + this.length + ",sub:" + ((this.sub === null) ? "null" : this.sub.length) + "]";\n    };\n    ASN1.prototype.toPrettyString = function (indent) {\n        if (indent === undefined) {\n            indent = "";\n        }\n        var s = indent + this.typeName() + " @" + this.stream.pos;\n        if (this.length >= 0) {\n            s += "+";\n        }\n        s += this.length;\n        if (this.tag.tagConstructed) {\n            s += " (constructed)";\n        }\n        else if ((this.tag.isUniversal() && ((this.tag.tagNumber == 0x03) || (this.tag.tagNumber == 0x04))) && (this.sub !== null)) {\n            s += " (encapsulates)";\n        }\n        s += "\\n";\n        if (this.sub !== null) {\n            indent += "  ";\n            for (var i = 0, max = this.sub.length; i < max; ++i) {\n                s += this.sub[i].toPrettyString(indent);\n            }\n        }\n        return s;\n    };\n    ASN1.prototype.posStart = function () {\n        return this.stream.pos;\n    };\n    ASN1.prototype.posContent = function () {\n        return this.stream.pos + this.header;\n    };\n    ASN1.prototype.posEnd = function () {\n        return this.stream.pos + this.header + Math.abs(this.length);\n    };\n    ASN1.prototype.toHexString = function () {\n        return this.stream.hexDump(this.posStart(), this.posEnd(), true);\n    };\n    ASN1.decodeLength = function (stream) {\n        var buf = stream.get();\n        var len = buf & 0x7F;\n        if (len == buf) {\n            return len;\n        }\n        // no reason to use Int10, as it would be a huge buffer anyways\n        if (len > 6) {\n            throw new Error("Length over 48 bits not supported at position " + (stream.pos - 1));\n        }\n        if (len === 0) {\n            return null;\n        } // undefined\n        buf = 0;\n        for (var i = 0; i < len; ++i) {\n            buf = (buf * 256) + stream.get();\n        }\n        return buf;\n    };\n    /**\n     * Retrieve the hexadecimal value (as a string) of the current ASN.1 element\n     * @returns {string}\n     * @public\n     */\n    ASN1.prototype.getHexStringValue = function () {\n        var hexString = this.toHexString();\n        var offset = this.header * 2;\n        var length = this.length * 2;\n        return hexString.substr(offset, length);\n    };\n    ASN1.decode = function (str) {\n        var stream;\n        if (!(str instanceof Stream)) {\n            stream = new Stream(str, 0);\n        }\n        else {\n            stream = str;\n        }\n        var streamStart = new Stream(stream);\n        var tag = new ASN1Tag(stream);\n        var len = ASN1.decodeLength(stream);\n        var start = stream.pos;\n        var header = start - streamStart.pos;\n        var sub = null;\n        var getSub = function () {\n            var ret = [];\n            if (len !== null) {\n                // definite length\n                var end = start + len;\n                while (stream.pos < end) {\n                    ret[ret.length] = ASN1.decode(stream);\n                }\n                if (stream.pos != end) {\n                    throw new Error("Content size is not correct for container starting at offset " + start);\n                }\n            }\n            else {\n                // undefined length\n                try {\n                    for (;;) {\n                        var s = ASN1.decode(stream);\n                        if (s.tag.isEOC()) {\n                            break;\n                        }\n                        ret[ret.length] = s;\n                    }\n                    len = start - stream.pos; // undefined lengths are represented as negative values\n                }\n                catch (e) {\n                    throw new Error("Exception while decoding undefined length content: " + e);\n                }\n            }\n            return ret;\n        };\n        if (tag.tagConstructed) {\n            // must have valid content\n            sub = getSub();\n        }\n        else if (tag.isUniversal() && ((tag.tagNumber == 0x03) || (tag.tagNumber == 0x04))) {\n            // sometimes BitString and OctetString are used to encapsulate ASN.1\n            try {\n                if (tag.tagNumber == 0x03) {\n                    if (stream.get() != 0) {\n                        throw new Error("BIT STRINGs with unused bits cannot encapsulate.");\n                    }\n                }\n                sub = getSub();\n                for (var i = 0; i < sub.length; ++i) {\n                    if (sub[i].tag.isEOC()) {\n                        throw new Error("EOC is not supposed to be actual content.");\n                    }\n                }\n            }\n            catch (e) {\n                // but silently ignore when they don\'t\n                sub = null;\n            }\n        }\n        if (sub === null) {\n            if (len === null) {\n                throw new Error("We can\'t skip over an invalid tag with undefined length at offset " + start);\n            }\n            stream.pos = start + Math.abs(len);\n        }\n        return new ASN1(streamStart, header, len, tag, sub);\n    };\n    return ASN1;\n}());\nvar ASN1Tag = /** @class */ (function () {\n    function ASN1Tag(stream) {\n        var buf = stream.get();\n        this.tagClass = buf >> 6;\n        this.tagConstructed = ((buf & 0x20) !== 0);\n        this.tagNumber = buf & 0x1F;\n        if (this.tagNumber == 0x1F) { // long tag\n            var n = new Int10();\n            do {\n                buf = stream.get();\n                n.mulAdd(128, buf & 0x7F);\n            } while (buf & 0x80);\n            this.tagNumber = n.simplify();\n        }\n    }\n    ASN1Tag.prototype.isUniversal = function () {\n        return this.tagClass === 0x00;\n    };\n    ASN1Tag.prototype.isEOC = function () {\n        return this.tagClass === 0x00 && this.tagNumber === 0x00;\n    };\n    return ASN1Tag;\n}());\n\n// Copyright (c) 2005  Tom Wu\n// Bits per digit\nvar dbits;\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary & 0xffffff) == 0xefcafe);\n//#region\nvar lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];\nvar lplim = (1 << 26) / lowprimes[lowprimes.length - 1];\n//#endregion\n// (public) Constructor\nvar BigInteger = /** @class */ (function () {\n    function BigInteger(a, b, c) {\n        if (a != null) {\n            if ("number" == typeof a) {\n                this.fromNumber(a, b, c);\n            }\n            else if (b == null && "string" != typeof a) {\n                this.fromString(a, 256);\n            }\n            else {\n                this.fromString(a, b);\n            }\n        }\n    }\n    //#region PUBLIC\n    // BigInteger.prototype.toString = bnToString;\n    // (public) return string representation in given radix\n    BigInteger.prototype.toString = function (b) {\n        if (this.s < 0) {\n            return "-" + this.negate().toString(b);\n        }\n        var k;\n        if (b == 16) {\n            k = 4;\n        }\n        else if (b == 8) {\n            k = 3;\n        }\n        else if (b == 2) {\n            k = 1;\n        }\n        else if (b == 32) {\n            k = 5;\n        }\n        else if (b == 4) {\n            k = 2;\n        }\n        else {\n            return this.toRadix(b);\n        }\n        var km = (1 << k) - 1;\n        var d;\n        var m = false;\n        var r = "";\n        var i = this.t;\n        var p = this.DB - (i * this.DB) % k;\n        if (i-- > 0) {\n            if (p < this.DB && (d = this[i] >> p) > 0) {\n                m = true;\n                r = int2char(d);\n            }\n            while (i >= 0) {\n                if (p < k) {\n                    d = (this[i] & ((1 << p) - 1)) << (k - p);\n                    d |= this[--i] >> (p += this.DB - k);\n                }\n                else {\n                    d = (this[i] >> (p -= k)) & km;\n                    if (p <= 0) {\n                        p += this.DB;\n                        --i;\n                    }\n                }\n                if (d > 0) {\n                    m = true;\n                }\n                if (m) {\n                    r += int2char(d);\n                }\n            }\n        }\n        return m ? r : "0";\n    };\n    // BigInteger.prototype.negate = bnNegate;\n    // (public) -this\n    BigInteger.prototype.negate = function () {\n        var r = nbi();\n        BigInteger.ZERO.subTo(this, r);\n        return r;\n    };\n    // BigInteger.prototype.abs = bnAbs;\n    // (public) |this|\n    BigInteger.prototype.abs = function () {\n        return (this.s < 0) ? this.negate() : this;\n    };\n    // BigInteger.prototype.compareTo = bnCompareTo;\n    // (public) return + if this > a, - if this < a, 0 if equal\n    BigInteger.prototype.compareTo = function (a) {\n        var r = this.s - a.s;\n        if (r != 0) {\n            return r;\n        }\n        var i = this.t;\n        r = i - a.t;\n        if (r != 0) {\n            return (this.s < 0) ? -r : r;\n        }\n        while (--i >= 0) {\n            if ((r = this[i] - a[i]) != 0) {\n                return r;\n            }\n        }\n        return 0;\n    };\n    // BigInteger.prototype.bitLength = bnBitLength;\n    // (public) return the number of bits in "this"\n    BigInteger.prototype.bitLength = function () {\n        if (this.t <= 0) {\n            return 0;\n        }\n        return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM));\n    };\n    // BigInteger.prototype.mod = bnMod;\n    // (public) this mod a\n    BigInteger.prototype.mod = function (a) {\n        var r = nbi();\n        this.abs().divRemTo(a, null, r);\n        if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {\n            a.subTo(r, r);\n        }\n        return r;\n    };\n    // BigInteger.prototype.modPowInt = bnModPowInt;\n    // (public) this^e % m, 0 <= e < 2^32\n    BigInteger.prototype.modPowInt = function (e, m) {\n        var z;\n        if (e < 256 || m.isEven()) {\n            z = new Classic(m);\n        }\n        else {\n            z = new Montgomery(m);\n        }\n        return this.exp(e, z);\n    };\n    // BigInteger.prototype.clone = bnClone;\n    // (public)\n    BigInteger.prototype.clone = function () {\n        var r = nbi();\n        this.copyTo(r);\n        return r;\n    };\n    // BigInteger.prototype.intValue = bnIntValue;\n    // (public) return value as integer\n    BigInteger.prototype.intValue = function () {\n        if (this.s < 0) {\n            if (this.t == 1) {\n                return this[0] - this.DV;\n            }\n            else if (this.t == 0) {\n                return -1;\n            }\n        }\n        else if (this.t == 1) {\n            return this[0];\n        }\n        else if (this.t == 0) {\n            return 0;\n        }\n        // assumes 16 < DB < 32\n        return ((this[1] & ((1 << (32 - this.DB)) - 1)) << this.DB) | this[0];\n    };\n    // BigInteger.prototype.byteValue = bnByteValue;\n    // (public) return value as byte\n    BigInteger.prototype.byteValue = function () {\n        return (this.t == 0) ? this.s : (this[0] << 24) >> 24;\n    };\n    // BigInteger.prototype.shortValue = bnShortValue;\n    // (public) return value as short (assumes DB>=16)\n    BigInteger.prototype.shortValue = function () {\n        return (this.t == 0) ? this.s : (this[0] << 16) >> 16;\n    };\n    // BigInteger.prototype.signum = bnSigNum;\n    // (public) 0 if this == 0, 1 if this > 0\n    BigInteger.prototype.signum = function () {\n        if (this.s < 0) {\n            return -1;\n        }\n        else if (this.t <= 0 || (this.t == 1 && this[0] <= 0)) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    };\n    // BigInteger.prototype.toByteArray = bnToByteArray;\n    // (public) convert to bigendian byte array\n    BigInteger.prototype.toByteArray = function () {\n        var i = this.t;\n        var r = [];\n        r[0] = this.s;\n        var p = this.DB - (i * this.DB) % 8;\n        var d;\n        var k = 0;\n        if (i-- > 0) {\n            if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) {\n                r[k++] = d | (this.s << (this.DB - p));\n            }\n            while (i >= 0) {\n                if (p < 8) {\n                    d = (this[i] & ((1 << p) - 1)) << (8 - p);\n                    d |= this[--i] >> (p += this.DB - 8);\n                }\n                else {\n                    d = (this[i] >> (p -= 8)) & 0xff;\n                    if (p <= 0) {\n                        p += this.DB;\n                        --i;\n                    }\n                }\n                if ((d & 0x80) != 0) {\n                    d |= -256;\n                }\n                if (k == 0 && (this.s & 0x80) != (d & 0x80)) {\n                    ++k;\n                }\n                if (k > 0 || d != this.s) {\n                    r[k++] = d;\n                }\n            }\n        }\n        return r;\n    };\n    // BigInteger.prototype.equals = bnEquals;\n    BigInteger.prototype.equals = function (a) {\n        return (this.compareTo(a) == 0);\n    };\n    // BigInteger.prototype.min = bnMin;\n    BigInteger.prototype.min = function (a) {\n        return (this.compareTo(a) < 0) ? this : a;\n    };\n    // BigInteger.prototype.max = bnMax;\n    BigInteger.prototype.max = function (a) {\n        return (this.compareTo(a) > 0) ? this : a;\n    };\n    // BigInteger.prototype.and = bnAnd;\n    BigInteger.prototype.and = function (a) {\n        var r = nbi();\n        this.bitwiseTo(a, op_and, r);\n        return r;\n    };\n    // BigInteger.prototype.or = bnOr;\n    BigInteger.prototype.or = function (a) {\n        var r = nbi();\n        this.bitwiseTo(a, op_or, r);\n        return r;\n    };\n    // BigInteger.prototype.xor = bnXor;\n    BigInteger.prototype.xor = function (a) {\n        var r = nbi();\n        this.bitwiseTo(a, op_xor, r);\n        return r;\n    };\n    // BigInteger.prototype.andNot = bnAndNot;\n    BigInteger.prototype.andNot = function (a) {\n        var r = nbi();\n        this.bitwiseTo(a, op_andnot, r);\n        return r;\n    };\n    // BigInteger.prototype.not = bnNot;\n    // (public) ~this\n    BigInteger.prototype.not = function () {\n        var r = nbi();\n        for (var i = 0; i < this.t; ++i) {\n            r[i] = this.DM & ~this[i];\n        }\n        r.t = this.t;\n        r.s = ~this.s;\n        return r;\n    };\n    // BigInteger.prototype.shiftLeft = bnShiftLeft;\n    // (public) this << n\n    BigInteger.prototype.shiftLeft = function (n) {\n        var r = nbi();\n        if (n < 0) {\n            this.rShiftTo(-n, r);\n        }\n        else {\n            this.lShiftTo(n, r);\n        }\n        return r;\n    };\n    // BigInteger.prototype.shiftRight = bnShiftRight;\n    // (public) this >> n\n    BigInteger.prototype.shiftRight = function (n) {\n        var r = nbi();\n        if (n < 0) {\n            this.lShiftTo(-n, r);\n        }\n        else {\n            this.rShiftTo(n, r);\n        }\n        return r;\n    };\n    // BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\n    // (public) returns index of lowest 1-bit (or -1 if none)\n    BigInteger.prototype.getLowestSetBit = function () {\n        for (var i = 0; i < this.t; ++i) {\n            if (this[i] != 0) {\n                return i * this.DB + lbit(this[i]);\n            }\n        }\n        if (this.s < 0) {\n            return this.t * this.DB;\n        }\n        return -1;\n    };\n    // BigInteger.prototype.bitCount = bnBitCount;\n    // (public) return number of set bits\n    BigInteger.prototype.bitCount = function () {\n        var r = 0;\n        var x = this.s & this.DM;\n        for (var i = 0; i < this.t; ++i) {\n            r += cbit(this[i] ^ x);\n        }\n        return r;\n    };\n    // BigInteger.prototype.testBit = bnTestBit;\n    // (public) true iff nth bit is set\n    BigInteger.prototype.testBit = function (n) {\n        var j = Math.floor(n / this.DB);\n        if (j >= this.t) {\n            return (this.s != 0);\n        }\n        return ((this[j] & (1 << (n % this.DB))) != 0);\n    };\n    // BigInteger.prototype.setBit = bnSetBit;\n    // (public) this | (1<<n)\n    BigInteger.prototype.setBit = function (n) {\n        return this.changeBit(n, op_or);\n    };\n    // BigInteger.prototype.clearBit = bnClearBit;\n    // (public) this & ~(1<<n)\n    BigInteger.prototype.clearBit = function (n) {\n        return this.changeBit(n, op_andnot);\n    };\n    // BigInteger.prototype.flipBit = bnFlipBit;\n    // (public) this ^ (1<<n)\n    BigInteger.prototype.flipBit = function (n) {\n        return this.changeBit(n, op_xor);\n    };\n    // BigInteger.prototype.add = bnAdd;\n    // (public) this + a\n    BigInteger.prototype.add = function (a) {\n        var r = nbi();\n        this.addTo(a, r);\n        return r;\n    };\n    // BigInteger.prototype.subtract = bnSubtract;\n    // (public) this - a\n    BigInteger.prototype.subtract = function (a) {\n        var r = nbi();\n        this.subTo(a, r);\n        return r;\n    };\n    // BigInteger.prototype.multiply = bnMultiply;\n    // (public) this * a\n    BigInteger.prototype.multiply = function (a) {\n        var r = nbi();\n        this.multiplyTo(a, r);\n        return r;\n    };\n    // BigInteger.prototype.divide = bnDivide;\n    // (public) this / a\n    BigInteger.prototype.divide = function (a) {\n        var r = nbi();\n        this.divRemTo(a, r, null);\n        return r;\n    };\n    // BigInteger.prototype.remainder = bnRemainder;\n    // (public) this % a\n    BigInteger.prototype.remainder = function (a) {\n        var r = nbi();\n        this.divRemTo(a, null, r);\n        return r;\n    };\n    // BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\n    // (public) [this/a,this%a]\n    BigInteger.prototype.divideAndRemainder = function (a) {\n        var q = nbi();\n        var r = nbi();\n        this.divRemTo(a, q, r);\n        return [q, r];\n    };\n    // BigInteger.prototype.modPow = bnModPow;\n    // (public) this^e % m (HAC 14.85)\n    BigInteger.prototype.modPow = function (e, m) {\n        var i = e.bitLength();\n        var k;\n        var r = nbv(1);\n        var z;\n        if (i <= 0) {\n            return r;\n        }\n        else if (i < 18) {\n            k = 1;\n        }\n        else if (i < 48) {\n            k = 3;\n        }\n        else if (i < 144) {\n            k = 4;\n        }\n        else if (i < 768) {\n            k = 5;\n        }\n        else {\n            k = 6;\n        }\n        if (i < 8) {\n            z = new Classic(m);\n        }\n        else if (m.isEven()) {\n            z = new Barrett(m);\n        }\n        else {\n            z = new Montgomery(m);\n        }\n        // precomputation\n        var g = [];\n        var n = 3;\n        var k1 = k - 1;\n        var km = (1 << k) - 1;\n        g[1] = z.convert(this);\n        if (k > 1) {\n            var g2 = nbi();\n            z.sqrTo(g[1], g2);\n            while (n <= km) {\n                g[n] = nbi();\n                z.mulTo(g2, g[n - 2], g[n]);\n                n += 2;\n            }\n        }\n        var j = e.t - 1;\n        var w;\n        var is1 = true;\n        var r2 = nbi();\n        var t;\n        i = nbits(e[j]) - 1;\n        while (j >= 0) {\n            if (i >= k1) {\n                w = (e[j] >> (i - k1)) & km;\n            }\n            else {\n                w = (e[j] & ((1 << (i + 1)) - 1)) << (k1 - i);\n                if (j > 0) {\n                    w |= e[j - 1] >> (this.DB + i - k1);\n                }\n            }\n            n = k;\n            while ((w & 1) == 0) {\n                w >>= 1;\n                --n;\n            }\n            if ((i -= n) < 0) {\n                i += this.DB;\n                --j;\n            }\n            if (is1) { // ret == 1, don\'t bother squaring or multiplying it\n                g[w].copyTo(r);\n                is1 = false;\n            }\n            else {\n                while (n > 1) {\n                    z.sqrTo(r, r2);\n                    z.sqrTo(r2, r);\n                    n -= 2;\n                }\n                if (n > 0) {\n                    z.sqrTo(r, r2);\n                }\n                else {\n                    t = r;\n                    r = r2;\n                    r2 = t;\n                }\n                z.mulTo(r2, g[w], r);\n            }\n            while (j >= 0 && (e[j] & (1 << i)) == 0) {\n                z.sqrTo(r, r2);\n                t = r;\n                r = r2;\n                r2 = t;\n                if (--i < 0) {\n                    i = this.DB - 1;\n                    --j;\n                }\n            }\n        }\n        return z.revert(r);\n    };\n    // BigInteger.prototype.modInverse = bnModInverse;\n    // (public) 1/this % m (HAC 14.61)\n    BigInteger.prototype.modInverse = function (m) {\n        var ac = m.isEven();\n        if ((this.isEven() && ac) || m.signum() == 0) {\n            return BigInteger.ZERO;\n        }\n        var u = m.clone();\n        var v = this.clone();\n        var a = nbv(1);\n        var b = nbv(0);\n        var c = nbv(0);\n        var d = nbv(1);\n        while (u.signum() != 0) {\n            while (u.isEven()) {\n                u.rShiftTo(1, u);\n                if (ac) {\n                    if (!a.isEven() || !b.isEven()) {\n                        a.addTo(this, a);\n                        b.subTo(m, b);\n                    }\n                    a.rShiftTo(1, a);\n                }\n                else if (!b.isEven()) {\n                    b.subTo(m, b);\n                }\n                b.rShiftTo(1, b);\n            }\n            while (v.isEven()) {\n                v.rShiftTo(1, v);\n                if (ac) {\n                    if (!c.isEven() || !d.isEven()) {\n                        c.addTo(this, c);\n                        d.subTo(m, d);\n                    }\n                    c.rShiftTo(1, c);\n                }\n                else if (!d.isEven()) {\n                    d.subTo(m, d);\n                }\n                d.rShiftTo(1, d);\n            }\n            if (u.compareTo(v) >= 0) {\n                u.subTo(v, u);\n                if (ac) {\n                    a.subTo(c, a);\n                }\n                b.subTo(d, b);\n            }\n            else {\n                v.subTo(u, v);\n                if (ac) {\n                    c.subTo(a, c);\n                }\n                d.subTo(b, d);\n            }\n        }\n        if (v.compareTo(BigInteger.ONE) != 0) {\n            return BigInteger.ZERO;\n        }\n        if (d.compareTo(m) >= 0) {\n            return d.subtract(m);\n        }\n        if (d.signum() < 0) {\n            d.addTo(m, d);\n        }\n        else {\n            return d;\n        }\n        if (d.signum() < 0) {\n            return d.add(m);\n        }\n        else {\n            return d;\n        }\n    };\n    // BigInteger.prototype.pow = bnPow;\n    // (public) this^e\n    BigInteger.prototype.pow = function (e) {\n        return this.exp(e, new NullExp());\n    };\n    // BigInteger.prototype.gcd = bnGCD;\n    // (public) gcd(this,a) (HAC 14.54)\n    BigInteger.prototype.gcd = function (a) {\n        var x = (this.s < 0) ? this.negate() : this.clone();\n        var y = (a.s < 0) ? a.negate() : a.clone();\n        if (x.compareTo(y) < 0) {\n            var t = x;\n            x = y;\n            y = t;\n        }\n        var i = x.getLowestSetBit();\n        var g = y.getLowestSetBit();\n        if (g < 0) {\n            return x;\n        }\n        if (i < g) {\n            g = i;\n        }\n        if (g > 0) {\n            x.rShiftTo(g, x);\n            y.rShiftTo(g, y);\n        }\n        while (x.signum() > 0) {\n            if ((i = x.getLowestSetBit()) > 0) {\n                x.rShiftTo(i, x);\n            }\n            if ((i = y.getLowestSetBit()) > 0) {\n                y.rShiftTo(i, y);\n            }\n            if (x.compareTo(y) >= 0) {\n                x.subTo(y, x);\n                x.rShiftTo(1, x);\n            }\n            else {\n                y.subTo(x, y);\n                y.rShiftTo(1, y);\n            }\n        }\n        if (g > 0) {\n            y.lShiftTo(g, y);\n        }\n        return y;\n    };\n    // BigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n    // (public) test primality with certainty >= 1-.5^t\n    BigInteger.prototype.isProbablePrime = function (t) {\n        var i;\n        var x = this.abs();\n        if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {\n            for (i = 0; i < lowprimes.length; ++i) {\n                if (x[0] == lowprimes[i]) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        if (x.isEven()) {\n            return false;\n        }\n        i = 1;\n        while (i < lowprimes.length) {\n            var m = lowprimes[i];\n            var j = i + 1;\n            while (j < lowprimes.length && m < lplim) {\n                m *= lowprimes[j++];\n            }\n            m = x.modInt(m);\n            while (i < j) {\n                if (m % lowprimes[i++] == 0) {\n                    return false;\n                }\n            }\n        }\n        return x.millerRabin(t);\n    };\n    //#endregion PUBLIC\n    //#region PROTECTED\n    // BigInteger.prototype.copyTo = bnpCopyTo;\n    // (protected) copy this to r\n    BigInteger.prototype.copyTo = function (r) {\n        for (var i = this.t - 1; i >= 0; --i) {\n            r[i] = this[i];\n        }\n        r.t = this.t;\n        r.s = this.s;\n    };\n    // BigInteger.prototype.fromInt = bnpFromInt;\n    // (protected) set from integer value x, -DV <= x < DV\n    BigInteger.prototype.fromInt = function (x) {\n        this.t = 1;\n        this.s = (x < 0) ? -1 : 0;\n        if (x > 0) {\n            this[0] = x;\n        }\n        else if (x < -1) {\n            this[0] = x + this.DV;\n        }\n        else {\n            this.t = 0;\n        }\n    };\n    // BigInteger.prototype.fromString = bnpFromString;\n    // (protected) set from string and radix\n    BigInteger.prototype.fromString = function (s, b) {\n        var k;\n        if (b == 16) {\n            k = 4;\n        }\n        else if (b == 8) {\n            k = 3;\n        }\n        else if (b == 256) {\n            k = 8;\n            /* byte array */\n        }\n        else if (b == 2) {\n            k = 1;\n        }\n        else if (b == 32) {\n            k = 5;\n        }\n        else if (b == 4) {\n            k = 2;\n        }\n        else {\n            this.fromRadix(s, b);\n            return;\n        }\n        this.t = 0;\n        this.s = 0;\n        var i = s.length;\n        var mi = false;\n        var sh = 0;\n        while (--i >= 0) {\n            var x = (k == 8) ? (+s[i]) & 0xff : intAt(s, i);\n            if (x < 0) {\n                if (s.charAt(i) == "-") {\n                    mi = true;\n                }\n                continue;\n            }\n            mi = false;\n            if (sh == 0) {\n                this[this.t++] = x;\n            }\n            else if (sh + k > this.DB) {\n                this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh;\n                this[this.t++] = (x >> (this.DB - sh));\n            }\n            else {\n                this[this.t - 1] |= x << sh;\n            }\n            sh += k;\n            if (sh >= this.DB) {\n                sh -= this.DB;\n            }\n        }\n        if (k == 8 && ((+s[0]) & 0x80) != 0) {\n            this.s = -1;\n            if (sh > 0) {\n                this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh;\n            }\n        }\n        this.clamp();\n        if (mi) {\n            BigInteger.ZERO.subTo(this, this);\n        }\n    };\n    // BigInteger.prototype.clamp = bnpClamp;\n    // (protected) clamp off excess high words\n    BigInteger.prototype.clamp = function () {\n        var c = this.s & this.DM;\n        while (this.t > 0 && this[this.t - 1] == c) {\n            --this.t;\n        }\n    };\n    // BigInteger.prototype.dlShiftTo = bnpDLShiftTo;\n    // (protected) r = this << n*DB\n    BigInteger.prototype.dlShiftTo = function (n, r) {\n        var i;\n        for (i = this.t - 1; i >= 0; --i) {\n            r[i + n] = this[i];\n        }\n        for (i = n - 1; i >= 0; --i) {\n            r[i] = 0;\n        }\n        r.t = this.t + n;\n        r.s = this.s;\n    };\n    // BigInteger.prototype.drShiftTo = bnpDRShiftTo;\n    // (protected) r = this >> n*DB\n    BigInteger.prototype.drShiftTo = function (n, r) {\n        for (var i = n; i < this.t; ++i) {\n            r[i - n] = this[i];\n        }\n        r.t = Math.max(this.t - n, 0);\n        r.s = this.s;\n    };\n    // BigInteger.prototype.lShiftTo = bnpLShiftTo;\n    // (protected) r = this << n\n    BigInteger.prototype.lShiftTo = function (n, r) {\n        var bs = n % this.DB;\n        var cbs = this.DB - bs;\n        var bm = (1 << cbs) - 1;\n        var ds = Math.floor(n / this.DB);\n        var c = (this.s << bs) & this.DM;\n        for (var i = this.t - 1; i >= 0; --i) {\n            r[i + ds + 1] = (this[i] >> cbs) | c;\n            c = (this[i] & bm) << bs;\n        }\n        for (var i = ds - 1; i >= 0; --i) {\n            r[i] = 0;\n        }\n        r[ds] = c;\n        r.t = this.t + ds + 1;\n        r.s = this.s;\n        r.clamp();\n    };\n    // BigInteger.prototype.rShiftTo = bnpRShiftTo;\n    // (protected) r = this >> n\n    BigInteger.prototype.rShiftTo = function (n, r) {\n        r.s = this.s;\n        var ds = Math.floor(n / this.DB);\n        if (ds >= this.t) {\n            r.t = 0;\n            return;\n        }\n        var bs = n % this.DB;\n        var cbs = this.DB - bs;\n        var bm = (1 << bs) - 1;\n        r[0] = this[ds] >> bs;\n        for (var i = ds + 1; i < this.t; ++i) {\n            r[i - ds - 1] |= (this[i] & bm) << cbs;\n            r[i - ds] = this[i] >> bs;\n        }\n        if (bs > 0) {\n            r[this.t - ds - 1] |= (this.s & bm) << cbs;\n        }\n        r.t = this.t - ds;\n        r.clamp();\n    };\n    // BigInteger.prototype.subTo = bnpSubTo;\n    // (protected) r = this - a\n    BigInteger.prototype.subTo = function (a, r) {\n        var i = 0;\n        var c = 0;\n        var m = Math.min(a.t, this.t);\n        while (i < m) {\n            c += this[i] - a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        if (a.t < this.t) {\n            c -= a.s;\n            while (i < this.t) {\n                c += this[i];\n                r[i++] = c & this.DM;\n                c >>= this.DB;\n            }\n            c += this.s;\n        }\n        else {\n            c += this.s;\n            while (i < a.t) {\n                c -= a[i];\n                r[i++] = c & this.DM;\n                c >>= this.DB;\n            }\n            c -= a.s;\n        }\n        r.s = (c < 0) ? -1 : 0;\n        if (c < -1) {\n            r[i++] = this.DV + c;\n        }\n        else if (c > 0) {\n            r[i++] = c;\n        }\n        r.t = i;\n        r.clamp();\n    };\n    // BigInteger.prototype.multiplyTo = bnpMultiplyTo;\n    // (protected) r = this * a, r != this,a (HAC 14.12)\n    // "this" should be the larger one if appropriate.\n    BigInteger.prototype.multiplyTo = function (a, r) {\n        var x = this.abs();\n        var y = a.abs();\n        var i = x.t;\n        r.t = i + y.t;\n        while (--i >= 0) {\n            r[i] = 0;\n        }\n        for (i = 0; i < y.t; ++i) {\n            r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n        }\n        r.s = 0;\n        r.clamp();\n        if (this.s != a.s) {\n            BigInteger.ZERO.subTo(r, r);\n        }\n    };\n    // BigInteger.prototype.squareTo = bnpSquareTo;\n    // (protected) r = this^2, r != this (HAC 14.16)\n    BigInteger.prototype.squareTo = function (r) {\n        var x = this.abs();\n        var i = r.t = 2 * x.t;\n        while (--i >= 0) {\n            r[i] = 0;\n        }\n        for (i = 0; i < x.t - 1; ++i) {\n            var c = x.am(i, x[i], r, 2 * i, 0, 1);\n            if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n                r[i + x.t] -= x.DV;\n                r[i + x.t + 1] = 1;\n            }\n        }\n        if (r.t > 0) {\n            r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n        }\n        r.s = 0;\n        r.clamp();\n    };\n    // BigInteger.prototype.divRemTo = bnpDivRemTo;\n    // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n    // r != q, this != m.  q or r may be null.\n    BigInteger.prototype.divRemTo = function (m, q, r) {\n        var pm = m.abs();\n        if (pm.t <= 0) {\n            return;\n        }\n        var pt = this.abs();\n        if (pt.t < pm.t) {\n            if (q != null) {\n                q.fromInt(0);\n            }\n            if (r != null) {\n                this.copyTo(r);\n            }\n            return;\n        }\n        if (r == null) {\n            r = nbi();\n        }\n        var y = nbi();\n        var ts = this.s;\n        var ms = m.s;\n        var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n        if (nsh > 0) {\n            pm.lShiftTo(nsh, y);\n            pt.lShiftTo(nsh, r);\n        }\n        else {\n            pm.copyTo(y);\n            pt.copyTo(r);\n        }\n        var ys = y.t;\n        var y0 = y[ys - 1];\n        if (y0 == 0) {\n            return;\n        }\n        var yt = y0 * (1 << this.F1) + ((ys > 1) ? y[ys - 2] >> this.F2 : 0);\n        var d1 = this.FV / yt;\n        var d2 = (1 << this.F1) / yt;\n        var e = 1 << this.F2;\n        var i = r.t;\n        var j = i - ys;\n        var t = (q == null) ? nbi() : q;\n        y.dlShiftTo(j, t);\n        if (r.compareTo(t) >= 0) {\n            r[r.t++] = 1;\n            r.subTo(t, r);\n        }\n        BigInteger.ONE.dlShiftTo(ys, t);\n        t.subTo(y, y); // "negative" y so we can replace sub with am later\n        while (y.t < ys) {\n            y[y.t++] = 0;\n        }\n        while (--j >= 0) {\n            // Estimate quotient digit\n            var qd = (r[--i] == y0) ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n            if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) { // Try it out\n                y.dlShiftTo(j, t);\n                r.subTo(t, r);\n                while (r[i] < --qd) {\n                    r.subTo(t, r);\n                }\n            }\n        }\n        if (q != null) {\n            r.drShiftTo(ys, q);\n            if (ts != ms) {\n                BigInteger.ZERO.subTo(q, q);\n            }\n        }\n        r.t = ys;\n        r.clamp();\n        if (nsh > 0) {\n            r.rShiftTo(nsh, r);\n        } // Denormalize remainder\n        if (ts < 0) {\n            BigInteger.ZERO.subTo(r, r);\n        }\n    };\n    // BigInteger.prototype.invDigit = bnpInvDigit;\n    // (protected) return "-1/this % 2^DB"; useful for Mont. reduction\n    // justification:\n    //         xy == 1 (mod m)\n    //         xy =  1+km\n    //   xy(2-xy) = (1+km)(1-km)\n    // x[y(2-xy)] = 1-k^2m^2\n    // x[y(2-xy)] == 1 (mod m^2)\n    // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n    // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n    // JS multiply "overflows" differently from C/C++, so care is needed here.\n    BigInteger.prototype.invDigit = function () {\n        if (this.t < 1) {\n            return 0;\n        }\n        var x = this[0];\n        if ((x & 1) == 0) {\n            return 0;\n        }\n        var y = x & 3; // y == 1/x mod 2^2\n        y = (y * (2 - (x & 0xf) * y)) & 0xf; // y == 1/x mod 2^4\n        y = (y * (2 - (x & 0xff) * y)) & 0xff; // y == 1/x mod 2^8\n        y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff; // y == 1/x mod 2^16\n        // last step - calculate inverse mod DV directly;\n        // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n        y = (y * (2 - x * y % this.DV)) % this.DV; // y == 1/x mod 2^dbits\n        // we really want the negative inverse, and -DV < y < DV\n        return (y > 0) ? this.DV - y : -y;\n    };\n    // BigInteger.prototype.isEven = bnpIsEven;\n    // (protected) true iff this is even\n    BigInteger.prototype.isEven = function () {\n        return ((this.t > 0) ? (this[0] & 1) : this.s) == 0;\n    };\n    // BigInteger.prototype.exp = bnpExp;\n    // (protected) this^e, e < 2^32, doing sqr and mul with "r" (HAC 14.79)\n    BigInteger.prototype.exp = function (e, z) {\n        if (e > 0xffffffff || e < 1) {\n            return BigInteger.ONE;\n        }\n        var r = nbi();\n        var r2 = nbi();\n        var g = z.convert(this);\n        var i = nbits(e) - 1;\n        g.copyTo(r);\n        while (--i >= 0) {\n            z.sqrTo(r, r2);\n            if ((e & (1 << i)) > 0) {\n                z.mulTo(r2, g, r);\n            }\n            else {\n                var t = r;\n                r = r2;\n                r2 = t;\n            }\n        }\n        return z.revert(r);\n    };\n    // BigInteger.prototype.chunkSize = bnpChunkSize;\n    // (protected) return x s.t. r^x < DV\n    BigInteger.prototype.chunkSize = function (r) {\n        return Math.floor(Math.LN2 * this.DB / Math.log(r));\n    };\n    // BigInteger.prototype.toRadix = bnpToRadix;\n    // (protected) convert to radix string\n    BigInteger.prototype.toRadix = function (b) {\n        if (b == null) {\n            b = 10;\n        }\n        if (this.signum() == 0 || b < 2 || b > 36) {\n            return "0";\n        }\n        var cs = this.chunkSize(b);\n        var a = Math.pow(b, cs);\n        var d = nbv(a);\n        var y = nbi();\n        var z = nbi();\n        var r = "";\n        this.divRemTo(d, y, z);\n        while (y.signum() > 0) {\n            r = (a + z.intValue()).toString(b).substr(1) + r;\n            y.divRemTo(d, y, z);\n        }\n        return z.intValue().toString(b) + r;\n    };\n    // BigInteger.prototype.fromRadix = bnpFromRadix;\n    // (protected) convert from radix string\n    BigInteger.prototype.fromRadix = function (s, b) {\n        this.fromInt(0);\n        if (b == null) {\n            b = 10;\n        }\n        var cs = this.chunkSize(b);\n        var d = Math.pow(b, cs);\n        var mi = false;\n        var j = 0;\n        var w = 0;\n        for (var i = 0; i < s.length; ++i) {\n            var x = intAt(s, i);\n            if (x < 0) {\n                if (s.charAt(i) == "-" && this.signum() == 0) {\n                    mi = true;\n                }\n                continue;\n            }\n            w = b * w + x;\n            if (++j >= cs) {\n                this.dMultiply(d);\n                this.dAddOffset(w, 0);\n                j = 0;\n                w = 0;\n            }\n        }\n        if (j > 0) {\n            this.dMultiply(Math.pow(b, j));\n            this.dAddOffset(w, 0);\n        }\n        if (mi) {\n            BigInteger.ZERO.subTo(this, this);\n        }\n    };\n    // BigInteger.prototype.fromNumber = bnpFromNumber;\n    // (protected) alternate constructor\n    BigInteger.prototype.fromNumber = function (a, b, c) {\n        if ("number" == typeof b) {\n            // new BigInteger(int,int,RNG)\n            if (a < 2) {\n                this.fromInt(1);\n            }\n            else {\n                this.fromNumber(a, c);\n                if (!this.testBit(a - 1)) {\n                    // force MSB set\n                    this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\n                }\n                if (this.isEven()) {\n                    this.dAddOffset(1, 0);\n                } // force odd\n                while (!this.isProbablePrime(b)) {\n                    this.dAddOffset(2, 0);\n                    if (this.bitLength() > a) {\n                        this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);\n                    }\n                }\n            }\n        }\n        else {\n            // new BigInteger(int,RNG)\n            var x = [];\n            var t = a & 7;\n            x.length = (a >> 3) + 1;\n            b.nextBytes(x);\n            if (t > 0) {\n                x[0] &= ((1 << t) - 1);\n            }\n            else {\n                x[0] = 0;\n            }\n            this.fromString(x, 256);\n        }\n    };\n    // BigInteger.prototype.bitwiseTo = bnpBitwiseTo;\n    // (protected) r = this op a (bitwise)\n    BigInteger.prototype.bitwiseTo = function (a, op, r) {\n        var i;\n        var f;\n        var m = Math.min(a.t, this.t);\n        for (i = 0; i < m; ++i) {\n            r[i] = op(this[i], a[i]);\n        }\n        if (a.t < this.t) {\n            f = a.s & this.DM;\n            for (i = m; i < this.t; ++i) {\n                r[i] = op(this[i], f);\n            }\n            r.t = this.t;\n        }\n        else {\n            f = this.s & this.DM;\n            for (i = m; i < a.t; ++i) {\n                r[i] = op(f, a[i]);\n            }\n            r.t = a.t;\n        }\n        r.s = op(this.s, a.s);\n        r.clamp();\n    };\n    // BigInteger.prototype.changeBit = bnpChangeBit;\n    // (protected) this op (1<<n)\n    BigInteger.prototype.changeBit = function (n, op) {\n        var r = BigInteger.ONE.shiftLeft(n);\n        this.bitwiseTo(r, op, r);\n        return r;\n    };\n    // BigInteger.prototype.addTo = bnpAddTo;\n    // (protected) r = this + a\n    BigInteger.prototype.addTo = function (a, r) {\n        var i = 0;\n        var c = 0;\n        var m = Math.min(a.t, this.t);\n        while (i < m) {\n            c += this[i] + a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        if (a.t < this.t) {\n            c += a.s;\n            while (i < this.t) {\n                c += this[i];\n                r[i++] = c & this.DM;\n                c >>= this.DB;\n            }\n            c += this.s;\n        }\n        else {\n            c += this.s;\n            while (i < a.t) {\n                c += a[i];\n                r[i++] = c & this.DM;\n                c >>= this.DB;\n            }\n            c += a.s;\n        }\n        r.s = (c < 0) ? -1 : 0;\n        if (c > 0) {\n            r[i++] = c;\n        }\n        else if (c < -1) {\n            r[i++] = this.DV + c;\n        }\n        r.t = i;\n        r.clamp();\n    };\n    // BigInteger.prototype.dMultiply = bnpDMultiply;\n    // (protected) this *= n, this >= 0, 1 < n < DV\n    BigInteger.prototype.dMultiply = function (n) {\n        this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);\n        ++this.t;\n        this.clamp();\n    };\n    // BigInteger.prototype.dAddOffset = bnpDAddOffset;\n    // (protected) this += n << w words, this >= 0\n    BigInteger.prototype.dAddOffset = function (n, w) {\n        if (n == 0) {\n            return;\n        }\n        while (this.t <= w) {\n            this[this.t++] = 0;\n        }\n        this[w] += n;\n        while (this[w] >= this.DV) {\n            this[w] -= this.DV;\n            if (++w >= this.t) {\n                this[this.t++] = 0;\n            }\n            ++this[w];\n        }\n    };\n    // BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\n    // (protected) r = lower n words of "this * a", a.t <= n\n    // "this" should be the larger one if appropriate.\n    BigInteger.prototype.multiplyLowerTo = function (a, n, r) {\n        var i = Math.min(this.t + a.t, n);\n        r.s = 0; // assumes a,this >= 0\n        r.t = i;\n        while (i > 0) {\n            r[--i] = 0;\n        }\n        for (var j = r.t - this.t; i < j; ++i) {\n            r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);\n        }\n        for (var j = Math.min(a.t, n); i < j; ++i) {\n            this.am(0, a[i], r, i, 0, n - i);\n        }\n        r.clamp();\n    };\n    // BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\n    // (protected) r = "this * a" without lower n words, n > 0\n    // "this" should be the larger one if appropriate.\n    BigInteger.prototype.multiplyUpperTo = function (a, n, r) {\n        --n;\n        var i = r.t = this.t + a.t - n;\n        r.s = 0; // assumes a,this >= 0\n        while (--i >= 0) {\n            r[i] = 0;\n        }\n        for (i = Math.max(n - this.t, 0); i < a.t; ++i) {\n            r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);\n        }\n        r.clamp();\n        r.drShiftTo(1, r);\n    };\n    // BigInteger.prototype.modInt = bnpModInt;\n    // (protected) this % n, n < 2^26\n    BigInteger.prototype.modInt = function (n) {\n        if (n <= 0) {\n            return 0;\n        }\n        var d = this.DV % n;\n        var r = (this.s < 0) ? n - 1 : 0;\n        if (this.t > 0) {\n            if (d == 0) {\n                r = this[0] % n;\n            }\n            else {\n                for (var i = this.t - 1; i >= 0; --i) {\n                    r = (d * r + this[i]) % n;\n                }\n            }\n        }\n        return r;\n    };\n    // BigInteger.prototype.millerRabin = bnpMillerRabin;\n    // (protected) true if probably prime (HAC 4.24, Miller-Rabin)\n    BigInteger.prototype.millerRabin = function (t) {\n        var n1 = this.subtract(BigInteger.ONE);\n        var k = n1.getLowestSetBit();\n        if (k <= 0) {\n            return false;\n        }\n        var r = n1.shiftRight(k);\n        t = (t + 1) >> 1;\n        if (t > lowprimes.length) {\n            t = lowprimes.length;\n        }\n        var a = nbi();\n        for (var i = 0; i < t; ++i) {\n            // Pick bases at random, instead of starting at 2\n            a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);\n            var y = a.modPow(r, this);\n            if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n                var j = 1;\n                while (j++ < k && y.compareTo(n1) != 0) {\n                    y = y.modPowInt(2, this);\n                    if (y.compareTo(BigInteger.ONE) == 0) {\n                        return false;\n                    }\n                }\n                if (y.compareTo(n1) != 0) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    // BigInteger.prototype.square = bnSquare;\n    // (public) this^2\n    BigInteger.prototype.square = function () {\n        var r = nbi();\n        this.squareTo(r);\n        return r;\n    };\n    //#region ASYNC\n    // Public API method\n    BigInteger.prototype.gcda = function (a, callback) {\n        var x = (this.s < 0) ? this.negate() : this.clone();\n        var y = (a.s < 0) ? a.negate() : a.clone();\n        if (x.compareTo(y) < 0) {\n            var t = x;\n            x = y;\n            y = t;\n        }\n        var i = x.getLowestSetBit();\n        var g = y.getLowestSetBit();\n        if (g < 0) {\n            callback(x);\n            return;\n        }\n        if (i < g) {\n            g = i;\n        }\n        if (g > 0) {\n            x.rShiftTo(g, x);\n            y.rShiftTo(g, y);\n        }\n        // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.\n        var gcda1 = function () {\n            if ((i = x.getLowestSetBit()) > 0) {\n                x.rShiftTo(i, x);\n            }\n            if ((i = y.getLowestSetBit()) > 0) {\n                y.rShiftTo(i, y);\n            }\n            if (x.compareTo(y) >= 0) {\n                x.subTo(y, x);\n                x.rShiftTo(1, x);\n            }\n            else {\n                y.subTo(x, y);\n                y.rShiftTo(1, y);\n            }\n            if (!(x.signum() > 0)) {\n                if (g > 0) {\n                    y.lShiftTo(g, y);\n                }\n                setTimeout(function () { callback(y); }, 0); // escape\n            }\n            else {\n                setTimeout(gcda1, 0);\n            }\n        };\n        setTimeout(gcda1, 10);\n    };\n    // (protected) alternate constructor\n    BigInteger.prototype.fromNumberAsync = function (a, b, c, callback) {\n        if ("number" == typeof b) {\n            if (a < 2) {\n                this.fromInt(1);\n            }\n            else {\n                this.fromNumber(a, c);\n                if (!this.testBit(a - 1)) {\n                    this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\n                }\n                if (this.isEven()) {\n                    this.dAddOffset(1, 0);\n                }\n                var bnp_1 = this;\n                var bnpfn1_1 = function () {\n                    bnp_1.dAddOffset(2, 0);\n                    if (bnp_1.bitLength() > a) {\n                        bnp_1.subTo(BigInteger.ONE.shiftLeft(a - 1), bnp_1);\n                    }\n                    if (bnp_1.isProbablePrime(b)) {\n                        setTimeout(function () { callback(); }, 0); // escape\n                    }\n                    else {\n                        setTimeout(bnpfn1_1, 0);\n                    }\n                };\n                setTimeout(bnpfn1_1, 0);\n            }\n        }\n        else {\n            var x = [];\n            var t = a & 7;\n            x.length = (a >> 3) + 1;\n            b.nextBytes(x);\n            if (t > 0) {\n                x[0] &= ((1 << t) - 1);\n            }\n            else {\n                x[0] = 0;\n            }\n            this.fromString(x, 256);\n        }\n    };\n    return BigInteger;\n}());\n//#region REDUCERS\n//#region NullExp\nvar NullExp = /** @class */ (function () {\n    function NullExp() {\n    }\n    // NullExp.prototype.convert = nNop;\n    NullExp.prototype.convert = function (x) {\n        return x;\n    };\n    // NullExp.prototype.revert = nNop;\n    NullExp.prototype.revert = function (x) {\n        return x;\n    };\n    // NullExp.prototype.mulTo = nMulTo;\n    NullExp.prototype.mulTo = function (x, y, r) {\n        x.multiplyTo(y, r);\n    };\n    // NullExp.prototype.sqrTo = nSqrTo;\n    NullExp.prototype.sqrTo = function (x, r) {\n        x.squareTo(r);\n    };\n    return NullExp;\n}());\n// Modular reduction using "classic" algorithm\nvar Classic = /** @class */ (function () {\n    function Classic(m) {\n        this.m = m;\n    }\n    // Classic.prototype.convert = cConvert;\n    Classic.prototype.convert = function (x) {\n        if (x.s < 0 || x.compareTo(this.m) >= 0) {\n            return x.mod(this.m);\n        }\n        else {\n            return x;\n        }\n    };\n    // Classic.prototype.revert = cRevert;\n    Classic.prototype.revert = function (x) {\n        return x;\n    };\n    // Classic.prototype.reduce = cReduce;\n    Classic.prototype.reduce = function (x) {\n        x.divRemTo(this.m, null, x);\n    };\n    // Classic.prototype.mulTo = cMulTo;\n    Classic.prototype.mulTo = function (x, y, r) {\n        x.multiplyTo(y, r);\n        this.reduce(r);\n    };\n    // Classic.prototype.sqrTo = cSqrTo;\n    Classic.prototype.sqrTo = function (x, r) {\n        x.squareTo(r);\n        this.reduce(r);\n    };\n    return Classic;\n}());\n//#endregion\n//#region Montgomery\n// Montgomery reduction\nvar Montgomery = /** @class */ (function () {\n    function Montgomery(m) {\n        this.m = m;\n        this.mp = m.invDigit();\n        this.mpl = this.mp & 0x7fff;\n        this.mph = this.mp >> 15;\n        this.um = (1 << (m.DB - 15)) - 1;\n        this.mt2 = 2 * m.t;\n    }\n    // Montgomery.prototype.convert = montConvert;\n    // xR mod m\n    Montgomery.prototype.convert = function (x) {\n        var r = nbi();\n        x.abs().dlShiftTo(this.m.t, r);\n        r.divRemTo(this.m, null, r);\n        if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {\n            this.m.subTo(r, r);\n        }\n        return r;\n    };\n    // Montgomery.prototype.revert = montRevert;\n    // x/R mod m\n    Montgomery.prototype.revert = function (x) {\n        var r = nbi();\n        x.copyTo(r);\n        this.reduce(r);\n        return r;\n    };\n    // Montgomery.prototype.reduce = montReduce;\n    // x = x/R mod m (HAC 14.32)\n    Montgomery.prototype.reduce = function (x) {\n        while (x.t <= this.mt2) {\n            // pad x so am has enough room later\n            x[x.t++] = 0;\n        }\n        for (var i = 0; i < this.m.t; ++i) {\n            // faster way of calculating u0 = x[i]*mp mod DV\n            var j = x[i] & 0x7fff;\n            var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM;\n            // use am to combine the multiply-shift-add into one call\n            j = i + this.m.t;\n            x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n            // propagate carry\n            while (x[j] >= x.DV) {\n                x[j] -= x.DV;\n                x[++j]++;\n            }\n        }\n        x.clamp();\n        x.drShiftTo(this.m.t, x);\n        if (x.compareTo(this.m) >= 0) {\n            x.subTo(this.m, x);\n        }\n    };\n    // Montgomery.prototype.mulTo = montMulTo;\n    // r = "xy/R mod m"; x,y != r\n    Montgomery.prototype.mulTo = function (x, y, r) {\n        x.multiplyTo(y, r);\n        this.reduce(r);\n    };\n    // Montgomery.prototype.sqrTo = montSqrTo;\n    // r = "x^2/R mod m"; x != r\n    Montgomery.prototype.sqrTo = function (x, r) {\n        x.squareTo(r);\n        this.reduce(r);\n    };\n    return Montgomery;\n}());\n//#endregion Montgomery\n//#region Barrett\n// Barrett modular reduction\nvar Barrett = /** @class */ (function () {\n    function Barrett(m) {\n        this.m = m;\n        // setup Barrett\n        this.r2 = nbi();\n        this.q3 = nbi();\n        BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);\n        this.mu = this.r2.divide(m);\n    }\n    // Barrett.prototype.convert = barrettConvert;\n    Barrett.prototype.convert = function (x) {\n        if (x.s < 0 || x.t > 2 * this.m.t) {\n            return x.mod(this.m);\n        }\n        else if (x.compareTo(this.m) < 0) {\n            return x;\n        }\n        else {\n            var r = nbi();\n            x.copyTo(r);\n            this.reduce(r);\n            return r;\n        }\n    };\n    // Barrett.prototype.revert = barrettRevert;\n    Barrett.prototype.revert = function (x) {\n        return x;\n    };\n    // Barrett.prototype.reduce = barrettReduce;\n    // x = x mod m (HAC 14.42)\n    Barrett.prototype.reduce = function (x) {\n        x.drShiftTo(this.m.t - 1, this.r2);\n        if (x.t > this.m.t + 1) {\n            x.t = this.m.t + 1;\n            x.clamp();\n        }\n        this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);\n        this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);\n        while (x.compareTo(this.r2) < 0) {\n            x.dAddOffset(1, this.m.t + 1);\n        }\n        x.subTo(this.r2, x);\n        while (x.compareTo(this.m) >= 0) {\n            x.subTo(this.m, x);\n        }\n    };\n    // Barrett.prototype.mulTo = barrettMulTo;\n    // r = x*y mod m; x,y != r\n    Barrett.prototype.mulTo = function (x, y, r) {\n        x.multiplyTo(y, r);\n        this.reduce(r);\n    };\n    // Barrett.prototype.sqrTo = barrettSqrTo;\n    // r = x^2 mod m; x != r\n    Barrett.prototype.sqrTo = function (x, r) {\n        x.squareTo(r);\n        this.reduce(r);\n    };\n    return Barrett;\n}());\n//#endregion\n//#endregion REDUCERS\n// return new, unset BigInteger\nfunction nbi() { return new BigInteger(null); }\nfunction parseBigInt(str, r) {\n    return new BigInteger(str, r);\n}\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n    while (--n >= 0) {\n        var v = x * this[i++] + w[j] + c;\n        c = Math.floor(v / 0x4000000);\n        w[j++] = v & 0x3ffffff;\n    }\n    return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n    var xl = x & 0x7fff;\n    var xh = x >> 15;\n    while (--n >= 0) {\n        var l = this[i] & 0x7fff;\n        var h = this[i++] >> 15;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n        c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n        w[j++] = l & 0x3fffffff;\n    }\n    return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n    var xl = x & 0x3fff;\n    var xh = x >> 14;\n    while (--n >= 0) {\n        var l = this[i] & 0x3fff;\n        var h = this[i++] >> 14;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n        c = (l >> 28) + (m >> 14) + xh * h;\n        w[j++] = l & 0xfffffff;\n    }\n    return c;\n}\nif (j_lm && (navigator.appName == "Microsoft Internet Explorer")) {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n}\nelse if (j_lm && (navigator.appName != "Netscape")) {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n}\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1 << dbits) - 1);\nBigInteger.prototype.DV = (1 << dbits);\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n// Digit conversions\nvar BI_RC = [];\nvar rr;\nvar vv;\nrr = "0".charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) {\n    BI_RC[rr++] = vv;\n}\nrr = "a".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n    BI_RC[rr++] = vv;\n}\nrr = "A".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n    BI_RC[rr++] = vv;\n}\nfunction intAt(s, i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return (c == null) ? -1 : c;\n}\n// return bigint initialized to value\nfunction nbv(i) {\n    var r = nbi();\n    r.fromInt(i);\n    return r;\n}\n// returns bit length of the integer x\nfunction nbits(x) {\n    var r = 1;\n    var t;\n    if ((t = x >>> 16) != 0) {\n        x = t;\n        r += 16;\n    }\n    if ((t = x >> 8) != 0) {\n        x = t;\n        r += 8;\n    }\n    if ((t = x >> 4) != 0) {\n        x = t;\n        r += 4;\n    }\n    if ((t = x >> 2) != 0) {\n        x = t;\n        r += 2;\n    }\n    if ((t = x >> 1) != 0) {\n        x = t;\n        r += 1;\n    }\n    return r;\n}\n// "constants"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n\n// prng4.js - uses Arcfour as a PRNG\nvar Arcfour = /** @class */ (function () {\n    function Arcfour() {\n        this.i = 0;\n        this.j = 0;\n        this.S = [];\n    }\n    // Arcfour.prototype.init = ARC4init;\n    // Initialize arcfour context from key, an array of ints, each from [0..255]\n    Arcfour.prototype.init = function (key) {\n        var i;\n        var j;\n        var t;\n        for (i = 0; i < 256; ++i) {\n            this.S[i] = i;\n        }\n        j = 0;\n        for (i = 0; i < 256; ++i) {\n            j = (j + this.S[i] + key[i % key.length]) & 255;\n            t = this.S[i];\n            this.S[i] = this.S[j];\n            this.S[j] = t;\n        }\n        this.i = 0;\n        this.j = 0;\n    };\n    // Arcfour.prototype.next = ARC4next;\n    Arcfour.prototype.next = function () {\n        var t;\n        this.i = (this.i + 1) & 255;\n        this.j = (this.j + this.S[this.i]) & 255;\n        t = this.S[this.i];\n        this.S[this.i] = this.S[this.j];\n        this.S[this.j] = t;\n        return this.S[(t + this.S[this.i]) & 255];\n    };\n    return Arcfour;\n}());\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n    return new Arcfour();\n}\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n\n// Random number generator - requires a PRNG backend, e.g. prng4.js\nvar rng_state;\nvar rng_pool = null;\nvar rng_pptr;\n// Initialize the pool with junk if needed.\nif (rng_pool == null) {\n    rng_pool = [];\n    rng_pptr = 0;\n    var t = void 0;\n    if (window.crypto && window.crypto.getRandomValues) {\n        // Extract entropy (2048 bits) from RNG if available\n        var z = new Uint32Array(256);\n        window.crypto.getRandomValues(z);\n        for (t = 0; t < z.length; ++t) {\n            rng_pool[rng_pptr++] = z[t] & 255;\n        }\n    }\n    // Use mouse events for entropy, if we do not have enough entropy by the time\n    // we need it, entropy will be generated by Math.random.\n    var onMouseMoveListener_1 = function (ev) {\n        this.count = this.count || 0;\n        if (this.count >= 256 || rng_pptr >= rng_psize) {\n            if (window.removeEventListener) {\n                window.removeEventListener("mousemove", onMouseMoveListener_1, false);\n            }\n            else if (window.detachEvent) {\n                window.detachEvent("onmousemove", onMouseMoveListener_1);\n            }\n            return;\n        }\n        try {\n            var mouseCoordinates = ev.x + ev.y;\n            rng_pool[rng_pptr++] = mouseCoordinates & 255;\n            this.count += 1;\n        }\n        catch (e) {\n            // Sometimes Firefox will deny permission to access event properties for some reason. Ignore.\n        }\n    };\n    if (window.addEventListener) {\n        window.addEventListener("mousemove", onMouseMoveListener_1, false);\n    }\n    else if (window.attachEvent) {\n        window.attachEvent("onmousemove", onMouseMoveListener_1);\n    }\n}\nfunction rng_get_byte() {\n    if (rng_state == null) {\n        rng_state = prng_newstate();\n        // At this point, we may not have collected enough entropy.  If not, fall back to Math.random\n        while (rng_pptr < rng_psize) {\n            var random = Math.floor(65536 * Math.random());\n            rng_pool[rng_pptr++] = random & 255;\n        }\n        rng_state.init(rng_pool);\n        for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) {\n            rng_pool[rng_pptr] = 0;\n        }\n        rng_pptr = 0;\n    }\n    // TODO: allow reseeding after first request\n    return rng_state.next();\n}\nvar SecureRandom = /** @class */ (function () {\n    function SecureRandom() {\n    }\n    SecureRandom.prototype.nextBytes = function (ba) {\n        for (var i = 0; i < ba.length; ++i) {\n            ba[i] = rng_get_byte();\n        }\n    };\n    return SecureRandom;\n}());\n\n// Depends on jsbn.js and rng.js\n// function linebrk(s,n) {\n//   var ret = "";\n//   var i = 0;\n//   while(i + n < s.length) {\n//     ret += s.substring(i,i+n) + "\\n";\n//     i += n;\n//   }\n//   return ret + s.substring(i,s.length);\n// }\n// function byte2Hex(b) {\n//   if(b < 0x10)\n//     return "0" + b.toString(16);\n//   else\n//     return b.toString(16);\n// }\nfunction pkcs1pad1(s, n) {\n    if (n < s.length + 22) {\n        console.error("Message too long for RSA");\n        return null;\n    }\n    var len = n - s.length - 6;\n    var filler = "";\n    for (var f = 0; f < len; f += 2) {\n        filler += "ff";\n    }\n    var m = "0001" + filler + "00" + s;\n    return parseBigInt(m, 16);\n}\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\nfunction pkcs1pad2(s, n) {\n    if (n < s.length + 11) { // TODO: fix for utf-8\n        console.error("Message too long for RSA");\n        return null;\n    }\n    var ba = [];\n    var i = s.length - 1;\n    while (i >= 0 && n > 0) {\n        var c = s.charCodeAt(i--);\n        if (c < 128) { // encode using utf-8\n            ba[--n] = c;\n        }\n        else if ((c > 127) && (c < 2048)) {\n            ba[--n] = (c & 63) | 128;\n            ba[--n] = (c >> 6) | 192;\n        }\n        else {\n            ba[--n] = (c & 63) | 128;\n            ba[--n] = ((c >> 6) & 63) | 128;\n            ba[--n] = (c >> 12) | 224;\n        }\n    }\n    ba[--n] = 0;\n    var rng = new SecureRandom();\n    var x = [];\n    while (n > 2) { // random non-zero pad\n        x[0] = 0;\n        while (x[0] == 0) {\n            rng.nextBytes(x);\n        }\n        ba[--n] = x[0];\n    }\n    ba[--n] = 2;\n    ba[--n] = 0;\n    return new BigInteger(ba);\n}\n// "empty" RSA key constructor\nvar RSAKey = /** @class */ (function () {\n    function RSAKey() {\n        this.n = null;\n        this.e = 0;\n        this.d = null;\n        this.p = null;\n        this.q = null;\n        this.dmp1 = null;\n        this.dmq1 = null;\n        this.coeff = null;\n    }\n    //#region PROTECTED\n    // protected\n    // RSAKey.prototype.doPublic = RSADoPublic;\n    // Perform raw public operation on "x": return x^e (mod n)\n    RSAKey.prototype.doPublic = function (x) {\n        return x.modPowInt(this.e, this.n);\n    };\n    // RSAKey.prototype.doPrivate = RSADoPrivate;\n    // Perform raw private operation on "x": return x^d (mod n)\n    RSAKey.prototype.doPrivate = function (x) {\n        if (this.p == null || this.q == null) {\n            return x.modPow(this.d, this.n);\n        }\n        // TODO: re-calculate any missing CRT params\n        var xp = x.mod(this.p).modPow(this.dmp1, this.p);\n        var xq = x.mod(this.q).modPow(this.dmq1, this.q);\n        while (xp.compareTo(xq) < 0) {\n            xp = xp.add(this.p);\n        }\n        return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);\n    };\n    //#endregion PROTECTED\n    //#region PUBLIC\n    // RSAKey.prototype.setPublic = RSASetPublic;\n    // Set the public key fields N and e from hex strings\n    RSAKey.prototype.setPublic = function (N, E) {\n        if (N != null && E != null && N.length > 0 && E.length > 0) {\n            this.n = parseBigInt(N, 16);\n            this.e = parseInt(E, 16);\n        }\n        else {\n            console.error("Invalid RSA public key");\n        }\n    };\n    // RSAKey.prototype.encrypt = RSAEncrypt;\n    // Return the PKCS#1 RSA encryption of "text" as an even-length hex string\n    RSAKey.prototype.encrypt = function (text) {\n        var m = pkcs1pad2(text, (this.n.bitLength() + 7) >> 3);\n        if (m == null) {\n            return null;\n        }\n        var c = this.doPublic(m);\n        if (c == null) {\n            return null;\n        }\n        var h = c.toString(16);\n        if ((h.length & 1) == 0) {\n            return h;\n        }\n        else {\n            return "0" + h;\n        }\n    };\n    // RSAKey.prototype.setPrivate = RSASetPrivate;\n    // Set the private key fields N, e, and d from hex strings\n    RSAKey.prototype.setPrivate = function (N, E, D) {\n        if (N != null && E != null && N.length > 0 && E.length > 0) {\n            this.n = parseBigInt(N, 16);\n            this.e = parseInt(E, 16);\n            this.d = parseBigInt(D, 16);\n        }\n        else {\n            console.error("Invalid RSA private key");\n        }\n    };\n    // RSAKey.prototype.setPrivateEx = RSASetPrivateEx;\n    // Set the private key fields N, e, d and CRT params from hex strings\n    RSAKey.prototype.setPrivateEx = function (N, E, D, P, Q, DP, DQ, C) {\n        if (N != null && E != null && N.length > 0 && E.length > 0) {\n            this.n = parseBigInt(N, 16);\n            this.e = parseInt(E, 16);\n            this.d = parseBigInt(D, 16);\n            this.p = parseBigInt(P, 16);\n            this.q = parseBigInt(Q, 16);\n            this.dmp1 = parseBigInt(DP, 16);\n            this.dmq1 = parseBigInt(DQ, 16);\n            this.coeff = parseBigInt(C, 16);\n        }\n        else {\n            console.error("Invalid RSA private key");\n        }\n    };\n    // RSAKey.prototype.generate = RSAGenerate;\n    // Generate a new random private key B bits long, using public expt E\n    RSAKey.prototype.generate = function (B, E) {\n        var rng = new SecureRandom();\n        var qs = B >> 1;\n        this.e = parseInt(E, 16);\n        var ee = new BigInteger(E, 16);\n        for (;;) {\n            for (;;) {\n                this.p = new BigInteger(B - qs, 1, rng);\n                if (this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) {\n                    break;\n                }\n            }\n            for (;;) {\n                this.q = new BigInteger(qs, 1, rng);\n                if (this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) {\n                    break;\n                }\n            }\n            if (this.p.compareTo(this.q) <= 0) {\n                var t = this.p;\n                this.p = this.q;\n                this.q = t;\n            }\n            var p1 = this.p.subtract(BigInteger.ONE);\n            var q1 = this.q.subtract(BigInteger.ONE);\n            var phi = p1.multiply(q1);\n            if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n                this.n = this.p.multiply(this.q);\n                this.d = ee.modInverse(phi);\n                this.dmp1 = this.d.mod(p1);\n                this.dmq1 = this.d.mod(q1);\n                this.coeff = this.q.modInverse(this.p);\n                break;\n            }\n        }\n    };\n    // RSAKey.prototype.decrypt = RSADecrypt;\n    // Return the PKCS#1 RSA decryption of "ctext".\n    // "ctext" is an even-length hex string and the output is a plain string.\n    RSAKey.prototype.decrypt = function (ctext) {\n        var c = parseBigInt(ctext, 16);\n        var m = this.doPrivate(c);\n        if (m == null) {\n            return null;\n        }\n        return pkcs1unpad2(m, (this.n.bitLength() + 7) >> 3);\n    };\n    // Generate a new random private key B bits long, using public expt E\n    RSAKey.prototype.generateAsync = function (B, E, callback) {\n        var rng = new SecureRandom();\n        var qs = B >> 1;\n        this.e = parseInt(E, 16);\n        var ee = new BigInteger(E, 16);\n        var rsa = this;\n        // These functions have non-descript names because they were originally for(;;) loops.\n        // I don\'t know about cryptography to give them better names than loop1-4.\n        var loop1 = function () {\n            var loop4 = function () {\n                if (rsa.p.compareTo(rsa.q) <= 0) {\n                    var t = rsa.p;\n                    rsa.p = rsa.q;\n                    rsa.q = t;\n                }\n                var p1 = rsa.p.subtract(BigInteger.ONE);\n                var q1 = rsa.q.subtract(BigInteger.ONE);\n                var phi = p1.multiply(q1);\n                if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n                    rsa.n = rsa.p.multiply(rsa.q);\n                    rsa.d = ee.modInverse(phi);\n                    rsa.dmp1 = rsa.d.mod(p1);\n                    rsa.dmq1 = rsa.d.mod(q1);\n                    rsa.coeff = rsa.q.modInverse(rsa.p);\n                    setTimeout(function () { callback(); }, 0); // escape\n                }\n                else {\n                    setTimeout(loop1, 0);\n                }\n            };\n            var loop3 = function () {\n                rsa.q = nbi();\n                rsa.q.fromNumberAsync(qs, 1, rng, function () {\n                    rsa.q.subtract(BigInteger.ONE).gcda(ee, function (r) {\n                        if (r.compareTo(BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {\n                            setTimeout(loop4, 0);\n                        }\n                        else {\n                            setTimeout(loop3, 0);\n                        }\n                    });\n                });\n            };\n            var loop2 = function () {\n                rsa.p = nbi();\n                rsa.p.fromNumberAsync(B - qs, 1, rng, function () {\n                    rsa.p.subtract(BigInteger.ONE).gcda(ee, function (r) {\n                        if (r.compareTo(BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {\n                            setTimeout(loop3, 0);\n                        }\n                        else {\n                            setTimeout(loop2, 0);\n                        }\n                    });\n                });\n            };\n            setTimeout(loop2, 0);\n        };\n        setTimeout(loop1, 0);\n    };\n    RSAKey.prototype.sign = function (text, digestMethod, digestName) {\n        var header = getDigestHeader(digestName);\n        var digest = header + digestMethod(text).toString();\n        var m = pkcs1pad1(digest, this.n.bitLength() / 4);\n        if (m == null) {\n            return null;\n        }\n        var c = this.doPrivate(m);\n        if (c == null) {\n            return null;\n        }\n        var h = c.toString(16);\n        if ((h.length & 1) == 0) {\n            return h;\n        }\n        else {\n            return "0" + h;\n        }\n    };\n    RSAKey.prototype.verify = function (text, signature, digestMethod) {\n        var c = parseBigInt(signature, 16);\n        var m = this.doPublic(c);\n        if (m == null) {\n            return null;\n        }\n        var unpadded = m.toString(16).replace(/^1f+00/, "");\n        var digest = removeDigestHeader(unpadded);\n        return digest == digestMethod(text).toString();\n    };\n    return RSAKey;\n}());\n// Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext\nfunction pkcs1unpad2(d, n) {\n    var b = d.toByteArray();\n    var i = 0;\n    while (i < b.length && b[i] == 0) {\n        ++i;\n    }\n    if (b.length - i != n - 1 || b[i] != 2) {\n        return null;\n    }\n    ++i;\n    while (b[i] != 0) {\n        if (++i >= b.length) {\n            return null;\n        }\n    }\n    var ret = "";\n    while (++i < b.length) {\n        var c = b[i] & 255;\n        if (c < 128) { // utf-8 decode\n            ret += String.fromCharCode(c);\n        }\n        else if ((c > 191) && (c < 224)) {\n            ret += String.fromCharCode(((c & 31) << 6) | (b[i + 1] & 63));\n            ++i;\n        }\n        else {\n            ret += String.fromCharCode(((c & 15) << 12) | ((b[i + 1] & 63) << 6) | (b[i + 2] & 63));\n            i += 2;\n        }\n    }\n    return ret;\n}\n// https://tools.ietf.org/html/rfc3447#page-43\nvar DIGEST_HEADERS = {\n    md2: "3020300c06082a864886f70d020205000410",\n    md5: "3020300c06082a864886f70d020505000410",\n    sha1: "3021300906052b0e03021a05000414",\n    sha224: "302d300d06096086480165030402040500041c",\n    sha256: "3031300d060960864801650304020105000420",\n    sha384: "3041300d060960864801650304020205000430",\n    sha512: "3051300d060960864801650304020305000440",\n    ripemd160: "3021300906052b2403020105000414",\n};\nfunction getDigestHeader(name) {\n    return DIGEST_HEADERS[name] || "";\n}\nfunction removeDigestHeader(str) {\n    for (var name_1 in DIGEST_HEADERS) {\n        if (DIGEST_HEADERS.hasOwnProperty(name_1)) {\n            var header = DIGEST_HEADERS[name_1];\n            var len = header.length;\n            if (str.substr(0, len) == header) {\n                return str.substr(len);\n            }\n        }\n    }\n    return str;\n}\n// Return the PKCS#1 RSA encryption of "text" as a Base64-encoded string\n// function RSAEncryptB64(text) {\n//  var h = this.encrypt(text);\n//  if(h) return hex2b64(h); else return null;\n// }\n// public\n// RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\n\n/*!\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\nvar YAHOO = {};\nYAHOO.lang = {\n    /**\n     * Utility to set up the prototype, constructor and superclass properties to\n     * support an inheritance strategy that can chain constructors and methods.\n     * Static members will not be inherited.\n     *\n     * @method extend\n     * @static\n     * @param {Function} subc   the object to modify\n     * @param {Function} superc the object to inherit\n     * @param {Object} overrides  additional properties/methods to add to the\n     *                              subclass prototype.  These will override the\n     *                              matching items obtained from the superclass\n     *                              if present.\n     */\n    extend: function(subc, superc, overrides) {\n        if (! superc || ! subc) {\n            throw new Error("YAHOO.lang.extend failed, please check that " +\n                "all dependencies are included.");\n        }\n\n        var F = function() {};\n        F.prototype = superc.prototype;\n        subc.prototype = new F();\n        subc.prototype.constructor = subc;\n        subc.superclass = superc.prototype;\n\n        if (superc.prototype.constructor == Object.prototype.constructor) {\n            superc.prototype.constructor = superc;\n        }\n\n        if (overrides) {\n            var i;\n            for (i in overrides) {\n                subc.prototype[i] = overrides[i];\n            }\n\n            /*\n             * IE will not enumerate native functions in a derived object even if the\n             * function was overridden.  This is a workaround for specific functions\n             * we care about on the Object prototype.\n             * @property _IEEnumFix\n             * @param {Function} r  the object to receive the augmentation\n             * @param {Function} s  the object that supplies the properties to augment\n             * @static\n             * @private\n             */\n            var _IEEnumFix = function() {},\n                ADD = ["toString", "valueOf"];\n            try {\n                if (/MSIE/.test(navigator.userAgent)) {\n                    _IEEnumFix = function(r, s) {\n                        for (i = 0; i < ADD.length; i = i + 1) {\n                            var fname = ADD[i], f = s[fname];\n                            if (typeof f === \'function\' && f != Object.prototype[fname]) {\n                                r[fname] = f;\n                            }\n                        }\n                    };\n                }\n            } catch (ex) {}            _IEEnumFix(subc.prototype, overrides);\n        }\n    }\n};\n\n/* asn1-1.0.13.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license\n */\n\n/**\n * @fileOverview\n * @name asn1-1.0.js\n * @author Kenji Urushima kenji.urushima@gmail.com\n * @version asn1 1.0.13 (2017-Jun-02)\n * @since jsrsasign 2.1\n * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>\n */\n\n/**\n * kjur\'s class library name space\n * <p>\n * This name space provides following name spaces:\n * <ul>\n * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\n * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\n * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature\n * class and utilities</li>\n * </ul>\n * </p>\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\n * @name KJUR\n * @namespace kjur\'s class library name space\n */\nvar KJUR = {};\n\n/**\n * kjur\'s ASN.1 class library name space\n * <p>\n * This is ITU-T X.690 ASN.1 DER encoder class library and\n * class structure and methods is very similar to\n * org.bouncycastle.asn1 package of\n * well known BouncyCaslte Cryptography Library.\n * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\n * Here are ASN.1 DER primitive classes.\n * <ul>\n * <li>0x01 {@link KJUR.asn1.DERBoolean}</li>\n * <li>0x02 {@link KJUR.asn1.DERInteger}</li>\n * <li>0x03 {@link KJUR.asn1.DERBitString}</li>\n * <li>0x04 {@link KJUR.asn1.DEROctetString}</li>\n * <li>0x05 {@link KJUR.asn1.DERNull}</li>\n * <li>0x06 {@link KJUR.asn1.DERObjectIdentifier}</li>\n * <li>0x0a {@link KJUR.asn1.DEREnumerated}</li>\n * <li>0x0c {@link KJUR.asn1.DERUTF8String}</li>\n * <li>0x12 {@link KJUR.asn1.DERNumericString}</li>\n * <li>0x13 {@link KJUR.asn1.DERPrintableString}</li>\n * <li>0x14 {@link KJUR.asn1.DERTeletexString}</li>\n * <li>0x16 {@link KJUR.asn1.DERIA5String}</li>\n * <li>0x17 {@link KJUR.asn1.DERUTCTime}</li>\n * <li>0x18 {@link KJUR.asn1.DERGeneralizedTime}</li>\n * <li>0x30 {@link KJUR.asn1.DERSequence}</li>\n * <li>0x31 {@link KJUR.asn1.DERSet}</li>\n * </ul>\n * <h4>OTHER ASN.1 CLASSES</h4>\n * <ul>\n * <li>{@link KJUR.asn1.ASN1Object}</li>\n * <li>{@link KJUR.asn1.DERAbstractString}</li>\n * <li>{@link KJUR.asn1.DERAbstractTime}</li>\n * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\n * <li>{@link KJUR.asn1.DERTaggedObject}</li>\n * </ul>\n * <h4>SUB NAME SPACES</h4>\n * <ul>\n * <li>{@link KJUR.asn1.cades} - CAdES long term signature format</li>\n * <li>{@link KJUR.asn1.cms} - Cryptographic Message Syntax</li>\n * <li>{@link KJUR.asn1.csr} - Certificate Signing Request (CSR/PKCS#10)</li>\n * <li>{@link KJUR.asn1.tsp} - RFC 3161 Timestamping Protocol Format</li>\n * <li>{@link KJUR.asn1.x509} - RFC 5280 X.509 certificate and CRL</li>\n * </ul>\n * </p>\n * NOTE: Please ignore method summary and document of this namespace.\n * This caused by a bug of jsdoc2.\n * @name KJUR.asn1\n * @namespace\n */\nif (typeof KJUR.asn1 == "undefined" || !KJUR.asn1) KJUR.asn1 = {};\n\n/**\n * ASN1 utilities class\n * @name KJUR.asn1.ASN1Util\n * @class ASN1 utilities class\n * @since asn1 1.0.2\n */\nKJUR.asn1.ASN1Util = new function() {\n    this.integerToByteHex = function(i) {\n        var h = i.toString(16);\n        if ((h.length % 2) == 1) h = \'0\' + h;\n        return h;\n    };\n    this.bigIntToMinTwosComplementsHex = function(bigIntegerValue) {\n        var h = bigIntegerValue.toString(16);\n        if (h.substr(0, 1) != \'-\') {\n            if (h.length % 2 == 1) {\n                h = \'0\' + h;\n            } else {\n                if (! h.match(/^[0-7]/)) {\n                    h = \'00\' + h;\n                }\n            }\n        } else {\n            var hPos = h.substr(1);\n            var xorLen = hPos.length;\n            if (xorLen % 2 == 1) {\n                xorLen += 1;\n            } else {\n                if (! h.match(/^[0-7]/)) {\n                    xorLen += 2;\n                }\n            }\n            var hMask = \'\';\n            for (var i = 0; i < xorLen; i++) {\n                hMask += \'f\';\n            }\n            var biMask = new BigInteger(hMask, 16);\n            var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\n            h = biNeg.toString(16).replace(/^-/, \'\');\n        }\n        return h;\n    };\n    /**\n     * get PEM string from hexadecimal data and header string\n     * @name getPEMStringFromHex\n     * @memberOf KJUR.asn1.ASN1Util\n     * @function\n     * @param {String} dataHex hexadecimal string of PEM body\n     * @param {String} pemHeader PEM header string (ex. \'RSA PRIVATE KEY\')\n     * @return {String} PEM formatted string of input data\n     * @description\n     * This method converts a hexadecimal string to a PEM string with\n     * a specified header. Its line break will be CRLF("\\r\\n").\n     * @example\n     * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex(\'616161\', \'RSA PRIVATE KEY\');\n     * // value of pem will be:\n     * -----BEGIN PRIVATE KEY-----\n     * YWFh\n     * -----END PRIVATE KEY-----\n     */\n    this.getPEMStringFromHex = function(dataHex, pemHeader) {\n        return hextopem(dataHex, pemHeader);\n    };\n\n    /**\n     * generate ASN1Object specifed by JSON parameters\n     * @name newObject\n     * @memberOf KJUR.asn1.ASN1Util\n     * @function\n     * @param {Array} param JSON parameter to generate ASN1Object\n     * @return {KJUR.asn1.ASN1Object} generated object\n     * @since asn1 1.0.3\n     * @description\n     * generate any ASN1Object specified by JSON param\n     * including ASN.1 primitive or structured.\n     * Generally \'param\' can be described as follows:\n     * <blockquote>\n     * {TYPE-OF-ASNOBJ: ASN1OBJ-PARAMETER}\n     * </blockquote>\n     * \'TYPE-OF-ASN1OBJ\' can be one of following symbols:\n     * <ul>\n     * <li>\'bool\' - DERBoolean</li>\n     * <li>\'int\' - DERInteger</li>\n     * <li>\'bitstr\' - DERBitString</li>\n     * <li>\'octstr\' - DEROctetString</li>\n     * <li>\'null\' - DERNull</li>\n     * <li>\'oid\' - DERObjectIdentifier</li>\n     * <li>\'enum\' - DEREnumerated</li>\n     * <li>\'utf8str\' - DERUTF8String</li>\n     * <li>\'numstr\' - DERNumericString</li>\n     * <li>\'prnstr\' - DERPrintableString</li>\n     * <li>\'telstr\' - DERTeletexString</li>\n     * <li>\'ia5str\' - DERIA5String</li>\n     * <li>\'utctime\' - DERUTCTime</li>\n     * <li>\'gentime\' - DERGeneralizedTime</li>\n     * <li>\'seq\' - DERSequence</li>\n     * <li>\'set\' - DERSet</li>\n     * <li>\'tag\' - DERTaggedObject</li>\n     * </ul>\n     * @example\n     * newObject({\'prnstr\': \'aaa\'});\n     * newObject({\'seq\': [{\'int\': 3}, {\'prnstr\': \'aaa\'}]})\n     * // ASN.1 Tagged Object\n     * newObject({\'tag\': {\'tag\': \'a1\',\n     *                    \'explicit\': true,\n     *                    \'obj\': {\'seq\': [{\'int\': 3}, {\'prnstr\': \'aaa\'}]}}});\n     * // more simple representation of ASN.1 Tagged Object\n     * newObject({\'tag\': [\'a1\',\n     *                    true,\n     *                    {\'seq\': [\n     *                      {\'int\': 3},\n     *                      {\'prnstr\': \'aaa\'}]}\n     *                   ]});\n     */\n    this.newObject = function(param) {\n        var _KJUR = KJUR,\n            _KJUR_asn1 = _KJUR.asn1,\n            _DERBoolean = _KJUR_asn1.DERBoolean,\n            _DERInteger = _KJUR_asn1.DERInteger,\n            _DERBitString = _KJUR_asn1.DERBitString,\n            _DEROctetString = _KJUR_asn1.DEROctetString,\n            _DERNull = _KJUR_asn1.DERNull,\n            _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier,\n            _DEREnumerated = _KJUR_asn1.DEREnumerated,\n            _DERUTF8String = _KJUR_asn1.DERUTF8String,\n            _DERNumericString = _KJUR_asn1.DERNumericString,\n            _DERPrintableString = _KJUR_asn1.DERPrintableString,\n            _DERTeletexString = _KJUR_asn1.DERTeletexString,\n            _DERIA5String = _KJUR_asn1.DERIA5String,\n            _DERUTCTime = _KJUR_asn1.DERUTCTime,\n            _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime,\n            _DERSequence = _KJUR_asn1.DERSequence,\n            _DERSet = _KJUR_asn1.DERSet,\n            _DERTaggedObject = _KJUR_asn1.DERTaggedObject,\n            _newObject = _KJUR_asn1.ASN1Util.newObject;\n\n        var keys = Object.keys(param);\n        if (keys.length != 1)\n            throw "key of param shall be only one.";\n        var key = keys[0];\n\n        if (":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":" + key + ":") == -1)\n            throw "undefined key: " + key;\n\n        if (key == "bool")    return new _DERBoolean(param[key]);\n        if (key == "int")     return new _DERInteger(param[key]);\n        if (key == "bitstr")  return new _DERBitString(param[key]);\n        if (key == "octstr")  return new _DEROctetString(param[key]);\n        if (key == "null")    return new _DERNull(param[key]);\n        if (key == "oid")     return new _DERObjectIdentifier(param[key]);\n        if (key == "enum")    return new _DEREnumerated(param[key]);\n        if (key == "utf8str") return new _DERUTF8String(param[key]);\n        if (key == "numstr")  return new _DERNumericString(param[key]);\n        if (key == "prnstr")  return new _DERPrintableString(param[key]);\n        if (key == "telstr")  return new _DERTeletexString(param[key]);\n        if (key == "ia5str")  return new _DERIA5String(param[key]);\n        if (key == "utctime") return new _DERUTCTime(param[key]);\n        if (key == "gentime") return new _DERGeneralizedTime(param[key]);\n\n        if (key == "seq") {\n            var paramList = param[key];\n            var a = [];\n            for (var i = 0; i < paramList.length; i++) {\n                var asn1Obj = _newObject(paramList[i]);\n                a.push(asn1Obj);\n            }\n            return new _DERSequence({\'array\': a});\n        }\n\n        if (key == "set") {\n            var paramList = param[key];\n            var a = [];\n            for (var i = 0; i < paramList.length; i++) {\n                var asn1Obj = _newObject(paramList[i]);\n                a.push(asn1Obj);\n            }\n            return new _DERSet({\'array\': a});\n        }\n\n        if (key == "tag") {\n            var tagParam = param[key];\n            if (Object.prototype.toString.call(tagParam) === \'[object Array]\' &&\n                tagParam.length == 3) {\n                var obj = _newObject(tagParam[2]);\n                return new _DERTaggedObject({tag: tagParam[0],\n                    explicit: tagParam[1],\n                    obj: obj});\n            } else {\n                var newParam = {};\n                if (tagParam.explicit !== undefined)\n                    newParam.explicit = tagParam.explicit;\n                if (tagParam.tag !== undefined)\n                    newParam.tag = tagParam.tag;\n                if (tagParam.obj === undefined)\n                    throw "obj shall be specified for \'tag\'.";\n                newParam.obj = _newObject(tagParam.obj);\n                return new _DERTaggedObject(newParam);\n            }\n        }\n    };\n\n    /**\n     * get encoded hexadecimal string of ASN1Object specifed by JSON parameters\n     * @name jsonToASN1HEX\n     * @memberOf KJUR.asn1.ASN1Util\n     * @function\n     * @param {Array} param JSON parameter to generate ASN1Object\n     * @return hexadecimal string of ASN1Object\n     * @since asn1 1.0.4\n     * @description\n     * As for ASN.1 object representation of JSON object,\n     * please see {@link newObject}.\n     * @example\n     * jsonToASN1HEX({\'prnstr\': \'aaa\'});\n     */\n    this.jsonToASN1HEX = function(param) {\n        var asn1Obj = this.newObject(param);\n        return asn1Obj.getEncodedHex();\n    };\n};\n\n/**\n * get dot noted oid number string from hexadecimal value of OID\n * @name oidHexToInt\n * @memberOf KJUR.asn1.ASN1Util\n * @function\n * @param {String} hex hexadecimal value of object identifier\n * @return {String} dot noted string of object identifier\n * @since jsrsasign 4.8.3 asn1 1.0.7\n * @description\n * This static method converts from hexadecimal string representation of\n * ASN.1 value of object identifier to oid number string.\n * @example\n * KJUR.asn1.ASN1Util.oidHexToInt(\'550406\') &rarr; "2.5.4.6"\n */\nKJUR.asn1.ASN1Util.oidHexToInt = function(hex) {\n    var s = "";\n    var i01 = parseInt(hex.substr(0, 2), 16);\n    var i0 = Math.floor(i01 / 40);\n    var i1 = i01 % 40;\n    var s = i0 + "." + i1;\n\n    var binbuf = "";\n    for (var i = 2; i < hex.length; i += 2) {\n        var value = parseInt(hex.substr(i, 2), 16);\n        var bin = ("00000000" + value.toString(2)).slice(- 8);\n        binbuf = binbuf + bin.substr(1, 7);\n        if (bin.substr(0, 1) == "0") {\n            var bi = new BigInteger(binbuf, 2);\n            s = s + "." + bi.toString(10);\n            binbuf = "";\n        }\n    }\n    return s;\n};\n\n/**\n * get hexadecimal value of object identifier from dot noted oid value\n * @name oidIntToHex\n * @memberOf KJUR.asn1.ASN1Util\n * @function\n * @param {String} oidString dot noted string of object identifier\n * @return {String} hexadecimal value of object identifier\n * @since jsrsasign 4.8.3 asn1 1.0.7\n * @description\n * This static method converts from object identifier value string.\n * to hexadecimal string representation of it.\n * @example\n * KJUR.asn1.ASN1Util.oidIntToHex("2.5.4.6") &rarr; "550406"\n */\nKJUR.asn1.ASN1Util.oidIntToHex = function(oidString) {\n    var itox = function(i) {\n        var h = i.toString(16);\n        if (h.length == 1) h = \'0\' + h;\n        return h;\n    };\n\n    var roidtox = function(roid) {\n        var h = \'\';\n        var bi = new BigInteger(roid, 10);\n        var b = bi.toString(2);\n        var padLen = 7 - b.length % 7;\n        if (padLen == 7) padLen = 0;\n        var bPad = \'\';\n        for (var i = 0; i < padLen; i++) bPad += \'0\';\n        b = bPad + b;\n        for (var i = 0; i < b.length - 1; i += 7) {\n            var b8 = b.substr(i, 7);\n            if (i != b.length - 7) b8 = \'1\' + b8;\n            h += itox(parseInt(b8, 2));\n        }\n        return h;\n    };\n\n    if (! oidString.match(/^[0-9.]+$/)) {\n        throw "malformed oid string: " + oidString;\n    }\n    var h = \'\';\n    var a = oidString.split(\'.\');\n    var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\n    h += itox(i0);\n    a.splice(0, 2);\n    for (var i = 0; i < a.length; i++) {\n        h += roidtox(a[i]);\n    }\n    return h;\n};\n\n\n// ********************************************************************\n//  Abstract ASN.1 Classes\n// ********************************************************************\n\n// ********************************************************************\n\n/**\n * base class for ASN.1 DER encoder object\n * @name KJUR.asn1.ASN1Object\n * @class base class for ASN.1 DER encoder object\n * @property {Boolean} isModified flag whether internal data was changed\n * @property {String} hTLV hexadecimal string of ASN.1 TLV\n * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\n * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\n * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\n * @description\n */\nKJUR.asn1.ASN1Object = function() {\n    var hV = \'\';\n\n    /**\n     * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\n     * @name getLengthHexFromValue\n     * @memberOf KJUR.asn1.ASN1Object#\n     * @function\n     * @return {String} hexadecimal string of ASN.1 TLV length(L)\n     */\n    this.getLengthHexFromValue = function() {\n        if (typeof this.hV == "undefined" || this.hV == null) {\n            throw "this.hV is null or undefined.";\n        }\n        if (this.hV.length % 2 == 1) {\n            throw "value hex must be even length: n=" + hV.length + ",v=" + this.hV;\n        }\n        var n = this.hV.length / 2;\n        var hN = n.toString(16);\n        if (hN.length % 2 == 1) {\n            hN = "0" + hN;\n        }\n        if (n < 128) {\n            return hN;\n        } else {\n            var hNlen = hN.length / 2;\n            if (hNlen > 15) {\n                throw "ASN.1 length too long to represent by 8x: n = " + n.toString(16);\n            }\n            var head = 128 + hNlen;\n            return head.toString(16) + hN;\n        }\n    };\n\n    /**\n     * get hexadecimal string of ASN.1 TLV bytes\n     * @name getEncodedHex\n     * @memberOf KJUR.asn1.ASN1Object#\n     * @function\n     * @return {String} hexadecimal string of ASN.1 TLV\n     */\n    this.getEncodedHex = function() {\n        if (this.hTLV == null || this.isModified) {\n            this.hV = this.getFreshValueHex();\n            this.hL = this.getLengthHexFromValue();\n            this.hTLV = this.hT + this.hL + this.hV;\n            this.isModified = false;\n            //alert("first time: " + this.hTLV);\n        }\n        return this.hTLV;\n    };\n\n    /**\n     * get hexadecimal string of ASN.1 TLV value(V) bytes\n     * @name getValueHex\n     * @memberOf KJUR.asn1.ASN1Object#\n     * @function\n     * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\n     */\n    this.getValueHex = function() {\n        this.getEncodedHex();\n        return this.hV;\n    };\n\n    this.getFreshValueHex = function() {\n        return \'\';\n    };\n};\n\n// == BEGIN DERAbstractString ================================================\n/**\n * base class for ASN.1 DER string classes\n * @name KJUR.asn1.DERAbstractString\n * @class base class for ASN.1 DER string classes\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @property {String} s internal string of value\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>str - specify initial ASN.1 value(V) by a string</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: \'params\' can be omitted.\n */\nKJUR.asn1.DERAbstractString = function(params) {\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n\n    /**\n     * get string value of this string object\n     * @name getString\n     * @memberOf KJUR.asn1.DERAbstractString#\n     * @function\n     * @return {String} string value of this string object\n     */\n    this.getString = function() {\n        return this.s;\n    };\n\n    /**\n     * set value by a string\n     * @name setString\n     * @memberOf KJUR.asn1.DERAbstractString#\n     * @function\n     * @param {String} newS value by a string to set\n     */\n    this.setString = function(newS) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.s = newS;\n        this.hV = stohex(this.s);\n    };\n\n    /**\n     * set value by a hexadecimal string\n     * @name setStringHex\n     * @memberOf KJUR.asn1.DERAbstractString#\n     * @function\n     * @param {String} newHexString value by a hexadecimal string to set\n     */\n    this.setStringHex = function(newHexString) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.s = null;\n        this.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n\n    if (typeof params != "undefined") {\n        if (typeof params == "string") {\n            this.setString(params);\n        } else if (typeof params[\'str\'] != "undefined") {\n            this.setString(params[\'str\']);\n        } else if (typeof params[\'hex\'] != "undefined") {\n            this.setStringHex(params[\'hex\']);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);\n// == END   DERAbstractString ================================================\n\n// == BEGIN DERAbstractTime ==================================================\n/**\n * base class for ASN.1 DER Generalized/UTCTime class\n * @name KJUR.asn1.DERAbstractTime\n * @class base class for ASN.1 DER Generalized/UTCTime class\n * @param {Array} params associative array of parameters (ex. {\'str\': \'130430235959Z\'})\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERAbstractTime = function(params) {\n    KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\n\n    // --- PRIVATE METHODS --------------------\n    this.localDateToUTC = function(d) {\n        utc = d.getTime() + (d.getTimezoneOffset() * 60000);\n        var utcDate = new Date(utc);\n        return utcDate;\n    };\n\n    /*\n     * format date string by Data object\n     * @name formatDate\n     * @memberOf KJUR.asn1.AbstractTime;\n     * @param {Date} dateObject\n     * @param {string} type \'utc\' or \'gen\'\n     * @param {boolean} withMillis flag for with millisections or not\n     * @description\n     * \'withMillis\' flag is supported from asn1 1.0.6.\n     */\n    this.formatDate = function(dateObject, type, withMillis) {\n        var pad = this.zeroPadding;\n        var d = this.localDateToUTC(dateObject);\n        var year = String(d.getFullYear());\n        if (type == \'utc\') year = year.substr(2, 2);\n        var month = pad(String(d.getMonth() + 1), 2);\n        var day = pad(String(d.getDate()), 2);\n        var hour = pad(String(d.getHours()), 2);\n        var min = pad(String(d.getMinutes()), 2);\n        var sec = pad(String(d.getSeconds()), 2);\n        var s = year + month + day + hour + min + sec;\n        if (withMillis === true) {\n            var millis = d.getMilliseconds();\n            if (millis != 0) {\n                var sMillis = pad(String(millis), 3);\n                sMillis = sMillis.replace(/[0]+$/, "");\n                s = s + "." + sMillis;\n            }\n        }\n        return s + "Z";\n    };\n\n    this.zeroPadding = function(s, len) {\n        if (s.length >= len) return s;\n        return new Array(len - s.length + 1).join(\'0\') + s;\n    };\n\n    // --- PUBLIC METHODS --------------------\n    /**\n     * get string value of this string object\n     * @name getString\n     * @memberOf KJUR.asn1.DERAbstractTime#\n     * @function\n     * @return {String} string value of this time object\n     */\n    this.getString = function() {\n        return this.s;\n    };\n\n    /**\n     * set value by a string\n     * @name setString\n     * @memberOf KJUR.asn1.DERAbstractTime#\n     * @function\n     * @param {String} newS value by a string to set such like "130430235959Z"\n     */\n    this.setString = function(newS) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.s = newS;\n        this.hV = stohex(newS);\n    };\n\n    /**\n     * set value by a Date object\n     * @name setByDateValue\n     * @memberOf KJUR.asn1.DERAbstractTime#\n     * @function\n     * @param {Integer} year year of date (ex. 2013)\n     * @param {Integer} month month of date between 1 and 12 (ex. 12)\n     * @param {Integer} day day of month\n     * @param {Integer} hour hours of date\n     * @param {Integer} min minutes of date\n     * @param {Integer} sec seconds of date\n     */\n    this.setByDateValue = function(year, month, day, hour, min, sec) {\n        var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\n        this.setByDate(dateObject);\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n};\nYAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);\n// == END   DERAbstractTime ==================================================\n\n// == BEGIN DERAbstractStructured ============================================\n/**\n * base class for ASN.1 DER structured class\n * @name KJUR.asn1.DERAbstractStructured\n * @class base class for ASN.1 DER structured class\n * @property {Array} asn1Array internal array of ASN1Object\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERAbstractStructured = function(params) {\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n\n    /**\n     * set value by array of ASN1Object\n     * @name setByASN1ObjectArray\n     * @memberOf KJUR.asn1.DERAbstractStructured#\n     * @function\n     * @param {array} asn1ObjectArray array of ASN1Object to set\n     */\n    this.setByASN1ObjectArray = function(asn1ObjectArray) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.asn1Array = asn1ObjectArray;\n    };\n\n    /**\n     * append an ASN1Object to internal array\n     * @name appendASN1Object\n     * @memberOf KJUR.asn1.DERAbstractStructured#\n     * @function\n     * @param {ASN1Object} asn1Object to add\n     */\n    this.appendASN1Object = function(asn1Object) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.asn1Array.push(asn1Object);\n    };\n\n    this.asn1Array = new Array();\n    if (typeof params != "undefined") {\n        if (typeof params[\'array\'] != "undefined") {\n            this.asn1Array = params[\'array\'];\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);\n\n\n// ********************************************************************\n//  ASN.1 Object Classes\n// ********************************************************************\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Boolean\n * @name KJUR.asn1.DERBoolean\n * @class class for ASN.1 DER Boolean\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERBoolean = function() {\n    KJUR.asn1.DERBoolean.superclass.constructor.call(this);\n    this.hT = "01";\n    this.hTLV = "0101ff";\n};\nYAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Integer\n * @name KJUR.asn1.DERInteger\n * @class class for ASN.1 DER Integer\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\n * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: \'params\' can be omitted.\n */\nKJUR.asn1.DERInteger = function(params) {\n    KJUR.asn1.DERInteger.superclass.constructor.call(this);\n    this.hT = "02";\n\n    /**\n     * set value by Tom Wu\'s BigInteger object\n     * @name setByBigInteger\n     * @memberOf KJUR.asn1.DERInteger#\n     * @function\n     * @param {BigInteger} bigIntegerValue to set\n     */\n    this.setByBigInteger = function(bigIntegerValue) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\n    };\n\n    /**\n     * set value by integer value\n     * @name setByInteger\n     * @memberOf KJUR.asn1.DERInteger\n     * @function\n     * @param {Integer} integer value to set\n     */\n    this.setByInteger = function(intValue) {\n        var bi = new BigInteger(String(intValue), 10);\n        this.setByBigInteger(bi);\n    };\n\n    /**\n     * set value by integer value\n     * @name setValueHex\n     * @memberOf KJUR.asn1.DERInteger#\n     * @function\n     * @param {String} hexadecimal string of integer value\n     * @description\n     * <br/>\n     * NOTE: Value shall be represented by minimum octet length of\n     * two\'s complement representation.\n     * @example\n     * new KJUR.asn1.DERInteger(123);\n     * new KJUR.asn1.DERInteger({\'int\': 123});\n     * new KJUR.asn1.DERInteger({\'hex\': \'1fad\'});\n     */\n    this.setValueHex = function(newHexString) {\n        this.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n\n    if (typeof params != "undefined") {\n        if (typeof params[\'bigint\'] != "undefined") {\n            this.setByBigInteger(params[\'bigint\']);\n        } else if (typeof params[\'int\'] != "undefined") {\n            this.setByInteger(params[\'int\']);\n        } else if (typeof params == "number") {\n            this.setByInteger(params);\n        } else if (typeof params[\'hex\'] != "undefined") {\n            this.setValueHex(params[\'hex\']);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER encoded BitString primitive\n * @name KJUR.asn1.DERBitString\n * @class class for ASN.1 DER encoded BitString primitive\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>bin - specify binary string (ex. \'10111\')</li>\n * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\n * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\n * <li>obj - specify {@link KJUR.asn1.ASN1Util.newObject}\n * argument for "BitString encapsulates" structure.</li>\n * </ul>\n * NOTE1: \'params\' can be omitted.<br/>\n * NOTE2: \'obj\' parameter have been supported since\n * asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).<br/>\n * @example\n * // default constructor\n * o = new KJUR.asn1.DERBitString();\n * // initialize with binary string\n * o = new KJUR.asn1.DERBitString({bin: "1011"});\n * // initialize with boolean array\n * o = new KJUR.asn1.DERBitString({array: [true,false,true,true]});\n * // initialize with hexadecimal string (04 is unused bits)\n * o = new KJUR.asn1.DEROctetString({hex: "04bac0"});\n * // initialize with ASN1Util.newObject argument for encapsulated\n * o = new KJUR.asn1.DERBitString({obj: {seq: [{int: 3}, {prnstr: \'aaa\'}]}});\n * // above generates a ASN.1 data like this:\n * // BIT STRING, encapsulates {\n * //   SEQUENCE {\n * //     INTEGER 3\n * //     PrintableString \'aaa\'\n * //     }\n * //   }\n */\nKJUR.asn1.DERBitString = function(params) {\n    if (params !== undefined && typeof params.obj !== "undefined") {\n        var o = KJUR.asn1.ASN1Util.newObject(params.obj);\n        params.hex = "00" + o.getEncodedHex();\n    }\n    KJUR.asn1.DERBitString.superclass.constructor.call(this);\n    this.hT = "03";\n\n    /**\n     * set ASN.1 value(V) by a hexadecimal string including unused bits\n     * @name setHexValueIncludingUnusedBits\n     * @memberOf KJUR.asn1.DERBitString#\n     * @function\n     * @param {String} newHexStringIncludingUnusedBits\n     */\n    this.setHexValueIncludingUnusedBits = function(newHexStringIncludingUnusedBits) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.hV = newHexStringIncludingUnusedBits;\n    };\n\n    /**\n     * set ASN.1 value(V) by unused bit and hexadecimal string of value\n     * @name setUnusedBitsAndHexValue\n     * @memberOf KJUR.asn1.DERBitString#\n     * @function\n     * @param {Integer} unusedBits\n     * @param {String} hValue\n     */\n    this.setUnusedBitsAndHexValue = function(unusedBits, hValue) {\n        if (unusedBits < 0 || 7 < unusedBits) {\n            throw "unused bits shall be from 0 to 7: u = " + unusedBits;\n        }\n        var hUnusedBits = "0" + unusedBits;\n        this.hTLV = null;\n        this.isModified = true;\n        this.hV = hUnusedBits + hValue;\n    };\n\n    /**\n     * set ASN.1 DER BitString by binary string<br/>\n     * @name setByBinaryString\n     * @memberOf KJUR.asn1.DERBitString#\n     * @function\n     * @param {String} binaryString binary value string (i.e. \'10111\')\n     * @description\n     * Its unused bits will be calculated automatically by length of\n     * \'binaryValue\'. <br/>\n     * NOTE: Trailing zeros \'0\' will be ignored.\n     * @example\n     * o = new KJUR.asn1.DERBitString();\n     * o.setByBooleanArray("01011");\n     */\n    this.setByBinaryString = function(binaryString) {\n        binaryString = binaryString.replace(/0+$/, \'\');\n        var unusedBits = 8 - binaryString.length % 8;\n        if (unusedBits == 8) unusedBits = 0;\n        for (var i = 0; i <= unusedBits; i++) {\n            binaryString += \'0\';\n        }\n        var h = \'\';\n        for (var i = 0; i < binaryString.length - 1; i += 8) {\n            var b = binaryString.substr(i, 8);\n            var x = parseInt(b, 2).toString(16);\n            if (x.length == 1) x = \'0\' + x;\n            h += x;\n        }\n        this.hTLV = null;\n        this.isModified = true;\n        this.hV = \'0\' + unusedBits + h;\n    };\n\n    /**\n     * set ASN.1 TLV value(V) by an array of boolean<br/>\n     * @name setByBooleanArray\n     * @memberOf KJUR.asn1.DERBitString#\n     * @function\n     * @param {array} booleanArray array of boolean (ex. [true, false, true])\n     * @description\n     * NOTE: Trailing falses will be ignored in the ASN.1 DER Object.\n     * @example\n     * o = new KJUR.asn1.DERBitString();\n     * o.setByBooleanArray([false, true, false, true, true]);\n     */\n    this.setByBooleanArray = function(booleanArray) {\n        var s = \'\';\n        for (var i = 0; i < booleanArray.length; i++) {\n            if (booleanArray[i] == true) {\n                s += \'1\';\n            } else {\n                s += \'0\';\n            }\n        }\n        this.setByBinaryString(s);\n    };\n\n    /**\n     * generate an array of falses with specified length<br/>\n     * @name newFalseArray\n     * @memberOf KJUR.asn1.DERBitString\n     * @function\n     * @param {Integer} nLength length of array to generate\n     * @return {array} array of boolean falses\n     * @description\n     * This static method may be useful to initialize boolean array.\n     * @example\n     * o = new KJUR.asn1.DERBitString();\n     * o.newFalseArray(3) &rarr; [false, false, false]\n     */\n    this.newFalseArray = function(nLength) {\n        var a = new Array(nLength);\n        for (var i = 0; i < nLength; i++) {\n            a[i] = false;\n        }\n        return a;\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n\n    if (typeof params != "undefined") {\n        if (typeof params == "string" && params.toLowerCase().match(/^[0-9a-f]+$/)) {\n            this.setHexValueIncludingUnusedBits(params);\n        } else if (typeof params[\'hex\'] != "undefined") {\n            this.setHexValueIncludingUnusedBits(params[\'hex\']);\n        } else if (typeof params[\'bin\'] != "undefined") {\n            this.setByBinaryString(params[\'bin\']);\n        } else if (typeof params[\'array\'] != "undefined") {\n            this.setByBooleanArray(params[\'array\']);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER OctetString<br/>\n * @name KJUR.asn1.DEROctetString\n * @class class for ASN.1 DER OctetString\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * This class provides ASN.1 OctetString simple type.<br/>\n * Supported "params" attributes are:\n * <ul>\n * <li>str - to set a string as a value</li>\n * <li>hex - to set a hexadecimal string as a value</li>\n * <li>obj - to set a encapsulated ASN.1 value by JSON object\n * which is defined in {@link KJUR.asn1.ASN1Util.newObject}</li>\n * </ul>\n * NOTE: A parameter \'obj\' have been supported\n * for "OCTET STRING, encapsulates" structure.\n * since asn1 1.0.11, jsrsasign 6.1.1 (2016-Sep-25).\n * @see KJUR.asn1.DERAbstractString - superclass\n * @example\n * // default constructor\n * o = new KJUR.asn1.DEROctetString();\n * // initialize with string\n * o = new KJUR.asn1.DEROctetString({str: "aaa"});\n * // initialize with hexadecimal string\n * o = new KJUR.asn1.DEROctetString({hex: "616161"});\n * // initialize with ASN1Util.newObject argument\n * o = new KJUR.asn1.DEROctetString({obj: {seq: [{int: 3}, {prnstr: \'aaa\'}]}});\n * // above generates a ASN.1 data like this:\n * // OCTET STRING, encapsulates {\n * //   SEQUENCE {\n * //     INTEGER 3\n * //     PrintableString \'aaa\'\n * //     }\n * //   }\n */\nKJUR.asn1.DEROctetString = function(params) {\n    if (params !== undefined && typeof params.obj !== "undefined") {\n        var o = KJUR.asn1.ASN1Util.newObject(params.obj);\n        params.hex = o.getEncodedHex();\n    }\n    KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\n    this.hT = "04";\n};\nYAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Null\n * @name KJUR.asn1.DERNull\n * @class class for ASN.1 DER Null\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERNull = function() {\n    KJUR.asn1.DERNull.superclass.constructor.call(this);\n    this.hT = "05";\n    this.hTLV = "0500";\n};\nYAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER ObjectIdentifier\n * @name KJUR.asn1.DERObjectIdentifier\n * @class class for ASN.1 DER ObjectIdentifier\n * @param {Array} params associative array of parameters (ex. {\'oid\': \'2.5.4.5\'})\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: \'params\' can be omitted.\n */\nKJUR.asn1.DERObjectIdentifier = function(params) {\n    var itox = function(i) {\n        var h = i.toString(16);\n        if (h.length == 1) h = \'0\' + h;\n        return h;\n    };\n    var roidtox = function(roid) {\n        var h = \'\';\n        var bi = new BigInteger(roid, 10);\n        var b = bi.toString(2);\n        var padLen = 7 - b.length % 7;\n        if (padLen == 7) padLen = 0;\n        var bPad = \'\';\n        for (var i = 0; i < padLen; i++) bPad += \'0\';\n        b = bPad + b;\n        for (var i = 0; i < b.length - 1; i += 7) {\n            var b8 = b.substr(i, 7);\n            if (i != b.length - 7) b8 = \'1\' + b8;\n            h += itox(parseInt(b8, 2));\n        }\n        return h;\n    };\n\n    KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\n    this.hT = "06";\n\n    /**\n     * set value by a hexadecimal string\n     * @name setValueHex\n     * @memberOf KJUR.asn1.DERObjectIdentifier#\n     * @function\n     * @param {String} newHexString hexadecimal value of OID bytes\n     */\n    this.setValueHex = function(newHexString) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.s = null;\n        this.hV = newHexString;\n    };\n\n    /**\n     * set value by a OID string<br/>\n     * @name setValueOidString\n     * @memberOf KJUR.asn1.DERObjectIdentifier#\n     * @function\n     * @param {String} oidString OID string (ex. 2.5.4.13)\n     * @example\n     * o = new KJUR.asn1.DERObjectIdentifier();\n     * o.setValueOidString("2.5.4.13");\n     */\n    this.setValueOidString = function(oidString) {\n        if (! oidString.match(/^[0-9.]+$/)) {\n            throw "malformed oid string: " + oidString;\n        }\n        var h = \'\';\n        var a = oidString.split(\'.\');\n        var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\n        h += itox(i0);\n        a.splice(0, 2);\n        for (var i = 0; i < a.length; i++) {\n            h += roidtox(a[i]);\n        }\n        this.hTLV = null;\n        this.isModified = true;\n        this.s = null;\n        this.hV = h;\n    };\n\n    /**\n     * set value by a OID name\n     * @name setValueName\n     * @memberOf KJUR.asn1.DERObjectIdentifier#\n     * @function\n     * @param {String} oidName OID name (ex. \'serverAuth\')\n     * @since 1.0.1\n     * @description\n     * OID name shall be defined in \'KJUR.asn1.x509.OID.name2oidList\'.\n     * Otherwise raise error.\n     * @example\n     * o = new KJUR.asn1.DERObjectIdentifier();\n     * o.setValueName("serverAuth");\n     */\n    this.setValueName = function(oidName) {\n        var oid = KJUR.asn1.x509.OID.name2oid(oidName);\n        if (oid !== \'\') {\n            this.setValueOidString(oid);\n        } else {\n            throw "DERObjectIdentifier oidName undefined: " + oidName;\n        }\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n\n    if (params !== undefined) {\n        if (typeof params === "string") {\n            if (params.match(/^[0-2].[0-9.]+$/)) {\n                this.setValueOidString(params);\n            } else {\n                this.setValueName(params);\n            }\n        } else if (params.oid !== undefined) {\n            this.setValueOidString(params.oid);\n        } else if (params.hex !== undefined) {\n            this.setValueHex(params.hex);\n        } else if (params.name !== undefined) {\n            this.setValueName(params.name);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Enumerated\n * @name KJUR.asn1.DEREnumerated\n * @class class for ASN.1 DER Enumerated\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: \'params\' can be omitted.\n * @example\n * new KJUR.asn1.DEREnumerated(123);\n * new KJUR.asn1.DEREnumerated({int: 123});\n * new KJUR.asn1.DEREnumerated({hex: \'1fad\'});\n */\nKJUR.asn1.DEREnumerated = function(params) {\n    KJUR.asn1.DEREnumerated.superclass.constructor.call(this);\n    this.hT = "0a";\n\n    /**\n     * set value by Tom Wu\'s BigInteger object\n     * @name setByBigInteger\n     * @memberOf KJUR.asn1.DEREnumerated#\n     * @function\n     * @param {BigInteger} bigIntegerValue to set\n     */\n    this.setByBigInteger = function(bigIntegerValue) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\n    };\n\n    /**\n     * set value by integer value\n     * @name setByInteger\n     * @memberOf KJUR.asn1.DEREnumerated#\n     * @function\n     * @param {Integer} integer value to set\n     */\n    this.setByInteger = function(intValue) {\n        var bi = new BigInteger(String(intValue), 10);\n        this.setByBigInteger(bi);\n    };\n\n    /**\n     * set value by integer value\n     * @name setValueHex\n     * @memberOf KJUR.asn1.DEREnumerated#\n     * @function\n     * @param {String} hexadecimal string of integer value\n     * @description\n     * <br/>\n     * NOTE: Value shall be represented by minimum octet length of\n     * two\'s complement representation.\n     */\n    this.setValueHex = function(newHexString) {\n        this.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n\n    if (typeof params != "undefined") {\n        if (typeof params[\'int\'] != "undefined") {\n            this.setByInteger(params[\'int\']);\n        } else if (typeof params == "number") {\n            this.setByInteger(params);\n        } else if (typeof params[\'hex\'] != "undefined") {\n            this.setValueHex(params[\'hex\']);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER UTF8String\n * @name KJUR.asn1.DERUTF8String\n * @class class for ASN.1 DER UTF8String\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERUTF8String = function(params) {\n    KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\n    this.hT = "0c";\n};\nYAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER NumericString\n * @name KJUR.asn1.DERNumericString\n * @class class for ASN.1 DER NumericString\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERNumericString = function(params) {\n    KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\n    this.hT = "12";\n};\nYAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER PrintableString\n * @name KJUR.asn1.DERPrintableString\n * @class class for ASN.1 DER PrintableString\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERPrintableString = function(params) {\n    KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\n    this.hT = "13";\n};\nYAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER TeletexString\n * @name KJUR.asn1.DERTeletexString\n * @class class for ASN.1 DER TeletexString\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERTeletexString = function(params) {\n    KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\n    this.hT = "14";\n};\nYAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER IA5String\n * @name KJUR.asn1.DERIA5String\n * @class class for ASN.1 DER IA5String\n * @param {Array} params associative array of parameters (ex. {\'str\': \'aaa\'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERIA5String = function(params) {\n    KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\n    this.hT = "16";\n};\nYAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER UTCTime\n * @name KJUR.asn1.DERUTCTime\n * @class class for ASN.1 DER UTCTime\n * @param {Array} params associative array of parameters (ex. {\'str\': \'130430235959Z\'})\n * @extends KJUR.asn1.DERAbstractTime\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>str - specify initial ASN.1 value(V) by a string (ex.\'130430235959Z\')</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * <li>date - specify Date object.</li>\n * </ul>\n * NOTE: \'params\' can be omitted.\n * <h4>EXAMPLES</h4>\n * @example\n * d1 = new KJUR.asn1.DERUTCTime();\n * d1.setString(\'130430125959Z\');\n *\n * d2 = new KJUR.asn1.DERUTCTime({\'str\': \'130430125959Z\'});\n * d3 = new KJUR.asn1.DERUTCTime({\'date\': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\n * d4 = new KJUR.asn1.DERUTCTime(\'130430125959Z\');\n */\nKJUR.asn1.DERUTCTime = function(params) {\n    KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\n    this.hT = "17";\n\n    /**\n     * set value by a Date object<br/>\n     * @name setByDate\n     * @memberOf KJUR.asn1.DERUTCTime#\n     * @function\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\n     * @example\n     * o = new KJUR.asn1.DERUTCTime();\n     * o.setByDate(new Date("2016/12/31"));\n     */\n    this.setByDate = function(dateObject) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.date = dateObject;\n        this.s = this.formatDate(this.date, \'utc\');\n        this.hV = stohex(this.s);\n    };\n\n    this.getFreshValueHex = function() {\n        if (typeof this.date == "undefined" && typeof this.s == "undefined") {\n            this.date = new Date();\n            this.s = this.formatDate(this.date, \'utc\');\n            this.hV = stohex(this.s);\n        }\n        return this.hV;\n    };\n\n    if (params !== undefined) {\n        if (params.str !== undefined) {\n            this.setString(params.str);\n        } else if (typeof params == "string" && params.match(/^[0-9]{12}Z$/)) {\n            this.setString(params);\n        } else if (params.hex !== undefined) {\n            this.setStringHex(params.hex);\n        } else if (params.date !== undefined) {\n            this.setByDate(params.date);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER GeneralizedTime\n * @name KJUR.asn1.DERGeneralizedTime\n * @class class for ASN.1 DER GeneralizedTime\n * @param {Array} params associative array of parameters (ex. {\'str\': \'20130430235959Z\'})\n * @property {Boolean} withMillis flag to show milliseconds or not\n * @extends KJUR.asn1.DERAbstractTime\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>str - specify initial ASN.1 value(V) by a string (ex.\'20130430235959Z\')</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * <li>date - specify Date object.</li>\n * <li>millis - specify flag to show milliseconds (from 1.0.6)</li>\n * </ul>\n * NOTE1: \'params\' can be omitted.\n * NOTE2: \'withMillis\' property is supported from asn1 1.0.6.\n */\nKJUR.asn1.DERGeneralizedTime = function(params) {\n    KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\n    this.hT = "18";\n    this.withMillis = false;\n\n    /**\n     * set value by a Date object\n     * @name setByDate\n     * @memberOf KJUR.asn1.DERGeneralizedTime#\n     * @function\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\n     * @example\n     * When you specify UTC time, use \'Date.UTC\' method like this:<br/>\n     * o1 = new DERUTCTime();\n     * o1.setByDate(date);\n     *\n     * date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\n     */\n    this.setByDate = function(dateObject) {\n        this.hTLV = null;\n        this.isModified = true;\n        this.date = dateObject;\n        this.s = this.formatDate(this.date, \'gen\', this.withMillis);\n        this.hV = stohex(this.s);\n    };\n\n    this.getFreshValueHex = function() {\n        if (this.date === undefined && this.s === undefined) {\n            this.date = new Date();\n            this.s = this.formatDate(this.date, \'gen\', this.withMillis);\n            this.hV = stohex(this.s);\n        }\n        return this.hV;\n    };\n\n    if (params !== undefined) {\n        if (params.str !== undefined) {\n            this.setString(params.str);\n        } else if (typeof params == "string" && params.match(/^[0-9]{14}Z$/)) {\n            this.setString(params);\n        } else if (params.hex !== undefined) {\n            this.setStringHex(params.hex);\n        } else if (params.date !== undefined) {\n            this.setByDate(params.date);\n        }\n        if (params.millis === true) {\n            this.withMillis = true;\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Sequence\n * @name KJUR.asn1.DERSequence\n * @class class for ASN.1 DER Sequence\n * @extends KJUR.asn1.DERAbstractStructured\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>array - specify array of ASN1Object to set elements of content</li>\n * </ul>\n * NOTE: \'params\' can be omitted.\n */\nKJUR.asn1.DERSequence = function(params) {\n    KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\n    this.hT = "30";\n    this.getFreshValueHex = function() {\n        var h = \'\';\n        for (var i = 0; i < this.asn1Array.length; i++) {\n            var asn1Obj = this.asn1Array[i];\n            h += asn1Obj.getEncodedHex();\n        }\n        this.hV = h;\n        return this.hV;\n    };\n};\nYAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Set\n * @name KJUR.asn1.DERSet\n * @class class for ASN.1 DER Set\n * @extends KJUR.asn1.DERAbstractStructured\n * @description\n * <br/>\n * As for argument \'params\' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>array - specify array of ASN1Object to set elements of content</li>\n * <li>sortflag - flag for sort (default: true). ASN.1 BER is not sorted in \'SET OF\'.</li>\n * </ul>\n * NOTE1: \'params\' can be omitted.<br/>\n * NOTE2: sortflag is supported since 1.0.5.\n */\nKJUR.asn1.DERSet = function(params) {\n    KJUR.asn1.DERSet.superclass.constructor.call(this, params);\n    this.hT = "31";\n    this.sortFlag = true; // item shall be sorted only in ASN.1 DER\n    this.getFreshValueHex = function() {\n        var a = new Array();\n        for (var i = 0; i < this.asn1Array.length; i++) {\n            var asn1Obj = this.asn1Array[i];\n            a.push(asn1Obj.getEncodedHex());\n        }\n        if (this.sortFlag == true) a.sort();\n        this.hV = a.join(\'\');\n        return this.hV;\n    };\n\n    if (typeof params != "undefined") {\n        if (typeof params.sortflag != "undefined" &&\n            params.sortflag == false)\n            this.sortFlag = false;\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER TaggedObject\n * @name KJUR.asn1.DERTaggedObject\n * @class class for ASN.1 DER TaggedObject\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * Parameter \'tagNoNex\' is ASN.1 tag(T) value for this object.\n * For example, if you find \'[1]\' tag in a ASN.1 dump,\n * \'tagNoHex\' will be \'a1\'.\n * <br/>\n * As for optional argument \'params\' for constructor, you can specify *ANY* of\n * following properties:\n * <ul>\n * <li>explicit - specify true if this is explicit tag otherwise false\n *     (default is \'true\').</li>\n * <li>tag - specify tag (default is \'a0\' which means [0])</li>\n * <li>obj - specify ASN1Object which is tagged</li>\n * </ul>\n * @example\n * d1 = new KJUR.asn1.DERUTF8String({\'str\':\'a\'});\n * d2 = new KJUR.asn1.DERTaggedObject({\'obj\': d1});\n * hex = d2.getEncodedHex();\n */\nKJUR.asn1.DERTaggedObject = function(params) {\n    KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\n    this.hT = "a0";\n    this.hV = \'\';\n    this.isExplicit = true;\n    this.asn1Object = null;\n\n    /**\n     * set value by an ASN1Object\n     * @name setString\n     * @memberOf KJUR.asn1.DERTaggedObject#\n     * @function\n     * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\n     * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\n     * @param {ASN1Object} asn1Object ASN.1 to encapsulate\n     */\n    this.setASN1Object = function(isExplicitFlag, tagNoHex, asn1Object) {\n        this.hT = tagNoHex;\n        this.isExplicit = isExplicitFlag;\n        this.asn1Object = asn1Object;\n        if (this.isExplicit) {\n            this.hV = this.asn1Object.getEncodedHex();\n            this.hTLV = null;\n            this.isModified = true;\n        } else {\n            this.hV = null;\n            this.hTLV = asn1Object.getEncodedHex();\n            this.hTLV = this.hTLV.replace(/^../, tagNoHex);\n            this.isModified = false;\n        }\n    };\n\n    this.getFreshValueHex = function() {\n        return this.hV;\n    };\n\n    if (typeof params != "undefined") {\n        if (typeof params[\'tag\'] != "undefined") {\n            this.hT = params[\'tag\'];\n        }\n        if (typeof params[\'explicit\'] != "undefined") {\n            this.isExplicit = params[\'explicit\'];\n        }\n        if (typeof params[\'obj\'] != "undefined") {\n            this.asn1Object = params[\'obj\'];\n            this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\n        }\n    }\n};\nYAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);\n\n/**\n * Create a new JSEncryptRSAKey that extends Tom Wu\'s RSA key object.\n * This object is just a decorator for parsing the key parameter\n * @param {string|Object} key - The key in string format, or an object containing\n * the parameters needed to build a RSAKey object.\n * @constructor\n */\nvar JSEncryptRSAKey = /** @class */ (function (_super) {\n    __extends(JSEncryptRSAKey, _super);\n    function JSEncryptRSAKey(key) {\n        var _this = _super.call(this) || this;\n        // Call the super constructor.\n        //  RSAKey.call(this);\n        // If a key key was provided.\n        if (key) {\n            // If this is a string...\n            if (typeof key === "string") {\n                _this.parseKey(key);\n            }\n            else if (JSEncryptRSAKey.hasPrivateKeyProperty(key) ||\n                JSEncryptRSAKey.hasPublicKeyProperty(key)) {\n                // Set the values for the key.\n                _this.parsePropertiesFrom(key);\n            }\n        }\n        return _this;\n    }\n    /**\n     * Method to parse a pem encoded string containing both a public or private key.\n     * The method will translate the pem encoded string in a der encoded string and\n     * will parse private key and public key parameters. This method accepts public key\n     * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).\n     *\n     * @todo Check how many rsa formats use the same format of pkcs #1.\n     *\n     * The format is defined as:\n     * PublicKeyInfo ::= SEQUENCE {\n     *   algorithm       AlgorithmIdentifier,\n     *   PublicKey       BIT STRING\n     * }\n     * Where AlgorithmIdentifier is:\n     * AlgorithmIdentifier ::= SEQUENCE {\n     *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\n     *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\n     * }\n     * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\n     * RSAPublicKey ::= SEQUENCE {\n     *   modulus           INTEGER,  -- n\n     *   publicExponent    INTEGER   -- e\n     * }\n     * it\'s possible to examine the structure of the keys obtained from openssl using\n     * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/\n     * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer\n     * @private\n     */\n    JSEncryptRSAKey.prototype.parseKey = function (pem) {\n        try {\n            var modulus = 0;\n            var public_exponent = 0;\n            var reHex = /^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/;\n            var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem);\n            var asn1 = ASN1.decode(der);\n            // Fixes a bug with OpenSSL 1.0+ private keys\n            if (asn1.sub.length === 3) {\n                asn1 = asn1.sub[2].sub[0];\n            }\n            if (asn1.sub.length === 9) {\n                // Parse the private key.\n                modulus = asn1.sub[1].getHexStringValue(); // bigint\n                this.n = parseBigInt(modulus, 16);\n                public_exponent = asn1.sub[2].getHexStringValue(); // int\n                this.e = parseInt(public_exponent, 16);\n                var private_exponent = asn1.sub[3].getHexStringValue(); // bigint\n                this.d = parseBigInt(private_exponent, 16);\n                var prime1 = asn1.sub[4].getHexStringValue(); // bigint\n                this.p = parseBigInt(prime1, 16);\n                var prime2 = asn1.sub[5].getHexStringValue(); // bigint\n                this.q = parseBigInt(prime2, 16);\n                var exponent1 = asn1.sub[6].getHexStringValue(); // bigint\n                this.dmp1 = parseBigInt(exponent1, 16);\n                var exponent2 = asn1.sub[7].getHexStringValue(); // bigint\n                this.dmq1 = parseBigInt(exponent2, 16);\n                var coefficient = asn1.sub[8].getHexStringValue(); // bigint\n                this.coeff = parseBigInt(coefficient, 16);\n            }\n            else if (asn1.sub.length === 2) {\n                // Parse the public key.\n                var bit_string = asn1.sub[1];\n                var sequence = bit_string.sub[0];\n                modulus = sequence.sub[0].getHexStringValue();\n                this.n = parseBigInt(modulus, 16);\n                public_exponent = sequence.sub[1].getHexStringValue();\n                this.e = parseInt(public_exponent, 16);\n            }\n            else {\n                return false;\n            }\n            return true;\n        }\n        catch (ex) {\n            return false;\n        }\n    };\n    /**\n     * Translate rsa parameters in a hex encoded string representing the rsa key.\n     *\n     * The translation follow the ASN.1 notation :\n     * RSAPrivateKey ::= SEQUENCE {\n     *   version           Version,\n     *   modulus           INTEGER,  -- n\n     *   publicExponent    INTEGER,  -- e\n     *   privateExponent   INTEGER,  -- d\n     *   prime1            INTEGER,  -- p\n     *   prime2            INTEGER,  -- q\n     *   exponent1         INTEGER,  -- d mod (p1)\n     *   exponent2         INTEGER,  -- d mod (q-1)\n     *   coefficient       INTEGER,  -- (inverse of q) mod p\n     * }\n     * @returns {string}  DER Encoded String representing the rsa private key\n     * @private\n     */\n    JSEncryptRSAKey.prototype.getPrivateBaseKey = function () {\n        var options = {\n            array: [\n                new KJUR.asn1.DERInteger({ int: 0 }),\n                new KJUR.asn1.DERInteger({ bigint: this.n }),\n                new KJUR.asn1.DERInteger({ int: this.e }),\n                new KJUR.asn1.DERInteger({ bigint: this.d }),\n                new KJUR.asn1.DERInteger({ bigint: this.p }),\n                new KJUR.asn1.DERInteger({ bigint: this.q }),\n                new KJUR.asn1.DERInteger({ bigint: this.dmp1 }),\n                new KJUR.asn1.DERInteger({ bigint: this.dmq1 }),\n                new KJUR.asn1.DERInteger({ bigint: this.coeff })\n            ]\n        };\n        var seq = new KJUR.asn1.DERSequence(options);\n        return seq.getEncodedHex();\n    };\n    /**\n     * base64 (pem) encoded version of the DER encoded representation\n     * @returns {string} pem encoded representation without header and footer\n     * @public\n     */\n    JSEncryptRSAKey.prototype.getPrivateBaseKeyB64 = function () {\n        return hex2b64(this.getPrivateBaseKey());\n    };\n    /**\n     * Translate rsa parameters in a hex encoded string representing the rsa public key.\n     * The representation follow the ASN.1 notation :\n     * PublicKeyInfo ::= SEQUENCE {\n     *   algorithm       AlgorithmIdentifier,\n     *   PublicKey       BIT STRING\n     * }\n     * Where AlgorithmIdentifier is:\n     * AlgorithmIdentifier ::= SEQUENCE {\n     *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\n     *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\n     * }\n     * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\n     * RSAPublicKey ::= SEQUENCE {\n     *   modulus           INTEGER,  -- n\n     *   publicExponent    INTEGER   -- e\n     * }\n     * @returns {string} DER Encoded String representing the rsa public key\n     * @private\n     */\n    JSEncryptRSAKey.prototype.getPublicBaseKey = function () {\n        var first_sequence = new KJUR.asn1.DERSequence({\n            array: [\n                new KJUR.asn1.DERObjectIdentifier({ oid: "1.2.840.113549.1.1.1" }),\n                new KJUR.asn1.DERNull()\n            ]\n        });\n        var second_sequence = new KJUR.asn1.DERSequence({\n            array: [\n                new KJUR.asn1.DERInteger({ bigint: this.n }),\n                new KJUR.asn1.DERInteger({ int: this.e })\n            ]\n        });\n        var bit_string = new KJUR.asn1.DERBitString({\n            hex: "00" + second_sequence.getEncodedHex()\n        });\n        var seq = new KJUR.asn1.DERSequence({\n            array: [\n                first_sequence,\n                bit_string\n            ]\n        });\n        return seq.getEncodedHex();\n    };\n    /**\n     * base64 (pem) encoded version of the DER encoded representation\n     * @returns {string} pem encoded representation without header and footer\n     * @public\n     */\n    JSEncryptRSAKey.prototype.getPublicBaseKeyB64 = function () {\n        return hex2b64(this.getPublicBaseKey());\n    };\n    /**\n     * wrap the string in block of width chars. The default value for rsa keys is 64\n     * characters.\n     * @param {string} str the pem encoded string without header and footer\n     * @param {Number} [width=64] - the length the string has to be wrapped at\n     * @returns {string}\n     * @private\n     */\n    JSEncryptRSAKey.wordwrap = function (str, width) {\n        width = width || 64;\n        if (!str) {\n            return str;\n        }\n        var regex = "(.{1," + width + "})( +|$\\n?)|(.{1," + width + "})";\n        return str.match(RegExp(regex, "g")).join("\\n");\n    };\n    /**\n     * Retrieve the pem encoded private key\n     * @returns {string} the pem encoded private key with header/footer\n     * @public\n     */\n    JSEncryptRSAKey.prototype.getPrivateKey = function () {\n        var key = "-----BEGIN RSA PRIVATE KEY-----\\n";\n        key += JSEncryptRSAKey.wordwrap(this.getPrivateBaseKeyB64()) + "\\n";\n        key += "-----END RSA PRIVATE KEY-----";\n        return key;\n    };\n    /**\n     * Retrieve the pem encoded public key\n     * @returns {string} the pem encoded public key with header/footer\n     * @public\n     */\n    JSEncryptRSAKey.prototype.getPublicKey = function () {\n        var key = "-----BEGIN PUBLIC KEY-----\\n";\n        key += JSEncryptRSAKey.wordwrap(this.getPublicBaseKeyB64()) + "\\n";\n        key += "-----END PUBLIC KEY-----";\n        return key;\n    };\n    /**\n     * Check if the object contains the necessary parameters to populate the rsa modulus\n     * and public exponent parameters.\n     * @param {Object} [obj={}] - An object that may contain the two public key\n     * parameters\n     * @returns {boolean} true if the object contains both the modulus and the public exponent\n     * properties (n and e)\n     * @todo check for types of n and e. N should be a parseable bigInt object, E should\n     * be a parseable integer number\n     * @private\n     */\n    JSEncryptRSAKey.hasPublicKeyProperty = function (obj) {\n        obj = obj || {};\n        return (obj.hasOwnProperty("n") &&\n            obj.hasOwnProperty("e"));\n    };\n    /**\n     * Check if the object contains ALL the parameters of an RSA key.\n     * @param {Object} [obj={}] - An object that may contain nine rsa key\n     * parameters\n     * @returns {boolean} true if the object contains all the parameters needed\n     * @todo check for types of the parameters all the parameters but the public exponent\n     * should be parseable bigint objects, the public exponent should be a parseable integer number\n     * @private\n     */\n    JSEncryptRSAKey.hasPrivateKeyProperty = function (obj) {\n        obj = obj || {};\n        return (obj.hasOwnProperty("n") &&\n            obj.hasOwnProperty("e") &&\n            obj.hasOwnProperty("d") &&\n            obj.hasOwnProperty("p") &&\n            obj.hasOwnProperty("q") &&\n            obj.hasOwnProperty("dmp1") &&\n            obj.hasOwnProperty("dmq1") &&\n            obj.hasOwnProperty("coeff"));\n    };\n    /**\n     * Parse the properties of obj in the current rsa object. Obj should AT LEAST\n     * include the modulus and public exponent (n, e) parameters.\n     * @param {Object} obj - the object containing rsa parameters\n     * @private\n     */\n    JSEncryptRSAKey.prototype.parsePropertiesFrom = function (obj) {\n        this.n = obj.n;\n        this.e = obj.e;\n        if (obj.hasOwnProperty("d")) {\n            this.d = obj.d;\n            this.p = obj.p;\n            this.q = obj.q;\n            this.dmp1 = obj.dmp1;\n            this.dmq1 = obj.dmq1;\n            this.coeff = obj.coeff;\n        }\n    };\n    return JSEncryptRSAKey;\n}(RSAKey));\n\n/**\n *\n * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour\n * possible parameters are:\n * - default_key_size        {number}  default: 1024 the key size in bit\n * - default_public_exponent {string}  default: \'010001\' the hexadecimal representation of the public exponent\n * - log                     {boolean} default: false whether log warn/error or not\n * @constructor\n */\nvar JSEncrypt = /** @class */ (function () {\n    function JSEncrypt(options) {\n        options = options || {};\n        this.default_key_size = parseInt(options.default_key_size, 10) || 1024;\n        this.default_public_exponent = options.default_public_exponent || "010001"; // 65537 default openssl public exponent for rsa key type\n        this.log = options.log || false;\n        // The private and public key.\n        this.key = null;\n    }\n    /**\n     * Method to set the rsa key parameter (one method is enough to set both the public\n     * and the private key, since the private key contains the public key paramenters)\n     * Log a warning if logs are enabled\n     * @param {Object|string} key the pem encoded string or an object (with or without header/footer)\n     * @public\n     */\n    JSEncrypt.prototype.setKey = function (key) {\n        if (this.log && this.key) {\n            console.warn("A key was already set, overriding existing.");\n        }\n        this.key = new JSEncryptRSAKey(key);\n    };\n    /**\n     * Proxy method for setKey, for api compatibility\n     * @see setKey\n     * @public\n     */\n    JSEncrypt.prototype.setPrivateKey = function (privkey) {\n        // Create the key.\n        this.setKey(privkey);\n    };\n    /**\n     * Proxy method for setKey, for api compatibility\n     * @see setKey\n     * @public\n     */\n    JSEncrypt.prototype.setPublicKey = function (pubkey) {\n        // Sets the public key.\n        this.setKey(pubkey);\n    };\n    /**\n     * Proxy method for RSAKey object\'s decrypt, decrypt the string using the private\n     * components of the rsa key object. Note that if the object was not set will be created\n     * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\n     * @param {string} str base64 encoded crypted string to decrypt\n     * @return {string} the decrypted string\n     * @public\n     */\n    JSEncrypt.prototype.decrypt = function (str) {\n        // Return the decrypted string.\n        try {\n            return this.getKey().decrypt(b64tohex(str));\n        }\n        catch (ex) {\n            return false;\n        }\n    };\n    /**\n     * Proxy method for RSAKey object\'s encrypt, encrypt the string using the public\n     * components of the rsa key object. Note that if the object was not set will be created\n     * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\n     * @param {string} str the string to encrypt\n     * @return {string} the encrypted string encoded in base64\n     * @public\n     */\n    JSEncrypt.prototype.encrypt = function (str) {\n        // Return the encrypted string.\n        try {\n            return hex2b64(this.getKey().encrypt(str));\n        }\n        catch (ex) {\n            return false;\n        }\n    };\n    /**\n     * Proxy method for RSAKey object\'s sign.\n     * @param {string} str the string to sign\n     * @param {function} digestMethod hash method\n     * @param {string} digestName the name of the hash algorithm\n     * @return {string} the signature encoded in base64\n     * @public\n     */\n    JSEncrypt.prototype.sign = function (str, digestMethod, digestName) {\n        // return the RSA signature of \'str\' in \'hex\' format.\n        try {\n            return hex2b64(this.getKey().sign(str, digestMethod, digestName));\n        }\n        catch (ex) {\n            return false;\n        }\n    };\n    /**\n     * Proxy method for RSAKey object\'s verify.\n     * @param {string} str the string to verify\n     * @param {string} signature the signature encoded in base64 to compare the string to\n     * @param {function} digestMethod hash method\n     * @return {boolean} whether the data and signature match\n     * @public\n     */\n    JSEncrypt.prototype.verify = function (str, signature, digestMethod) {\n        // Return the decrypted \'digest\' of the signature.\n        try {\n            return this.getKey().verify(str, b64tohex(signature), digestMethod);\n        }\n        catch (ex) {\n            return false;\n        }\n    };\n    /**\n     * Getter for the current JSEncryptRSAKey object. If it doesn\'t exists a new object\n     * will be created and returned\n     * @param {callback} [cb] the callback to be called if we want the key to be generated\n     * in an async fashion\n     * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object\n     * @public\n     */\n    JSEncrypt.prototype.getKey = function (cb) {\n        // Only create new if it does not exist.\n        if (!this.key) {\n            // Get a new private key.\n            this.key = new JSEncryptRSAKey();\n            if (cb && {}.toString.call(cb) === "[object Function]") {\n                this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);\n                return;\n            }\n            // Generate the key.\n            this.key.generate(this.default_key_size, this.default_public_exponent);\n        }\n        return this.key;\n    };\n    /**\n     * Returns the pem encoded representation of the private key\n     * If the key doesn\'t exists a new key will be created\n     * @returns {string} pem encoded representation of the private key WITH header and footer\n     * @public\n     */\n    JSEncrypt.prototype.getPrivateKey = function () {\n        // Return the private representation of this key.\n        return this.getKey().getPrivateKey();\n    };\n    /**\n     * Returns the pem encoded representation of the private key\n     * If the key doesn\'t exists a new key will be created\n     * @returns {string} pem encoded representation of the private key WITHOUT header and footer\n     * @public\n     */\n    JSEncrypt.prototype.getPrivateKeyB64 = function () {\n        // Return the private representation of this key.\n        return this.getKey().getPrivateBaseKeyB64();\n    };\n    /**\n     * Returns the pem encoded representation of the public key\n     * If the key doesn\'t exists a new key will be created\n     * @returns {string} pem encoded representation of the public key WITH header and footer\n     * @public\n     */\n    JSEncrypt.prototype.getPublicKey = function () {\n        // Return the private representation of this key.\n        return this.getKey().getPublicKey();\n    };\n    /**\n     * Returns the pem encoded representation of the public key\n     * If the key doesn\'t exists a new key will be created\n     * @returns {string} pem encoded representation of the public key WITHOUT header and footer\n     * @public\n     */\n    JSEncrypt.prototype.getPublicKeyB64 = function () {\n        // Return the private representation of this key.\n        return this.getKey().getPublicBaseKeyB64();\n    };\n    JSEncrypt.version = "3.0.0-rc.1";\n    return JSEncrypt;\n}());\n\nwindow.JSEncrypt = JSEncrypt;\n\nexports.JSEncrypt = JSEncrypt;\nexports.default = JSEncrypt;\n\nObject.defineProperty(exports, \'__esModule\', { value: true });\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2pzZW5jcnlwdC9iaW4vanNlbmNyeXB0LmpzPzcyMGQiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLkpTRW5jcnlwdCA9IHt9KSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgQklfUk0gPSBcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuZnVuY3Rpb24gaW50MmNoYXIobikge1xuICAgIHJldHVybiBCSV9STS5jaGFyQXQobik7XG59XG4vLyNyZWdpb24gQklUX09QRVJBVElPTlNcbi8vIChwdWJsaWMpIHRoaXMgJiBhXG5mdW5jdGlvbiBvcF9hbmQoeCwgeSkge1xuICAgIHJldHVybiB4ICYgeTtcbn1cbi8vIChwdWJsaWMpIHRoaXMgfCBhXG5mdW5jdGlvbiBvcF9vcih4LCB5KSB7XG4gICAgcmV0dXJuIHggfCB5O1xufVxuLy8gKHB1YmxpYykgdGhpcyBeIGFcbmZ1bmN0aW9uIG9wX3hvcih4LCB5KSB7XG4gICAgcmV0dXJuIHggXiB5O1xufVxuLy8gKHB1YmxpYykgdGhpcyAmIH5hXG5mdW5jdGlvbiBvcF9hbmRub3QoeCwgeSkge1xuICAgIHJldHVybiB4ICYgfnk7XG59XG4vLyByZXR1cm4gaW5kZXggb2YgbG93ZXN0IDEtYml0IGluIHgsIHggPCAyXjMxXG5mdW5jdGlvbiBsYml0KHgpIHtcbiAgICBpZiAoeCA9PSAwKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgdmFyIHIgPSAwO1xuICAgIGlmICgoeCAmIDB4ZmZmZikgPT0gMCkge1xuICAgICAgICB4ID4+PSAxNjtcbiAgICAgICAgciArPSAxNjtcbiAgICB9XG4gICAgaWYgKCh4ICYgMHhmZikgPT0gMCkge1xuICAgICAgICB4ID4+PSA4O1xuICAgICAgICByICs9IDg7XG4gICAgfVxuICAgIGlmICgoeCAmIDB4ZikgPT0gMCkge1xuICAgICAgICB4ID4+PSA0O1xuICAgICAgICByICs9IDQ7XG4gICAgfVxuICAgIGlmICgoeCAmIDMpID09IDApIHtcbiAgICAgICAgeCA+Pj0gMjtcbiAgICAgICAgciArPSAyO1xuICAgIH1cbiAgICBpZiAoKHggJiAxKSA9PSAwKSB7XG4gICAgICAgICsrcjtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG4vLyByZXR1cm4gbnVtYmVyIG9mIDEgYml0cyBpbiB4XG5mdW5jdGlvbiBjYml0KHgpIHtcbiAgICB2YXIgciA9IDA7XG4gICAgd2hpbGUgKHggIT0gMCkge1xuICAgICAgICB4ICY9IHggLSAxO1xuICAgICAgICArK3I7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuLy8jZW5kcmVnaW9uIEJJVF9PUEVSQVRJT05TXG5cbnZhciBiNjRtYXAgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbnZhciBiNjRwYWQgPSBcIj1cIjtcbmZ1bmN0aW9uIGhleDJiNjQoaCkge1xuICAgIHZhciBpO1xuICAgIHZhciBjO1xuICAgIHZhciByZXQgPSBcIlwiO1xuICAgIGZvciAoaSA9IDA7IGkgKyAzIDw9IGgubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgYyA9IHBhcnNlSW50KGguc3Vic3RyaW5nKGksIGkgKyAzKSwgMTYpO1xuICAgICAgICByZXQgKz0gYjY0bWFwLmNoYXJBdChjID4+IDYpICsgYjY0bWFwLmNoYXJBdChjICYgNjMpO1xuICAgIH1cbiAgICBpZiAoaSArIDEgPT0gaC5sZW5ndGgpIHtcbiAgICAgICAgYyA9IHBhcnNlSW50KGguc3Vic3RyaW5nKGksIGkgKyAxKSwgMTYpO1xuICAgICAgICByZXQgKz0gYjY0bWFwLmNoYXJBdChjIDw8IDIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpICsgMiA9PSBoLmxlbmd0aCkge1xuICAgICAgICBjID0gcGFyc2VJbnQoaC5zdWJzdHJpbmcoaSwgaSArIDIpLCAxNik7XG4gICAgICAgIHJldCArPSBiNjRtYXAuY2hhckF0KGMgPj4gMikgKyBiNjRtYXAuY2hhckF0KChjICYgMykgPDwgNCk7XG4gICAgfVxuICAgIHdoaWxlICgocmV0Lmxlbmd0aCAmIDMpID4gMCkge1xuICAgICAgICByZXQgKz0gYjY0cGFkO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuLy8gY29udmVydCBhIGJhc2U2NCBzdHJpbmcgdG8gaGV4XG5mdW5jdGlvbiBiNjR0b2hleChzKSB7XG4gICAgdmFyIHJldCA9IFwiXCI7XG4gICAgdmFyIGk7XG4gICAgdmFyIGsgPSAwOyAvLyBiNjQgc3RhdGUsIDAtM1xuICAgIHZhciBzbG9wID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAocy5jaGFyQXQoaSkgPT0gYjY0cGFkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdiA9IGI2NG1hcC5pbmRleE9mKHMuY2hhckF0KGkpKTtcbiAgICAgICAgaWYgKHYgPCAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoayA9PSAwKSB7XG4gICAgICAgICAgICByZXQgKz0gaW50MmNoYXIodiA+PiAyKTtcbiAgICAgICAgICAgIHNsb3AgPSB2ICYgMztcbiAgICAgICAgICAgIGsgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGsgPT0gMSkge1xuICAgICAgICAgICAgcmV0ICs9IGludDJjaGFyKChzbG9wIDw8IDIpIHwgKHYgPj4gNCkpO1xuICAgICAgICAgICAgc2xvcCA9IHYgJiAweGY7XG4gICAgICAgICAgICBrID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrID09IDIpIHtcbiAgICAgICAgICAgIHJldCArPSBpbnQyY2hhcihzbG9wKTtcbiAgICAgICAgICAgIHJldCArPSBpbnQyY2hhcih2ID4+IDIpO1xuICAgICAgICAgICAgc2xvcCA9IHYgJiAzO1xuICAgICAgICAgICAgayA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXQgKz0gaW50MmNoYXIoKHNsb3AgPDwgMikgfCAodiA+PiA0KSk7XG4gICAgICAgICAgICByZXQgKz0gaW50MmNoYXIodiAmIDB4Zik7XG4gICAgICAgICAgICBrID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoayA9PSAxKSB7XG4gICAgICAgIHJldCArPSBpbnQyY2hhcihzbG9wIDw8IDIpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8vIEhleCBKYXZhU2NyaXB0IGRlY29kZXJcbi8vIENvcHlyaWdodCAoYykgMjAwOC0yMDEzIExhcG8gTHVjaGluaSA8bGFwb0BsYXBvLml0PlxuLy8gUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4vLyBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG4vLyBXSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuLy8gQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuLy8gV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRlxuLy8gT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgaW1tZWQ6IHRydWUsIGxhdGVkZWY6IHRydWUsIHVuZGVmOiB0cnVlLCByZWdleGRhc2g6IGZhbHNlICovXG52YXIgZGVjb2RlcjtcbnZhciBIZXggPSB7XG4gICAgZGVjb2RlOiBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgaWYgKGRlY29kZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGhleCA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xuICAgICAgICAgICAgdmFyIGlnbm9yZSA9IFwiIFxcZlxcblxcclxcdFxcdTAwQTBcXHUyMDI4XFx1MjAyOVwiO1xuICAgICAgICAgICAgZGVjb2RlciA9IHt9O1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyW2hleC5jaGFyQXQoaSldID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhleCA9IGhleC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZm9yIChpID0gMTA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlcltoZXguY2hhckF0KGkpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaWdub3JlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlcltpZ25vcmUuY2hhckF0KGkpXSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgdmFyIGJpdHMgPSAwO1xuICAgICAgICB2YXIgY2hhcl9jb3VudCA9IDA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGEuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGMgPSBkZWNvZGVyW2NdO1xuICAgICAgICAgICAgaWYgKGMgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGNoYXJhY3RlciBhdCBvZmZzZXQgXCIgKyBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpdHMgfD0gYztcbiAgICAgICAgICAgIGlmICgrK2NoYXJfY291bnQgPj0gMikge1xuICAgICAgICAgICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgICAgICAgY2hhcl9jb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiaXRzIDw8PSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyX2NvdW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZXggZW5jb2RpbmcgaW5jb21wbGV0ZTogNCBiaXRzIG1pc3NpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59O1xuXG4vLyBCYXNlNjQgSmF2YVNjcmlwdCBkZWNvZGVyXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxMyBMYXBvIEx1Y2hpbmkgPGxhcG9AbGFwby5pdD5cbi8vIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuLy8gcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBhcHBlYXIgaW4gYWxsIGNvcGllcy5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFU1xuLy8gV0lUSCBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1Jcbi8vIEFOWSBTUEVDSUFMLCBESVJFQ1QsIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVNcbi8vIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0Zcbi8vIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIGltbWVkOiB0cnVlLCBsYXRlZGVmOiB0cnVlLCB1bmRlZjogdHJ1ZSwgcmVnZXhkYXNoOiBmYWxzZSAqL1xudmFyIGRlY29kZXIkMTtcbnZhciBCYXNlNjQgPSB7XG4gICAgZGVjb2RlOiBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgaWYgKGRlY29kZXIkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgYjY0ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7XG4gICAgICAgICAgICB2YXIgaWdub3JlID0gXCI9IFxcZlxcblxcclxcdFxcdTAwQTBcXHUyMDI4XFx1MjAyOVwiO1xuICAgICAgICAgICAgZGVjb2RlciQxID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlciQxW2I2NC5jaGFyQXQoaSldID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpZ25vcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyJDFbaWdub3JlLmNoYXJBdChpKV0gPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIHZhciBiaXRzID0gMDtcbiAgICAgICAgdmFyIGNoYXJfY291bnQgPSAwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGMgPSBhLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjID0gZGVjb2RlciQxW2NdO1xuICAgICAgICAgICAgaWYgKGMgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGNoYXJhY3RlciBhdCBvZmZzZXQgXCIgKyBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpdHMgfD0gYztcbiAgICAgICAgICAgIGlmICgrK2NoYXJfY291bnQgPj0gNCkge1xuICAgICAgICAgICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IChiaXRzID4+IDE2KTtcbiAgICAgICAgICAgICAgICBvdXRbb3V0Lmxlbmd0aF0gPSAoYml0cyA+PiA4KSAmIDB4RkY7XG4gICAgICAgICAgICAgICAgb3V0W291dC5sZW5ndGhdID0gYml0cyAmIDB4RkY7XG4gICAgICAgICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgICAgICAgY2hhcl9jb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiaXRzIDw8PSA2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoY2hhcl9jb3VudCkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJhc2U2NCBlbmNvZGluZyBpbmNvbXBsZXRlOiBhdCBsZWFzdCAyIGJpdHMgbWlzc2luZ1wiKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBvdXRbb3V0Lmxlbmd0aF0gPSAoYml0cyA+PiAxMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgb3V0W291dC5sZW5ndGhdID0gKGJpdHMgPj4gMTYpO1xuICAgICAgICAgICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IChiaXRzID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH0sXG4gICAgcmU6IC8tLS0tLUJFR0lOIFteLV0rLS0tLS0oW0EtWmEtejAtOStcXC89XFxzXSspLS0tLS1FTkQgW14tXSstLS0tLXxiZWdpbi1iYXNlNjRbXlxcbl0rXFxuKFtBLVphLXowLTkrXFwvPVxcc10rKT09PT0vLFxuICAgIHVuYXJtb3I6IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHZhciBtID0gQmFzZTY0LnJlLmV4ZWMoYSk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICBpZiAobVsxXSkge1xuICAgICAgICAgICAgICAgIGEgPSBtWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobVsyXSkge1xuICAgICAgICAgICAgICAgIGEgPSBtWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnRXhwIG91dCBvZiBzeW5jXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCYXNlNjQuZGVjb2RlKGEpO1xuICAgIH1cbn07XG5cbi8vIEJpZyBpbnRlZ2VyIGJhc2UtMTAgcHJpbnRpbmcgbGlicmFyeVxuLy8gQ29weXJpZ2h0IChjKSAyMDE0IExhcG8gTHVjaGluaSA8bGFwb0BsYXBvLml0PlxuLy8gUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4vLyBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIGFwcGVhciBpbiBhbGwgY29waWVzLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG4vLyBXSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuLy8gQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuLy8gV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRlxuLy8gT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgaW1tZWQ6IHRydWUsIGxhdGVkZWY6IHRydWUsIHVuZGVmOiB0cnVlLCByZWdleGRhc2g6IGZhbHNlICovXG52YXIgbWF4ID0gMTAwMDAwMDAwMDAwMDA7IC8vIGJpZ2dlc3QgaW50ZWdlciB0aGF0IGNhbiBzdGlsbCBmaXQgMl41MyB3aGVuIG11bHRpcGxpZWQgYnkgMjU2XG52YXIgSW50MTAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50MTAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5idWYgPSBbK3ZhbHVlIHx8IDBdO1xuICAgIH1cbiAgICBJbnQxMC5wcm90b3R5cGUubXVsQWRkID0gZnVuY3Rpb24gKG0sIGMpIHtcbiAgICAgICAgLy8gYXNzZXJ0KG0gPD0gMjU2KVxuICAgICAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgICAgICB2YXIgbCA9IGIubGVuZ3RoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIHQgPSBiW2ldICogbSArIGM7XG4gICAgICAgICAgICBpZiAodCA8IG1heCkge1xuICAgICAgICAgICAgICAgIGMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYyA9IDAgfCAodCAvIG1heCk7XG4gICAgICAgICAgICAgICAgdCAtPSBjICogbWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYltpXSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPiAwKSB7XG4gICAgICAgICAgICBiW2ldID0gYztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50MTAucHJvdG90eXBlLnN1YiA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIC8vIGFzc2VydChtIDw9IDI1NilcbiAgICAgICAgdmFyIGIgPSB0aGlzLmJ1ZjtcbiAgICAgICAgdmFyIGwgPSBiLmxlbmd0aDtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICB0ID0gYltpXSAtIGM7XG4gICAgICAgICAgICBpZiAodCA8IDApIHtcbiAgICAgICAgICAgICAgICB0ICs9IG1heDtcbiAgICAgICAgICAgICAgICBjID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYltpXSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGJbYi5sZW5ndGggLSAxXSA9PT0gMCkge1xuICAgICAgICAgICAgYi5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50MTAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKGJhc2UpIHtcbiAgICAgICAgaWYgKChiYXNlIHx8IDEwKSAhPSAxMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwib25seSBiYXNlIDEwIGlzIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgICAgICB2YXIgcyA9IGJbYi5sZW5ndGggLSAxXS50b1N0cmluZygpO1xuICAgICAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAyOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgcyArPSAobWF4ICsgYltpXSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBJbnQxMC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmJ1ZjtcbiAgICAgICAgdmFyIHYgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdiA9IHYgKiBtYXggKyBiW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2O1xuICAgIH07XG4gICAgSW50MTAucHJvdG90eXBlLnNpbXBsaWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYiA9IHRoaXMuYnVmO1xuICAgICAgICByZXR1cm4gKGIubGVuZ3RoID09IDEpID8gYlswXSA6IHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gSW50MTA7XG59KCkpO1xuXG4vLyBBU04uMSBKYXZhU2NyaXB0IGRlY29kZXJcbnZhciBlbGxpcHNpcyA9IFwiXFx1MjAyNlwiO1xudmFyIHJlVGltZVMgPSAvXihcXGRcXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKShbMDFdXFxkfDJbMC0zXSkoPzooWzAtNV1cXGQpKD86KFswLTVdXFxkKSg/OlsuLF0oXFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxcZHwxWzAtMl0pKFswLTVdXFxkKT8pPyQvO1xudmFyIHJlVGltZUwgPSAvXihcXGRcXGRcXGRcXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXFxkfDNbMDFdKShbMDFdXFxkfDJbMC0zXSkoPzooWzAtNV1cXGQpKD86KFswLTVdXFxkKSg/OlsuLF0oXFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxcZHwxWzAtMl0pKFswLTVdXFxkKT8pPyQvO1xuZnVuY3Rpb24gc3RyaW5nQ3V0KHN0ciwgbGVuKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiBsZW4pIHtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBsZW4pICsgZWxsaXBzaXM7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG52YXIgU3RyZWFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmVhbShlbmMsIHBvcykge1xuICAgICAgICB0aGlzLmhleERpZ2l0cyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xuICAgICAgICBpZiAoZW5jIGluc3RhbmNlb2YgU3RyZWFtKSB7XG4gICAgICAgICAgICB0aGlzLmVuYyA9IGVuYy5lbmM7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IGVuYy5wb3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlbmMgc2hvdWxkIGJlIGFuIGFycmF5IG9yIGEgYmluYXJ5IHN0cmluZ1xuICAgICAgICAgICAgdGhpcy5lbmMgPSBlbmM7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdHJlYW0ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLnBvcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgPj0gdGhpcy5lbmMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1ZXN0aW5nIGJ5dGUgb2Zmc2V0IFwiICsgcG9zICsgXCIgb24gYSBzdHJlYW0gb2YgbGVuZ3RoIFwiICsgdGhpcy5lbmMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLmVuYykgPyB0aGlzLmVuYy5jaGFyQ29kZUF0KHBvcykgOiB0aGlzLmVuY1twb3NdO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5oZXhCeXRlID0gZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGV4RGlnaXRzLmNoYXJBdCgoYiA+PiA0KSAmIDB4RikgKyB0aGlzLmhleERpZ2l0cy5jaGFyQXQoYiAmIDB4Rik7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLmhleER1bXAgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgcmF3KSB7XG4gICAgICAgIHZhciBzID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICAgIHMgKz0gdGhpcy5oZXhCeXRlKHRoaXMuZ2V0KGkpKTtcbiAgICAgICAgICAgIGlmIChyYXcgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkgJiAweEYpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzICs9IFwiICBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4RjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcyArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLmlzQVNDSUkgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmdldChpKTtcbiAgICAgICAgICAgIGlmIChjIDwgMzIgfHwgYyA+IDE3Nikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFN0cmVhbS5wcm90b3R5cGUucGFyc2VTdHJpbmdJU08gPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICB2YXIgcyA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5nZXQoaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZVN0cmluZ1VURiA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBzID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOykge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmdldChpKyspO1xuICAgICAgICAgICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgICAgICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoYyA+IDE5MSkgJiYgKGMgPCAyMjQpKSB7XG4gICAgICAgICAgICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyAmIDB4MUYpIDw8IDYpIHwgKHRoaXMuZ2V0KGkrKykgJiAweDNGKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgwRikgPDwgMTIpIHwgKCh0aGlzLmdldChpKyspICYgMHgzRikgPDwgNikgfCAodGhpcy5nZXQoaSsrKSAmIDB4M0YpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmVhbS5wcm90b3R5cGUucGFyc2VTdHJpbmdCTVAgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICB2YXIgc3RyID0gXCJcIjtcbiAgICAgICAgdmFyIGhpO1xuICAgICAgICB2YXIgbG87XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDspIHtcbiAgICAgICAgICAgIGhpID0gdGhpcy5nZXQoaSsrKTtcbiAgICAgICAgICAgIGxvID0gdGhpcy5nZXQoaSsrKTtcbiAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChoaSA8PCA4KSB8IGxvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZVRpbWUgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgc2hvcnRZZWFyKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5wYXJzZVN0cmluZ0lTTyhzdGFydCwgZW5kKTtcbiAgICAgICAgdmFyIG0gPSAoc2hvcnRZZWFyID8gcmVUaW1lUyA6IHJlVGltZUwpLmV4ZWMocyk7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiVW5yZWNvZ25pemVkIHRpbWU6IFwiICsgcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvcnRZZWFyKSB7XG4gICAgICAgICAgICAvLyB0byBhdm9pZCBxdWVyeWluZyB0aGUgdGltZXIsIHVzZSB0aGUgZml4ZWQgcmFuZ2UgWzE5NzAsIDIwNjldXG4gICAgICAgICAgICAvLyBpdCB3aWxsIGNvbmZvcm0gd2l0aCBJVFUgWC40MDAgWy0xMCwgKzQwXSBzbGlkaW5nIHdpbmRvdyB1bnRpbCAyMDMwXG4gICAgICAgICAgICBtWzFdID0gK21bMV07XG4gICAgICAgICAgICBtWzFdICs9ICgrbVsxXSA8IDcwKSA/IDIwMDAgOiAxOTAwO1xuICAgICAgICB9XG4gICAgICAgIHMgPSBtWzFdICsgXCItXCIgKyBtWzJdICsgXCItXCIgKyBtWzNdICsgXCIgXCIgKyBtWzRdO1xuICAgICAgICBpZiAobVs1XSkge1xuICAgICAgICAgICAgcyArPSBcIjpcIiArIG1bNV07XG4gICAgICAgICAgICBpZiAobVs2XSkge1xuICAgICAgICAgICAgICAgIHMgKz0gXCI6XCIgKyBtWzZdO1xuICAgICAgICAgICAgICAgIGlmIChtWzddKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgKz0gXCIuXCIgKyBtWzddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobVs4XSkge1xuICAgICAgICAgICAgcyArPSBcIiBVVENcIjtcbiAgICAgICAgICAgIGlmIChtWzhdICE9IFwiWlwiKSB7XG4gICAgICAgICAgICAgICAgcyArPSBtWzhdO1xuICAgICAgICAgICAgICAgIGlmIChtWzldKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgKz0gXCI6XCIgKyBtWzldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmVhbS5wcm90b3R5cGUucGFyc2VJbnRlZ2VyID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdmFyIHYgPSB0aGlzLmdldChzdGFydCk7XG4gICAgICAgIHZhciBuZWcgPSAodiA+IDEyNyk7XG4gICAgICAgIHZhciBwYWQgPSBuZWcgPyAyNTUgOiAwO1xuICAgICAgICB2YXIgbGVuO1xuICAgICAgICB2YXIgcyA9IFwiXCI7XG4gICAgICAgIC8vIHNraXAgdW51c2VmdWwgYml0cyAobm90IGFsbG93ZWQgaW4gREVSKVxuICAgICAgICB3aGlsZSAodiA9PSBwYWQgJiYgKytzdGFydCA8IGVuZCkge1xuICAgICAgICAgICAgdiA9IHRoaXMuZ2V0KHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBsZW4gPSBlbmQgLSBzdGFydDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5lZyA/IC0xIDogMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaG93IGJpdCBsZW5ndGggb2YgaHVnZSBpbnRlZ2Vyc1xuICAgICAgICBpZiAobGVuID4gNCkge1xuICAgICAgICAgICAgcyA9IHY7XG4gICAgICAgICAgICBsZW4gPDw9IDM7XG4gICAgICAgICAgICB3aGlsZSAoKCgrcyBeIHBhZCkgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcyA9ICtzIDw8IDE7XG4gICAgICAgICAgICAgICAgLS1sZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gXCIoXCIgKyBsZW4gKyBcIiBiaXQpXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVjb2RlIHRoZSBpbnRlZ2VyXG4gICAgICAgIGlmIChuZWcpIHtcbiAgICAgICAgICAgIHYgPSB2IC0gMjU2O1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gbmV3IEludDEwKHYpO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICAgIG4ubXVsQWRkKDI1NiwgdGhpcy5nZXQoaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzICsgbi50b1N0cmluZygpO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZUJpdFN0cmluZyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHVudXNlZEJpdCA9IHRoaXMuZ2V0KHN0YXJ0KTtcbiAgICAgICAgdmFyIGxlbkJpdCA9ICgoZW5kIC0gc3RhcnQgLSAxKSA8PCAzKSAtIHVudXNlZEJpdDtcbiAgICAgICAgdmFyIGludHJvID0gXCIoXCIgKyBsZW5CaXQgKyBcIiBiaXQpXFxuXCI7XG4gICAgICAgIHZhciBzID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMTsgaSA8IGVuZDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgYiA9IHRoaXMuZ2V0KGkpO1xuICAgICAgICAgICAgdmFyIHNraXAgPSAoaSA9PSBlbmQgLSAxKSA/IHVudXNlZEJpdCA6IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gNzsgaiA+PSBza2lwOyAtLWopIHtcbiAgICAgICAgICAgICAgICBzICs9IChiID4+IGopICYgMSA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50cm8gKyBzdHJpbmdDdXQocywgbWF4TGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW50cm8gKyBzO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZU9jdGV0U3RyaW5nID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIG1heExlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy5pc0FTQ0lJKHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nQ3V0KHRoaXMucGFyc2VTdHJpbmdJU08oc3RhcnQsIGVuZCksIG1heExlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xuICAgICAgICB2YXIgcyA9IFwiKFwiICsgbGVuICsgXCIgYnl0ZSlcXG5cIjtcbiAgICAgICAgbWF4TGVuZ3RoIC89IDI7IC8vIHdlIHdvcmsgaW4gYnl0ZXNcbiAgICAgICAgaWYgKGxlbiA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgZW5kID0gc3RhcnQgKyBtYXhMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICAgIHMgKz0gdGhpcy5oZXhCeXRlKHRoaXMuZ2V0KGkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBzICs9IGVsbGlwc2lzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5wYXJzZU9JRCA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHMgPSBcIlwiO1xuICAgICAgICB2YXIgbiA9IG5ldyBJbnQxMCgpO1xuICAgICAgICB2YXIgYml0cyA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMuZ2V0KGkpO1xuICAgICAgICAgICAgbi5tdWxBZGQoMTI4LCB2ICYgMHg3Rik7XG4gICAgICAgICAgICBiaXRzICs9IDc7XG4gICAgICAgICAgICBpZiAoISh2ICYgMHg4MCkpIHsgLy8gZmluaXNoZWRcbiAgICAgICAgICAgICAgICBpZiAocyA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBuID0gbi5zaW1wbGlmeSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIEludDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuLnN1Yig4MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzID0gXCIyLlwiICsgbi50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBuIDwgODAgPyBuIDwgNDAgPyAwIDogMSA6IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzID0gbSArIFwiLlwiICsgKG4gLSBtICogNDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzICs9IFwiLlwiICsgbi50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocy5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0N1dChzLCBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuID0gbmV3IEludDEwKCk7XG4gICAgICAgICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJpdHMgPiAwKSB7XG4gICAgICAgICAgICBzICs9IFwiLmluY29tcGxldGVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIHJldHVybiBTdHJlYW07XG59KCkpO1xudmFyIEFTTjEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQVNOMShzdHJlYW0sIGhlYWRlciwgbGVuZ3RoLCB0YWcsIHN1Yikge1xuICAgICAgICBpZiAoISh0YWcgaW5zdGFuY2VvZiBBU04xVGFnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWcgdmFsdWUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICB0aGlzLnN1YiA9IHN1YjtcbiAgICB9XG4gICAgQVNOMS5wcm90b3R5cGUudHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50YWcudGFnQ2xhc3MpIHtcbiAgICAgICAgICAgIGNhc2UgMDogLy8gdW5pdmVyc2FsXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnRhZy50YWdOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRU9DXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgwMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkJPT0xFQU5cIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5URUdFUlwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJCSVRfU1RSSU5HXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk9DVEVUX1NUUklOR1wiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MDU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJOVUxMXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgwNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk9CSkVDVF9JREVOVElGSUVSXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgwNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk9iamVjdERlc2NyaXB0b3JcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRVhURVJOQUxcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUkVBTFwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MEE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFTlVNRVJBVEVEXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgwQjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkVNQkVEREVEX1BEVlwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MEM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJVVEY4U3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlNFUVVFTkNFXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlNFVFwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MTI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJOdW1lcmljU3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlByaW50YWJsZVN0cmluZ1wiOyAvLyBBU0NJSSBzdWJzZXRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVGVsZXRleFN0cmluZ1wiOyAvLyBha2EgVDYxU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlZpZGVvdGV4U3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklBNVN0cmluZ1wiOyAvLyBBU0NJSVxuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MTc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJVVENUaW1lXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkdlbmVyYWxpemVkVGltZVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MTk6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJHcmFwaGljU3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxQTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlZpc2libGVTdHJpbmdcIjsgLy8gQVNDSUkgc3Vic2V0XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxQjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkdlbmVyYWxTdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDFDOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVW5pdmVyc2FsU3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxRTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkJNUFN0cmluZ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXCJVbml2ZXJzYWxfXCIgKyB0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJBcHBsaWNhdGlvbl9cIiArIHRoaXMudGFnLnRhZ051bWJlci50b1N0cmluZygpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIltcIiArIHRoaXMudGFnLnRhZ051bWJlci50b1N0cmluZygpICsgXCJdXCI7IC8vIENvbnRleHRcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJQcml2YXRlX1wiICsgdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFTTjEucHJvdG90eXBlLmNvbnRlbnQgPSBmdW5jdGlvbiAobWF4TGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLnRhZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4TGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wb3NDb250ZW50KCk7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLmFicyh0aGlzLmxlbmd0aCk7XG4gICAgICAgIGlmICghdGhpcy50YWcuaXNVbml2ZXJzYWwoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3ViICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVhbS5wYXJzZU9jdGV0U3RyaW5nKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4sIG1heExlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnRhZy50YWdOdW1iZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMHgwMTogLy8gQk9PTEVBTlxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5zdHJlYW0uZ2V0KGNvbnRlbnQpID09PSAwKSA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiO1xuICAgICAgICAgICAgY2FzZSAweDAyOiAvLyBJTlRFR0VSXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlSW50ZWdlcihjb250ZW50LCBjb250ZW50ICsgbGVuKTtcbiAgICAgICAgICAgIGNhc2UgMHgwMzogLy8gQklUX1NUUklOR1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YiA/IFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIiA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnBhcnNlQml0U3RyaW5nKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4sIG1heExlbmd0aCk7XG4gICAgICAgICAgICBjYXNlIDB4MDQ6IC8vIE9DVEVUX1NUUklOR1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YiA/IFwiKFwiICsgdGhpcy5zdWIubGVuZ3RoICsgXCIgZWxlbSlcIiA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoY29udGVudCwgY29udGVudCArIGxlbiwgbWF4TGVuZ3RoKTtcbiAgICAgICAgICAgIC8vIGNhc2UgMHgwNTogLy8gTlVMTFxuICAgICAgICAgICAgY2FzZSAweDA2OiAvLyBPQkpFQ1RfSURFTlRJRklFUlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVhbS5wYXJzZU9JRChjb250ZW50LCBjb250ZW50ICsgbGVuLCBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgLy8gY2FzZSAweDA3OiAvLyBPYmplY3REZXNjcmlwdG9yXG4gICAgICAgICAgICAvLyBjYXNlIDB4MDg6IC8vIEVYVEVSTkFMXG4gICAgICAgICAgICAvLyBjYXNlIDB4MDk6IC8vIFJFQUxcbiAgICAgICAgICAgIC8vIGNhc2UgMHgwQTogLy8gRU5VTUVSQVRFRFxuICAgICAgICAgICAgLy8gY2FzZSAweDBCOiAvLyBFTUJFRERFRF9QRFZcbiAgICAgICAgICAgIGNhc2UgMHgxMDogLy8gU0VRVUVOQ0VcbiAgICAgICAgICAgIGNhc2UgMHgxMTogLy8gU0VUXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3ViICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIihcIiArIHRoaXMuc3ViLmxlbmd0aCArIFwiIGVsZW0pXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIobm8gZWxlbSlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDB4MEM6IC8vIFVURjhTdHJpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nQ3V0KHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nVVRGKGNvbnRlbnQsIGNvbnRlbnQgKyBsZW4pLCBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgY2FzZSAweDEyOiAvLyBOdW1lcmljU3RyaW5nXG4gICAgICAgICAgICBjYXNlIDB4MTM6IC8vIFByaW50YWJsZVN0cmluZ1xuICAgICAgICAgICAgY2FzZSAweDE0OiAvLyBUZWxldGV4U3RyaW5nXG4gICAgICAgICAgICBjYXNlIDB4MTU6IC8vIFZpZGVvdGV4U3RyaW5nXG4gICAgICAgICAgICBjYXNlIDB4MTY6IC8vIElBNVN0cmluZ1xuICAgICAgICAgICAgLy8gY2FzZSAweDE5OiAvLyBHcmFwaGljU3RyaW5nXG4gICAgICAgICAgICBjYXNlIDB4MUE6IC8vIFZpc2libGVTdHJpbmdcbiAgICAgICAgICAgICAgICAvLyBjYXNlIDB4MUI6IC8vIEdlbmVyYWxTdHJpbmdcbiAgICAgICAgICAgICAgICAvLyBjYXNlIDB4MUM6IC8vIFVuaXZlcnNhbFN0cmluZ1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdDdXQodGhpcy5zdHJlYW0ucGFyc2VTdHJpbmdJU08oY29udGVudCwgY29udGVudCArIGxlbiksIG1heExlbmd0aCk7XG4gICAgICAgICAgICBjYXNlIDB4MUU6IC8vIEJNUFN0cmluZ1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdDdXQodGhpcy5zdHJlYW0ucGFyc2VTdHJpbmdCTVAoY29udGVudCwgY29udGVudCArIGxlbiksIG1heExlbmd0aCk7XG4gICAgICAgICAgICBjYXNlIDB4MTc6IC8vIFVUQ1RpbWVcbiAgICAgICAgICAgIGNhc2UgMHgxODogLy8gR2VuZXJhbGl6ZWRUaW1lXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlVGltZShjb250ZW50LCBjb250ZW50ICsgbGVuLCAodGhpcy50YWcudGFnTnVtYmVyID09IDB4MTcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFTTjEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlTmFtZSgpICsgXCJAXCIgKyB0aGlzLnN0cmVhbS5wb3MgKyBcIltoZWFkZXI6XCIgKyB0aGlzLmhlYWRlciArIFwiLGxlbmd0aDpcIiArIHRoaXMubGVuZ3RoICsgXCIsc3ViOlwiICsgKCh0aGlzLnN1YiA9PT0gbnVsbCkgPyBcIm51bGxcIiA6IHRoaXMuc3ViLmxlbmd0aCkgKyBcIl1cIjtcbiAgICB9O1xuICAgIEFTTjEucHJvdG90eXBlLnRvUHJldHR5U3RyaW5nID0gZnVuY3Rpb24gKGluZGVudCkge1xuICAgICAgICBpZiAoaW5kZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluZGVudCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHMgPSBpbmRlbnQgKyB0aGlzLnR5cGVOYW1lKCkgKyBcIiBAXCIgKyB0aGlzLnN0cmVhbS5wb3M7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+PSAwKSB7XG4gICAgICAgICAgICBzICs9IFwiK1wiO1xuICAgICAgICB9XG4gICAgICAgIHMgKz0gdGhpcy5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLnRhZy50YWdDb25zdHJ1Y3RlZCkge1xuICAgICAgICAgICAgcyArPSBcIiAoY29uc3RydWN0ZWQpXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMudGFnLmlzVW5pdmVyc2FsKCkgJiYgKCh0aGlzLnRhZy50YWdOdW1iZXIgPT0gMHgwMykgfHwgKHRoaXMudGFnLnRhZ051bWJlciA9PSAweDA0KSkpICYmICh0aGlzLnN1YiAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIHMgKz0gXCIgKGVuY2Fwc3VsYXRlcylcIjtcbiAgICAgICAgfVxuICAgICAgICBzICs9IFwiXFxuXCI7XG4gICAgICAgIGlmICh0aGlzLnN1YiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5kZW50ICs9IFwiICBcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBtYXggPSB0aGlzLnN1Yi5sZW5ndGg7IGkgPCBtYXg7ICsraSkge1xuICAgICAgICAgICAgICAgIHMgKz0gdGhpcy5zdWJbaV0udG9QcmV0dHlTdHJpbmcoaW5kZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIEFTTjEucHJvdG90eXBlLnBvc1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW0ucG9zO1xuICAgIH07XG4gICAgQVNOMS5wcm90b3R5cGUucG9zQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLnBvcyArIHRoaXMuaGVhZGVyO1xuICAgIH07XG4gICAgQVNOMS5wcm90b3R5cGUucG9zRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW0ucG9zICsgdGhpcy5oZWFkZXIgKyBNYXRoLmFicyh0aGlzLmxlbmd0aCk7XG4gICAgfTtcbiAgICBBU04xLnByb3RvdHlwZS50b0hleFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLmhleER1bXAodGhpcy5wb3NTdGFydCgpLCB0aGlzLnBvc0VuZCgpLCB0cnVlKTtcbiAgICB9O1xuICAgIEFTTjEuZGVjb2RlTGVuZ3RoID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICB2YXIgYnVmID0gc3RyZWFtLmdldCgpO1xuICAgICAgICB2YXIgbGVuID0gYnVmICYgMHg3RjtcbiAgICAgICAgaWYgKGxlbiA9PSBidWYpIHtcbiAgICAgICAgICAgIHJldHVybiBsZW47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gcmVhc29uIHRvIHVzZSBJbnQxMCwgYXMgaXQgd291bGQgYmUgYSBodWdlIGJ1ZmZlciBhbnl3YXlzXG4gICAgICAgIGlmIChsZW4gPiA2KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggb3ZlciA0OCBiaXRzIG5vdCBzdXBwb3J0ZWQgYXQgcG9zaXRpb24gXCIgKyAoc3RyZWFtLnBvcyAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSAvLyB1bmRlZmluZWRcbiAgICAgICAgYnVmID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgYnVmID0gKGJ1ZiAqIDI1NikgKyBzdHJlYW0uZ2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBoZXhhZGVjaW1hbCB2YWx1ZSAoYXMgYSBzdHJpbmcpIG9mIHRoZSBjdXJyZW50IEFTTi4xIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBBU04xLnByb3RvdHlwZS5nZXRIZXhTdHJpbmdWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhleFN0cmluZyA9IHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuaGVhZGVyICogMjtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoICogMjtcbiAgICAgICAgcmV0dXJuIGhleFN0cmluZy5zdWJzdHIob2Zmc2V0LCBsZW5ndGgpO1xuICAgIH07XG4gICAgQVNOMS5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHZhciBzdHJlYW07XG4gICAgICAgIGlmICghKHN0ciBpbnN0YW5jZW9mIFN0cmVhbSkpIHtcbiAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBTdHJlYW0oc3RyLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0cmVhbSA9IHN0cjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyZWFtU3RhcnQgPSBuZXcgU3RyZWFtKHN0cmVhbSk7XG4gICAgICAgIHZhciB0YWcgPSBuZXcgQVNOMVRhZyhzdHJlYW0pO1xuICAgICAgICB2YXIgbGVuID0gQVNOMS5kZWNvZGVMZW5ndGgoc3RyZWFtKTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICAgICAgdmFyIGhlYWRlciA9IHN0YXJ0IC0gc3RyZWFtU3RhcnQucG9zO1xuICAgICAgICB2YXIgc3ViID0gbnVsbDtcbiAgICAgICAgdmFyIGdldFN1YiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgICAgIGlmIChsZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZpbml0ZSBsZW5ndGhcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gc3RhcnQgKyBsZW47XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0cmVhbS5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0W3JldC5sZW5ndGhdID0gQVNOMS5kZWNvZGUoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5wb3MgIT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRlbnQgc2l6ZSBpcyBub3QgY29ycmVjdCBmb3IgY29udGFpbmVyIHN0YXJ0aW5nIGF0IG9mZnNldCBcIiArIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB1bmRlZmluZWQgbGVuZ3RoXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBBU04xLmRlY29kZShzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMudGFnLmlzRU9DKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldFtyZXQubGVuZ3RoXSA9IHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVuID0gc3RhcnQgLSBzdHJlYW0ucG9zOyAvLyB1bmRlZmluZWQgbGVuZ3RocyBhcmUgcmVwcmVzZW50ZWQgYXMgbmVnYXRpdmUgdmFsdWVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4Y2VwdGlvbiB3aGlsZSBkZWNvZGluZyB1bmRlZmluZWQgbGVuZ3RoIGNvbnRlbnQ6IFwiICsgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRhZy50YWdDb25zdHJ1Y3RlZCkge1xuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIHZhbGlkIGNvbnRlbnRcbiAgICAgICAgICAgIHN1YiA9IGdldFN1YigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhZy5pc1VuaXZlcnNhbCgpICYmICgodGFnLnRhZ051bWJlciA9PSAweDAzKSB8fCAodGFnLnRhZ051bWJlciA9PSAweDA0KSkpIHtcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyBCaXRTdHJpbmcgYW5kIE9jdGV0U3RyaW5nIGFyZSB1c2VkIHRvIGVuY2Fwc3VsYXRlIEFTTi4xXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0YWcudGFnTnVtYmVyID09IDB4MDMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbS5nZXQoKSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCSVQgU1RSSU5HcyB3aXRoIHVudXNlZCBiaXRzIGNhbm5vdCBlbmNhcHN1bGF0ZS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ViID0gZ2V0U3ViKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YltpXS50YWcuaXNFT0MoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRU9DIGlzIG5vdCBzdXBwb3NlZCB0byBiZSBhY3R1YWwgY29udGVudC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGJ1dCBzaWxlbnRseSBpZ25vcmUgd2hlbiB0aGV5IGRvbid0XG4gICAgICAgICAgICAgICAgc3ViID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobGVuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2UgY2FuJ3Qgc2tpcCBvdmVyIGFuIGludmFsaWQgdGFnIHdpdGggdW5kZWZpbmVkIGxlbmd0aCBhdCBvZmZzZXQgXCIgKyBzdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJlYW0ucG9zID0gc3RhcnQgKyBNYXRoLmFicyhsZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQVNOMShzdHJlYW1TdGFydCwgaGVhZGVyLCBsZW4sIHRhZywgc3ViKTtcbiAgICB9O1xuICAgIHJldHVybiBBU04xO1xufSgpKTtcbnZhciBBU04xVGFnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFTTjFUYWcoc3RyZWFtKSB7XG4gICAgICAgIHZhciBidWYgPSBzdHJlYW0uZ2V0KCk7XG4gICAgICAgIHRoaXMudGFnQ2xhc3MgPSBidWYgPj4gNjtcbiAgICAgICAgdGhpcy50YWdDb25zdHJ1Y3RlZCA9ICgoYnVmICYgMHgyMCkgIT09IDApO1xuICAgICAgICB0aGlzLnRhZ051bWJlciA9IGJ1ZiAmIDB4MUY7XG4gICAgICAgIGlmICh0aGlzLnRhZ051bWJlciA9PSAweDFGKSB7IC8vIGxvbmcgdGFnXG4gICAgICAgICAgICB2YXIgbiA9IG5ldyBJbnQxMCgpO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGJ1ZiA9IHN0cmVhbS5nZXQoKTtcbiAgICAgICAgICAgICAgICBuLm11bEFkZCgxMjgsIGJ1ZiAmIDB4N0YpO1xuICAgICAgICAgICAgfSB3aGlsZSAoYnVmICYgMHg4MCk7XG4gICAgICAgICAgICB0aGlzLnRhZ051bWJlciA9IG4uc2ltcGxpZnkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBU04xVGFnLnByb3RvdHlwZS5pc1VuaXZlcnNhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFnQ2xhc3MgPT09IDB4MDA7XG4gICAgfTtcbiAgICBBU04xVGFnLnByb3RvdHlwZS5pc0VPQyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFnQ2xhc3MgPT09IDB4MDAgJiYgdGhpcy50YWdOdW1iZXIgPT09IDB4MDA7XG4gICAgfTtcbiAgICByZXR1cm4gQVNOMVRhZztcbn0oKSk7XG5cbi8vIENvcHlyaWdodCAoYykgMjAwNSAgVG9tIFd1XG4vLyBCaXRzIHBlciBkaWdpdFxudmFyIGRiaXRzO1xuLy8gSmF2YVNjcmlwdCBlbmdpbmUgYW5hbHlzaXNcbnZhciBjYW5hcnkgPSAweGRlYWRiZWVmY2FmZTtcbnZhciBqX2xtID0gKChjYW5hcnkgJiAweGZmZmZmZikgPT0gMHhlZmNhZmUpO1xuLy8jcmVnaW9uXG52YXIgbG93cHJpbWVzID0gWzIsIDMsIDUsIDcsIDExLCAxMywgMTcsIDE5LCAyMywgMjksIDMxLCAzNywgNDEsIDQzLCA0NywgNTMsIDU5LCA2MSwgNjcsIDcxLCA3MywgNzksIDgzLCA4OSwgOTcsIDEwMSwgMTAzLCAxMDcsIDEwOSwgMTEzLCAxMjcsIDEzMSwgMTM3LCAxMzksIDE0OSwgMTUxLCAxNTcsIDE2MywgMTY3LCAxNzMsIDE3OSwgMTgxLCAxOTEsIDE5MywgMTk3LCAxOTksIDIxMSwgMjIzLCAyMjcsIDIyOSwgMjMzLCAyMzksIDI0MSwgMjUxLCAyNTcsIDI2MywgMjY5LCAyNzEsIDI3NywgMjgxLCAyODMsIDI5MywgMzA3LCAzMTEsIDMxMywgMzE3LCAzMzEsIDMzNywgMzQ3LCAzNDksIDM1MywgMzU5LCAzNjcsIDM3MywgMzc5LCAzODMsIDM4OSwgMzk3LCA0MDEsIDQwOSwgNDE5LCA0MjEsIDQzMSwgNDMzLCA0MzksIDQ0MywgNDQ5LCA0NTcsIDQ2MSwgNDYzLCA0NjcsIDQ3OSwgNDg3LCA0OTEsIDQ5OSwgNTAzLCA1MDksIDUyMSwgNTIzLCA1NDEsIDU0NywgNTU3LCA1NjMsIDU2OSwgNTcxLCA1NzcsIDU4NywgNTkzLCA1OTksIDYwMSwgNjA3LCA2MTMsIDYxNywgNjE5LCA2MzEsIDY0MSwgNjQzLCA2NDcsIDY1MywgNjU5LCA2NjEsIDY3MywgNjc3LCA2ODMsIDY5MSwgNzAxLCA3MDksIDcxOSwgNzI3LCA3MzMsIDczOSwgNzQzLCA3NTEsIDc1NywgNzYxLCA3NjksIDc3MywgNzg3LCA3OTcsIDgwOSwgODExLCA4MjEsIDgyMywgODI3LCA4MjksIDgzOSwgODUzLCA4NTcsIDg1OSwgODYzLCA4NzcsIDg4MSwgODgzLCA4ODcsIDkwNywgOTExLCA5MTksIDkyOSwgOTM3LCA5NDEsIDk0NywgOTUzLCA5NjcsIDk3MSwgOTc3LCA5ODMsIDk5MSwgOTk3XTtcbnZhciBscGxpbSA9ICgxIDw8IDI2KSAvIGxvd3ByaW1lc1tsb3dwcmltZXMubGVuZ3RoIC0gMV07XG4vLyNlbmRyZWdpb25cbi8vIChwdWJsaWMpIENvbnN0cnVjdG9yXG52YXIgQmlnSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaWdJbnRlZ2VyKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb21OdW1iZXIoYSwgYiwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09IG51bGwgJiYgXCJzdHJpbmdcIiAhPSB0eXBlb2YgYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbVN0cmluZyhhLCAyNTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tU3RyaW5nKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vI3JlZ2lvbiBQVUJMSUNcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1N0cmluZyA9IGJuVG9TdHJpbmc7XG4gICAgLy8gKHB1YmxpYykgcmV0dXJuIHN0cmluZyByZXByZXNlbnRhdGlvbiBpbiBnaXZlbiByYWRpeFxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgaWYgKHRoaXMucyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcIi1cIiArIHRoaXMubmVnYXRlKCkudG9TdHJpbmcoYik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGs7XG4gICAgICAgIGlmIChiID09IDE2KSB7XG4gICAgICAgICAgICBrID0gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiID09IDgpIHtcbiAgICAgICAgICAgIGsgPSAzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgPT0gMikge1xuICAgICAgICAgICAgayA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSAzMikge1xuICAgICAgICAgICAgayA9IDU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSA0KSB7XG4gICAgICAgICAgICBrID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvUmFkaXgoYik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGttID0gKDEgPDwgaykgLSAxO1xuICAgICAgICB2YXIgZDtcbiAgICAgICAgdmFyIG0gPSBmYWxzZTtcbiAgICAgICAgdmFyIHIgPSBcIlwiO1xuICAgICAgICB2YXIgaSA9IHRoaXMudDtcbiAgICAgICAgdmFyIHAgPSB0aGlzLkRCIC0gKGkgKiB0aGlzLkRCKSAlIGs7XG4gICAgICAgIGlmIChpLS0gPiAwKSB7XG4gICAgICAgICAgICBpZiAocCA8IHRoaXMuREIgJiYgKGQgPSB0aGlzW2ldID4+IHApID4gMCkge1xuICAgICAgICAgICAgICAgIG0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHIgPSBpbnQyY2hhcihkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocCA8IGspIHtcbiAgICAgICAgICAgICAgICAgICAgZCA9ICh0aGlzW2ldICYgKCgxIDw8IHApIC0gMSkpIDw8IChrIC0gcCk7XG4gICAgICAgICAgICAgICAgICAgIGQgfD0gdGhpc1stLWldID4+IChwICs9IHRoaXMuREIgLSBrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGQgPSAodGhpc1tpXSA+PiAocCAtPSBrKSkgJiBrbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcCArPSB0aGlzLkRCO1xuICAgICAgICAgICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgciArPSBpbnQyY2hhcihkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0gPyByIDogXCIwXCI7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5uZWdhdGUgPSBibk5lZ2F0ZTtcbiAgICAvLyAocHVibGljKSAtdGhpc1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm5lZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMsIHIpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFicyA9IGJuQWJzO1xuICAgIC8vIChwdWJsaWMpIHx0aGlzfFxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmFicyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnMgPCAwKSA/IHRoaXMubmVnYXRlKCkgOiB0aGlzO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY29tcGFyZVRvID0gYm5Db21wYXJlVG87XG4gICAgLy8gKHB1YmxpYykgcmV0dXJuICsgaWYgdGhpcyA+IGEsIC0gaWYgdGhpcyA8IGEsIDAgaWYgZXF1YWxcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG8gPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgciA9IHRoaXMucyAtIGEucztcbiAgICAgICAgaWYgKHIgIT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSB0aGlzLnQ7XG4gICAgICAgIHIgPSBpIC0gYS50O1xuICAgICAgICBpZiAociAhPSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucyA8IDApID8gLXIgOiByO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICAgICAgaWYgKChyID0gdGhpc1tpXSAtIGFbaV0pICE9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGJuQml0TGVuZ3RoO1xuICAgIC8vIChwdWJsaWMpIHJldHVybiB0aGUgbnVtYmVyIG9mIGJpdHMgaW4gXCJ0aGlzXCJcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuREIgKiAodGhpcy50IC0gMSkgKyBuYml0cyh0aGlzW3RoaXMudCAtIDFdIF4gKHRoaXMucyAmIHRoaXMuRE0pKTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZCA9IGJuTW9kO1xuICAgIC8vIChwdWJsaWMpIHRoaXMgbW9kIGFcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2QgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgICB0aGlzLmFicygpLmRpdlJlbVRvKGEsIG51bGwsIHIpO1xuICAgICAgICBpZiAodGhpcy5zIDwgMCAmJiByLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pID4gMCkge1xuICAgICAgICAgICAgYS5zdWJUbyhyLCByKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZFBvd0ludCA9IGJuTW9kUG93SW50O1xuICAgIC8vIChwdWJsaWMpIHRoaXNeZSAlIG0sIDAgPD0gZSA8IDJeMzJcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQgPSBmdW5jdGlvbiAoZSwgbSkge1xuICAgICAgICB2YXIgejtcbiAgICAgICAgaWYgKGUgPCAyNTYgfHwgbS5pc0V2ZW4oKSkge1xuICAgICAgICAgICAgeiA9IG5ldyBDbGFzc2ljKG0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cChlLCB6KTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsb25lID0gYm5DbG9uZTtcbiAgICAvLyAocHVibGljKVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgICB0aGlzLmNvcHlUbyhyKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnRWYWx1ZSA9IGJuSW50VmFsdWU7XG4gICAgLy8gKHB1YmxpYykgcmV0dXJuIHZhbHVlIGFzIGludGVnZXJcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucyA8IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnQgPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzWzBdIC0gdGhpcy5EVjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnQgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXNzdW1lcyAxNiA8IERCIDwgMzJcbiAgICAgICAgcmV0dXJuICgodGhpc1sxXSAmICgoMSA8PCAoMzIgLSB0aGlzLkRCKSkgLSAxKSkgPDwgdGhpcy5EQikgfCB0aGlzWzBdO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYnl0ZVZhbHVlID0gYm5CeXRlVmFsdWU7XG4gICAgLy8gKHB1YmxpYykgcmV0dXJuIHZhbHVlIGFzIGJ5dGVcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5ieXRlVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy50ID09IDApID8gdGhpcy5zIDogKHRoaXNbMF0gPDwgMjQpID4+IDI0O1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc2hvcnRWYWx1ZSA9IGJuU2hvcnRWYWx1ZTtcbiAgICAvLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgc2hvcnQgKGFzc3VtZXMgREI+PTE2KVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnNob3J0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy50ID09IDApID8gdGhpcy5zIDogKHRoaXNbMF0gPDwgMTYpID4+IDE2O1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc2lnbnVtID0gYm5TaWdOdW07XG4gICAgLy8gKHB1YmxpYykgMCBpZiB0aGlzID09IDAsIDEgaWYgdGhpcyA+IDBcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaWdudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnMgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50IDw9IDAgfHwgKHRoaXMudCA9PSAxICYmIHRoaXNbMF0gPD0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvQnl0ZUFycmF5ID0gYm5Ub0J5dGVBcnJheTtcbiAgICAvLyAocHVibGljKSBjb252ZXJ0IHRvIGJpZ2VuZGlhbiBieXRlIGFycmF5XG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUudG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy50O1xuICAgICAgICB2YXIgciA9IFtdO1xuICAgICAgICByWzBdID0gdGhpcy5zO1xuICAgICAgICB2YXIgcCA9IHRoaXMuREIgLSAoaSAqIHRoaXMuREIpICUgODtcbiAgICAgICAgdmFyIGQ7XG4gICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgaWYgKGktLSA+IDApIHtcbiAgICAgICAgICAgIGlmIChwIDwgdGhpcy5EQiAmJiAoZCA9IHRoaXNbaV0gPj4gcCkgIT0gKHRoaXMucyAmIHRoaXMuRE0pID4+IHApIHtcbiAgICAgICAgICAgICAgICByW2srK10gPSBkIHwgKHRoaXMucyA8PCAodGhpcy5EQiAtIHApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZCA9ICh0aGlzW2ldICYgKCgxIDw8IHApIC0gMSkpIDw8ICg4IC0gcCk7XG4gICAgICAgICAgICAgICAgICAgIGQgfD0gdGhpc1stLWldID4+IChwICs9IHRoaXMuREIgLSA4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGQgPSAodGhpc1tpXSA+PiAocCAtPSA4KSkgJiAweGZmO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwICs9IHRoaXMuREI7XG4gICAgICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChkICYgMHg4MCkgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkIHw9IC0yNTY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrID09IDAgJiYgKHRoaXMucyAmIDB4ODApICE9IChkICYgMHg4MCkpIHtcbiAgICAgICAgICAgICAgICAgICAgKytrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoayA+IDAgfHwgZCAhPSB0aGlzLnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcltrKytdID0gZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5lcXVhbHMgPSBibkVxdWFscztcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29tcGFyZVRvKGEpID09IDApO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubWluID0gYm5NaW47XG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUubWluID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbXBhcmVUbyhhKSA8IDApID8gdGhpcyA6IGE7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tYXggPSBibk1heDtcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tYXggPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29tcGFyZVRvKGEpID4gMCkgPyB0aGlzIDogYTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZCA9IGJuQW5kO1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgIHRoaXMuYml0d2lzZVRvKGEsIG9wX2FuZCwgcik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUub3IgPSBibk9yO1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5iaXR3aXNlVG8oYSwgb3Bfb3IsIHIpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnhvciA9IGJuWG9yO1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgIHRoaXMuYml0d2lzZVRvKGEsIG9wX3hvciwgcik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYW5kTm90ID0gYm5BbmROb3Q7XG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW5kTm90ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5iaXR3aXNlVG8oYSwgb3BfYW5kbm90LCByKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5ub3QgPSBibk5vdDtcbiAgICAvLyAocHVibGljKSB+dGhpc1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgICAgICAgcltpXSA9IHRoaXMuRE0gJiB+dGhpc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByLnQgPSB0aGlzLnQ7XG4gICAgICAgIHIucyA9IH50aGlzLnM7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRMZWZ0ID0gYm5TaGlmdExlZnQ7XG4gICAgLy8gKHB1YmxpYykgdGhpcyA8PCBuXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgaWYgKG4gPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnJTaGlmdFRvKC1uLCByKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubFNoaWZ0VG8obiwgcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zaGlmdFJpZ2h0ID0gYm5TaGlmdFJpZ2h0O1xuICAgIC8vIChwdWJsaWMpIHRoaXMgPj4gblxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0UmlnaHQgPSBmdW5jdGlvbiAobikge1xuICAgICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgICBpZiAobiA8IDApIHtcbiAgICAgICAgICAgIHRoaXMubFNoaWZ0VG8oLW4sIHIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yU2hpZnRUbyhuLCByKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmdldExvd2VzdFNldEJpdCA9IGJuR2V0TG93ZXN0U2V0Qml0O1xuICAgIC8vIChwdWJsaWMpIHJldHVybnMgaW5kZXggb2YgbG93ZXN0IDEtYml0IChvciAtMSBpZiBub25lKVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmdldExvd2VzdFNldEJpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gIT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICogdGhpcy5EQiArIGxiaXQodGhpc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQgKiB0aGlzLkRCO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmJpdENvdW50ID0gYm5CaXRDb3VudDtcbiAgICAvLyAocHVibGljKSByZXR1cm4gbnVtYmVyIG9mIHNldCBiaXRzXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuYml0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByID0gMDtcbiAgICAgICAgdmFyIHggPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudDsgKytpKSB7XG4gICAgICAgICAgICByICs9IGNiaXQodGhpc1tpXSBeIHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUudGVzdEJpdCA9IGJuVGVzdEJpdDtcbiAgICAvLyAocHVibGljKSB0cnVlIGlmZiBudGggYml0IGlzIHNldFxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnRlc3RCaXQgPSBmdW5jdGlvbiAobikge1xuICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IobiAvIHRoaXMuREIpO1xuICAgICAgICBpZiAoaiA+PSB0aGlzLnQpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5zICE9IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKHRoaXNbal0gJiAoMSA8PCAobiAlIHRoaXMuREIpKSkgIT0gMCk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zZXRCaXQgPSBiblNldEJpdDtcbiAgICAvLyAocHVibGljKSB0aGlzIHwgKDE8PG4pXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuc2V0Qml0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KG4sIG9wX29yKTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsZWFyQml0ID0gYm5DbGVhckJpdDtcbiAgICAvLyAocHVibGljKSB0aGlzICYgfigxPDxuKVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmNsZWFyQml0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KG4sIG9wX2FuZG5vdCk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mbGlwQml0ID0gYm5GbGlwQml0O1xuICAgIC8vIChwdWJsaWMpIHRoaXMgXiAoMTw8bilcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mbGlwQml0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KG4sIG9wX3hvcik7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGQgPSBibkFkZDtcbiAgICAvLyAocHVibGljKSB0aGlzICsgYVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgIHRoaXMuYWRkVG8oYSwgcik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3VidHJhY3QgPSBiblN1YnRyYWN0O1xuICAgIC8vIChwdWJsaWMpIHRoaXMgLSBhXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgICB0aGlzLnN1YlRvKGEsIHIpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5ID0gYm5NdWx0aXBseTtcbiAgICAvLyAocHVibGljKSB0aGlzICogYVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5tdWx0aXBseVRvKGEsIHIpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZSA9IGJuRGl2aWRlO1xuICAgIC8vIChwdWJsaWMpIHRoaXMgLyBhXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5kaXZSZW1UbyhhLCByLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5yZW1haW5kZXIgPSBiblJlbWFpbmRlcjtcbiAgICAvLyAocHVibGljKSB0aGlzICUgYVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnJlbWFpbmRlciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgIHRoaXMuZGl2UmVtVG8oYSwgbnVsbCwgcik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyID0gYm5EaXZpZGVBbmRSZW1haW5kZXI7XG4gICAgLy8gKHB1YmxpYykgW3RoaXMvYSx0aGlzJWFdXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHEgPSBuYmkoKTtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5kaXZSZW1UbyhhLCBxLCByKTtcbiAgICAgICAgcmV0dXJuIFtxLCByXTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZFBvdyA9IGJuTW9kUG93O1xuICAgIC8vIChwdWJsaWMpIHRoaXNeZSAlIG0gKEhBQyAxNC44NSlcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3cgPSBmdW5jdGlvbiAoZSwgbSkge1xuICAgICAgICB2YXIgaSA9IGUuYml0TGVuZ3RoKCk7XG4gICAgICAgIHZhciBrO1xuICAgICAgICB2YXIgciA9IG5idigxKTtcbiAgICAgICAgdmFyIHo7XG4gICAgICAgIGlmIChpIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGkgPCAxOCkge1xuICAgICAgICAgICAgayA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaSA8IDQ4KSB7XG4gICAgICAgICAgICBrID0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpIDwgMTQ0KSB7XG4gICAgICAgICAgICBrID0gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpIDwgNzY4KSB7XG4gICAgICAgICAgICBrID0gNTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGsgPSA2O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgOCkge1xuICAgICAgICAgICAgeiA9IG5ldyBDbGFzc2ljKG0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uaXNFdmVuKCkpIHtcbiAgICAgICAgICAgIHogPSBuZXcgQmFycmV0dChtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHogPSBuZXcgTW9udGdvbWVyeShtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVjb21wdXRhdGlvblxuICAgICAgICB2YXIgZyA9IFtdO1xuICAgICAgICB2YXIgbiA9IDM7XG4gICAgICAgIHZhciBrMSA9IGsgLSAxO1xuICAgICAgICB2YXIga20gPSAoMSA8PCBrKSAtIDE7XG4gICAgICAgIGdbMV0gPSB6LmNvbnZlcnQodGhpcyk7XG4gICAgICAgIGlmIChrID4gMSkge1xuICAgICAgICAgICAgdmFyIGcyID0gbmJpKCk7XG4gICAgICAgICAgICB6LnNxclRvKGdbMV0sIGcyKTtcbiAgICAgICAgICAgIHdoaWxlIChuIDw9IGttKSB7XG4gICAgICAgICAgICAgICAgZ1tuXSA9IG5iaSgpO1xuICAgICAgICAgICAgICAgIHoubXVsVG8oZzIsIGdbbiAtIDJdLCBnW25dKTtcbiAgICAgICAgICAgICAgICBuICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBlLnQgLSAxO1xuICAgICAgICB2YXIgdztcbiAgICAgICAgdmFyIGlzMSA9IHRydWU7XG4gICAgICAgIHZhciByMiA9IG5iaSgpO1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgaSA9IG5iaXRzKGVbal0pIC0gMTtcbiAgICAgICAgd2hpbGUgKGogPj0gMCkge1xuICAgICAgICAgICAgaWYgKGkgPj0gazEpIHtcbiAgICAgICAgICAgICAgICB3ID0gKGVbal0gPj4gKGkgLSBrMSkpICYga207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3ID0gKGVbal0gJiAoKDEgPDwgKGkgKyAxKSkgLSAxKSkgPDwgKGsxIC0gaSk7XG4gICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHcgfD0gZVtqIC0gMV0gPj4gKHRoaXMuREIgKyBpIC0gazEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gPSBrO1xuICAgICAgICAgICAgd2hpbGUgKCh3ICYgMSkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHcgPj49IDE7XG4gICAgICAgICAgICAgICAgLS1uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChpIC09IG4pIDwgMCkge1xuICAgICAgICAgICAgICAgIGkgKz0gdGhpcy5EQjtcbiAgICAgICAgICAgICAgICAtLWo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMxKSB7IC8vIHJldCA9PSAxLCBkb24ndCBib3RoZXIgc3F1YXJpbmcgb3IgbXVsdGlwbHlpbmcgaXRcbiAgICAgICAgICAgICAgICBnW3ddLmNvcHlUbyhyKTtcbiAgICAgICAgICAgICAgICBpczEgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlIChuID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB6LnNxclRvKHIsIHIyKTtcbiAgICAgICAgICAgICAgICAgICAgei5zcXJUbyhyMiwgcik7XG4gICAgICAgICAgICAgICAgICAgIG4gLT0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHI7XG4gICAgICAgICAgICAgICAgICAgIHIgPSByMjtcbiAgICAgICAgICAgICAgICAgICAgcjIgPSB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB6Lm11bFRvKHIyLCBnW3ddLCByKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqID49IDAgJiYgKGVbal0gJiAoMSA8PCBpKSkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgICAgICAgICAgIHQgPSByO1xuICAgICAgICAgICAgICAgIHIgPSByMjtcbiAgICAgICAgICAgICAgICByMiA9IHQ7XG4gICAgICAgICAgICAgICAgaWYgKC0taSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IHRoaXMuREIgLSAxO1xuICAgICAgICAgICAgICAgICAgICAtLWo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB6LnJldmVydChyKTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZEludmVyc2UgPSBibk1vZEludmVyc2U7XG4gICAgLy8gKHB1YmxpYykgMS90aGlzICUgbSAoSEFDIDE0LjYxKVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm1vZEludmVyc2UgPSBmdW5jdGlvbiAobSkge1xuICAgICAgICB2YXIgYWMgPSBtLmlzRXZlbigpO1xuICAgICAgICBpZiAoKHRoaXMuaXNFdmVuKCkgJiYgYWMpIHx8IG0uc2lnbnVtKCkgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludGVnZXIuWkVSTztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdSA9IG0uY2xvbmUoKTtcbiAgICAgICAgdmFyIHYgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHZhciBhID0gbmJ2KDEpO1xuICAgICAgICB2YXIgYiA9IG5idigwKTtcbiAgICAgICAgdmFyIGMgPSBuYnYoMCk7XG4gICAgICAgIHZhciBkID0gbmJ2KDEpO1xuICAgICAgICB3aGlsZSAodS5zaWdudW0oKSAhPSAwKSB7XG4gICAgICAgICAgICB3aGlsZSAodS5pc0V2ZW4oKSkge1xuICAgICAgICAgICAgICAgIHUuclNoaWZ0VG8oMSwgdSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYS5pc0V2ZW4oKSB8fCAhYi5pc0V2ZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5hZGRUbyh0aGlzLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuc3ViVG8obSwgYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYS5yU2hpZnRUbygxLCBhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWIuaXNFdmVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYi5zdWJUbyhtLCBiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYi5yU2hpZnRUbygxLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICh2LmlzRXZlbigpKSB7XG4gICAgICAgICAgICAgICAgdi5yU2hpZnRUbygxLCB2KTtcbiAgICAgICAgICAgICAgICBpZiAoYWMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjLmlzRXZlbigpIHx8ICFkLmlzRXZlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmFkZFRvKHRoaXMsIGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5zdWJUbyhtLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjLnJTaGlmdFRvKDEsIGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghZC5pc0V2ZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICBkLnN1YlRvKG0sIGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkLnJTaGlmdFRvKDEsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHUuY29tcGFyZVRvKHYpID49IDApIHtcbiAgICAgICAgICAgICAgICB1LnN1YlRvKHYsIHUpO1xuICAgICAgICAgICAgICAgIGlmIChhYykge1xuICAgICAgICAgICAgICAgICAgICBhLnN1YlRvKGMsIGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiLnN1YlRvKGQsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdi5zdWJUbyh1LCB2KTtcbiAgICAgICAgICAgICAgICBpZiAoYWMpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5zdWJUbyhhLCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZC5zdWJUbyhiLCBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodi5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpICE9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnRlZ2VyLlpFUk87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQuY29tcGFyZVRvKG0pID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBkLnN1YnRyYWN0KG0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkLnNpZ251bSgpIDwgMCkge1xuICAgICAgICAgICAgZC5hZGRUbyhtLCBkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkLnNpZ251bSgpIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGQuYWRkKG0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnBvdyA9IGJuUG93O1xuICAgIC8vIChwdWJsaWMpIHRoaXNeZVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnBvdyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cChlLCBuZXcgTnVsbEV4cCgpKTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmdjZCA9IGJuR0NEO1xuICAgIC8vIChwdWJsaWMpIGdjZCh0aGlzLGEpIChIQUMgMTQuNTQpXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuZ2NkID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIHggPSAodGhpcy5zIDwgMCkgPyB0aGlzLm5lZ2F0ZSgpIDogdGhpcy5jbG9uZSgpO1xuICAgICAgICB2YXIgeSA9IChhLnMgPCAwKSA/IGEubmVnYXRlKCkgOiBhLmNsb25lKCk7XG4gICAgICAgIGlmICh4LmNvbXBhcmVUbyh5KSA8IDApIHtcbiAgICAgICAgICAgIHZhciB0ID0geDtcbiAgICAgICAgICAgIHggPSB5O1xuICAgICAgICAgICAgeSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSB4LmdldExvd2VzdFNldEJpdCgpO1xuICAgICAgICB2YXIgZyA9IHkuZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgICAgIGlmIChnIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBnKSB7XG4gICAgICAgICAgICBnID0gaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZyA+IDApIHtcbiAgICAgICAgICAgIHguclNoaWZ0VG8oZywgeCk7XG4gICAgICAgICAgICB5LnJTaGlmdFRvKGcsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh4LnNpZ251bSgpID4gMCkge1xuICAgICAgICAgICAgaWYgKChpID0geC5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgeC5yU2hpZnRUbyhpLCB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoaSA9IHkuZ2V0TG93ZXN0U2V0Qml0KCkpID4gMCkge1xuICAgICAgICAgICAgICAgIHkuclNoaWZ0VG8oaSwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeC5jb21wYXJlVG8oeSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHguc3ViVG8oeSwgeCk7XG4gICAgICAgICAgICAgICAgeC5yU2hpZnRUbygxLCB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHkuc3ViVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgeS5yU2hpZnRUbygxLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZyA+IDApIHtcbiAgICAgICAgICAgIHkubFNoaWZ0VG8oZywgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWUgPSBibklzUHJvYmFibGVQcmltZTtcbiAgICAvLyAocHVibGljKSB0ZXN0IHByaW1hbGl0eSB3aXRoIGNlcnRhaW50eSA+PSAxLS41XnRcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWUgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIHggPSB0aGlzLmFicygpO1xuICAgICAgICBpZiAoeC50ID09IDEgJiYgeFswXSA8PSBsb3dwcmltZXNbbG93cHJpbWVzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbG93cHJpbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhbMF0gPT0gbG93cHJpbWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeC5pc0V2ZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGkgPSAxO1xuICAgICAgICB3aGlsZSAoaSA8IGxvd3ByaW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBtID0gbG93cHJpbWVzW2ldO1xuICAgICAgICAgICAgdmFyIGogPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlIChqIDwgbG93cHJpbWVzLmxlbmd0aCAmJiBtIDwgbHBsaW0pIHtcbiAgICAgICAgICAgICAgICBtICo9IGxvd3ByaW1lc1tqKytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbSA9IHgubW9kSW50KG0pO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG0gJSBsb3dwcmltZXNbaSsrXSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHgubWlsbGVyUmFiaW4odCk7XG4gICAgfTtcbiAgICAvLyNlbmRyZWdpb24gUFVCTElDXG4gICAgLy8jcmVnaW9uIFBST1RFQ1RFRFxuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmNvcHlUbyA9IGJucENvcHlUbztcbiAgICAvLyAocHJvdGVjdGVkKSBjb3B5IHRoaXMgdG8gclxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgcltpXSA9IHRoaXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgci50ID0gdGhpcy50O1xuICAgICAgICByLnMgPSB0aGlzLnM7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tSW50ID0gYm5wRnJvbUludDtcbiAgICAvLyAocHJvdGVjdGVkKSBzZXQgZnJvbSBpbnRlZ2VyIHZhbHVlIHgsIC1EViA8PSB4IDwgRFZcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tSW50ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhpcy50ID0gMTtcbiAgICAgICAgdGhpcy5zID0gKHggPCAwKSA/IC0xIDogMDtcbiAgICAgICAgaWYgKHggPiAwKSB7XG4gICAgICAgICAgICB0aGlzWzBdID0geDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4IDwgLTEpIHtcbiAgICAgICAgICAgIHRoaXNbMF0gPSB4ICsgdGhpcy5EVjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudCA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21TdHJpbmcgPSBibnBGcm9tU3RyaW5nO1xuICAgIC8vIChwcm90ZWN0ZWQpIHNldCBmcm9tIHN0cmluZyBhbmQgcmFkaXhcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHMsIGIpIHtcbiAgICAgICAgdmFyIGs7XG4gICAgICAgIGlmIChiID09IDE2KSB7XG4gICAgICAgICAgICBrID0gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiID09IDgpIHtcbiAgICAgICAgICAgIGsgPSAzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgPT0gMjU2KSB7XG4gICAgICAgICAgICBrID0gODtcbiAgICAgICAgICAgIC8qIGJ5dGUgYXJyYXkgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiID09IDIpIHtcbiAgICAgICAgICAgIGsgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgPT0gMzIpIHtcbiAgICAgICAgICAgIGsgPSA1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgPT0gNCkge1xuICAgICAgICAgICAgayA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyb21SYWRpeChzLCBiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnQgPSAwO1xuICAgICAgICB0aGlzLnMgPSAwO1xuICAgICAgICB2YXIgaSA9IHMubGVuZ3RoO1xuICAgICAgICB2YXIgbWkgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNoID0gMDtcbiAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgeCA9IChrID09IDgpID8gKCtzW2ldKSAmIDB4ZmYgOiBpbnRBdChzLCBpKTtcbiAgICAgICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgICAgIGlmIChzLmNoYXJBdChpKSA9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgICAgICBtaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWkgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzaCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpc1t0aGlzLnQrK10gPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2ggKyBrID4gdGhpcy5EQikge1xuICAgICAgICAgICAgICAgIHRoaXNbdGhpcy50IC0gMV0gfD0gKHggJiAoKDEgPDwgKHRoaXMuREIgLSBzaCkpIC0gMSkpIDw8IHNoO1xuICAgICAgICAgICAgICAgIHRoaXNbdGhpcy50KytdID0gKHggPj4gKHRoaXMuREIgLSBzaCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1t0aGlzLnQgLSAxXSB8PSB4IDw8IHNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2ggKz0gaztcbiAgICAgICAgICAgIGlmIChzaCA+PSB0aGlzLkRCKSB7XG4gICAgICAgICAgICAgICAgc2ggLT0gdGhpcy5EQjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoayA9PSA4ICYmICgoK3NbMF0pICYgMHg4MCkgIT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zID0gLTE7XG4gICAgICAgICAgICBpZiAoc2ggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpc1t0aGlzLnQgLSAxXSB8PSAoKDEgPDwgKHRoaXMuREIgLSBzaCkpIC0gMSkgPDwgc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGFtcCgpO1xuICAgICAgICBpZiAobWkpIHtcbiAgICAgICAgICAgIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY2xhbXAgPSBibnBDbGFtcDtcbiAgICAvLyAocHJvdGVjdGVkKSBjbGFtcCBvZmYgZXhjZXNzIGhpZ2ggd29yZHNcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgICAgICB3aGlsZSAodGhpcy50ID4gMCAmJiB0aGlzW3RoaXMudCAtIDFdID09IGMpIHtcbiAgICAgICAgICAgIC0tdGhpcy50O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kbFNoaWZ0VG8gPSBibnBETFNoaWZ0VG87XG4gICAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgPDwgbipEQlxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmRsU2hpZnRUbyA9IGZ1bmN0aW9uIChuLCByKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgcltpICsgbl0gPSB0aGlzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IG4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgcltpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgci50ID0gdGhpcy50ICsgbjtcbiAgICAgICAgci5zID0gdGhpcy5zO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvID0gYm5wRFJTaGlmdFRvO1xuICAgIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzID4+IG4qREJcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kclNoaWZ0VG8gPSBmdW5jdGlvbiAobiwgcikge1xuICAgICAgICBmb3IgKHZhciBpID0gbjsgaSA8IHRoaXMudDsgKytpKSB7XG4gICAgICAgICAgICByW2kgLSBuXSA9IHRoaXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgci50ID0gTWF0aC5tYXgodGhpcy50IC0gbiwgMCk7XG4gICAgICAgIHIucyA9IHRoaXMucztcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmxTaGlmdFRvID0gYm5wTFNoaWZ0VG87XG4gICAgLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgPDwgblxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmxTaGlmdFRvID0gZnVuY3Rpb24gKG4sIHIpIHtcbiAgICAgICAgdmFyIGJzID0gbiAlIHRoaXMuREI7XG4gICAgICAgIHZhciBjYnMgPSB0aGlzLkRCIC0gYnM7XG4gICAgICAgIHZhciBibSA9ICgxIDw8IGNicykgLSAxO1xuICAgICAgICB2YXIgZHMgPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKTtcbiAgICAgICAgdmFyIGMgPSAodGhpcy5zIDw8IGJzKSAmIHRoaXMuRE07XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgcltpICsgZHMgKyAxXSA9ICh0aGlzW2ldID4+IGNicykgfCBjO1xuICAgICAgICAgICAgYyA9ICh0aGlzW2ldICYgYm0pIDw8IGJzO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBkcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICByW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICByW2RzXSA9IGM7XG4gICAgICAgIHIudCA9IHRoaXMudCArIGRzICsgMTtcbiAgICAgICAgci5zID0gdGhpcy5zO1xuICAgICAgICByLmNsYW1wKCk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbyA9IGJucFJTaGlmdFRvO1xuICAgIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzID4+IG5cbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbyA9IGZ1bmN0aW9uIChuLCByKSB7XG4gICAgICAgIHIucyA9IHRoaXMucztcbiAgICAgICAgdmFyIGRzID0gTWF0aC5mbG9vcihuIC8gdGhpcy5EQik7XG4gICAgICAgIGlmIChkcyA+PSB0aGlzLnQpIHtcbiAgICAgICAgICAgIHIudCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJzID0gbiAlIHRoaXMuREI7XG4gICAgICAgIHZhciBjYnMgPSB0aGlzLkRCIC0gYnM7XG4gICAgICAgIHZhciBibSA9ICgxIDw8IGJzKSAtIDE7XG4gICAgICAgIHJbMF0gPSB0aGlzW2RzXSA+PiBicztcbiAgICAgICAgZm9yICh2YXIgaSA9IGRzICsgMTsgaSA8IHRoaXMudDsgKytpKSB7XG4gICAgICAgICAgICByW2kgLSBkcyAtIDFdIHw9ICh0aGlzW2ldICYgYm0pIDw8IGNicztcbiAgICAgICAgICAgIHJbaSAtIGRzXSA9IHRoaXNbaV0gPj4gYnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJzID4gMCkge1xuICAgICAgICAgICAgclt0aGlzLnQgLSBkcyAtIDFdIHw9ICh0aGlzLnMgJiBibSkgPDwgY2JzO1xuICAgICAgICB9XG4gICAgICAgIHIudCA9IHRoaXMudCAtIGRzO1xuICAgICAgICByLmNsYW1wKCk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJUbyA9IGJucFN1YlRvO1xuICAgIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIC0gYVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnN1YlRvID0gZnVuY3Rpb24gKGEsIHIpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgYyA9IDA7XG4gICAgICAgIHZhciBtID0gTWF0aC5taW4oYS50LCB0aGlzLnQpO1xuICAgICAgICB3aGlsZSAoaSA8IG0pIHtcbiAgICAgICAgICAgIGMgKz0gdGhpc1tpXSAtIGFbaV07XG4gICAgICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEudCA8IHRoaXMudCkge1xuICAgICAgICAgICAgYyAtPSBhLnM7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHRoaXMudCkge1xuICAgICAgICAgICAgICAgIGMgKz0gdGhpc1tpXTtcbiAgICAgICAgICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgICAgICAgICBjID4+PSB0aGlzLkRCO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYyArPSB0aGlzLnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjICs9IHRoaXMucztcbiAgICAgICAgICAgIHdoaWxlIChpIDwgYS50KSB7XG4gICAgICAgICAgICAgICAgYyAtPSBhW2ldO1xuICAgICAgICAgICAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgICAgICAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjIC09IGEucztcbiAgICAgICAgfVxuICAgICAgICByLnMgPSAoYyA8IDApID8gLTEgOiAwO1xuICAgICAgICBpZiAoYyA8IC0xKSB7XG4gICAgICAgICAgICByW2krK10gPSB0aGlzLkRWICsgYztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID4gMCkge1xuICAgICAgICAgICAgcltpKytdID0gYztcbiAgICAgICAgfVxuICAgICAgICByLnQgPSBpO1xuICAgICAgICByLmNsYW1wKCk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVRvID0gYm5wTXVsdGlwbHlUbztcbiAgICAvLyAocHJvdGVjdGVkKSByID0gdGhpcyAqIGEsIHIgIT0gdGhpcyxhIChIQUMgMTQuMTIpXG4gICAgLy8gXCJ0aGlzXCIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLlxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5VG8gPSBmdW5jdGlvbiAoYSwgcikge1xuICAgICAgICB2YXIgeCA9IHRoaXMuYWJzKCk7XG4gICAgICAgIHZhciB5ID0gYS5hYnMoKTtcbiAgICAgICAgdmFyIGkgPSB4LnQ7XG4gICAgICAgIHIudCA9IGkgKyB5LnQ7XG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICAgICAgcltpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHkudDsgKytpKSB7XG4gICAgICAgICAgICByW2kgKyB4LnRdID0geC5hbSgwLCB5W2ldLCByLCBpLCAwLCB4LnQpO1xuICAgICAgICB9XG4gICAgICAgIHIucyA9IDA7XG4gICAgICAgIHIuY2xhbXAoKTtcbiAgICAgICAgaWYgKHRoaXMucyAhPSBhLnMpIHtcbiAgICAgICAgICAgIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLCByKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG8gPSBibnBTcXVhcmVUbztcbiAgICAvLyAocHJvdGVjdGVkKSByID0gdGhpc14yLCByICE9IHRoaXMgKEhBQyAxNC4xNilcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmVUbyA9IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHZhciB4ID0gdGhpcy5hYnMoKTtcbiAgICAgICAgdmFyIGkgPSByLnQgPSAyICogeC50O1xuICAgICAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgICAgICAgIHJbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4LnQgLSAxOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjID0geC5hbShpLCB4W2ldLCByLCAyICogaSwgMCwgMSk7XG4gICAgICAgICAgICBpZiAoKHJbaSArIHgudF0gKz0geC5hbShpICsgMSwgMiAqIHhbaV0sIHIsIDIgKiBpICsgMSwgYywgeC50IC0gaSAtIDEpKSA+PSB4LkRWKSB7XG4gICAgICAgICAgICAgICAgcltpICsgeC50XSAtPSB4LkRWO1xuICAgICAgICAgICAgICAgIHJbaSArIHgudCArIDFdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoci50ID4gMCkge1xuICAgICAgICAgICAgcltyLnQgLSAxXSArPSB4LmFtKGksIHhbaV0sIHIsIDIgKiBpLCAwLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByLnMgPSAwO1xuICAgICAgICByLmNsYW1wKCk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZSZW1UbyA9IGJucERpdlJlbVRvO1xuICAgIC8vIChwcm90ZWN0ZWQpIGRpdmlkZSB0aGlzIGJ5IG0sIHF1b3RpZW50IGFuZCByZW1haW5kZXIgdG8gcSwgciAoSEFDIDE0LjIwKVxuICAgIC8vIHIgIT0gcSwgdGhpcyAhPSBtLiAgcSBvciByIG1heSBiZSBudWxsLlxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmRpdlJlbVRvID0gZnVuY3Rpb24gKG0sIHEsIHIpIHtcbiAgICAgICAgdmFyIHBtID0gbS5hYnMoKTtcbiAgICAgICAgaWYgKHBtLnQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwdCA9IHRoaXMuYWJzKCk7XG4gICAgICAgIGlmIChwdC50IDwgcG0udCkge1xuICAgICAgICAgICAgaWYgKHEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHEuZnJvbUludCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUbyhyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAociA9PSBudWxsKSB7XG4gICAgICAgICAgICByID0gbmJpKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHkgPSBuYmkoKTtcbiAgICAgICAgdmFyIHRzID0gdGhpcy5zO1xuICAgICAgICB2YXIgbXMgPSBtLnM7XG4gICAgICAgIHZhciBuc2ggPSB0aGlzLkRCIC0gbmJpdHMocG1bcG0udCAtIDFdKTsgLy8gbm9ybWFsaXplIG1vZHVsdXNcbiAgICAgICAgaWYgKG5zaCA+IDApIHtcbiAgICAgICAgICAgIHBtLmxTaGlmdFRvKG5zaCwgeSk7XG4gICAgICAgICAgICBwdC5sU2hpZnRUbyhuc2gsIHIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG0uY29weVRvKHkpO1xuICAgICAgICAgICAgcHQuY29weVRvKHIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB5cyA9IHkudDtcbiAgICAgICAgdmFyIHkwID0geVt5cyAtIDFdO1xuICAgICAgICBpZiAoeTAgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB5dCA9IHkwICogKDEgPDwgdGhpcy5GMSkgKyAoKHlzID4gMSkgPyB5W3lzIC0gMl0gPj4gdGhpcy5GMiA6IDApO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLkZWIC8geXQ7XG4gICAgICAgIHZhciBkMiA9ICgxIDw8IHRoaXMuRjEpIC8geXQ7XG4gICAgICAgIHZhciBlID0gMSA8PCB0aGlzLkYyO1xuICAgICAgICB2YXIgaSA9IHIudDtcbiAgICAgICAgdmFyIGogPSBpIC0geXM7XG4gICAgICAgIHZhciB0ID0gKHEgPT0gbnVsbCkgPyBuYmkoKSA6IHE7XG4gICAgICAgIHkuZGxTaGlmdFRvKGosIHQpO1xuICAgICAgICBpZiAoci5jb21wYXJlVG8odCkgPj0gMCkge1xuICAgICAgICAgICAgcltyLnQrK10gPSAxO1xuICAgICAgICAgICAgci5zdWJUbyh0LCByKTtcbiAgICAgICAgfVxuICAgICAgICBCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsIHQpO1xuICAgICAgICB0LnN1YlRvKHksIHkpOyAvLyBcIm5lZ2F0aXZlXCIgeSBzbyB3ZSBjYW4gcmVwbGFjZSBzdWIgd2l0aCBhbSBsYXRlclxuICAgICAgICB3aGlsZSAoeS50IDwgeXMpIHtcbiAgICAgICAgICAgIHlbeS50KytdID0gMDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoLS1qID49IDApIHtcbiAgICAgICAgICAgIC8vIEVzdGltYXRlIHF1b3RpZW50IGRpZ2l0XG4gICAgICAgICAgICB2YXIgcWQgPSAoclstLWldID09IHkwKSA/IHRoaXMuRE0gOiBNYXRoLmZsb29yKHJbaV0gKiBkMSArIChyW2kgLSAxXSArIGUpICogZDIpO1xuICAgICAgICAgICAgaWYgKChyW2ldICs9IHkuYW0oMCwgcWQsIHIsIGosIDAsIHlzKSkgPCBxZCkgeyAvLyBUcnkgaXQgb3V0XG4gICAgICAgICAgICAgICAgeS5kbFNoaWZ0VG8oaiwgdCk7XG4gICAgICAgICAgICAgICAgci5zdWJUbyh0LCByKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocltpXSA8IC0tcWQpIHtcbiAgICAgICAgICAgICAgICAgICAgci5zdWJUbyh0LCByKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHEgIT0gbnVsbCkge1xuICAgICAgICAgICAgci5kclNoaWZ0VG8oeXMsIHEpO1xuICAgICAgICAgICAgaWYgKHRzICE9IG1zKSB7XG4gICAgICAgICAgICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHEsIHEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHIudCA9IHlzO1xuICAgICAgICByLmNsYW1wKCk7XG4gICAgICAgIGlmIChuc2ggPiAwKSB7XG4gICAgICAgICAgICByLnJTaGlmdFRvKG5zaCwgcik7XG4gICAgICAgIH0gLy8gRGVub3JtYWxpemUgcmVtYWluZGVyXG4gICAgICAgIGlmICh0cyA8IDApIHtcbiAgICAgICAgICAgIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLCByKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQgPSBibnBJbnZEaWdpdDtcbiAgICAvLyAocHJvdGVjdGVkKSByZXR1cm4gXCItMS90aGlzICUgMl5EQlwiOyB1c2VmdWwgZm9yIE1vbnQuIHJlZHVjdGlvblxuICAgIC8vIGp1c3RpZmljYXRpb246XG4gICAgLy8gICAgICAgICB4eSA9PSAxIChtb2QgbSlcbiAgICAvLyAgICAgICAgIHh5ID0gIDEra21cbiAgICAvLyAgIHh5KDIteHkpID0gKDEra20pKDEta20pXG4gICAgLy8geFt5KDIteHkpXSA9IDEta14ybV4yXG4gICAgLy8geFt5KDIteHkpXSA9PSAxIChtb2QgbV4yKVxuICAgIC8vIGlmIHkgaXMgMS94IG1vZCBtLCB0aGVuIHkoMi14eSkgaXMgMS94IG1vZCBtXjJcbiAgICAvLyBzaG91bGQgcmVkdWNlIHggYW5kIHkoMi14eSkgYnkgbV4yIGF0IGVhY2ggc3RlcCB0byBrZWVwIHNpemUgYm91bmRlZC5cbiAgICAvLyBKUyBtdWx0aXBseSBcIm92ZXJmbG93c1wiIGRpZmZlcmVudGx5IGZyb20gQy9DKyssIHNvIGNhcmUgaXMgbmVlZGVkIGhlcmUuXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeCA9IHRoaXNbMF07XG4gICAgICAgIGlmICgoeCAmIDEpID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciB5ID0geCAmIDM7IC8vIHkgPT0gMS94IG1vZCAyXjJcbiAgICAgICAgeSA9ICh5ICogKDIgLSAoeCAmIDB4ZikgKiB5KSkgJiAweGY7IC8vIHkgPT0gMS94IG1vZCAyXjRcbiAgICAgICAgeSA9ICh5ICogKDIgLSAoeCAmIDB4ZmYpICogeSkpICYgMHhmZjsgLy8geSA9PSAxL3ggbW9kIDJeOFxuICAgICAgICB5ID0gKHkgKiAoMiAtICgoKHggJiAweGZmZmYpICogeSkgJiAweGZmZmYpKSkgJiAweGZmZmY7IC8vIHkgPT0gMS94IG1vZCAyXjE2XG4gICAgICAgIC8vIGxhc3Qgc3RlcCAtIGNhbGN1bGF0ZSBpbnZlcnNlIG1vZCBEViBkaXJlY3RseTtcbiAgICAgICAgLy8gYXNzdW1lcyAxNiA8IERCIDw9IDMyIGFuZCBhc3N1bWVzIGFiaWxpdHkgdG8gaGFuZGxlIDQ4LWJpdCBpbnRzXG4gICAgICAgIHkgPSAoeSAqICgyIC0geCAqIHkgJSB0aGlzLkRWKSkgJSB0aGlzLkRWOyAvLyB5ID09IDEveCBtb2QgMl5kYml0c1xuICAgICAgICAvLyB3ZSByZWFsbHkgd2FudCB0aGUgbmVnYXRpdmUgaW52ZXJzZSwgYW5kIC1EViA8IHkgPCBEVlxuICAgICAgICByZXR1cm4gKHkgPiAwKSA/IHRoaXMuRFYgLSB5IDogLXk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5pc0V2ZW4gPSBibnBJc0V2ZW47XG4gICAgLy8gKHByb3RlY3RlZCkgdHJ1ZSBpZmYgdGhpcyBpcyBldmVuXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuaXNFdmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCh0aGlzLnQgPiAwKSA/ICh0aGlzWzBdICYgMSkgOiB0aGlzLnMpID09IDA7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5leHAgPSBibnBFeHA7XG4gICAgLy8gKHByb3RlY3RlZCkgdGhpc15lLCBlIDwgMl4zMiwgZG9pbmcgc3FyIGFuZCBtdWwgd2l0aCBcInJcIiAoSEFDIDE0Ljc5KVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChlLCB6KSB7XG4gICAgICAgIGlmIChlID4gMHhmZmZmZmZmZiB8fCBlIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludGVnZXIuT05FO1xuICAgICAgICB9XG4gICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgIHZhciByMiA9IG5iaSgpO1xuICAgICAgICB2YXIgZyA9IHouY29udmVydCh0aGlzKTtcbiAgICAgICAgdmFyIGkgPSBuYml0cyhlKSAtIDE7XG4gICAgICAgIGcuY29weVRvKHIpO1xuICAgICAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgICAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgICAgICAgaWYgKChlICYgKDEgPDwgaSkpID4gMCkge1xuICAgICAgICAgICAgICAgIHoubXVsVG8ocjIsIGcsIHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSByO1xuICAgICAgICAgICAgICAgIHIgPSByMjtcbiAgICAgICAgICAgICAgICByMiA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHoucmV2ZXJ0KHIpO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY2h1bmtTaXplID0gYm5wQ2h1bmtTaXplO1xuICAgIC8vIChwcm90ZWN0ZWQpIHJldHVybiB4IHMudC4gcl54IDwgRFZcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaHVua1NpemUgPSBmdW5jdGlvbiAocikge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLkxOMiAqIHRoaXMuREIgLyBNYXRoLmxvZyhyKSk7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1JhZGl4ID0gYm5wVG9SYWRpeDtcbiAgICAvLyAocHJvdGVjdGVkKSBjb252ZXJ0IHRvIHJhZGl4IHN0cmluZ1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnRvUmFkaXggPSBmdW5jdGlvbiAoYikge1xuICAgICAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICAgICAgICBiID0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2lnbnVtKCkgPT0gMCB8fCBiIDwgMiB8fCBiID4gMzYpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3MgPSB0aGlzLmNodW5rU2l6ZShiKTtcbiAgICAgICAgdmFyIGEgPSBNYXRoLnBvdyhiLCBjcyk7XG4gICAgICAgIHZhciBkID0gbmJ2KGEpO1xuICAgICAgICB2YXIgeSA9IG5iaSgpO1xuICAgICAgICB2YXIgeiA9IG5iaSgpO1xuICAgICAgICB2YXIgciA9IFwiXCI7XG4gICAgICAgIHRoaXMuZGl2UmVtVG8oZCwgeSwgeik7XG4gICAgICAgIHdoaWxlICh5LnNpZ251bSgpID4gMCkge1xuICAgICAgICAgICAgciA9IChhICsgei5pbnRWYWx1ZSgpKS50b1N0cmluZyhiKS5zdWJzdHIoMSkgKyByO1xuICAgICAgICAgICAgeS5kaXZSZW1UbyhkLCB5LCB6KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gei5pbnRWYWx1ZSgpLnRvU3RyaW5nKGIpICsgcjtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21SYWRpeCA9IGJucEZyb21SYWRpeDtcbiAgICAvLyAocHJvdGVjdGVkKSBjb252ZXJ0IGZyb20gcmFkaXggc3RyaW5nXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVJhZGl4ID0gZnVuY3Rpb24gKHMsIGIpIHtcbiAgICAgICAgdGhpcy5mcm9tSW50KDApO1xuICAgICAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICAgICAgICBiID0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNzID0gdGhpcy5jaHVua1NpemUoYik7XG4gICAgICAgIHZhciBkID0gTWF0aC5wb3coYiwgY3MpO1xuICAgICAgICB2YXIgbWkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHggPSBpbnRBdChzLCBpKTtcbiAgICAgICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgICAgIGlmIChzLmNoYXJBdChpKSA9PSBcIi1cIiAmJiB0aGlzLnNpZ251bSgpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHcgPSBiICogdyArIHg7XG4gICAgICAgICAgICBpZiAoKytqID49IGNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kTXVsdGlwbHkoZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kQWRkT2Zmc2V0KHcsIDApO1xuICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgIHcgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgdGhpcy5kTXVsdGlwbHkoTWF0aC5wb3coYiwgaikpO1xuICAgICAgICAgICAgdGhpcy5kQWRkT2Zmc2V0KHcsIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaSkge1xuICAgICAgICAgICAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tTnVtYmVyID0gYm5wRnJvbU51bWJlcjtcbiAgICAvLyAocHJvdGVjdGVkKSBhbHRlcm5hdGUgY29uc3RydWN0b3JcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tTnVtYmVyID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGIpIHtcbiAgICAgICAgICAgIC8vIG5ldyBCaWdJbnRlZ2VyKGludCxpbnQsUk5HKVxuICAgICAgICAgICAgaWYgKGEgPCAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tSW50KDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tTnVtYmVyKGEsIGMpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy50ZXN0Qml0KGEgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSBNU0Igc2V0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0d2lzZVRvKEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChhIC0gMSksIG9wX29yLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFdmVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kQWRkT2Zmc2V0KDEsIDApO1xuICAgICAgICAgICAgICAgIH0gLy8gZm9yY2Ugb2RkXG4gICAgICAgICAgICAgICAgd2hpbGUgKCF0aGlzLmlzUHJvYmFibGVQcmltZShiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRBZGRPZmZzZXQoMiwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdExlbmd0aCgpID4gYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYSAtIDEpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5ldyBCaWdJbnRlZ2VyKGludCxSTkcpXG4gICAgICAgICAgICB2YXIgeCA9IFtdO1xuICAgICAgICAgICAgdmFyIHQgPSBhICYgNztcbiAgICAgICAgICAgIHgubGVuZ3RoID0gKGEgPj4gMykgKyAxO1xuICAgICAgICAgICAgYi5uZXh0Qnl0ZXMoeCk7XG4gICAgICAgICAgICBpZiAodCA+IDApIHtcbiAgICAgICAgICAgICAgICB4WzBdICY9ICgoMSA8PCB0KSAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeFswXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyb21TdHJpbmcoeCwgMjU2KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYml0d2lzZVRvID0gYm5wQml0d2lzZVRvO1xuICAgIC8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIG9wIGEgKGJpdHdpc2UpXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuYml0d2lzZVRvID0gZnVuY3Rpb24gKGEsIG9wLCByKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgZjtcbiAgICAgICAgdmFyIG0gPSBNYXRoLm1pbihhLnQsIHRoaXMudCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtOyArK2kpIHtcbiAgICAgICAgICAgIHJbaV0gPSBvcCh0aGlzW2ldLCBhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS50IDwgdGhpcy50KSB7XG4gICAgICAgICAgICBmID0gYS5zICYgdGhpcy5ETTtcbiAgICAgICAgICAgIGZvciAoaSA9IG07IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgICAgICAgICAgICAgIHJbaV0gPSBvcCh0aGlzW2ldLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIudCA9IHRoaXMudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGYgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICAgICAgICAgICAgZm9yIChpID0gbTsgaSA8IGEudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcltpXSA9IG9wKGYsIGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgci50ID0gYS50O1xuICAgICAgICB9XG4gICAgICAgIHIucyA9IG9wKHRoaXMucywgYS5zKTtcbiAgICAgICAgci5jbGFtcCgpO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuY2hhbmdlQml0ID0gYm5wQ2hhbmdlQml0O1xuICAgIC8vIChwcm90ZWN0ZWQpIHRoaXMgb3AgKDE8PG4pXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuY2hhbmdlQml0ID0gZnVuY3Rpb24gKG4sIG9wKSB7XG4gICAgICAgIHZhciByID0gQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KG4pO1xuICAgICAgICB0aGlzLmJpdHdpc2VUbyhyLCBvcCwgcik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuYWRkVG8gPSBibnBBZGRUbztcbiAgICAvLyAocHJvdGVjdGVkKSByID0gdGhpcyArIGFcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGRUbyA9IGZ1bmN0aW9uIChhLCByKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGMgPSAwO1xuICAgICAgICB2YXIgbSA9IE1hdGgubWluKGEudCwgdGhpcy50KTtcbiAgICAgICAgd2hpbGUgKGkgPCBtKSB7XG4gICAgICAgICAgICBjICs9IHRoaXNbaV0gKyBhW2ldO1xuICAgICAgICAgICAgcltpKytdID0gYyAmIHRoaXMuRE07XG4gICAgICAgICAgICBjID4+PSB0aGlzLkRCO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLnQgPCB0aGlzLnQpIHtcbiAgICAgICAgICAgIGMgKz0gYS5zO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnQpIHtcbiAgICAgICAgICAgICAgICBjICs9IHRoaXNbaV07XG4gICAgICAgICAgICAgICAgcltpKytdID0gYyAmIHRoaXMuRE07XG4gICAgICAgICAgICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGMgKz0gdGhpcy5zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYyArPSB0aGlzLnM7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGEudCkge1xuICAgICAgICAgICAgICAgIGMgKz0gYVtpXTtcbiAgICAgICAgICAgICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgICAgICAgICAgICBjID4+PSB0aGlzLkRCO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYyArPSBhLnM7XG4gICAgICAgIH1cbiAgICAgICAgci5zID0gKGMgPCAwKSA/IC0xIDogMDtcbiAgICAgICAgaWYgKGMgPiAwKSB7XG4gICAgICAgICAgICByW2krK10gPSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPCAtMSkge1xuICAgICAgICAgICAgcltpKytdID0gdGhpcy5EViArIGM7XG4gICAgICAgIH1cbiAgICAgICAgci50ID0gaTtcbiAgICAgICAgci5jbGFtcCgpO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUuZE11bHRpcGx5ID0gYm5wRE11bHRpcGx5O1xuICAgIC8vIChwcm90ZWN0ZWQpIHRoaXMgKj0gbiwgdGhpcyA+PSAwLCAxIDwgbiA8IERWXG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuZE11bHRpcGx5ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdGhpc1t0aGlzLnRdID0gdGhpcy5hbSgwLCBuIC0gMSwgdGhpcywgMCwgMCwgdGhpcy50KTtcbiAgICAgICAgKyt0aGlzLnQ7XG4gICAgICAgIHRoaXMuY2xhbXAoKTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLmRBZGRPZmZzZXQgPSBibnBEQWRkT2Zmc2V0O1xuICAgIC8vIChwcm90ZWN0ZWQpIHRoaXMgKz0gbiA8PCB3IHdvcmRzLCB0aGlzID49IDBcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5kQWRkT2Zmc2V0ID0gZnVuY3Rpb24gKG4sIHcpIHtcbiAgICAgICAgaWYgKG4gPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0aGlzLnQgPD0gdykge1xuICAgICAgICAgICAgdGhpc1t0aGlzLnQrK10gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbd10gKz0gbjtcbiAgICAgICAgd2hpbGUgKHRoaXNbd10gPj0gdGhpcy5EVikge1xuICAgICAgICAgICAgdGhpc1t3XSAtPSB0aGlzLkRWO1xuICAgICAgICAgICAgaWYgKCsrdyA+PSB0aGlzLnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3RoaXMudCsrXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK3RoaXNbd107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbyA9IGJucE11bHRpcGx5TG93ZXJUbztcbiAgICAvLyAocHJvdGVjdGVkKSByID0gbG93ZXIgbiB3b3JkcyBvZiBcInRoaXMgKiBhXCIsIGEudCA8PSBuXG4gICAgLy8gXCJ0aGlzXCIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLlxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbyA9IGZ1bmN0aW9uIChhLCBuLCByKSB7XG4gICAgICAgIHZhciBpID0gTWF0aC5taW4odGhpcy50ICsgYS50LCBuKTtcbiAgICAgICAgci5zID0gMDsgLy8gYXNzdW1lcyBhLHRoaXMgPj0gMFxuICAgICAgICByLnQgPSBpO1xuICAgICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgICAgIHJbLS1pXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IHIudCAtIHRoaXMudDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgcltpICsgdGhpcy50XSA9IHRoaXMuYW0oMCwgYVtpXSwgciwgaSwgMCwgdGhpcy50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gTWF0aC5taW4oYS50LCBuKTsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5hbSgwLCBhW2ldLCByLCBpLCAwLCBuIC0gaSk7XG4gICAgICAgIH1cbiAgICAgICAgci5jbGFtcCgpO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvID0gYm5wTXVsdGlwbHlVcHBlclRvO1xuICAgIC8vIChwcm90ZWN0ZWQpIHIgPSBcInRoaXMgKiBhXCIgd2l0aG91dCBsb3dlciBuIHdvcmRzLCBuID4gMFxuICAgIC8vIFwidGhpc1wiIHNob3VsZCBiZSB0aGUgbGFyZ2VyIG9uZSBpZiBhcHByb3ByaWF0ZS5cbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVVwcGVyVG8gPSBmdW5jdGlvbiAoYSwgbiwgcikge1xuICAgICAgICAtLW47XG4gICAgICAgIHZhciBpID0gci50ID0gdGhpcy50ICsgYS50IC0gbjtcbiAgICAgICAgci5zID0gMDsgLy8gYXNzdW1lcyBhLHRoaXMgPj0gMFxuICAgICAgICB3aGlsZSAoLS1pID49IDApIHtcbiAgICAgICAgICAgIHJbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IE1hdGgubWF4KG4gLSB0aGlzLnQsIDApOyBpIDwgYS50OyArK2kpIHtcbiAgICAgICAgICAgIHJbdGhpcy50ICsgaSAtIG5dID0gdGhpcy5hbShuIC0gaSwgYVtpXSwgciwgMCwgMCwgdGhpcy50ICsgaSAtIG4pO1xuICAgICAgICB9XG4gICAgICAgIHIuY2xhbXAoKTtcbiAgICAgICAgci5kclNoaWZ0VG8oMSwgcik7XG4gICAgfTtcbiAgICAvLyBCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnQgPSBibnBNb2RJbnQ7XG4gICAgLy8gKHByb3RlY3RlZCkgdGhpcyAlIG4sIG4gPCAyXjI2XG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUubW9kSW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgaWYgKG4gPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGQgPSB0aGlzLkRWICUgbjtcbiAgICAgICAgdmFyIHIgPSAodGhpcy5zIDwgMCkgPyBuIC0gMSA6IDA7XG4gICAgICAgIGlmICh0aGlzLnQgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgciA9IHRoaXNbMF0gJSBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgPSAoZCAqIHIgKyB0aGlzW2ldKSAlIG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gQmlnSW50ZWdlci5wcm90b3R5cGUubWlsbGVyUmFiaW4gPSBibnBNaWxsZXJSYWJpbjtcbiAgICAvLyAocHJvdGVjdGVkKSB0cnVlIGlmIHByb2JhYmx5IHByaW1lIChIQUMgNC4yNCwgTWlsbGVyLVJhYmluKVxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLm1pbGxlclJhYmluID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIG4xID0gdGhpcy5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSk7XG4gICAgICAgIHZhciBrID0gbjEuZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgICAgIGlmIChrIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgciA9IG4xLnNoaWZ0UmlnaHQoayk7XG4gICAgICAgIHQgPSAodCArIDEpID4+IDE7XG4gICAgICAgIGlmICh0ID4gbG93cHJpbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdCA9IGxvd3ByaW1lcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBuYmkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0OyArK2kpIHtcbiAgICAgICAgICAgIC8vIFBpY2sgYmFzZXMgYXQgcmFuZG9tLCBpbnN0ZWFkIG9mIHN0YXJ0aW5nIGF0IDJcbiAgICAgICAgICAgIGEuZnJvbUludChsb3dwcmltZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbG93cHJpbWVzLmxlbmd0aCldKTtcbiAgICAgICAgICAgIHZhciB5ID0gYS5tb2RQb3cociwgdGhpcyk7XG4gICAgICAgICAgICBpZiAoeS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpICE9IDAgJiYgeS5jb21wYXJlVG8objEpICE9IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaiA9IDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGorKyA8IGsgJiYgeS5jb21wYXJlVG8objEpICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHkubW9kUG93SW50KDIsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeS5jb21wYXJlVG8objEpICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8vIEJpZ0ludGVnZXIucHJvdG90eXBlLnNxdWFyZSA9IGJuU3F1YXJlO1xuICAgIC8vIChwdWJsaWMpIHRoaXNeMlxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLnNxdWFyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5zcXVhcmVUbyhyKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvLyNyZWdpb24gQVNZTkNcbiAgICAvLyBQdWJsaWMgQVBJIG1ldGhvZFxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmdjZGEgPSBmdW5jdGlvbiAoYSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHggPSAodGhpcy5zIDwgMCkgPyB0aGlzLm5lZ2F0ZSgpIDogdGhpcy5jbG9uZSgpO1xuICAgICAgICB2YXIgeSA9IChhLnMgPCAwKSA/IGEubmVnYXRlKCkgOiBhLmNsb25lKCk7XG4gICAgICAgIGlmICh4LmNvbXBhcmVUbyh5KSA8IDApIHtcbiAgICAgICAgICAgIHZhciB0ID0geDtcbiAgICAgICAgICAgIHggPSB5O1xuICAgICAgICAgICAgeSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSB4LmdldExvd2VzdFNldEJpdCgpO1xuICAgICAgICB2YXIgZyA9IHkuZ2V0TG93ZXN0U2V0Qml0KCk7XG4gICAgICAgIGlmIChnIDwgMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soeCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBnKSB7XG4gICAgICAgICAgICBnID0gaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZyA+IDApIHtcbiAgICAgICAgICAgIHguclNoaWZ0VG8oZywgeCk7XG4gICAgICAgICAgICB5LnJTaGlmdFRvKGcsIHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdvcmtob3JzZSBvZiB0aGUgYWxnb3JpdGhtLCBnZXRzIGNhbGxlZCAyMDAgLSA4MDAgdGltZXMgcGVyIDUxMiBiaXQga2V5Z2VuLlxuICAgICAgICB2YXIgZ2NkYTEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoKGkgPSB4LmdldExvd2VzdFNldEJpdCgpKSA+IDApIHtcbiAgICAgICAgICAgICAgICB4LnJTaGlmdFRvKGksIHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChpID0geS5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgeS5yU2hpZnRUbyhpLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4LmNvbXBhcmVUbyh5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgeC5zdWJUbyh5LCB4KTtcbiAgICAgICAgICAgICAgICB4LnJTaGlmdFRvKDEsIHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeS5zdWJUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICB5LnJTaGlmdFRvKDEsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoeC5zaWdudW0oKSA+IDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHkubFNoaWZ0VG8oZywgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjYWxsYmFjayh5KTsgfSwgMCk7IC8vIGVzY2FwZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChnY2RhMSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQoZ2NkYTEsIDEwKTtcbiAgICB9O1xuICAgIC8vIChwcm90ZWN0ZWQpIGFsdGVybmF0ZSBjb25zdHJ1Y3RvclxuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21OdW1iZXJBc3luYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgYikge1xuICAgICAgICAgICAgaWYgKGEgPCAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tSW50KDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tTnVtYmVyKGEsIGMpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy50ZXN0Qml0KGEgLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpdHdpc2VUbyhCaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYSAtIDEpLCBvcF9vciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRXZlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZEFkZE9mZnNldCgxLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGJucF8xID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgYm5wZm4xXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJucF8xLmRBZGRPZmZzZXQoMiwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibnBfMS5iaXRMZW5ndGgoKSA+IGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJucF8xLnN1YlRvKEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChhIC0gMSksIGJucF8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYm5wXzEuaXNQcm9iYWJsZVByaW1lKGIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgY2FsbGJhY2soKTsgfSwgMCk7IC8vIGVzY2FwZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChibnBmbjFfMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYm5wZm4xXzEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHggPSBbXTtcbiAgICAgICAgICAgIHZhciB0ID0gYSAmIDc7XG4gICAgICAgICAgICB4Lmxlbmd0aCA9IChhID4+IDMpICsgMTtcbiAgICAgICAgICAgIGIubmV4dEJ5dGVzKHgpO1xuICAgICAgICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgeFswXSAmPSAoKDEgPDwgdCkgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHhbMF0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcm9tU3RyaW5nKHgsIDI1Nik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCaWdJbnRlZ2VyO1xufSgpKTtcbi8vI3JlZ2lvbiBSRURVQ0VSU1xuLy8jcmVnaW9uIE51bGxFeHBcbnZhciBOdWxsRXhwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE51bGxFeHAoKSB7XG4gICAgfVxuICAgIC8vIE51bGxFeHAucHJvdG90eXBlLmNvbnZlcnQgPSBuTm9wO1xuICAgIE51bGxFeHAucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xuICAgIC8vIE51bGxFeHAucHJvdG90eXBlLnJldmVydCA9IG5Ob3A7XG4gICAgTnVsbEV4cC5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfTtcbiAgICAvLyBOdWxsRXhwLnByb3RvdHlwZS5tdWxUbyA9IG5NdWxUbztcbiAgICBOdWxsRXhwLnByb3RvdHlwZS5tdWxUbyA9IGZ1bmN0aW9uICh4LCB5LCByKSB7XG4gICAgICAgIHgubXVsdGlwbHlUbyh5LCByKTtcbiAgICB9O1xuICAgIC8vIE51bGxFeHAucHJvdG90eXBlLnNxclRvID0gblNxclRvO1xuICAgIE51bGxFeHAucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICAgICAgeC5zcXVhcmVUbyhyKTtcbiAgICB9O1xuICAgIHJldHVybiBOdWxsRXhwO1xufSgpKTtcbi8vIE1vZHVsYXIgcmVkdWN0aW9uIHVzaW5nIFwiY2xhc3NpY1wiIGFsZ29yaXRobVxudmFyIENsYXNzaWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2xhc3NpYyhtKSB7XG4gICAgICAgIHRoaXMubSA9IG07XG4gICAgfVxuICAgIC8vIENsYXNzaWMucHJvdG90eXBlLmNvbnZlcnQgPSBjQ29udmVydDtcbiAgICBDbGFzc2ljLnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKHgucyA8IDAgfHwgeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geC5tb2QodGhpcy5tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQgPSBjUmV2ZXJ0O1xuICAgIENsYXNzaWMucHJvdG90eXBlLnJldmVydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH07XG4gICAgLy8gQ2xhc3NpYy5wcm90b3R5cGUucmVkdWNlID0gY1JlZHVjZTtcbiAgICBDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB4LmRpdlJlbVRvKHRoaXMubSwgbnVsbCwgeCk7XG4gICAgfTtcbiAgICAvLyBDbGFzc2ljLnByb3RvdHlwZS5tdWxUbyA9IGNNdWxUbztcbiAgICBDbGFzc2ljLnByb3RvdHlwZS5tdWxUbyA9IGZ1bmN0aW9uICh4LCB5LCByKSB7XG4gICAgICAgIHgubXVsdGlwbHlUbyh5LCByKTtcbiAgICAgICAgdGhpcy5yZWR1Y2Uocik7XG4gICAgfTtcbiAgICAvLyBDbGFzc2ljLnByb3RvdHlwZS5zcXJUbyA9IGNTcXJUbztcbiAgICBDbGFzc2ljLnByb3RvdHlwZS5zcXJUbyA9IGZ1bmN0aW9uICh4LCByKSB7XG4gICAgICAgIHguc3F1YXJlVG8ocik7XG4gICAgICAgIHRoaXMucmVkdWNlKHIpO1xuICAgIH07XG4gICAgcmV0dXJuIENsYXNzaWM7XG59KCkpO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gTW9udGdvbWVyeVxuLy8gTW9udGdvbWVyeSByZWR1Y3Rpb25cbnZhciBNb250Z29tZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vbnRnb21lcnkobSkge1xuICAgICAgICB0aGlzLm0gPSBtO1xuICAgICAgICB0aGlzLm1wID0gbS5pbnZEaWdpdCgpO1xuICAgICAgICB0aGlzLm1wbCA9IHRoaXMubXAgJiAweDdmZmY7XG4gICAgICAgIHRoaXMubXBoID0gdGhpcy5tcCA+PiAxNTtcbiAgICAgICAgdGhpcy51bSA9ICgxIDw8IChtLkRCIC0gMTUpKSAtIDE7XG4gICAgICAgIHRoaXMubXQyID0gMiAqIG0udDtcbiAgICB9XG4gICAgLy8gTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydCA9IG1vbnRDb252ZXJ0O1xuICAgIC8vIHhSIG1vZCBtXG4gICAgTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgIHguYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LCByKTtcbiAgICAgICAgci5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIHIpO1xuICAgICAgICBpZiAoeC5zIDwgMCAmJiByLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pID4gMCkge1xuICAgICAgICAgICAgdGhpcy5tLnN1YlRvKHIsIHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gTW9udGdvbWVyeS5wcm90b3R5cGUucmV2ZXJ0ID0gbW9udFJldmVydDtcbiAgICAvLyB4L1IgbW9kIG1cbiAgICBNb250Z29tZXJ5LnByb3RvdHlwZS5yZXZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgciA9IG5iaSgpO1xuICAgICAgICB4LmNvcHlUbyhyKTtcbiAgICAgICAgdGhpcy5yZWR1Y2Uocik7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgLy8gTW9udGdvbWVyeS5wcm90b3R5cGUucmVkdWNlID0gbW9udFJlZHVjZTtcbiAgICAvLyB4ID0geC9SIG1vZCBtIChIQUMgMTQuMzIpXG4gICAgTW9udGdvbWVyeS5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgd2hpbGUgKHgudCA8PSB0aGlzLm10Mikge1xuICAgICAgICAgICAgLy8gcGFkIHggc28gYW0gaGFzIGVub3VnaCByb29tIGxhdGVyXG4gICAgICAgICAgICB4W3gudCsrXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm0udDsgKytpKSB7XG4gICAgICAgICAgICAvLyBmYXN0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHUwID0geFtpXSptcCBtb2QgRFZcbiAgICAgICAgICAgIHZhciBqID0geFtpXSAmIDB4N2ZmZjtcbiAgICAgICAgICAgIHZhciB1MCA9IChqICogdGhpcy5tcGwgKyAoKChqICogdGhpcy5tcGggKyAoeFtpXSA+PiAxNSkgKiB0aGlzLm1wbCkgJiB0aGlzLnVtKSA8PCAxNSkpICYgeC5ETTtcbiAgICAgICAgICAgIC8vIHVzZSBhbSB0byBjb21iaW5lIHRoZSBtdWx0aXBseS1zaGlmdC1hZGQgaW50byBvbmUgY2FsbFxuICAgICAgICAgICAgaiA9IGkgKyB0aGlzLm0udDtcbiAgICAgICAgICAgIHhbal0gKz0gdGhpcy5tLmFtKDAsIHUwLCB4LCBpLCAwLCB0aGlzLm0udCk7XG4gICAgICAgICAgICAvLyBwcm9wYWdhdGUgY2FycnlcbiAgICAgICAgICAgIHdoaWxlICh4W2pdID49IHguRFYpIHtcbiAgICAgICAgICAgICAgICB4W2pdIC09IHguRFY7XG4gICAgICAgICAgICAgICAgeFsrK2pdKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeC5jbGFtcCgpO1xuICAgICAgICB4LmRyU2hpZnRUbyh0aGlzLm0udCwgeCk7XG4gICAgICAgIGlmICh4LmNvbXBhcmVUbyh0aGlzLm0pID49IDApIHtcbiAgICAgICAgICAgIHguc3ViVG8odGhpcy5tLCB4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gTW9udGdvbWVyeS5wcm90b3R5cGUubXVsVG8gPSBtb250TXVsVG87XG4gICAgLy8gciA9IFwieHkvUiBtb2QgbVwiOyB4LHkgIT0gclxuICAgIE1vbnRnb21lcnkucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICAgICAgeC5tdWx0aXBseVRvKHksIHIpO1xuICAgICAgICB0aGlzLnJlZHVjZShyKTtcbiAgICB9O1xuICAgIC8vIE1vbnRnb21lcnkucHJvdG90eXBlLnNxclRvID0gbW9udFNxclRvO1xuICAgIC8vIHIgPSBcInheMi9SIG1vZCBtXCI7IHggIT0gclxuICAgIE1vbnRnb21lcnkucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICAgICAgeC5zcXVhcmVUbyhyKTtcbiAgICAgICAgdGhpcy5yZWR1Y2Uocik7XG4gICAgfTtcbiAgICByZXR1cm4gTW9udGdvbWVyeTtcbn0oKSk7XG4vLyNlbmRyZWdpb24gTW9udGdvbWVyeVxuLy8jcmVnaW9uIEJhcnJldHRcbi8vIEJhcnJldHQgbW9kdWxhciByZWR1Y3Rpb25cbnZhciBCYXJyZXR0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhcnJldHQobSkge1xuICAgICAgICB0aGlzLm0gPSBtO1xuICAgICAgICAvLyBzZXR1cCBCYXJyZXR0XG4gICAgICAgIHRoaXMucjIgPSBuYmkoKTtcbiAgICAgICAgdGhpcy5xMyA9IG5iaSgpO1xuICAgICAgICBCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oMiAqIG0udCwgdGhpcy5yMik7XG4gICAgICAgIHRoaXMubXUgPSB0aGlzLnIyLmRpdmlkZShtKTtcbiAgICB9XG4gICAgLy8gQmFycmV0dC5wcm90b3R5cGUuY29udmVydCA9IGJhcnJldHRDb252ZXJ0O1xuICAgIEJhcnJldHQucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoeC5zIDwgMCB8fCB4LnQgPiAyICogdGhpcy5tLnQpIHtcbiAgICAgICAgICAgIHJldHVybiB4Lm1vZCh0aGlzLm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHguY29tcGFyZVRvKHRoaXMubSkgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByID0gbmJpKCk7XG4gICAgICAgICAgICB4LmNvcHlUbyhyKTtcbiAgICAgICAgICAgIHRoaXMucmVkdWNlKHIpO1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJhcnJldHQucHJvdG90eXBlLnJldmVydCA9IGJhcnJldHRSZXZlcnQ7XG4gICAgQmFycmV0dC5wcm90b3R5cGUucmV2ZXJ0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfTtcbiAgICAvLyBCYXJyZXR0LnByb3RvdHlwZS5yZWR1Y2UgPSBiYXJyZXR0UmVkdWNlO1xuICAgIC8vIHggPSB4IG1vZCBtIChIQUMgMTQuNDIpXG4gICAgQmFycmV0dC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeC5kclNoaWZ0VG8odGhpcy5tLnQgLSAxLCB0aGlzLnIyKTtcbiAgICAgICAgaWYgKHgudCA+IHRoaXMubS50ICsgMSkge1xuICAgICAgICAgICAgeC50ID0gdGhpcy5tLnQgKyAxO1xuICAgICAgICAgICAgeC5jbGFtcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXUubXVsdGlwbHlVcHBlclRvKHRoaXMucjIsIHRoaXMubS50ICsgMSwgdGhpcy5xMyk7XG4gICAgICAgIHRoaXMubS5tdWx0aXBseUxvd2VyVG8odGhpcy5xMywgdGhpcy5tLnQgKyAxLCB0aGlzLnIyKTtcbiAgICAgICAgd2hpbGUgKHguY29tcGFyZVRvKHRoaXMucjIpIDwgMCkge1xuICAgICAgICAgICAgeC5kQWRkT2Zmc2V0KDEsIHRoaXMubS50ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgeC5zdWJUbyh0aGlzLnIyLCB4KTtcbiAgICAgICAgd2hpbGUgKHguY29tcGFyZVRvKHRoaXMubSkgPj0gMCkge1xuICAgICAgICAgICAgeC5zdWJUbyh0aGlzLm0sIHgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBCYXJyZXR0LnByb3RvdHlwZS5tdWxUbyA9IGJhcnJldHRNdWxUbztcbiAgICAvLyByID0geCp5IG1vZCBtOyB4LHkgIT0gclxuICAgIEJhcnJldHQucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICAgICAgeC5tdWx0aXBseVRvKHksIHIpO1xuICAgICAgICB0aGlzLnJlZHVjZShyKTtcbiAgICB9O1xuICAgIC8vIEJhcnJldHQucHJvdG90eXBlLnNxclRvID0gYmFycmV0dFNxclRvO1xuICAgIC8vIHIgPSB4XjIgbW9kIG07IHggIT0gclxuICAgIEJhcnJldHQucHJvdG90eXBlLnNxclRvID0gZnVuY3Rpb24gKHgsIHIpIHtcbiAgICAgICAgeC5zcXVhcmVUbyhyKTtcbiAgICAgICAgdGhpcy5yZWR1Y2Uocik7XG4gICAgfTtcbiAgICByZXR1cm4gQmFycmV0dDtcbn0oKSk7XG4vLyNlbmRyZWdpb25cbi8vI2VuZHJlZ2lvbiBSRURVQ0VSU1xuLy8gcmV0dXJuIG5ldywgdW5zZXQgQmlnSW50ZWdlclxuZnVuY3Rpb24gbmJpKCkgeyByZXR1cm4gbmV3IEJpZ0ludGVnZXIobnVsbCk7IH1cbmZ1bmN0aW9uIHBhcnNlQmlnSW50KHN0ciwgcikge1xuICAgIHJldHVybiBuZXcgQmlnSW50ZWdlcihzdHIsIHIpO1xufVxuLy8gYW06IENvbXB1dGUgd19qICs9ICh4KnRoaXNfaSksIHByb3BhZ2F0ZSBjYXJyaWVzLFxuLy8gYyBpcyBpbml0aWFsIGNhcnJ5LCByZXR1cm5zIGZpbmFsIGNhcnJ5LlxuLy8gYyA8IDMqZHZhbHVlLCB4IDwgMipkdmFsdWUsIHRoaXNfaSA8IGR2YWx1ZVxuLy8gV2UgbmVlZCB0byBzZWxlY3QgdGhlIGZhc3Rlc3Qgb25lIHRoYXQgd29ya3MgaW4gdGhpcyBlbnZpcm9ubWVudC5cbi8vIGFtMTogdXNlIGEgc2luZ2xlIG11bHQgYW5kIGRpdmlkZSB0byBnZXQgdGhlIGhpZ2ggYml0cyxcbi8vIG1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSAyNiBiZWNhdXNlXG4vLyBtYXggaW50ZXJuYWwgdmFsdWUgPSAyKmR2YWx1ZV4yLTIqZHZhbHVlICg8IDJeNTMpXG5mdW5jdGlvbiBhbTEoaSwgeCwgdywgaiwgYywgbikge1xuICAgIHdoaWxlICgtLW4gPj0gMCkge1xuICAgICAgICB2YXIgdiA9IHggKiB0aGlzW2krK10gKyB3W2pdICsgYztcbiAgICAgICAgYyA9IE1hdGguZmxvb3IodiAvIDB4NDAwMDAwMCk7XG4gICAgICAgIHdbaisrXSA9IHYgJiAweDNmZmZmZmY7XG4gICAgfVxuICAgIHJldHVybiBjO1xufVxuLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuXG4vLyBNYXggZGlnaXQgYml0cyBzaG91bGQgYmUgPD0gMzAgYmVjYXVzZSB3ZSBkbyBiaXR3aXNlIG9wc1xuLy8gb24gdmFsdWVzIHVwIHRvIDIqaGR2YWx1ZV4yLWhkdmFsdWUtMSAoPCAyXjMxKVxuZnVuY3Rpb24gYW0yKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgICB2YXIgeGwgPSB4ICYgMHg3ZmZmO1xuICAgIHZhciB4aCA9IHggPj4gMTU7XG4gICAgd2hpbGUgKC0tbiA+PSAwKSB7XG4gICAgICAgIHZhciBsID0gdGhpc1tpXSAmIDB4N2ZmZjtcbiAgICAgICAgdmFyIGggPSB0aGlzW2krK10gPj4gMTU7XG4gICAgICAgIHZhciBtID0geGggKiBsICsgaCAqIHhsO1xuICAgICAgICBsID0geGwgKiBsICsgKChtICYgMHg3ZmZmKSA8PCAxNSkgKyB3W2pdICsgKGMgJiAweDNmZmZmZmZmKTtcbiAgICAgICAgYyA9IChsID4+PiAzMCkgKyAobSA+Pj4gMTUpICsgeGggKiBoICsgKGMgPj4+IDMwKTtcbiAgICAgICAgd1tqKytdID0gbCAmIDB4M2ZmZmZmZmY7XG4gICAgfVxuICAgIHJldHVybiBjO1xufVxuLy8gQWx0ZXJuYXRlbHksIHNldCBtYXggZGlnaXQgYml0cyB0byAyOCBzaW5jZSBzb21lXG4vLyBicm93c2VycyBzbG93IGRvd24gd2hlbiBkZWFsaW5nIHdpdGggMzItYml0IG51bWJlcnMuXG5mdW5jdGlvbiBhbTMoaSwgeCwgdywgaiwgYywgbikge1xuICAgIHZhciB4bCA9IHggJiAweDNmZmY7XG4gICAgdmFyIHhoID0geCA+PiAxNDtcbiAgICB3aGlsZSAoLS1uID49IDApIHtcbiAgICAgICAgdmFyIGwgPSB0aGlzW2ldICYgMHgzZmZmO1xuICAgICAgICB2YXIgaCA9IHRoaXNbaSsrXSA+PiAxNDtcbiAgICAgICAgdmFyIG0gPSB4aCAqIGwgKyBoICogeGw7XG4gICAgICAgIGwgPSB4bCAqIGwgKyAoKG0gJiAweDNmZmYpIDw8IDE0KSArIHdbal0gKyBjO1xuICAgICAgICBjID0gKGwgPj4gMjgpICsgKG0gPj4gMTQpICsgeGggKiBoO1xuICAgICAgICB3W2orK10gPSBsICYgMHhmZmZmZmZmO1xuICAgIH1cbiAgICByZXR1cm4gYztcbn1cbmlmIChqX2xtICYmIChuYXZpZ2F0b3IuYXBwTmFtZSA9PSBcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiKSkge1xuICAgIEJpZ0ludGVnZXIucHJvdG90eXBlLmFtID0gYW0yO1xuICAgIGRiaXRzID0gMzA7XG59XG5lbHNlIGlmIChqX2xtICYmIChuYXZpZ2F0b3IuYXBwTmFtZSAhPSBcIk5ldHNjYXBlXCIpKSB7XG4gICAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW0gPSBhbTE7XG4gICAgZGJpdHMgPSAyNjtcbn1cbmVsc2UgeyAvLyBNb3ppbGxhL05ldHNjYXBlIHNlZW1zIHRvIHByZWZlciBhbTNcbiAgICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMztcbiAgICBkYml0cyA9IDI4O1xufVxuQmlnSW50ZWdlci5wcm90b3R5cGUuREIgPSBkYml0cztcbkJpZ0ludGVnZXIucHJvdG90eXBlLkRNID0gKCgxIDw8IGRiaXRzKSAtIDEpO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRFYgPSAoMSA8PCBkYml0cyk7XG52YXIgQklfRlAgPSA1MjtcbkJpZ0ludGVnZXIucHJvdG90eXBlLkZWID0gTWF0aC5wb3coMiwgQklfRlApO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRjEgPSBCSV9GUCAtIGRiaXRzO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRjIgPSAyICogZGJpdHMgLSBCSV9GUDtcbi8vIERpZ2l0IGNvbnZlcnNpb25zXG52YXIgQklfUkMgPSBbXTtcbnZhciBycjtcbnZhciB2djtcbnJyID0gXCIwXCIuY2hhckNvZGVBdCgwKTtcbmZvciAodnYgPSAwOyB2diA8PSA5OyArK3Z2KSB7XG4gICAgQklfUkNbcnIrK10gPSB2djtcbn1cbnJyID0gXCJhXCIuY2hhckNvZGVBdCgwKTtcbmZvciAodnYgPSAxMDsgdnYgPCAzNjsgKyt2dikge1xuICAgIEJJX1JDW3JyKytdID0gdnY7XG59XG5yciA9IFwiQVwiLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMTA7IHZ2IDwgMzY7ICsrdnYpIHtcbiAgICBCSV9SQ1tycisrXSA9IHZ2O1xufVxuZnVuY3Rpb24gaW50QXQocywgaSkge1xuICAgIHZhciBjID0gQklfUkNbcy5jaGFyQ29kZUF0KGkpXTtcbiAgICByZXR1cm4gKGMgPT0gbnVsbCkgPyAtMSA6IGM7XG59XG4vLyByZXR1cm4gYmlnaW50IGluaXRpYWxpemVkIHRvIHZhbHVlXG5mdW5jdGlvbiBuYnYoaSkge1xuICAgIHZhciByID0gbmJpKCk7XG4gICAgci5mcm9tSW50KGkpO1xuICAgIHJldHVybiByO1xufVxuLy8gcmV0dXJucyBiaXQgbGVuZ3RoIG9mIHRoZSBpbnRlZ2VyIHhcbmZ1bmN0aW9uIG5iaXRzKHgpIHtcbiAgICB2YXIgciA9IDE7XG4gICAgdmFyIHQ7XG4gICAgaWYgKCh0ID0geCA+Pj4gMTYpICE9IDApIHtcbiAgICAgICAgeCA9IHQ7XG4gICAgICAgIHIgKz0gMTY7XG4gICAgfVxuICAgIGlmICgodCA9IHggPj4gOCkgIT0gMCkge1xuICAgICAgICB4ID0gdDtcbiAgICAgICAgciArPSA4O1xuICAgIH1cbiAgICBpZiAoKHQgPSB4ID4+IDQpICE9IDApIHtcbiAgICAgICAgeCA9IHQ7XG4gICAgICAgIHIgKz0gNDtcbiAgICB9XG4gICAgaWYgKCh0ID0geCA+PiAyKSAhPSAwKSB7XG4gICAgICAgIHggPSB0O1xuICAgICAgICByICs9IDI7XG4gICAgfVxuICAgIGlmICgodCA9IHggPj4gMSkgIT0gMCkge1xuICAgICAgICB4ID0gdDtcbiAgICAgICAgciArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cbi8vIFwiY29uc3RhbnRzXCJcbkJpZ0ludGVnZXIuWkVSTyA9IG5idigwKTtcbkJpZ0ludGVnZXIuT05FID0gbmJ2KDEpO1xuXG4vLyBwcm5nNC5qcyAtIHVzZXMgQXJjZm91ciBhcyBhIFBSTkdcbnZhciBBcmNmb3VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyY2ZvdXIoKSB7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMuaiA9IDA7XG4gICAgICAgIHRoaXMuUyA9IFtdO1xuICAgIH1cbiAgICAvLyBBcmNmb3VyLnByb3RvdHlwZS5pbml0ID0gQVJDNGluaXQ7XG4gICAgLy8gSW5pdGlhbGl6ZSBhcmNmb3VyIGNvbnRleHQgZnJvbSBrZXksIGFuIGFycmF5IG9mIGludHMsIGVhY2ggZnJvbSBbMC4uMjU1XVxuICAgIEFyY2ZvdXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgajtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5TW2ldID0gaTtcbiAgICAgICAgfVxuICAgICAgICBqID0gMDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgICAgICBqID0gKGogKyB0aGlzLlNbaV0gKyBrZXlbaSAlIGtleS5sZW5ndGhdKSAmIDI1NTtcbiAgICAgICAgICAgIHQgPSB0aGlzLlNbaV07XG4gICAgICAgICAgICB0aGlzLlNbaV0gPSB0aGlzLlNbal07XG4gICAgICAgICAgICB0aGlzLlNbal0gPSB0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMuaiA9IDA7XG4gICAgfTtcbiAgICAvLyBBcmNmb3VyLnByb3RvdHlwZS5uZXh0ID0gQVJDNG5leHQ7XG4gICAgQXJjZm91ci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIHRoaXMuaSA9ICh0aGlzLmkgKyAxKSAmIDI1NTtcbiAgICAgICAgdGhpcy5qID0gKHRoaXMuaiArIHRoaXMuU1t0aGlzLmldKSAmIDI1NTtcbiAgICAgICAgdCA9IHRoaXMuU1t0aGlzLmldO1xuICAgICAgICB0aGlzLlNbdGhpcy5pXSA9IHRoaXMuU1t0aGlzLmpdO1xuICAgICAgICB0aGlzLlNbdGhpcy5qXSA9IHQ7XG4gICAgICAgIHJldHVybiB0aGlzLlNbKHQgKyB0aGlzLlNbdGhpcy5pXSkgJiAyNTVdO1xuICAgIH07XG4gICAgcmV0dXJuIEFyY2ZvdXI7XG59KCkpO1xuLy8gUGx1ZyBpbiB5b3VyIFJORyBjb25zdHJ1Y3RvciBoZXJlXG5mdW5jdGlvbiBwcm5nX25ld3N0YXRlKCkge1xuICAgIHJldHVybiBuZXcgQXJjZm91cigpO1xufVxuLy8gUG9vbCBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0IGFuZCBncmVhdGVyIHRoYW4gMzIuXG4vLyBBbiBhcnJheSBvZiBieXRlcyB0aGUgc2l6ZSBvZiB0aGUgcG9vbCB3aWxsIGJlIHBhc3NlZCB0byBpbml0KClcbnZhciBybmdfcHNpemUgPSAyNTY7XG5cbi8vIFJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIC0gcmVxdWlyZXMgYSBQUk5HIGJhY2tlbmQsIGUuZy4gcHJuZzQuanNcbnZhciBybmdfc3RhdGU7XG52YXIgcm5nX3Bvb2wgPSBudWxsO1xudmFyIHJuZ19wcHRyO1xuLy8gSW5pdGlhbGl6ZSB0aGUgcG9vbCB3aXRoIGp1bmsgaWYgbmVlZGVkLlxuaWYgKHJuZ19wb29sID09IG51bGwpIHtcbiAgICBybmdfcG9vbCA9IFtdO1xuICAgIHJuZ19wcHRyID0gMDtcbiAgICB2YXIgdCA9IHZvaWQgMDtcbiAgICBpZiAod2luZG93LmNyeXB0byAmJiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgICAgICAvLyBFeHRyYWN0IGVudHJvcHkgKDIwNDggYml0cykgZnJvbSBSTkcgaWYgYXZhaWxhYmxlXG4gICAgICAgIHZhciB6ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHopO1xuICAgICAgICBmb3IgKHQgPSAwOyB0IDwgei5sZW5ndGg7ICsrdCkge1xuICAgICAgICAgICAgcm5nX3Bvb2xbcm5nX3BwdHIrK10gPSB6W3RdICYgMjU1O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFVzZSBtb3VzZSBldmVudHMgZm9yIGVudHJvcHksIGlmIHdlIGRvIG5vdCBoYXZlIGVub3VnaCBlbnRyb3B5IGJ5IHRoZSB0aW1lXG4gICAgLy8gd2UgbmVlZCBpdCwgZW50cm9weSB3aWxsIGJlIGdlbmVyYXRlZCBieSBNYXRoLnJhbmRvbS5cbiAgICB2YXIgb25Nb3VzZU1vdmVMaXN0ZW5lcl8xID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHRoaXMuY291bnQgPSB0aGlzLmNvdW50IHx8IDA7XG4gICAgICAgIGlmICh0aGlzLmNvdW50ID49IDI1NiB8fCBybmdfcHB0ciA+PSBybmdfcHNpemUpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlTGlzdGVuZXJfMSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAod2luZG93LmRldGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmRldGFjaEV2ZW50KFwib25tb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmVMaXN0ZW5lcl8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG1vdXNlQ29vcmRpbmF0ZXMgPSBldi54ICsgZXYueTtcbiAgICAgICAgICAgIHJuZ19wb29sW3JuZ19wcHRyKytdID0gbW91c2VDb29yZGluYXRlcyAmIDI1NTtcbiAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gU29tZXRpbWVzIEZpcmVmb3ggd2lsbCBkZW55IHBlcm1pc3Npb24gdG8gYWNjZXNzIGV2ZW50IHByb3BlcnRpZXMgZm9yIHNvbWUgcmVhc29uLiBJZ25vcmUuXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZUxpc3RlbmVyXzEsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlTGlzdGVuZXJfMSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcm5nX2dldF9ieXRlKCkge1xuICAgIGlmIChybmdfc3RhdGUgPT0gbnVsbCkge1xuICAgICAgICBybmdfc3RhdGUgPSBwcm5nX25ld3N0YXRlKCk7XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIG1heSBub3QgaGF2ZSBjb2xsZWN0ZWQgZW5vdWdoIGVudHJvcHkuICBJZiBub3QsIGZhbGwgYmFjayB0byBNYXRoLnJhbmRvbVxuICAgICAgICB3aGlsZSAocm5nX3BwdHIgPCBybmdfcHNpemUpIHtcbiAgICAgICAgICAgIHZhciByYW5kb20gPSBNYXRoLmZsb29yKDY1NTM2ICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgICBybmdfcG9vbFtybmdfcHB0cisrXSA9IHJhbmRvbSAmIDI1NTtcbiAgICAgICAgfVxuICAgICAgICBybmdfc3RhdGUuaW5pdChybmdfcG9vbCk7XG4gICAgICAgIGZvciAocm5nX3BwdHIgPSAwOyBybmdfcHB0ciA8IHJuZ19wb29sLmxlbmd0aDsgKytybmdfcHB0cikge1xuICAgICAgICAgICAgcm5nX3Bvb2xbcm5nX3BwdHJdID0gMDtcbiAgICAgICAgfVxuICAgICAgICBybmdfcHB0ciA9IDA7XG4gICAgfVxuICAgIC8vIFRPRE86IGFsbG93IHJlc2VlZGluZyBhZnRlciBmaXJzdCByZXF1ZXN0XG4gICAgcmV0dXJuIHJuZ19zdGF0ZS5uZXh0KCk7XG59XG52YXIgU2VjdXJlUmFuZG9tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlY3VyZVJhbmRvbSgpIHtcbiAgICB9XG4gICAgU2VjdXJlUmFuZG9tLnByb3RvdHlwZS5uZXh0Qnl0ZXMgPSBmdW5jdGlvbiAoYmEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgYmFbaV0gPSBybmdfZ2V0X2J5dGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNlY3VyZVJhbmRvbTtcbn0oKSk7XG5cbi8vIERlcGVuZHMgb24ganNibi5qcyBhbmQgcm5nLmpzXG4vLyBmdW5jdGlvbiBsaW5lYnJrKHMsbikge1xuLy8gICB2YXIgcmV0ID0gXCJcIjtcbi8vICAgdmFyIGkgPSAwO1xuLy8gICB3aGlsZShpICsgbiA8IHMubGVuZ3RoKSB7XG4vLyAgICAgcmV0ICs9IHMuc3Vic3RyaW5nKGksaStuKSArIFwiXFxuXCI7XG4vLyAgICAgaSArPSBuO1xuLy8gICB9XG4vLyAgIHJldHVybiByZXQgKyBzLnN1YnN0cmluZyhpLHMubGVuZ3RoKTtcbi8vIH1cbi8vIGZ1bmN0aW9uIGJ5dGUySGV4KGIpIHtcbi8vICAgaWYoYiA8IDB4MTApXG4vLyAgICAgcmV0dXJuIFwiMFwiICsgYi50b1N0cmluZygxNik7XG4vLyAgIGVsc2Vcbi8vICAgICByZXR1cm4gYi50b1N0cmluZygxNik7XG4vLyB9XG5mdW5jdGlvbiBwa2NzMXBhZDEocywgbikge1xuICAgIGlmIChuIDwgcy5sZW5ndGggKyAyMikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGxlbiA9IG4gLSBzLmxlbmd0aCAtIDY7XG4gICAgdmFyIGZpbGxlciA9IFwiXCI7XG4gICAgZm9yICh2YXIgZiA9IDA7IGYgPCBsZW47IGYgKz0gMikge1xuICAgICAgICBmaWxsZXIgKz0gXCJmZlwiO1xuICAgIH1cbiAgICB2YXIgbSA9IFwiMDAwMVwiICsgZmlsbGVyICsgXCIwMFwiICsgcztcbiAgICByZXR1cm4gcGFyc2VCaWdJbnQobSwgMTYpO1xufVxuLy8gUEtDUyMxICh0eXBlIDIsIHJhbmRvbSkgcGFkIGlucHV0IHN0cmluZyBzIHRvIG4gYnl0ZXMsIGFuZCByZXR1cm4gYSBiaWdpbnRcbmZ1bmN0aW9uIHBrY3MxcGFkMihzLCBuKSB7XG4gICAgaWYgKG4gPCBzLmxlbmd0aCArIDExKSB7IC8vIFRPRE86IGZpeCBmb3IgdXRmLThcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBiYSA9IFtdO1xuICAgIHZhciBpID0gcy5sZW5ndGggLSAxO1xuICAgIHdoaWxlIChpID49IDAgJiYgbiA+IDApIHtcbiAgICAgICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaS0tKTtcbiAgICAgICAgaWYgKGMgPCAxMjgpIHsgLy8gZW5jb2RlIHVzaW5nIHV0Zi04XG4gICAgICAgICAgICBiYVstLW5dID0gYztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYyA+IDEyNykgJiYgKGMgPCAyMDQ4KSkge1xuICAgICAgICAgICAgYmFbLS1uXSA9IChjICYgNjMpIHwgMTI4O1xuICAgICAgICAgICAgYmFbLS1uXSA9IChjID4+IDYpIHwgMTkyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFbLS1uXSA9IChjICYgNjMpIHwgMTI4O1xuICAgICAgICAgICAgYmFbLS1uXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcbiAgICAgICAgICAgIGJhWy0tbl0gPSAoYyA+PiAxMikgfCAyMjQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmFbLS1uXSA9IDA7XG4gICAgdmFyIHJuZyA9IG5ldyBTZWN1cmVSYW5kb20oKTtcbiAgICB2YXIgeCA9IFtdO1xuICAgIHdoaWxlIChuID4gMikgeyAvLyByYW5kb20gbm9uLXplcm8gcGFkXG4gICAgICAgIHhbMF0gPSAwO1xuICAgICAgICB3aGlsZSAoeFswXSA9PSAwKSB7XG4gICAgICAgICAgICBybmcubmV4dEJ5dGVzKHgpO1xuICAgICAgICB9XG4gICAgICAgIGJhWy0tbl0gPSB4WzBdO1xuICAgIH1cbiAgICBiYVstLW5dID0gMjtcbiAgICBiYVstLW5dID0gMDtcbiAgICByZXR1cm4gbmV3IEJpZ0ludGVnZXIoYmEpO1xufVxuLy8gXCJlbXB0eVwiIFJTQSBrZXkgY29uc3RydWN0b3JcbnZhciBSU0FLZXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUlNBS2V5KCkge1xuICAgICAgICB0aGlzLm4gPSBudWxsO1xuICAgICAgICB0aGlzLmUgPSAwO1xuICAgICAgICB0aGlzLmQgPSBudWxsO1xuICAgICAgICB0aGlzLnAgPSBudWxsO1xuICAgICAgICB0aGlzLnEgPSBudWxsO1xuICAgICAgICB0aGlzLmRtcDEgPSBudWxsO1xuICAgICAgICB0aGlzLmRtcTEgPSBudWxsO1xuICAgICAgICB0aGlzLmNvZWZmID0gbnVsbDtcbiAgICB9XG4gICAgLy8jcmVnaW9uIFBST1RFQ1RFRFxuICAgIC8vIHByb3RlY3RlZFxuICAgIC8vIFJTQUtleS5wcm90b3R5cGUuZG9QdWJsaWMgPSBSU0FEb1B1YmxpYztcbiAgICAvLyBQZXJmb3JtIHJhdyBwdWJsaWMgb3BlcmF0aW9uIG9uIFwieFwiOiByZXR1cm4geF5lIChtb2QgbilcbiAgICBSU0FLZXkucHJvdG90eXBlLmRvUHVibGljID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHgubW9kUG93SW50KHRoaXMuZSwgdGhpcy5uKTtcbiAgICB9O1xuICAgIC8vIFJTQUtleS5wcm90b3R5cGUuZG9Qcml2YXRlID0gUlNBRG9Qcml2YXRlO1xuICAgIC8vIFBlcmZvcm0gcmF3IHByaXZhdGUgb3BlcmF0aW9uIG9uIFwieFwiOiByZXR1cm4geF5kIChtb2QgbilcbiAgICBSU0FLZXkucHJvdG90eXBlLmRvUHJpdmF0ZSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGlmICh0aGlzLnAgPT0gbnVsbCB8fCB0aGlzLnEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHgubW9kUG93KHRoaXMuZCwgdGhpcy5uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiByZS1jYWxjdWxhdGUgYW55IG1pc3NpbmcgQ1JUIHBhcmFtc1xuICAgICAgICB2YXIgeHAgPSB4Lm1vZCh0aGlzLnApLm1vZFBvdyh0aGlzLmRtcDEsIHRoaXMucCk7XG4gICAgICAgIHZhciB4cSA9IHgubW9kKHRoaXMucSkubW9kUG93KHRoaXMuZG1xMSwgdGhpcy5xKTtcbiAgICAgICAgd2hpbGUgKHhwLmNvbXBhcmVUbyh4cSkgPCAwKSB7XG4gICAgICAgICAgICB4cCA9IHhwLmFkZCh0aGlzLnApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4cC5zdWJ0cmFjdCh4cSkubXVsdGlwbHkodGhpcy5jb2VmZikubW9kKHRoaXMucCkubXVsdGlwbHkodGhpcy5xKS5hZGQoeHEpO1xuICAgIH07XG4gICAgLy8jZW5kcmVnaW9uIFBST1RFQ1RFRFxuICAgIC8vI3JlZ2lvbiBQVUJMSUNcbiAgICAvLyBSU0FLZXkucHJvdG90eXBlLnNldFB1YmxpYyA9IFJTQVNldFB1YmxpYztcbiAgICAvLyBTZXQgdGhlIHB1YmxpYyBrZXkgZmllbGRzIE4gYW5kIGUgZnJvbSBoZXggc3RyaW5nc1xuICAgIFJTQUtleS5wcm90b3R5cGUuc2V0UHVibGljID0gZnVuY3Rpb24gKE4sIEUpIHtcbiAgICAgICAgaWYgKE4gIT0gbnVsbCAmJiBFICE9IG51bGwgJiYgTi5sZW5ndGggPiAwICYmIEUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5uID0gcGFyc2VCaWdJbnQoTiwgMTYpO1xuICAgICAgICAgICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgUlNBIHB1YmxpYyBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJTQUtleS5wcm90b3R5cGUuZW5jcnlwdCA9IFJTQUVuY3J5cHQ7XG4gICAgLy8gUmV0dXJuIHRoZSBQS0NTIzEgUlNBIGVuY3J5cHRpb24gb2YgXCJ0ZXh0XCIgYXMgYW4gZXZlbi1sZW5ndGggaGV4IHN0cmluZ1xuICAgIFJTQUtleS5wcm90b3R5cGUuZW5jcnlwdCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciBtID0gcGtjczFwYWQyKHRleHQsICh0aGlzLm4uYml0TGVuZ3RoKCkgKyA3KSA+PiAzKTtcbiAgICAgICAgaWYgKG0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGMgPSB0aGlzLmRvUHVibGljKG0pO1xuICAgICAgICBpZiAoYyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaCA9IGMudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoKGgubGVuZ3RoICYgMSkgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCIwXCIgKyBoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBSU0FLZXkucHJvdG90eXBlLnNldFByaXZhdGUgPSBSU0FTZXRQcml2YXRlO1xuICAgIC8vIFNldCB0aGUgcHJpdmF0ZSBrZXkgZmllbGRzIE4sIGUsIGFuZCBkIGZyb20gaGV4IHN0cmluZ3NcbiAgICBSU0FLZXkucHJvdG90eXBlLnNldFByaXZhdGUgPSBmdW5jdGlvbiAoTiwgRSwgRCkge1xuICAgICAgICBpZiAoTiAhPSBudWxsICYmIEUgIT0gbnVsbCAmJiBOLmxlbmd0aCA+IDAgJiYgRS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm4gPSBwYXJzZUJpZ0ludChOLCAxNik7XG4gICAgICAgICAgICB0aGlzLmUgPSBwYXJzZUludChFLCAxNik7XG4gICAgICAgICAgICB0aGlzLmQgPSBwYXJzZUJpZ0ludChELCAxNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBSU0EgcHJpdmF0ZSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJTQUtleS5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4ID0gUlNBU2V0UHJpdmF0ZUV4O1xuICAgIC8vIFNldCB0aGUgcHJpdmF0ZSBrZXkgZmllbGRzIE4sIGUsIGQgYW5kIENSVCBwYXJhbXMgZnJvbSBoZXggc3RyaW5nc1xuICAgIFJTQUtleS5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4ID0gZnVuY3Rpb24gKE4sIEUsIEQsIFAsIFEsIERQLCBEUSwgQykge1xuICAgICAgICBpZiAoTiAhPSBudWxsICYmIEUgIT0gbnVsbCAmJiBOLmxlbmd0aCA+IDAgJiYgRS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm4gPSBwYXJzZUJpZ0ludChOLCAxNik7XG4gICAgICAgICAgICB0aGlzLmUgPSBwYXJzZUludChFLCAxNik7XG4gICAgICAgICAgICB0aGlzLmQgPSBwYXJzZUJpZ0ludChELCAxNik7XG4gICAgICAgICAgICB0aGlzLnAgPSBwYXJzZUJpZ0ludChQLCAxNik7XG4gICAgICAgICAgICB0aGlzLnEgPSBwYXJzZUJpZ0ludChRLCAxNik7XG4gICAgICAgICAgICB0aGlzLmRtcDEgPSBwYXJzZUJpZ0ludChEUCwgMTYpO1xuICAgICAgICAgICAgdGhpcy5kbXExID0gcGFyc2VCaWdJbnQoRFEsIDE2KTtcbiAgICAgICAgICAgIHRoaXMuY29lZmYgPSBwYXJzZUJpZ0ludChDLCAxNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBSU0EgcHJpdmF0ZSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJTQUtleS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBSU0FHZW5lcmF0ZTtcbiAgICAvLyBHZW5lcmF0ZSBhIG5ldyByYW5kb20gcHJpdmF0ZSBrZXkgQiBiaXRzIGxvbmcsIHVzaW5nIHB1YmxpYyBleHB0IEVcbiAgICBSU0FLZXkucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24gKEIsIEUpIHtcbiAgICAgICAgdmFyIHJuZyA9IG5ldyBTZWN1cmVSYW5kb20oKTtcbiAgICAgICAgdmFyIHFzID0gQiA+PiAxO1xuICAgICAgICB0aGlzLmUgPSBwYXJzZUludChFLCAxNik7XG4gICAgICAgIHZhciBlZSA9IG5ldyBCaWdJbnRlZ2VyKEUsIDE2KTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIHRoaXMucCA9IG5ldyBCaWdJbnRlZ2VyKEIgLSBxcywgMSwgcm5nKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wLnN1YnRyYWN0KEJpZ0ludGVnZXIuT05FKS5nY2QoZWUpLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSkgPT0gMCAmJiB0aGlzLnAuaXNQcm9iYWJsZVByaW1lKDEwKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xID0gbmV3IEJpZ0ludGVnZXIocXMsIDEsIHJuZyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucS5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSkuZ2NkKGVlKS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpID09IDAgJiYgdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucC5jb21wYXJlVG8odGhpcy5xKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLnA7XG4gICAgICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5xO1xuICAgICAgICAgICAgICAgIHRoaXMucSA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcDEgPSB0aGlzLnAuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpO1xuICAgICAgICAgICAgdmFyIHExID0gdGhpcy5xLnN1YnRyYWN0KEJpZ0ludGVnZXIuT05FKTtcbiAgICAgICAgICAgIHZhciBwaGkgPSBwMS5tdWx0aXBseShxMSk7XG4gICAgICAgICAgICBpZiAocGhpLmdjZChlZSkuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uID0gdGhpcy5wLm11bHRpcGx5KHRoaXMucSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kID0gZWUubW9kSW52ZXJzZShwaGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZG1wMSA9IHRoaXMuZC5tb2QocDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZG1xMSA9IHRoaXMuZC5tb2QocTEpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29lZmYgPSB0aGlzLnEubW9kSW52ZXJzZSh0aGlzLnApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBSU0FLZXkucHJvdG90eXBlLmRlY3J5cHQgPSBSU0FEZWNyeXB0O1xuICAgIC8vIFJldHVybiB0aGUgUEtDUyMxIFJTQSBkZWNyeXB0aW9uIG9mIFwiY3RleHRcIi5cbiAgICAvLyBcImN0ZXh0XCIgaXMgYW4gZXZlbi1sZW5ndGggaGV4IHN0cmluZyBhbmQgdGhlIG91dHB1dCBpcyBhIHBsYWluIHN0cmluZy5cbiAgICBSU0FLZXkucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiAoY3RleHQpIHtcbiAgICAgICAgdmFyIGMgPSBwYXJzZUJpZ0ludChjdGV4dCwgMTYpO1xuICAgICAgICB2YXIgbSA9IHRoaXMuZG9Qcml2YXRlKGMpO1xuICAgICAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGtjczF1bnBhZDIobSwgKHRoaXMubi5iaXRMZW5ndGgoKSArIDcpID4+IDMpO1xuICAgIH07XG4gICAgLy8gR2VuZXJhdGUgYSBuZXcgcmFuZG9tIHByaXZhdGUga2V5IEIgYml0cyBsb25nLCB1c2luZyBwdWJsaWMgZXhwdCBFXG4gICAgUlNBS2V5LnByb3RvdHlwZS5nZW5lcmF0ZUFzeW5jID0gZnVuY3Rpb24gKEIsIEUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBybmcgPSBuZXcgU2VjdXJlUmFuZG9tKCk7XG4gICAgICAgIHZhciBxcyA9IEIgPj4gMTtcbiAgICAgICAgdGhpcy5lID0gcGFyc2VJbnQoRSwgMTYpO1xuICAgICAgICB2YXIgZWUgPSBuZXcgQmlnSW50ZWdlcihFLCAxNik7XG4gICAgICAgIHZhciByc2EgPSB0aGlzO1xuICAgICAgICAvLyBUaGVzZSBmdW5jdGlvbnMgaGF2ZSBub24tZGVzY3JpcHQgbmFtZXMgYmVjYXVzZSB0aGV5IHdlcmUgb3JpZ2luYWxseSBmb3IoOzspIGxvb3BzLlxuICAgICAgICAvLyBJIGRvbid0IGtub3cgYWJvdXQgY3J5cHRvZ3JhcGh5IHRvIGdpdmUgdGhlbSBiZXR0ZXIgbmFtZXMgdGhhbiBsb29wMS00LlxuICAgICAgICB2YXIgbG9vcDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbG9vcDQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJzYS5wLmNvbXBhcmVUbyhyc2EucSkgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHJzYS5wO1xuICAgICAgICAgICAgICAgICAgICByc2EucCA9IHJzYS5xO1xuICAgICAgICAgICAgICAgICAgICByc2EucSA9IHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBwMSA9IHJzYS5wLnN1YnRyYWN0KEJpZ0ludGVnZXIuT05FKTtcbiAgICAgICAgICAgICAgICB2YXIgcTEgPSByc2EucS5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSk7XG4gICAgICAgICAgICAgICAgdmFyIHBoaSA9IHAxLm11bHRpcGx5KHExKTtcbiAgICAgICAgICAgICAgICBpZiAocGhpLmdjZChlZSkuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJzYS5uID0gcnNhLnAubXVsdGlwbHkocnNhLnEpO1xuICAgICAgICAgICAgICAgICAgICByc2EuZCA9IGVlLm1vZEludmVyc2UocGhpKTtcbiAgICAgICAgICAgICAgICAgICAgcnNhLmRtcDEgPSByc2EuZC5tb2QocDEpO1xuICAgICAgICAgICAgICAgICAgICByc2EuZG1xMSA9IHJzYS5kLm1vZChxMSk7XG4gICAgICAgICAgICAgICAgICAgIHJzYS5jb2VmZiA9IHJzYS5xLm1vZEludmVyc2UocnNhLnApO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgY2FsbGJhY2soKTsgfSwgMCk7IC8vIGVzY2FwZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wMSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsb29wMyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByc2EucSA9IG5iaSgpO1xuICAgICAgICAgICAgICAgIHJzYS5xLmZyb21OdW1iZXJBc3luYyhxcywgMSwgcm5nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJzYS5xLnN1YnRyYWN0KEJpZ0ludGVnZXIuT05FKS5nY2RhKGVlLCBmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSA9PSAwICYmIHJzYS5xLmlzUHJvYmFibGVQcmltZSgxMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGxvb3A0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDMsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbG9vcDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnNhLnAgPSBuYmkoKTtcbiAgICAgICAgICAgICAgICByc2EucC5mcm9tTnVtYmVyQXN5bmMoQiAtIHFzLCAxLCBybmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcnNhLnAuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpLmdjZGEoZWUsIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpID09IDAgJiYgcnNhLnAuaXNQcm9iYWJsZVByaW1lKDEwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDMsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wMiwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQobG9vcDIsIDApO1xuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KGxvb3AxLCAwKTtcbiAgICB9O1xuICAgIFJTQUtleS5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uICh0ZXh0LCBkaWdlc3RNZXRob2QsIGRpZ2VzdE5hbWUpIHtcbiAgICAgICAgdmFyIGhlYWRlciA9IGdldERpZ2VzdEhlYWRlcihkaWdlc3ROYW1lKTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9IGhlYWRlciArIGRpZ2VzdE1ldGhvZCh0ZXh0KS50b1N0cmluZygpO1xuICAgICAgICB2YXIgbSA9IHBrY3MxcGFkMShkaWdlc3QsIHRoaXMubi5iaXRMZW5ndGgoKSAvIDQpO1xuICAgICAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYyA9IHRoaXMuZG9Qcml2YXRlKG0pO1xuICAgICAgICBpZiAoYyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaCA9IGMudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoKGgubGVuZ3RoICYgMSkgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCIwXCIgKyBoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSU0FLZXkucHJvdG90eXBlLnZlcmlmeSA9IGZ1bmN0aW9uICh0ZXh0LCBzaWduYXR1cmUsIGRpZ2VzdE1ldGhvZCkge1xuICAgICAgICB2YXIgYyA9IHBhcnNlQmlnSW50KHNpZ25hdHVyZSwgMTYpO1xuICAgICAgICB2YXIgbSA9IHRoaXMuZG9QdWJsaWMoYyk7XG4gICAgICAgIGlmIChtID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bnBhZGRlZCA9IG0udG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sIFwiXCIpO1xuICAgICAgICB2YXIgZGlnZXN0ID0gcmVtb3ZlRGlnZXN0SGVhZGVyKHVucGFkZGVkKTtcbiAgICAgICAgcmV0dXJuIGRpZ2VzdCA9PSBkaWdlc3RNZXRob2QodGV4dCkudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIHJldHVybiBSU0FLZXk7XG59KCkpO1xuLy8gVW5kbyBQS0NTIzEgKHR5cGUgMiwgcmFuZG9tKSBwYWRkaW5nIGFuZCwgaWYgdmFsaWQsIHJldHVybiB0aGUgcGxhaW50ZXh0XG5mdW5jdGlvbiBwa2NzMXVucGFkMihkLCBuKSB7XG4gICAgdmFyIGIgPSBkLnRvQnl0ZUFycmF5KCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYi5sZW5ndGggJiYgYltpXSA9PSAwKSB7XG4gICAgICAgICsraTtcbiAgICB9XG4gICAgaWYgKGIubGVuZ3RoIC0gaSAhPSBuIC0gMSB8fCBiW2ldICE9IDIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgICsraTtcbiAgICB3aGlsZSAoYltpXSAhPSAwKSB7XG4gICAgICAgIGlmICgrK2kgPj0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciByZXQgPSBcIlwiO1xuICAgIHdoaWxlICgrK2kgPCBiLmxlbmd0aCkge1xuICAgICAgICB2YXIgYyA9IGJbaV0gJiAyNTU7XG4gICAgICAgIGlmIChjIDwgMTI4KSB7IC8vIHV0Zi04IGRlY29kZVxuICAgICAgICAgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGMgPiAxOTEpICYmIChjIDwgMjI0KSkge1xuICAgICAgICAgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMzEpIDw8IDYpIHwgKGJbaSArIDFdICYgNjMpKTtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyAmIDE1KSA8PCAxMikgfCAoKGJbaSArIDFdICYgNjMpIDw8IDYpIHwgKGJbaSArIDJdICYgNjMpKTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0NDcjcGFnZS00M1xudmFyIERJR0VTVF9IRUFERVJTID0ge1xuICAgIG1kMjogXCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjAyMDUwMDA0MTBcIixcbiAgICBtZDU6IFwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIsXG4gICAgc2hhMTogXCIzMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTRcIixcbiAgICBzaGEyMjQ6IFwiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWNcIixcbiAgICBzaGEyNTY6IFwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIixcbiAgICBzaGEzODQ6IFwiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzBcIixcbiAgICBzaGE1MTI6IFwiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDBcIixcbiAgICByaXBlbWQxNjA6IFwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCIsXG59O1xuZnVuY3Rpb24gZ2V0RGlnZXN0SGVhZGVyKG5hbWUpIHtcbiAgICByZXR1cm4gRElHRVNUX0hFQURFUlNbbmFtZV0gfHwgXCJcIjtcbn1cbmZ1bmN0aW9uIHJlbW92ZURpZ2VzdEhlYWRlcihzdHIpIHtcbiAgICBmb3IgKHZhciBuYW1lXzEgaW4gRElHRVNUX0hFQURFUlMpIHtcbiAgICAgICAgaWYgKERJR0VTVF9IRUFERVJTLmhhc093blByb3BlcnR5KG5hbWVfMSkpIHtcbiAgICAgICAgICAgIHZhciBoZWFkZXIgPSBESUdFU1RfSEVBREVSU1tuYW1lXzFdO1xuICAgICAgICAgICAgdmFyIGxlbiA9IGhlYWRlci5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoc3RyLnN1YnN0cigwLCBsZW4pID09IGhlYWRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyKGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8vIFJldHVybiB0aGUgUEtDUyMxIFJTQSBlbmNyeXB0aW9uIG9mIFwidGV4dFwiIGFzIGEgQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4vLyBmdW5jdGlvbiBSU0FFbmNyeXB0QjY0KHRleHQpIHtcbi8vICB2YXIgaCA9IHRoaXMuZW5jcnlwdCh0ZXh0KTtcbi8vICBpZihoKSByZXR1cm4gaGV4MmI2NChoKTsgZWxzZSByZXR1cm4gbnVsbDtcbi8vIH1cbi8vIHB1YmxpY1xuLy8gUlNBS2V5LnByb3RvdHlwZS5lbmNyeXB0X2I2NCA9IFJTQUVuY3J5cHRCNjQ7XG5cbi8qIVxuQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuQ29kZSBsaWNlbnNlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2U6XG5odHRwOi8vZGV2ZWxvcGVyLnlhaG9vLmNvbS95dWkvbGljZW5zZS5odG1sXG52ZXJzaW9uOiAyLjkuMFxuKi9cbnZhciBZQUhPTyA9IHt9O1xuWUFIT08ubGFuZyA9IHtcbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IHRvIHNldCB1cCB0aGUgcHJvdG90eXBlLCBjb25zdHJ1Y3RvciBhbmQgc3VwZXJjbGFzcyBwcm9wZXJ0aWVzIHRvXG4gICAgICogc3VwcG9ydCBhbiBpbmhlcml0YW5jZSBzdHJhdGVneSB0aGF0IGNhbiBjaGFpbiBjb25zdHJ1Y3RvcnMgYW5kIG1ldGhvZHMuXG4gICAgICogU3RhdGljIG1lbWJlcnMgd2lsbCBub3QgYmUgaW5oZXJpdGVkLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBleHRlbmRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ViYyAgIHRoZSBvYmplY3QgdG8gbW9kaWZ5XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJjIHRoZSBvYmplY3QgdG8gaW5oZXJpdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdmVycmlkZXMgIGFkZGl0aW9uYWwgcHJvcGVydGllcy9tZXRob2RzIHRvIGFkZCB0byB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNsYXNzIHByb3RvdHlwZS4gIFRoZXNlIHdpbGwgb3ZlcnJpZGUgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZyBpdGVtcyBvYnRhaW5lZCBmcm9tIHRoZSBzdXBlcmNsYXNzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBwcmVzZW50LlxuICAgICAqL1xuICAgIGV4dGVuZDogZnVuY3Rpb24oc3ViYywgc3VwZXJjLCBvdmVycmlkZXMpIHtcbiAgICAgICAgaWYgKCEgc3VwZXJjIHx8ICEgc3ViYykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWUFIT08ubGFuZy5leHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCBcIiArXG4gICAgICAgICAgICAgICAgXCJhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgRiA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIEYucHJvdG90eXBlID0gc3VwZXJjLnByb3RvdHlwZTtcbiAgICAgICAgc3ViYy5wcm90b3R5cGUgPSBuZXcgRigpO1xuICAgICAgICBzdWJjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YmM7XG4gICAgICAgIHN1YmMuc3VwZXJjbGFzcyA9IHN1cGVyYy5wcm90b3R5cGU7XG5cbiAgICAgICAgaWYgKHN1cGVyYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgc3VwZXJjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1cGVyYztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdmVycmlkZXMpIHtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgZm9yIChpIGluIG92ZXJyaWRlcykge1xuICAgICAgICAgICAgICAgIHN1YmMucHJvdG90eXBlW2ldID0gb3ZlcnJpZGVzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogSUUgd2lsbCBub3QgZW51bWVyYXRlIG5hdGl2ZSBmdW5jdGlvbnMgaW4gYSBkZXJpdmVkIG9iamVjdCBldmVuIGlmIHRoZVxuICAgICAgICAgICAgICogZnVuY3Rpb24gd2FzIG92ZXJyaWRkZW4uICBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3Igc3BlY2lmaWMgZnVuY3Rpb25zXG4gICAgICAgICAgICAgKiB3ZSBjYXJlIGFib3V0IG9uIHRoZSBPYmplY3QgcHJvdG90eXBlLlxuICAgICAgICAgICAgICogQHByb3BlcnR5IF9JRUVudW1GaXhcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHIgIHRoZSBvYmplY3QgdG8gcmVjZWl2ZSB0aGUgYXVnbWVudGF0aW9uXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzICB0aGUgb2JqZWN0IHRoYXQgc3VwcGxpZXMgdGhlIHByb3BlcnRpZXMgdG8gYXVnbWVudFxuICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIF9JRUVudW1GaXggPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgICAgIEFERCA9IFtcInRvU3RyaW5nXCIsIFwidmFsdWVPZlwiXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKC9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIF9JRUVudW1GaXggPSBmdW5jdGlvbihyLCBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgQURELmxlbmd0aDsgaSA9IGkgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuYW1lID0gQUREW2ldLCBmID0gc1tmbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGYgIT0gT2JqZWN0LnByb3RvdHlwZVtmbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcltmbmFtZV0gPSBmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChleCkge30gICAgICAgICAgICBfSUVFbnVtRml4KHN1YmMucHJvdG90eXBlLCBvdmVycmlkZXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyogYXNuMS0xLjAuMTMuanMgKGMpIDIwMTMtMjAxNyBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGZpbGVPdmVydmlld1xuICogQG5hbWUgYXNuMS0xLjAuanNcbiAqIEBhdXRob3IgS2VuamkgVXJ1c2hpbWEga2VuamkudXJ1c2hpbWFAZ21haWwuY29tXG4gKiBAdmVyc2lvbiBhc24xIDEuMC4xMyAoMjAxNy1KdW4tMDIpXG4gKiBAc2luY2UganNyc2FzaWduIDIuMVxuICogQGxpY2Vuc2UgPGEgaHJlZj1cImh0dHBzOi8va2p1ci5naXRodWIuaW8vanNyc2FzaWduL2xpY2Vuc2UvXCI+TUlUIExpY2Vuc2U8L2E+XG4gKi9cblxuLyoqXG4gKiBranVyJ3MgY2xhc3MgbGlicmFyeSBuYW1lIHNwYWNlXG4gKiA8cD5cbiAqIFRoaXMgbmFtZSBzcGFjZSBwcm92aWRlcyBmb2xsb3dpbmcgbmFtZSBzcGFjZXM6XG4gKiA8dWw+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMX0gLSBBU04uMSBwcmltaXRpdmUgaGV4YWRlY2ltYWwgZW5jb2RlcjwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS54NTA5fSAtIEFTTi4xIHN0cnVjdHVyZSBmb3IgWC41MDkgY2VydGlmaWNhdGUgYW5kIENSTDwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuY3J5cHRvfSAtIEphdmEgQ3J5cHRvZ3JhcGhpYyBFeHRlbnNpb24oSkNFKSBzdHlsZSBNZXNzYWdlRGlnZXN0L1NpZ25hdHVyZVxuICogY2xhc3MgYW5kIHV0aWxpdGllczwvbGk+XG4gKiA8L3VsPlxuICogPC9wPlxuICogTk9URTogUGxlYXNlIGlnbm9yZSBtZXRob2Qgc3VtbWFyeSBhbmQgZG9jdW1lbnQgb2YgdGhpcyBuYW1lc3BhY2UuIFRoaXMgY2F1c2VkIGJ5IGEgYnVnIG9mIGpzZG9jMi5cbiAqIEBuYW1lIEtKVVJcbiAqIEBuYW1lc3BhY2Uga2p1cidzIGNsYXNzIGxpYnJhcnkgbmFtZSBzcGFjZVxuICovXG52YXIgS0pVUiA9IHt9O1xuXG4vKipcbiAqIGtqdXIncyBBU04uMSBjbGFzcyBsaWJyYXJ5IG5hbWUgc3BhY2VcbiAqIDxwPlxuICogVGhpcyBpcyBJVFUtVCBYLjY5MCBBU04uMSBERVIgZW5jb2RlciBjbGFzcyBsaWJyYXJ5IGFuZFxuICogY2xhc3Mgc3RydWN0dXJlIGFuZCBtZXRob2RzIGlzIHZlcnkgc2ltaWxhciB0b1xuICogb3JnLmJvdW5jeWNhc3RsZS5hc24xIHBhY2thZ2Ugb2ZcbiAqIHdlbGwga25vd24gQm91bmN5Q2FzbHRlIENyeXB0b2dyYXBoeSBMaWJyYXJ5LlxuICogPGg0PlBST1ZJRElORyBBU04uMSBQUklNSVRJVkVTPC9oND5cbiAqIEhlcmUgYXJlIEFTTi4xIERFUiBwcmltaXRpdmUgY2xhc3Nlcy5cbiAqIDx1bD5cbiAqIDxsaT4weDAxIHtAbGluayBLSlVSLmFzbjEuREVSQm9vbGVhbn08L2xpPlxuICogPGxpPjB4MDIge0BsaW5rIEtKVVIuYXNuMS5ERVJJbnRlZ2VyfTwvbGk+XG4gKiA8bGk+MHgwMyB7QGxpbmsgS0pVUi5hc24xLkRFUkJpdFN0cmluZ308L2xpPlxuICogPGxpPjB4MDQge0BsaW5rIEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZ308L2xpPlxuICogPGxpPjB4MDUge0BsaW5rIEtKVVIuYXNuMS5ERVJOdWxsfTwvbGk+XG4gKiA8bGk+MHgwNiB7QGxpbmsgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXJ9PC9saT5cbiAqIDxsaT4weDBhIHtAbGluayBLSlVSLmFzbjEuREVSRW51bWVyYXRlZH08L2xpPlxuICogPGxpPjB4MGMge0BsaW5rIEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxMiB7QGxpbmsgS0pVUi5hc24xLkRFUk51bWVyaWNTdHJpbmd9PC9saT5cbiAqIDxsaT4weDEzIHtAbGluayBLSlVSLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxNCB7QGxpbmsgS0pVUi5hc24xLkRFUlRlbGV0ZXhTdHJpbmd9PC9saT5cbiAqIDxsaT4weDE2IHtAbGluayBLSlVSLmFzbjEuREVSSUE1U3RyaW5nfTwvbGk+XG4gKiA8bGk+MHgxNyB7QGxpbmsgS0pVUi5hc24xLkRFUlVUQ1RpbWV9PC9saT5cbiAqIDxsaT4weDE4IHtAbGluayBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lfTwvbGk+XG4gKiA8bGk+MHgzMCB7QGxpbmsgS0pVUi5hc24xLkRFUlNlcXVlbmNlfTwvbGk+XG4gKiA8bGk+MHgzMSB7QGxpbmsgS0pVUi5hc24xLkRFUlNldH08L2xpPlxuICogPC91bD5cbiAqIDxoND5PVEhFUiBBU04uMSBDTEFTU0VTPC9oND5cbiAqIDx1bD5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLkFTTjFPYmplY3R9PC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nfTwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWV9PC9saT5cbiAqIDxsaT57QGxpbmsgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZH08L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0fTwvbGk+XG4gKiA8L3VsPlxuICogPGg0PlNVQiBOQU1FIFNQQUNFUzwvaDQ+XG4gKiA8dWw+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5jYWRlc30gLSBDQWRFUyBsb25nIHRlcm0gc2lnbmF0dXJlIGZvcm1hdDwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5jbXN9IC0gQ3J5cHRvZ3JhcGhpYyBNZXNzYWdlIFN5bnRheDwvbGk+XG4gKiA8bGk+e0BsaW5rIEtKVVIuYXNuMS5jc3J9IC0gQ2VydGlmaWNhdGUgU2lnbmluZyBSZXF1ZXN0IChDU1IvUEtDUyMxMCk8L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEudHNwfSAtIFJGQyAzMTYxIFRpbWVzdGFtcGluZyBQcm90b2NvbCBGb3JtYXQ8L2xpPlxuICogPGxpPntAbGluayBLSlVSLmFzbjEueDUwOX0gLSBSRkMgNTI4MCBYLjUwOSBjZXJ0aWZpY2F0ZSBhbmQgQ1JMPC9saT5cbiAqIDwvdWw+XG4gKiA8L3A+XG4gKiBOT1RFOiBQbGVhc2UgaWdub3JlIG1ldGhvZCBzdW1tYXJ5IGFuZCBkb2N1bWVudCBvZiB0aGlzIG5hbWVzcGFjZS5cbiAqIFRoaXMgY2F1c2VkIGJ5IGEgYnVnIG9mIGpzZG9jMi5cbiAqIEBuYW1lIEtKVVIuYXNuMVxuICogQG5hbWVzcGFjZVxuICovXG5pZiAodHlwZW9mIEtKVVIuYXNuMSA9PSBcInVuZGVmaW5lZFwiIHx8ICFLSlVSLmFzbjEpIEtKVVIuYXNuMSA9IHt9O1xuXG4vKipcbiAqIEFTTjEgdXRpbGl0aWVzIGNsYXNzXG4gKiBAbmFtZSBLSlVSLmFzbjEuQVNOMVV0aWxcbiAqIEBjbGFzcyBBU04xIHV0aWxpdGllcyBjbGFzc1xuICogQHNpbmNlIGFzbjEgMS4wLjJcbiAqL1xuS0pVUi5hc24xLkFTTjFVdGlsID0gbmV3IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW50ZWdlclRvQnl0ZUhleCA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIGggPSBpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgaWYgKChoLmxlbmd0aCAlIDIpID09IDEpIGggPSAnMCcgKyBoO1xuICAgICAgICByZXR1cm4gaDtcbiAgICB9O1xuICAgIHRoaXMuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXggPSBmdW5jdGlvbihiaWdJbnRlZ2VyVmFsdWUpIHtcbiAgICAgICAgdmFyIGggPSBiaWdJbnRlZ2VyVmFsdWUudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoaC5zdWJzdHIoMCwgMSkgIT0gJy0nKSB7XG4gICAgICAgICAgICBpZiAoaC5sZW5ndGggJSAyID09IDEpIHtcbiAgICAgICAgICAgICAgICBoID0gJzAnICsgaDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEgaC5tYXRjaCgvXlswLTddLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaCA9ICcwMCcgKyBoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBoUG9zID0gaC5zdWJzdHIoMSk7XG4gICAgICAgICAgICB2YXIgeG9yTGVuID0gaFBvcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoeG9yTGVuICUgMiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgeG9yTGVuICs9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghIGgubWF0Y2goL15bMC03XS8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHhvckxlbiArPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoTWFzayA9ICcnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4b3JMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGhNYXNrICs9ICdmJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBiaU1hc2sgPSBuZXcgQmlnSW50ZWdlcihoTWFzaywgMTYpO1xuICAgICAgICAgICAgdmFyIGJpTmVnID0gYmlNYXNrLnhvcihiaWdJbnRlZ2VyVmFsdWUpLmFkZChCaWdJbnRlZ2VyLk9ORSk7XG4gICAgICAgICAgICBoID0gYmlOZWcudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZ2V0IFBFTSBzdHJpbmcgZnJvbSBoZXhhZGVjaW1hbCBkYXRhIGFuZCBoZWFkZXIgc3RyaW5nXG4gICAgICogQG5hbWUgZ2V0UEVNU3RyaW5nRnJvbUhleFxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YUhleCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgUEVNIGJvZHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGVtSGVhZGVyIFBFTSBoZWFkZXIgc3RyaW5nIChleC4gJ1JTQSBQUklWQVRFIEtFWScpXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBQRU0gZm9ybWF0dGVkIHN0cmluZyBvZiBpbnB1dCBkYXRhXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBtZXRob2QgY29udmVydHMgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gYSBQRU0gc3RyaW5nIHdpdGhcbiAgICAgKiBhIHNwZWNpZmllZCBoZWFkZXIuIEl0cyBsaW5lIGJyZWFrIHdpbGwgYmUgQ1JMRihcIlxcclxcblwiKS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwZW0gID0gS0pVUi5hc24xLkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoJzYxNjE2MScsICdSU0EgUFJJVkFURSBLRVknKTtcbiAgICAgKiAvLyB2YWx1ZSBvZiBwZW0gd2lsbCBiZTpcbiAgICAgKiAtLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbiAgICAgKiBZV0ZoXG4gICAgICogLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuICAgICAqL1xuICAgIHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleCA9IGZ1bmN0aW9uKGRhdGFIZXgsIHBlbUhlYWRlcikge1xuICAgICAgICByZXR1cm4gaGV4dG9wZW0oZGF0YUhleCwgcGVtSGVhZGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZ2VuZXJhdGUgQVNOMU9iamVjdCBzcGVjaWZlZCBieSBKU09OIHBhcmFtZXRlcnNcbiAgICAgKiBAbmFtZSBuZXdPYmplY3RcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFTTjFVdGlsXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFyYW0gSlNPTiBwYXJhbWV0ZXIgdG8gZ2VuZXJhdGUgQVNOMU9iamVjdFxuICAgICAqIEByZXR1cm4ge0tKVVIuYXNuMS5BU04xT2JqZWN0fSBnZW5lcmF0ZWQgb2JqZWN0XG4gICAgICogQHNpbmNlIGFzbjEgMS4wLjNcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBnZW5lcmF0ZSBhbnkgQVNOMU9iamVjdCBzcGVjaWZpZWQgYnkgSlNPTiBwYXJhbVxuICAgICAqIGluY2x1ZGluZyBBU04uMSBwcmltaXRpdmUgb3Igc3RydWN0dXJlZC5cbiAgICAgKiBHZW5lcmFsbHkgJ3BhcmFtJyBjYW4gYmUgZGVzY3JpYmVkIGFzIGZvbGxvd3M6XG4gICAgICogPGJsb2NrcXVvdGU+XG4gICAgICoge1RZUEUtT0YtQVNOT0JKOiBBU04xT0JKLVBBUkFNRVRFUn1cbiAgICAgKiA8L2Jsb2NrcXVvdGU+XG4gICAgICogJ1RZUEUtT0YtQVNOMU9CSicgY2FuIGJlIG9uZSBvZiBmb2xsb3dpbmcgc3ltYm9sczpcbiAgICAgKiA8dWw+XG4gICAgICogPGxpPidib29sJyAtIERFUkJvb2xlYW48L2xpPlxuICAgICAqIDxsaT4naW50JyAtIERFUkludGVnZXI8L2xpPlxuICAgICAqIDxsaT4nYml0c3RyJyAtIERFUkJpdFN0cmluZzwvbGk+XG4gICAgICogPGxpPidvY3RzdHInIC0gREVST2N0ZXRTdHJpbmc8L2xpPlxuICAgICAqIDxsaT4nbnVsbCcgLSBERVJOdWxsPC9saT5cbiAgICAgKiA8bGk+J29pZCcgLSBERVJPYmplY3RJZGVudGlmaWVyPC9saT5cbiAgICAgKiA8bGk+J2VudW0nIC0gREVSRW51bWVyYXRlZDwvbGk+XG4gICAgICogPGxpPid1dGY4c3RyJyAtIERFUlVURjhTdHJpbmc8L2xpPlxuICAgICAqIDxsaT4nbnVtc3RyJyAtIERFUk51bWVyaWNTdHJpbmc8L2xpPlxuICAgICAqIDxsaT4ncHJuc3RyJyAtIERFUlByaW50YWJsZVN0cmluZzwvbGk+XG4gICAgICogPGxpPid0ZWxzdHInIC0gREVSVGVsZXRleFN0cmluZzwvbGk+XG4gICAgICogPGxpPidpYTVzdHInIC0gREVSSUE1U3RyaW5nPC9saT5cbiAgICAgKiA8bGk+J3V0Y3RpbWUnIC0gREVSVVRDVGltZTwvbGk+XG4gICAgICogPGxpPidnZW50aW1lJyAtIERFUkdlbmVyYWxpemVkVGltZTwvbGk+XG4gICAgICogPGxpPidzZXEnIC0gREVSU2VxdWVuY2U8L2xpPlxuICAgICAqIDxsaT4nc2V0JyAtIERFUlNldDwvbGk+XG4gICAgICogPGxpPid0YWcnIC0gREVSVGFnZ2VkT2JqZWN0PC9saT5cbiAgICAgKiA8L3VsPlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmV3T2JqZWN0KHsncHJuc3RyJzogJ2FhYSd9KTtcbiAgICAgKiBuZXdPYmplY3QoeydzZXEnOiBbeydpbnQnOiAzfSwgeydwcm5zdHInOiAnYWFhJ31dfSlcbiAgICAgKiAvLyBBU04uMSBUYWdnZWQgT2JqZWN0XG4gICAgICogbmV3T2JqZWN0KHsndGFnJzogeyd0YWcnOiAnYTEnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAnZXhwbGljaXQnOiB0cnVlLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAnb2JqJzogeydzZXEnOiBbeydpbnQnOiAzfSwgeydwcm5zdHInOiAnYWFhJ31dfX19KTtcbiAgICAgKiAvLyBtb3JlIHNpbXBsZSByZXByZXNlbnRhdGlvbiBvZiBBU04uMSBUYWdnZWQgT2JqZWN0XG4gICAgICogbmV3T2JqZWN0KHsndGFnJzogWydhMScsXG4gICAgICogICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICogICAgICAgICAgICAgICAgICAgIHsnc2VxJzogW1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgIHsnaW50JzogM30sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgeydwcm5zdHInOiAnYWFhJ31dfVxuICAgICAqICAgICAgICAgICAgICAgICAgIF19KTtcbiAgICAgKi9cbiAgICB0aGlzLm5ld09iamVjdCA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgICAgIHZhciBfS0pVUiA9IEtKVVIsXG4gICAgICAgICAgICBfS0pVUl9hc24xID0gX0tKVVIuYXNuMSxcbiAgICAgICAgICAgIF9ERVJCb29sZWFuID0gX0tKVVJfYXNuMS5ERVJCb29sZWFuLFxuICAgICAgICAgICAgX0RFUkludGVnZXIgPSBfS0pVUl9hc24xLkRFUkludGVnZXIsXG4gICAgICAgICAgICBfREVSQml0U3RyaW5nID0gX0tKVVJfYXNuMS5ERVJCaXRTdHJpbmcsXG4gICAgICAgICAgICBfREVST2N0ZXRTdHJpbmcgPSBfS0pVUl9hc24xLkRFUk9jdGV0U3RyaW5nLFxuICAgICAgICAgICAgX0RFUk51bGwgPSBfS0pVUl9hc24xLkRFUk51bGwsXG4gICAgICAgICAgICBfREVST2JqZWN0SWRlbnRpZmllciA9IF9LSlVSX2FzbjEuREVST2JqZWN0SWRlbnRpZmllcixcbiAgICAgICAgICAgIF9ERVJFbnVtZXJhdGVkID0gX0tKVVJfYXNuMS5ERVJFbnVtZXJhdGVkLFxuICAgICAgICAgICAgX0RFUlVURjhTdHJpbmcgPSBfS0pVUl9hc24xLkRFUlVURjhTdHJpbmcsXG4gICAgICAgICAgICBfREVSTnVtZXJpY1N0cmluZyA9IF9LSlVSX2FzbjEuREVSTnVtZXJpY1N0cmluZyxcbiAgICAgICAgICAgIF9ERVJQcmludGFibGVTdHJpbmcgPSBfS0pVUl9hc24xLkRFUlByaW50YWJsZVN0cmluZyxcbiAgICAgICAgICAgIF9ERVJUZWxldGV4U3RyaW5nID0gX0tKVVJfYXNuMS5ERVJUZWxldGV4U3RyaW5nLFxuICAgICAgICAgICAgX0RFUklBNVN0cmluZyA9IF9LSlVSX2FzbjEuREVSSUE1U3RyaW5nLFxuICAgICAgICAgICAgX0RFUlVUQ1RpbWUgPSBfS0pVUl9hc24xLkRFUlVUQ1RpbWUsXG4gICAgICAgICAgICBfREVSR2VuZXJhbGl6ZWRUaW1lID0gX0tKVVJfYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUsXG4gICAgICAgICAgICBfREVSU2VxdWVuY2UgPSBfS0pVUl9hc24xLkRFUlNlcXVlbmNlLFxuICAgICAgICAgICAgX0RFUlNldCA9IF9LSlVSX2FzbjEuREVSU2V0LFxuICAgICAgICAgICAgX0RFUlRhZ2dlZE9iamVjdCA9IF9LSlVSX2FzbjEuREVSVGFnZ2VkT2JqZWN0LFxuICAgICAgICAgICAgX25ld09iamVjdCA9IF9LSlVSX2FzbjEuQVNOMVV0aWwubmV3T2JqZWN0O1xuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocGFyYW0pO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggIT0gMSlcbiAgICAgICAgICAgIHRocm93IFwia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiO1xuICAgICAgICB2YXIga2V5ID0ga2V5c1swXTtcblxuICAgICAgICBpZiAoXCI6Ym9vbDppbnQ6Yml0c3RyOm9jdHN0cjpudWxsOm9pZDplbnVtOnV0ZjhzdHI6bnVtc3RyOnBybnN0cjp0ZWxzdHI6aWE1c3RyOnV0Y3RpbWU6Z2VudGltZTpzZXE6c2V0OnRhZzpcIi5pbmRleE9mKFwiOlwiICsga2V5ICsgXCI6XCIpID09IC0xKVxuICAgICAgICAgICAgdGhyb3cgXCJ1bmRlZmluZWQga2V5OiBcIiArIGtleTtcblxuICAgICAgICBpZiAoa2V5ID09IFwiYm9vbFwiKSAgICByZXR1cm4gbmV3IF9ERVJCb29sZWFuKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwiaW50XCIpICAgICByZXR1cm4gbmV3IF9ERVJJbnRlZ2VyKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwiYml0c3RyXCIpICByZXR1cm4gbmV3IF9ERVJCaXRTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgICAgIGlmIChrZXkgPT0gXCJvY3RzdHJcIikgIHJldHVybiBuZXcgX0RFUk9jdGV0U3RyaW5nKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwibnVsbFwiKSAgICByZXR1cm4gbmV3IF9ERVJOdWxsKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwib2lkXCIpICAgICByZXR1cm4gbmV3IF9ERVJPYmplY3RJZGVudGlmaWVyKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwiZW51bVwiKSAgICByZXR1cm4gbmV3IF9ERVJFbnVtZXJhdGVkKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwidXRmOHN0clwiKSByZXR1cm4gbmV3IF9ERVJVVEY4U3RyaW5nKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwibnVtc3RyXCIpICByZXR1cm4gbmV3IF9ERVJOdW1lcmljU3RyaW5nKHBhcmFtW2tleV0pO1xuICAgICAgICBpZiAoa2V5ID09IFwicHJuc3RyXCIpICByZXR1cm4gbmV3IF9ERVJQcmludGFibGVTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgICAgIGlmIChrZXkgPT0gXCJ0ZWxzdHJcIikgIHJldHVybiBuZXcgX0RFUlRlbGV0ZXhTdHJpbmcocGFyYW1ba2V5XSk7XG4gICAgICAgIGlmIChrZXkgPT0gXCJpYTVzdHJcIikgIHJldHVybiBuZXcgX0RFUklBNVN0cmluZyhwYXJhbVtrZXldKTtcbiAgICAgICAgaWYgKGtleSA9PSBcInV0Y3RpbWVcIikgcmV0dXJuIG5ldyBfREVSVVRDVGltZShwYXJhbVtrZXldKTtcbiAgICAgICAgaWYgKGtleSA9PSBcImdlbnRpbWVcIikgcmV0dXJuIG5ldyBfREVSR2VuZXJhbGl6ZWRUaW1lKHBhcmFtW2tleV0pO1xuXG4gICAgICAgIGlmIChrZXkgPT0gXCJzZXFcIikge1xuICAgICAgICAgICAgdmFyIHBhcmFtTGlzdCA9IHBhcmFtW2tleV07XG4gICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYXNuMU9iaiA9IF9uZXdPYmplY3QocGFyYW1MaXN0W2ldKTtcbiAgICAgICAgICAgICAgICBhLnB1c2goYXNuMU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9ERVJTZXF1ZW5jZSh7J2FycmF5JzogYX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSA9PSBcInNldFwiKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1MaXN0ID0gcGFyYW1ba2V5XTtcbiAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhc24xT2JqID0gX25ld09iamVjdChwYXJhbUxpc3RbaV0pO1xuICAgICAgICAgICAgICAgIGEucHVzaChhc24xT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgX0RFUlNldCh7J2FycmF5JzogYX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSA9PSBcInRhZ1wiKSB7XG4gICAgICAgICAgICB2YXIgdGFnUGFyYW0gPSBwYXJhbVtrZXldO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0YWdQYXJhbSkgPT09ICdbb2JqZWN0IEFycmF5XScgJiZcbiAgICAgICAgICAgICAgICB0YWdQYXJhbS5sZW5ndGggPT0gMykge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSBfbmV3T2JqZWN0KHRhZ1BhcmFtWzJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IF9ERVJUYWdnZWRPYmplY3Qoe3RhZzogdGFnUGFyYW1bMF0sXG4gICAgICAgICAgICAgICAgICAgIGV4cGxpY2l0OiB0YWdQYXJhbVsxXSxcbiAgICAgICAgICAgICAgICAgICAgb2JqOiBvYmp9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1BhcmFtID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHRhZ1BhcmFtLmV4cGxpY2l0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtLmV4cGxpY2l0ID0gdGFnUGFyYW0uZXhwbGljaXQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ1BhcmFtLnRhZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbS50YWcgPSB0YWdQYXJhbS50YWc7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ1BhcmFtLm9iaiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO1xuICAgICAgICAgICAgICAgIG5ld1BhcmFtLm9iaiA9IF9uZXdPYmplY3QodGFnUGFyYW0ub2JqKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IF9ERVJUYWdnZWRPYmplY3QobmV3UGFyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGdldCBlbmNvZGVkIGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04xT2JqZWN0IHNwZWNpZmVkIGJ5IEpTT04gcGFyYW1ldGVyc1xuICAgICAqIEBuYW1lIGpzb25Ub0FTTjFIRVhcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFTTjFVdGlsXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFyYW0gSlNPTiBwYXJhbWV0ZXIgdG8gZ2VuZXJhdGUgQVNOMU9iamVjdFxuICAgICAqIEByZXR1cm4gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTjFPYmplY3RcbiAgICAgKiBAc2luY2UgYXNuMSAxLjAuNFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEFzIGZvciBBU04uMSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgSlNPTiBvYmplY3QsXG4gICAgICogcGxlYXNlIHNlZSB7QGxpbmsgbmV3T2JqZWN0fS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGpzb25Ub0FTTjFIRVgoeydwcm5zdHInOiAnYWFhJ30pO1xuICAgICAqL1xuICAgIHRoaXMuanNvblRvQVNOMUhFWCA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgICAgIHZhciBhc24xT2JqID0gdGhpcy5uZXdPYmplY3QocGFyYW0pO1xuICAgICAgICByZXR1cm4gYXNuMU9iai5nZXRFbmNvZGVkSGV4KCk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogZ2V0IGRvdCBub3RlZCBvaWQgbnVtYmVyIHN0cmluZyBmcm9tIGhleGFkZWNpbWFsIHZhbHVlIG9mIE9JRFxuICogQG5hbWUgb2lkSGV4VG9JbnRcbiAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGhleCBoZXhhZGVjaW1hbCB2YWx1ZSBvZiBvYmplY3QgaWRlbnRpZmllclxuICogQHJldHVybiB7U3RyaW5nfSBkb3Qgbm90ZWQgc3RyaW5nIG9mIG9iamVjdCBpZGVudGlmaWVyXG4gKiBAc2luY2UganNyc2FzaWduIDQuOC4zIGFzbjEgMS4wLjdcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzdGF0aWMgbWV0aG9kIGNvbnZlcnRzIGZyb20gaGV4YWRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mXG4gKiBBU04uMSB2YWx1ZSBvZiBvYmplY3QgaWRlbnRpZmllciB0byBvaWQgbnVtYmVyIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKiBLSlVSLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQoJzU1MDQwNicpICZyYXJyOyBcIjIuNS40LjZcIlxuICovXG5LSlVSLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQgPSBmdW5jdGlvbihoZXgpIHtcbiAgICB2YXIgcyA9IFwiXCI7XG4gICAgdmFyIGkwMSA9IHBhcnNlSW50KGhleC5zdWJzdHIoMCwgMiksIDE2KTtcbiAgICB2YXIgaTAgPSBNYXRoLmZsb29yKGkwMSAvIDQwKTtcbiAgICB2YXIgaTEgPSBpMDEgJSA0MDtcbiAgICB2YXIgcyA9IGkwICsgXCIuXCIgKyBpMTtcblxuICAgIHZhciBiaW5idWYgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAyOyBpIDwgaGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KGhleC5zdWJzdHIoaSwgMiksIDE2KTtcbiAgICAgICAgdmFyIGJpbiA9IChcIjAwMDAwMDAwXCIgKyB2YWx1ZS50b1N0cmluZygyKSkuc2xpY2UoLSA4KTtcbiAgICAgICAgYmluYnVmID0gYmluYnVmICsgYmluLnN1YnN0cigxLCA3KTtcbiAgICAgICAgaWYgKGJpbi5zdWJzdHIoMCwgMSkgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHZhciBiaSA9IG5ldyBCaWdJbnRlZ2VyKGJpbmJ1ZiwgMik7XG4gICAgICAgICAgICBzID0gcyArIFwiLlwiICsgYmkudG9TdHJpbmcoMTApO1xuICAgICAgICAgICAgYmluYnVmID0gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcztcbn07XG5cbi8qKlxuICogZ2V0IGhleGFkZWNpbWFsIHZhbHVlIG9mIG9iamVjdCBpZGVudGlmaWVyIGZyb20gZG90IG5vdGVkIG9pZCB2YWx1ZVxuICogQG5hbWUgb2lkSW50VG9IZXhcbiAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuQVNOMVV0aWxcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IG9pZFN0cmluZyBkb3Qgbm90ZWQgc3RyaW5nIG9mIG9iamVjdCBpZGVudGlmaWVyXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGhleGFkZWNpbWFsIHZhbHVlIG9mIG9iamVjdCBpZGVudGlmaWVyXG4gKiBAc2luY2UganNyc2FzaWduIDQuOC4zIGFzbjEgMS4wLjdcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzdGF0aWMgbWV0aG9kIGNvbnZlcnRzIGZyb20gb2JqZWN0IGlkZW50aWZpZXIgdmFsdWUgc3RyaW5nLlxuICogdG8gaGV4YWRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGl0LlxuICogQGV4YW1wbGVcbiAqIEtKVVIuYXNuMS5BU04xVXRpbC5vaWRJbnRUb0hleChcIjIuNS40LjZcIikgJnJhcnI7IFwiNTUwNDA2XCJcbiAqL1xuS0pVUi5hc24xLkFTTjFVdGlsLm9pZEludFRvSGV4ID0gZnVuY3Rpb24ob2lkU3RyaW5nKSB7XG4gICAgdmFyIGl0b3ggPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBoID0gaS50b1N0cmluZygxNik7XG4gICAgICAgIGlmIChoLmxlbmd0aCA9PSAxKSBoID0gJzAnICsgaDtcbiAgICAgICAgcmV0dXJuIGg7XG4gICAgfTtcblxuICAgIHZhciByb2lkdG94ID0gZnVuY3Rpb24ocm9pZCkge1xuICAgICAgICB2YXIgaCA9ICcnO1xuICAgICAgICB2YXIgYmkgPSBuZXcgQmlnSW50ZWdlcihyb2lkLCAxMCk7XG4gICAgICAgIHZhciBiID0gYmkudG9TdHJpbmcoMik7XG4gICAgICAgIHZhciBwYWRMZW4gPSA3IC0gYi5sZW5ndGggJSA3O1xuICAgICAgICBpZiAocGFkTGVuID09IDcpIHBhZExlbiA9IDA7XG4gICAgICAgIHZhciBiUGFkID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkTGVuOyBpKyspIGJQYWQgKz0gJzAnO1xuICAgICAgICBiID0gYlBhZCArIGI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGggLSAxOyBpICs9IDcpIHtcbiAgICAgICAgICAgIHZhciBiOCA9IGIuc3Vic3RyKGksIDcpO1xuICAgICAgICAgICAgaWYgKGkgIT0gYi5sZW5ndGggLSA3KSBiOCA9ICcxJyArIGI4O1xuICAgICAgICAgICAgaCArPSBpdG94KHBhcnNlSW50KGI4LCAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGg7XG4gICAgfTtcblxuICAgIGlmICghIG9pZFN0cmluZy5tYXRjaCgvXlswLTkuXSskLykpIHtcbiAgICAgICAgdGhyb3cgXCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIgKyBvaWRTdHJpbmc7XG4gICAgfVxuICAgIHZhciBoID0gJyc7XG4gICAgdmFyIGEgPSBvaWRTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICB2YXIgaTAgPSBwYXJzZUludChhWzBdKSAqIDQwICsgcGFyc2VJbnQoYVsxXSk7XG4gICAgaCArPSBpdG94KGkwKTtcbiAgICBhLnNwbGljZSgwLCAyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaCArPSByb2lkdG94KGFbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gaDtcbn07XG5cblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICBBYnN0cmFjdCBBU04uMSBDbGFzc2VzXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4vKipcbiAqIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBlbmNvZGVyIG9iamVjdFxuICogQG5hbWUgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBjbGFzcyBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgZW5jb2RlciBvYmplY3RcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNNb2RpZmllZCBmbGFnIHdoZXRoZXIgaW50ZXJuYWwgZGF0YSB3YXMgY2hhbmdlZFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGhUTFYgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMVlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGhUIGhleGFkZWNpbWFsIHN0cmluZyBvZiBBU04uMSBUTFYgdGFnKFQpXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaEwgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBsZW5ndGgoTClcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBoViBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIHZhbHVlKFYpXG4gKiBAZGVzY3JpcHRpb25cbiAqL1xuS0pVUi5hc24xLkFTTjFPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaFYgPSAnJztcblxuICAgIC8qKlxuICAgICAqIGdldCBoZXhhZGVjaW1hbCBBU04uMSBUTFYgbGVuZ3RoKEwpIGJ5dGVzIGZyb20gVExWIHZhbHVlKFYpXG4gICAgICogQG5hbWUgZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlXG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5BU04xT2JqZWN0I1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBsZW5ndGgoTClcbiAgICAgKi9cbiAgICB0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuaFYgPT0gXCJ1bmRlZmluZWRcIiB8fCB0aGlzLmhWID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IFwidGhpcy5oViBpcyBudWxsIG9yIHVuZGVmaW5lZC5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oVi5sZW5ndGggJSAyID09IDEpIHtcbiAgICAgICAgICAgIHRocm93IFwidmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49XCIgKyBoVi5sZW5ndGggKyBcIix2PVwiICsgdGhpcy5oVjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IHRoaXMuaFYubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGhOID0gbi50b1N0cmluZygxNik7XG4gICAgICAgIGlmIChoTi5sZW5ndGggJSAyID09IDEpIHtcbiAgICAgICAgICAgIGhOID0gXCIwXCIgKyBoTjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8IDEyOCkge1xuICAgICAgICAgICAgcmV0dXJuIGhOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGhObGVuID0gaE4ubGVuZ3RoIC8gMjtcbiAgICAgICAgICAgIGlmIChoTmxlbiA+IDE1KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIgKyBuLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoZWFkID0gMTI4ICsgaE5sZW47XG4gICAgICAgICAgICByZXR1cm4gaGVhZC50b1N0cmluZygxNikgKyBoTjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBnZXQgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIFRMViBieXRlc1xuICAgICAqIEBuYW1lIGdldEVuY29kZWRIZXhcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFTTjFPYmplY3QjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWXG4gICAgICovXG4gICAgdGhpcy5nZXRFbmNvZGVkSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmhUTFYgPT0gbnVsbCB8fCB0aGlzLmlzTW9kaWZpZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaFYgPSB0aGlzLmdldEZyZXNoVmFsdWVIZXgoKTtcbiAgICAgICAgICAgIHRoaXMuaEwgPSB0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSgpO1xuICAgICAgICAgICAgdGhpcy5oVExWID0gdGhpcy5oVCArIHRoaXMuaEwgKyB0aGlzLmhWO1xuICAgICAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAvL2FsZXJ0KFwiZmlyc3QgdGltZTogXCIgKyB0aGlzLmhUTFYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhUTFY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGdldCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIHZhbHVlKFYpIGJ5dGVzXG4gICAgICogQG5hbWUgZ2V0VmFsdWVIZXhcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFTTjFPYmplY3QjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgVExWIHZhbHVlKFYpIGJ5dGVzXG4gICAgICovXG4gICAgdGhpcy5nZXRWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmdldEVuY29kZWRIZXgoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaFY7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfTtcbn07XG5cbi8vID09IEJFR0lOIERFUkFic3RyYWN0U3RyaW5nID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgc3RyaW5nIGNsYXNzZXNcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGNsYXNzIGJhc2UgY2xhc3MgZm9yIEFTTi4xIERFUiBzdHJpbmcgY2xhc3Nlc1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzIGludGVybmFsIHN0cmluZyBvZiB2YWx1ZVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPnN0ciAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIHN0cmluZzwvbGk+XG4gKiA8bGk+aGV4IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgaGV4YWRlY2ltYWwgc3RyaW5nPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIGdldCBzdHJpbmcgdmFsdWUgb2YgdGhpcyBzdHJpbmcgb2JqZWN0XG4gICAgICogQG5hbWUgZ2V0U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyB2YWx1ZSBvZiB0aGlzIHN0cmluZyBvYmplY3RcbiAgICAgKi9cbiAgICB0aGlzLmdldFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWUgYnkgYSBzdHJpbmdcbiAgICAgKiBAbmFtZSBzZXRTdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTIHZhbHVlIGJ5IGEgc3RyaW5nIHRvIHNldFxuICAgICAqL1xuICAgIHRoaXMuc2V0U3RyaW5nID0gZnVuY3Rpb24obmV3Uykge1xuICAgICAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnMgPSBuZXdTO1xuICAgICAgICB0aGlzLmhWID0gc3RvaGV4KHRoaXMucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldCB2YWx1ZSBieSBhIGhleGFkZWNpbWFsIHN0cmluZ1xuICAgICAqIEBuYW1lIHNldFN0cmluZ0hleFxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5ld0hleFN0cmluZyB2YWx1ZSBieSBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBzZXRcbiAgICAgKi9cbiAgICB0aGlzLnNldFN0cmluZ0hleCA9IGZ1bmN0aW9uKG5ld0hleFN0cmluZykge1xuICAgICAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnMgPSBudWxsO1xuICAgICAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaFY7XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgcGFyYW1zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydzdHInXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cmluZyhwYXJhbXNbJ3N0ciddKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydoZXgnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cmluZ0hleChwYXJhbXNbJ2hleCddKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcsIEtKVVIuYXNuMS5BU04xT2JqZWN0KTtcbi8vID09IEVORCAgIERFUkFic3RyYWN0U3RyaW5nID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyA9PSBCRUdJTiBERVJBYnN0cmFjdFRpbWUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogYmFzZSBjbGFzcyBmb3IgQVNOLjEgREVSIEdlbmVyYWxpemVkL1VUQ1RpbWUgY2xhc3NcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWVcbiAqIEBjbGFzcyBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgR2VuZXJhbGl6ZWQvVVRDVGltZSBjbGFzc1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICcxMzA0MzAyMzU5NTlaJ30pXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5BU04xT2JqZWN0IC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG5cbiAgICAvLyAtLS0gUFJJVkFURSBNRVRIT0RTIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgdGhpcy5sb2NhbERhdGVUb1VUQyA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgdXRjID0gZC5nZXRUaW1lKCkgKyAoZC5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICAgICAgICB2YXIgdXRjRGF0ZSA9IG5ldyBEYXRlKHV0Yyk7XG4gICAgICAgIHJldHVybiB1dGNEYXRlO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIGZvcm1hdCBkYXRlIHN0cmluZyBieSBEYXRhIG9iamVjdFxuICAgICAqIEBuYW1lIGZvcm1hdERhdGVcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkFic3RyYWN0VGltZTtcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVPYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAndXRjJyBvciAnZ2VuJ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2l0aE1pbGxpcyBmbGFnIGZvciB3aXRoIG1pbGxpc2VjdGlvbnMgb3Igbm90XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogJ3dpdGhNaWxsaXMnIGZsYWcgaXMgc3VwcG9ydGVkIGZyb20gYXNuMSAxLjAuNi5cbiAgICAgKi9cbiAgICB0aGlzLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlT2JqZWN0LCB0eXBlLCB3aXRoTWlsbGlzKSB7XG4gICAgICAgIHZhciBwYWQgPSB0aGlzLnplcm9QYWRkaW5nO1xuICAgICAgICB2YXIgZCA9IHRoaXMubG9jYWxEYXRlVG9VVEMoZGF0ZU9iamVjdCk7XG4gICAgICAgIHZhciB5ZWFyID0gU3RyaW5nKGQuZ2V0RnVsbFllYXIoKSk7XG4gICAgICAgIGlmICh0eXBlID09ICd1dGMnKSB5ZWFyID0geWVhci5zdWJzdHIoMiwgMik7XG4gICAgICAgIHZhciBtb250aCA9IHBhZChTdHJpbmcoZC5nZXRNb250aCgpICsgMSksIDIpO1xuICAgICAgICB2YXIgZGF5ID0gcGFkKFN0cmluZyhkLmdldERhdGUoKSksIDIpO1xuICAgICAgICB2YXIgaG91ciA9IHBhZChTdHJpbmcoZC5nZXRIb3VycygpKSwgMik7XG4gICAgICAgIHZhciBtaW4gPSBwYWQoU3RyaW5nKGQuZ2V0TWludXRlcygpKSwgMik7XG4gICAgICAgIHZhciBzZWMgPSBwYWQoU3RyaW5nKGQuZ2V0U2Vjb25kcygpKSwgMik7XG4gICAgICAgIHZhciBzID0geWVhciArIG1vbnRoICsgZGF5ICsgaG91ciArIG1pbiArIHNlYztcbiAgICAgICAgaWYgKHdpdGhNaWxsaXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBtaWxsaXMgPSBkLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgICAgICAgaWYgKG1pbGxpcyAhPSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNNaWxsaXMgPSBwYWQoU3RyaW5nKG1pbGxpcyksIDMpO1xuICAgICAgICAgICAgICAgIHNNaWxsaXMgPSBzTWlsbGlzLnJlcGxhY2UoL1swXSskLywgXCJcIik7XG4gICAgICAgICAgICAgICAgcyA9IHMgKyBcIi5cIiArIHNNaWxsaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMgKyBcIlpcIjtcbiAgICB9O1xuXG4gICAgdGhpcy56ZXJvUGFkZGluZyA9IGZ1bmN0aW9uKHMsIGxlbikge1xuICAgICAgICBpZiAocy5sZW5ndGggPj0gbGVuKSByZXR1cm4gcztcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheShsZW4gLSBzLmxlbmd0aCArIDEpLmpvaW4oJzAnKSArIHM7XG4gICAgfTtcblxuICAgIC8vIC0tLSBQVUJMSUMgTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIGdldCBzdHJpbmcgdmFsdWUgb2YgdGhpcyBzdHJpbmcgb2JqZWN0XG4gICAgICogQG5hbWUgZ2V0U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdHJpbmcgdmFsdWUgb2YgdGhpcyB0aW1lIG9iamVjdFxuICAgICAqL1xuICAgIHRoaXMuZ2V0U3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldCB2YWx1ZSBieSBhIHN0cmluZ1xuICAgICAqIEBuYW1lIHNldFN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTIHZhbHVlIGJ5IGEgc3RyaW5nIHRvIHNldCBzdWNoIGxpa2UgXCIxMzA0MzAyMzU5NTlaXCJcbiAgICAgKi9cbiAgICB0aGlzLnNldFN0cmluZyA9IGZ1bmN0aW9uKG5ld1MpIHtcbiAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zID0gbmV3UztcbiAgICAgICAgdGhpcy5oViA9IHN0b2hleChuZXdTKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGEgRGF0ZSBvYmplY3RcbiAgICAgKiBAbmFtZSBzZXRCeURhdGVWYWx1ZVxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0geWVhciB5ZWFyIG9mIGRhdGUgKGV4LiAyMDEzKVxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gbW9udGggbW9udGggb2YgZGF0ZSBiZXR3ZWVuIDEgYW5kIDEyIChleC4gMTIpXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBkYXkgZGF5IG9mIG1vbnRoXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBob3VyIGhvdXJzIG9mIGRhdGVcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IG1pbiBtaW51dGVzIG9mIGRhdGVcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHNlYyBzZWNvbmRzIG9mIGRhdGVcbiAgICAgKi9cbiAgICB0aGlzLnNldEJ5RGF0ZVZhbHVlID0gZnVuY3Rpb24oeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWluLCBzZWMpIHtcbiAgICAgICAgdmFyIGRhdGVPYmplY3QgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWluLCBzZWMsIDApKTtcbiAgICAgICAgdGhpcy5zZXRCeURhdGUoZGF0ZU9iamVjdCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUsIEtKVVIuYXNuMS5BU04xT2JqZWN0KTtcbi8vID09IEVORCAgIERFUkFic3RyYWN0VGltZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyA9PSBCRUdJTiBERVJBYnN0cmFjdFN0cnVjdHVyZWQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogYmFzZSBjbGFzcyBmb3IgQVNOLjEgREVSIHN0cnVjdHVyZWQgY2xhc3NcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWRcbiAqIEBjbGFzcyBiYXNlIGNsYXNzIGZvciBBU04uMSBERVIgc3RydWN0dXJlZCBjbGFzc1xuICogQHByb3BlcnR5IHtBcnJheX0gYXNuMUFycmF5IGludGVybmFsIGFycmF5IG9mIEFTTjFPYmplY3RcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkFTTjFPYmplY3QgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGFycmF5IG9mIEFTTjFPYmplY3RcbiAgICAgKiBAbmFtZSBzZXRCeUFTTjFPYmplY3RBcnJheVxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGFzbjFPYmplY3RBcnJheSBhcnJheSBvZiBBU04xT2JqZWN0IHRvIHNldFxuICAgICAqL1xuICAgIHRoaXMuc2V0QnlBU04xT2JqZWN0QXJyYXkgPSBmdW5jdGlvbihhc24xT2JqZWN0QXJyYXkpIHtcbiAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hc24xQXJyYXkgPSBhc24xT2JqZWN0QXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGFwcGVuZCBhbiBBU04xT2JqZWN0IHRvIGludGVybmFsIGFycmF5XG4gICAgICogQG5hbWUgYXBwZW5kQVNOMU9iamVjdFxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7QVNOMU9iamVjdH0gYXNuMU9iamVjdCB0byBhZGRcbiAgICAgKi9cbiAgICB0aGlzLmFwcGVuZEFTTjFPYmplY3QgPSBmdW5jdGlvbihhc24xT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYXNuMUFycmF5LnB1c2goYXNuMU9iamVjdCk7XG4gICAgfTtcblxuICAgIHRoaXMuYXNuMUFycmF5ID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1snYXJyYXknXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmFzbjFBcnJheSA9IHBhcmFtc1snYXJyYXknXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG5cblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vICBBU04uMSBPYmplY3QgQ2xhc3Nlc1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBCb29sZWFuXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSQm9vbGVhblxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgQm9vbGVhblxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogQHNlZSBLSlVSLmFzbjEuQVNOMU9iamVjdCAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUkJvb2xlYW4gPSBmdW5jdGlvbigpIHtcbiAgICBLSlVSLmFzbjEuREVSQm9vbGVhbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5oVCA9IFwiMDFcIjtcbiAgICB0aGlzLmhUTFYgPSBcIjAxMDFmZlwiO1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJCb29sZWFuLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgSW50ZWdlclxuICogQG5hbWUgS0pVUi5hc24xLkRFUkludGVnZXJcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIEludGVnZXJcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5BU04xT2JqZWN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIDxici8+XG4gKiBBcyBmb3IgYXJndW1lbnQgJ3BhcmFtcycgZm9yIGNvbnN0cnVjdG9yLCB5b3UgY2FuIHNwZWNpZnkgb25lIG9mXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIDx1bD5cbiAqIDxsaT5pbnQgLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgaW50ZWdlciB2YWx1ZTwvbGk+XG4gKiA8bGk+YmlnaW50IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IEJpZ0ludGVnZXIgb2JqZWN0PC9saT5cbiAqIDxsaT5oZXggLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmc8L2xpPlxuICogPC91bD5cbiAqIE5PVEU6ICdwYXJhbXMnIGNhbiBiZSBvbWl0dGVkLlxuICovXG5LSlVSLmFzbjEuREVSSW50ZWdlciA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIEtKVVIuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmhUID0gXCIwMlwiO1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IFRvbSBXdSdzIEJpZ0ludGVnZXIgb2JqZWN0XG4gICAgICogQG5hbWUgc2V0QnlCaWdJbnRlZ2VyXG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJJbnRlZ2VyI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7QmlnSW50ZWdlcn0gYmlnSW50ZWdlclZhbHVlIHRvIHNldFxuICAgICAqL1xuICAgIHRoaXMuc2V0QnlCaWdJbnRlZ2VyID0gZnVuY3Rpb24oYmlnSW50ZWdlclZhbHVlKSB7XG4gICAgICAgIHRoaXMuaFRMViA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaFYgPSBLSlVSLmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgoYmlnSW50ZWdlclZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICAgKiBAbmFtZSBzZXRCeUludGVnZXJcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkludGVnZXJcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGludGVnZXIgdmFsdWUgdG8gc2V0XG4gICAgICovXG4gICAgdGhpcy5zZXRCeUludGVnZXIgPSBmdW5jdGlvbihpbnRWYWx1ZSkge1xuICAgICAgICB2YXIgYmkgPSBuZXcgQmlnSW50ZWdlcihTdHJpbmcoaW50VmFsdWUpLCAxMCk7XG4gICAgICAgIHRoaXMuc2V0QnlCaWdJbnRlZ2VyKGJpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICAgKiBAbmFtZSBzZXRWYWx1ZUhleFxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSSW50ZWdlciNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIGludGVnZXIgdmFsdWVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiA8YnIvPlxuICAgICAqIE5PVEU6IFZhbHVlIHNoYWxsIGJlIHJlcHJlc2VudGVkIGJ5IG1pbmltdW0gb2N0ZXQgbGVuZ3RoIG9mXG4gICAgICogdHdvJ3MgY29tcGxlbWVudCByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcigxMjMpO1xuICAgICAqIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7J2ludCc6IDEyM30pO1xuICAgICAqIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7J2hleCc6ICcxZmFkJ30pO1xuICAgICAqL1xuICAgIHRoaXMuc2V0VmFsdWVIZXggPSBmdW5jdGlvbihuZXdIZXhTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5oViA9IG5ld0hleFN0cmluZztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhWO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHBhcmFtcyAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zWydiaWdpbnQnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ5QmlnSW50ZWdlcihwYXJhbXNbJ2JpZ2ludCddKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydpbnQnXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ5SW50ZWdlcihwYXJhbXNbJ2ludCddKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QnlJbnRlZ2VyKHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snaGV4J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZUhleChwYXJhbXNbJ2hleCddKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSSW50ZWdlciwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIGVuY29kZWQgQml0U3RyaW5nIHByaW1pdGl2ZVxuICogQG5hbWUgS0pVUi5hc24xLkRFUkJpdFN0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgZW5jb2RlZCBCaXRTdHJpbmcgcHJpbWl0aXZlXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+YmluIC0gc3BlY2lmeSBiaW5hcnkgc3RyaW5nIChleC4gJzEwMTExJyk8L2xpPlxuICogPGxpPmFycmF5IC0gc3BlY2lmeSBhcnJheSBvZiBib29sZWFuIChleC4gW3RydWUsZmFsc2UsdHJ1ZSx0cnVlXSk8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaGV4YWRlY2ltYWwgc3RyaW5nIG9mIEFTTi4xIHZhbHVlKFYpIGluY2x1ZGluZyB1bnVzZWQgYml0czwvbGk+XG4gKiA8bGk+b2JqIC0gc3BlY2lmeSB7QGxpbmsgS0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdH1cbiAqIGFyZ3VtZW50IGZvciBcIkJpdFN0cmluZyBlbmNhcHN1bGF0ZXNcIiBzdHJ1Y3R1cmUuPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFMTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuPGJyLz5cbiAqIE5PVEUyOiAnb2JqJyBwYXJhbWV0ZXIgaGF2ZSBiZWVuIHN1cHBvcnRlZCBzaW5jZVxuICogYXNuMSAxLjAuMTEsIGpzcnNhc2lnbiA2LjEuMSAoMjAxNi1TZXAtMjUpLjxici8+XG4gKiBAZXhhbXBsZVxuICogLy8gZGVmYXVsdCBjb25zdHJ1Y3RvclxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKCk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggYmluYXJ5IHN0cmluZ1xuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHtiaW46IFwiMTAxMVwifSk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggYm9vbGVhbiBhcnJheVxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHthcnJheTogW3RydWUsZmFsc2UsdHJ1ZSx0cnVlXX0pO1xuICogLy8gaW5pdGlhbGl6ZSB3aXRoIGhleGFkZWNpbWFsIHN0cmluZyAoMDQgaXMgdW51c2VkIGJpdHMpXG4gKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZyh7aGV4OiBcIjA0YmFjMFwifSk7XG4gKiAvLyBpbml0aWFsaXplIHdpdGggQVNOMVV0aWwubmV3T2JqZWN0IGFyZ3VtZW50IGZvciBlbmNhcHN1bGF0ZWRcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7b2JqOiB7c2VxOiBbe2ludDogM30sIHtwcm5zdHI6ICdhYWEnfV19fSk7XG4gKiAvLyBhYm92ZSBnZW5lcmF0ZXMgYSBBU04uMSBkYXRhIGxpa2UgdGhpczpcbiAqIC8vIEJJVCBTVFJJTkcsIGVuY2Fwc3VsYXRlcyB7XG4gKiAvLyAgIFNFUVVFTkNFIHtcbiAqIC8vICAgICBJTlRFR0VSIDNcbiAqIC8vICAgICBQcmludGFibGVTdHJpbmcgJ2FhYSdcbiAqIC8vICAgICB9XG4gKiAvLyAgIH1cbiAqL1xuS0pVUi5hc24xLkRFUkJpdFN0cmluZyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcGFyYW1zLm9iaiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB2YXIgbyA9IEtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QocGFyYW1zLm9iaik7XG4gICAgICAgIHBhcmFtcy5oZXggPSBcIjAwXCIgKyBvLmdldEVuY29kZWRIZXgoKTtcbiAgICB9XG4gICAgS0pVUi5hc24xLkRFUkJpdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5oVCA9IFwiMDNcIjtcblxuICAgIC8qKlxuICAgICAqIHNldCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZyBpbmNsdWRpbmcgdW51c2VkIGJpdHNcbiAgICAgKiBAbmFtZSBzZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHNcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkJpdFN0cmluZyNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3SGV4U3RyaW5nSW5jbHVkaW5nVW51c2VkQml0c1xuICAgICAqL1xuICAgIHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzID0gZnVuY3Rpb24obmV3SGV4U3RyaW5nSW5jbHVkaW5nVW51c2VkQml0cykge1xuICAgICAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nSW5jbHVkaW5nVW51c2VkQml0cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0IEFTTi4xIHZhbHVlKFYpIGJ5IHVudXNlZCBiaXQgYW5kIGhleGFkZWNpbWFsIHN0cmluZyBvZiB2YWx1ZVxuICAgICAqIEBuYW1lIHNldFVudXNlZEJpdHNBbmRIZXhWYWx1ZVxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQml0U3RyaW5nI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gdW51c2VkQml0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBoVmFsdWVcbiAgICAgKi9cbiAgICB0aGlzLnNldFVudXNlZEJpdHNBbmRIZXhWYWx1ZSA9IGZ1bmN0aW9uKHVudXNlZEJpdHMsIGhWYWx1ZSkge1xuICAgICAgICBpZiAodW51c2VkQml0cyA8IDAgfHwgNyA8IHVudXNlZEJpdHMpIHtcbiAgICAgICAgICAgIHRocm93IFwidW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIiArIHVudXNlZEJpdHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhVbnVzZWRCaXRzID0gXCIwXCIgKyB1bnVzZWRCaXRzO1xuICAgICAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmhWID0gaFVudXNlZEJpdHMgKyBoVmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldCBBU04uMSBERVIgQml0U3RyaW5nIGJ5IGJpbmFyeSBzdHJpbmc8YnIvPlxuICAgICAqIEBuYW1lIHNldEJ5QmluYXJ5U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJpbmFyeVN0cmluZyBiaW5hcnkgdmFsdWUgc3RyaW5nIChpLmUuICcxMDExMScpXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSXRzIHVudXNlZCBiaXRzIHdpbGwgYmUgY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IGxlbmd0aCBvZlxuICAgICAqICdiaW5hcnlWYWx1ZScuIDxici8+XG4gICAgICogTk9URTogVHJhaWxpbmcgemVyb3MgJzAnIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZygpO1xuICAgICAqIG8uc2V0QnlCb29sZWFuQXJyYXkoXCIwMTAxMVwiKTtcbiAgICAgKi9cbiAgICB0aGlzLnNldEJ5QmluYXJ5U3RyaW5nID0gZnVuY3Rpb24oYmluYXJ5U3RyaW5nKSB7XG4gICAgICAgIGJpbmFyeVN0cmluZyA9IGJpbmFyeVN0cmluZy5yZXBsYWNlKC8wKyQvLCAnJyk7XG4gICAgICAgIHZhciB1bnVzZWRCaXRzID0gOCAtIGJpbmFyeVN0cmluZy5sZW5ndGggJSA4O1xuICAgICAgICBpZiAodW51c2VkQml0cyA9PSA4KSB1bnVzZWRCaXRzID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdW51c2VkQml0czsgaSsrKSB7XG4gICAgICAgICAgICBiaW5hcnlTdHJpbmcgKz0gJzAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJ5U3RyaW5nLmxlbmd0aCAtIDE7IGkgKz0gOCkge1xuICAgICAgICAgICAgdmFyIGIgPSBiaW5hcnlTdHJpbmcuc3Vic3RyKGksIDgpO1xuICAgICAgICAgICAgdmFyIHggPSBwYXJzZUludChiLCAyKS50b1N0cmluZygxNik7XG4gICAgICAgICAgICBpZiAoeC5sZW5ndGggPT0gMSkgeCA9ICcwJyArIHg7XG4gICAgICAgICAgICBoICs9IHg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oViA9ICcwJyArIHVudXNlZEJpdHMgKyBoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzZXQgQVNOLjEgVExWIHZhbHVlKFYpIGJ5IGFuIGFycmF5IG9mIGJvb2xlYW48YnIvPlxuICAgICAqIEBuYW1lIHNldEJ5Qm9vbGVhbkFycmF5XG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHthcnJheX0gYm9vbGVhbkFycmF5IGFycmF5IG9mIGJvb2xlYW4gKGV4LiBbdHJ1ZSwgZmFsc2UsIHRydWVdKVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIE5PVEU6IFRyYWlsaW5nIGZhbHNlcyB3aWxsIGJlIGlnbm9yZWQgaW4gdGhlIEFTTi4xIERFUiBPYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcoKTtcbiAgICAgKiBvLnNldEJ5Qm9vbGVhbkFycmF5KFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIHRydWUsIHRydWVdKTtcbiAgICAgKi9cbiAgICB0aGlzLnNldEJ5Qm9vbGVhbkFycmF5ID0gZnVuY3Rpb24oYm9vbGVhbkFycmF5KSB7XG4gICAgICAgIHZhciBzID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9vbGVhbkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYm9vbGVhbkFycmF5W2ldID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzICs9ICcxJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcyArPSAnMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRCeUJpbmFyeVN0cmluZyhzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZ2VuZXJhdGUgYW4gYXJyYXkgb2YgZmFsc2VzIHdpdGggc3BlY2lmaWVkIGxlbmd0aDxici8+XG4gICAgICogQG5hbWUgbmV3RmFsc2VBcnJheVxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSQml0U3RyaW5nXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBuTGVuZ3RoIGxlbmd0aCBvZiBhcnJheSB0byBnZW5lcmF0ZVxuICAgICAqIEByZXR1cm4ge2FycmF5fSBhcnJheSBvZiBib29sZWFuIGZhbHNlc1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoaXMgc3RhdGljIG1ldGhvZCBtYXkgYmUgdXNlZnVsIHRvIGluaXRpYWxpemUgYm9vbGVhbiBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZygpO1xuICAgICAqIG8ubmV3RmFsc2VBcnJheSgzKSAmcmFycjsgW2ZhbHNlLCBmYWxzZSwgZmFsc2VdXG4gICAgICovXG4gICAgdGhpcy5uZXdGYWxzZUFycmF5ID0gZnVuY3Rpb24obkxlbmd0aCkge1xuICAgICAgICB2YXIgYSA9IG5ldyBBcnJheShuTGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFbaV0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhWO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHBhcmFtcyAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09IFwic3RyaW5nXCIgJiYgcGFyYW1zLnRvTG93ZXJDYXNlKCkubWF0Y2goL15bMC05YS1mXSskLykpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snaGV4J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHMocGFyYW1zWydoZXgnXSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtc1snYmluJ10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRCeUJpbmFyeVN0cmluZyhwYXJhbXNbJ2JpbiddKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zWydhcnJheSddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QnlCb29sZWFuQXJyYXkocGFyYW1zWydhcnJheSddKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSQml0U3RyaW5nLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgT2N0ZXRTdHJpbmc8YnIvPlxuICogQG5hbWUgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBPY3RldFN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIEFTTi4xIE9jdGV0U3RyaW5nIHNpbXBsZSB0eXBlLjxici8+XG4gKiBTdXBwb3J0ZWQgXCJwYXJhbXNcIiBhdHRyaWJ1dGVzIGFyZTpcbiAqIDx1bD5cbiAqIDxsaT5zdHIgLSB0byBzZXQgYSBzdHJpbmcgYXMgYSB2YWx1ZTwvbGk+XG4gKiA8bGk+aGV4IC0gdG8gc2V0IGEgaGV4YWRlY2ltYWwgc3RyaW5nIGFzIGEgdmFsdWU8L2xpPlxuICogPGxpPm9iaiAtIHRvIHNldCBhIGVuY2Fwc3VsYXRlZCBBU04uMSB2YWx1ZSBieSBKU09OIG9iamVjdFxuICogd2hpY2ggaXMgZGVmaW5lZCBpbiB7QGxpbmsgS0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdH08L2xpPlxuICogPC91bD5cbiAqIE5PVEU6IEEgcGFyYW1ldGVyICdvYmonIGhhdmUgYmVlbiBzdXBwb3J0ZWRcbiAqIGZvciBcIk9DVEVUIFNUUklORywgZW5jYXBzdWxhdGVzXCIgc3RydWN0dXJlLlxuICogc2luY2UgYXNuMSAxLjAuMTEsIGpzcnNhc2lnbiA2LjEuMSAoMjAxNi1TZXAtMjUpLlxuICogQHNlZSBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgLSBzdXBlcmNsYXNzXG4gKiBAZXhhbXBsZVxuICogLy8gZGVmYXVsdCBjb25zdHJ1Y3RvclxuICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcoKTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBzdHJpbmdcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtzdHI6IFwiYWFhXCJ9KTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBoZXhhZGVjaW1hbCBzdHJpbmdcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtoZXg6IFwiNjE2MTYxXCJ9KTtcbiAqIC8vIGluaXRpYWxpemUgd2l0aCBBU04xVXRpbC5uZXdPYmplY3QgYXJndW1lbnRcbiAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKHtvYmo6IHtzZXE6IFt7aW50OiAzfSwge3BybnN0cjogJ2FhYSd9XX19KTtcbiAqIC8vIGFib3ZlIGdlbmVyYXRlcyBhIEFTTi4xIGRhdGEgbGlrZSB0aGlzOlxuICogLy8gT0NURVQgU1RSSU5HLCBlbmNhcHN1bGF0ZXMge1xuICogLy8gICBTRVFVRU5DRSB7XG4gKiAvLyAgICAgSU5URUdFUiAzXG4gKiAvLyAgICAgUHJpbnRhYmxlU3RyaW5nICdhYWEnXG4gKiAvLyAgICAgfVxuICogLy8gICB9XG4gKi9cbktKVVIuYXNuMS5ERVJPY3RldFN0cmluZyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcGFyYW1zLm9iaiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB2YXIgbyA9IEtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QocGFyYW1zLm9iaik7XG4gICAgICAgIHBhcmFtcy5oZXggPSBvLmdldEVuY29kZWRIZXgoKTtcbiAgICB9XG4gICAgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIHRoaXMuaFQgPSBcIjA0XCI7XG59O1xuWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIE51bGxcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJOdWxsXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBOdWxsXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5BU04xT2JqZWN0IC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSTnVsbCA9IGZ1bmN0aW9uKCkge1xuICAgIEtKVVIuYXNuMS5ERVJOdWxsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmhUID0gXCIwNVwiO1xuICAgIHRoaXMuaFRMViA9IFwiMDUwMFwiO1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJOdWxsLCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgT2JqZWN0SWRlbnRpZmllclxuICogQG5hbWUgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXJcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIE9iamVjdElkZW50aWZpZXJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydvaWQnOiAnMi41LjQuNSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkFTTjFPYmplY3RcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPm9pZCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIG9pZCBzdHJpbmcgKGV4LiAyLjUuNC4xMyk8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZzwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKi9cbktKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgdmFyIGl0b3ggPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBoID0gaS50b1N0cmluZygxNik7XG4gICAgICAgIGlmIChoLmxlbmd0aCA9PSAxKSBoID0gJzAnICsgaDtcbiAgICAgICAgcmV0dXJuIGg7XG4gICAgfTtcbiAgICB2YXIgcm9pZHRveCA9IGZ1bmN0aW9uKHJvaWQpIHtcbiAgICAgICAgdmFyIGggPSAnJztcbiAgICAgICAgdmFyIGJpID0gbmV3IEJpZ0ludGVnZXIocm9pZCwgMTApO1xuICAgICAgICB2YXIgYiA9IGJpLnRvU3RyaW5nKDIpO1xuICAgICAgICB2YXIgcGFkTGVuID0gNyAtIGIubGVuZ3RoICUgNztcbiAgICAgICAgaWYgKHBhZExlbiA9PSA3KSBwYWRMZW4gPSAwO1xuICAgICAgICB2YXIgYlBhZCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZExlbjsgaSsrKSBiUGFkICs9ICcwJztcbiAgICAgICAgYiA9IGJQYWQgKyBiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoIC0gMTsgaSArPSA3KSB7XG4gICAgICAgICAgICB2YXIgYjggPSBiLnN1YnN0cihpLCA3KTtcbiAgICAgICAgICAgIGlmIChpICE9IGIubGVuZ3RoIC0gNykgYjggPSAnMScgKyBiODtcbiAgICAgICAgICAgIGggKz0gaXRveChwYXJzZUludChiOCwgMikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoO1xuICAgIH07XG5cbiAgICBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5oVCA9IFwiMDZcIjtcblxuICAgIC8qKlxuICAgICAqIHNldCB2YWx1ZSBieSBhIGhleGFkZWNpbWFsIHN0cmluZ1xuICAgICAqIEBuYW1lIHNldFZhbHVlSGV4XG4gICAgICogQG1lbWJlck9mIEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdIZXhTdHJpbmcgaGV4YWRlY2ltYWwgdmFsdWUgb2YgT0lEIGJ5dGVzXG4gICAgICovXG4gICAgdGhpcy5zZXRWYWx1ZUhleCA9IGZ1bmN0aW9uKG5ld0hleFN0cmluZykge1xuICAgICAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnMgPSBudWxsO1xuICAgICAgICB0aGlzLmhWID0gbmV3SGV4U3RyaW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWUgYnkgYSBPSUQgc3RyaW5nPGJyLz5cbiAgICAgKiBAbmFtZSBzZXRWYWx1ZU9pZFN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllciNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2lkU3RyaW5nIE9JRCBzdHJpbmcgKGV4LiAyLjUuNC4xMylcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG8gPSBuZXcgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoKTtcbiAgICAgKiBvLnNldFZhbHVlT2lkU3RyaW5nKFwiMi41LjQuMTNcIik7XG4gICAgICovXG4gICAgdGhpcy5zZXRWYWx1ZU9pZFN0cmluZyA9IGZ1bmN0aW9uKG9pZFN0cmluZykge1xuICAgICAgICBpZiAoISBvaWRTdHJpbmcubWF0Y2goL15bMC05Ll0rJC8pKSB7XG4gICAgICAgICAgICB0aHJvdyBcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIiArIG9pZFN0cmluZztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaCA9ICcnO1xuICAgICAgICB2YXIgYSA9IG9pZFN0cmluZy5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgaTAgPSBwYXJzZUludChhWzBdKSAqIDQwICsgcGFyc2VJbnQoYVsxXSk7XG4gICAgICAgIGggKz0gaXRveChpMCk7XG4gICAgICAgIGEuc3BsaWNlKDAsIDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGggKz0gcm9pZHRveChhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhUTFYgPSBudWxsO1xuICAgICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnMgPSBudWxsO1xuICAgICAgICB0aGlzLmhWID0gaDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGEgT0lEIG5hbWVcbiAgICAgKiBAbmFtZSBzZXRWYWx1ZU5hbWVcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9pZE5hbWUgT0lEIG5hbWUgKGV4LiAnc2VydmVyQXV0aCcpXG4gICAgICogQHNpbmNlIDEuMC4xXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogT0lEIG5hbWUgc2hhbGwgYmUgZGVmaW5lZCBpbiAnS0pVUi5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdCcuXG4gICAgICogT3RoZXJ3aXNlIHJhaXNlIGVycm9yLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbyA9IG5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcigpO1xuICAgICAqIG8uc2V0VmFsdWVOYW1lKFwic2VydmVyQXV0aFwiKTtcbiAgICAgKi9cbiAgICB0aGlzLnNldFZhbHVlTmFtZSA9IGZ1bmN0aW9uKG9pZE5hbWUpIHtcbiAgICAgICAgdmFyIG9pZCA9IEtKVVIuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZChvaWROYW1lKTtcbiAgICAgICAgaWYgKG9pZCAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcob2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IFwiREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogXCIgKyBvaWROYW1lO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xuXG4gICAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1zLm1hdGNoKC9eWzAtMl0uWzAtOS5dKyQvKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocGFyYW1zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZU5hbWUocGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMub2lkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVPaWRTdHJpbmcocGFyYW1zLm9pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmhleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlSGV4KHBhcmFtcy5oZXgpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVOYW1lKHBhcmFtcy5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllciwgS0pVUi5hc24xLkFTTjFPYmplY3QpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIEVudW1lcmF0ZWRcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBFbnVtZXJhdGVkXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+aW50IC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGludGVnZXIgdmFsdWU8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZzwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiBAZXhhbXBsZVxuICogbmV3IEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkKDEyMyk7XG4gKiBuZXcgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQoe2ludDogMTIzfSk7XG4gKiBuZXcgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQoe2hleDogJzFmYWQnfSk7XG4gKi9cbktKVVIuYXNuMS5ERVJFbnVtZXJhdGVkID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuaFQgPSBcIjBhXCI7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWUgYnkgVG9tIFd1J3MgQmlnSW50ZWdlciBvYmplY3RcbiAgICAgKiBAbmFtZSBzZXRCeUJpZ0ludGVnZXJcbiAgICAgKiBAbWVtYmVyT2YgS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQjXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtCaWdJbnRlZ2VyfSBiaWdJbnRlZ2VyVmFsdWUgdG8gc2V0XG4gICAgICovXG4gICAgdGhpcy5zZXRCeUJpZ0ludGVnZXIgPSBmdW5jdGlvbihiaWdJbnRlZ2VyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oViA9IEtKVVIuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleChiaWdJbnRlZ2VyVmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWUgYnkgaW50ZWdlciB2YWx1ZVxuICAgICAqIEBuYW1lIHNldEJ5SW50ZWdlclxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSRW51bWVyYXRlZCNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGludGVnZXIgdmFsdWUgdG8gc2V0XG4gICAgICovXG4gICAgdGhpcy5zZXRCeUludGVnZXIgPSBmdW5jdGlvbihpbnRWYWx1ZSkge1xuICAgICAgICB2YXIgYmkgPSBuZXcgQmlnSW50ZWdlcihTdHJpbmcoaW50VmFsdWUpLCAxMCk7XG4gICAgICAgIHRoaXMuc2V0QnlCaWdJbnRlZ2VyKGJpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGludGVnZXIgdmFsdWVcbiAgICAgKiBAbmFtZSBzZXRWYWx1ZUhleFxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSRW51bWVyYXRlZCNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaGV4YWRlY2ltYWwgc3RyaW5nIG9mIGludGVnZXIgdmFsdWVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiA8YnIvPlxuICAgICAqIE5PVEU6IFZhbHVlIHNoYWxsIGJlIHJlcHJlc2VudGVkIGJ5IG1pbmltdW0gb2N0ZXQgbGVuZ3RoIG9mXG4gICAgICogdHdvJ3MgY29tcGxlbWVudCByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cbiAgICB0aGlzLnNldFZhbHVlSGV4ID0gZnVuY3Rpb24obmV3SGV4U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaFYgPSBuZXdIZXhTdHJpbmc7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1snaW50J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRCeUludGVnZXIocGFyYW1zWydpbnQnXSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ5SW50ZWdlcihwYXJhbXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXNbJ2hleCddICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVIZXgocGFyYW1zWydoZXgnXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkVudW1lcmF0ZWQsIEtKVVIuYXNuMS5BU04xT2JqZWN0KTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBVVEY4U3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSVVRGOFN0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgVVRGOFN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUlVURjhTdHJpbmcgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSVVRGOFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB0aGlzLmhUID0gXCIwY1wiO1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIE51bWVyaWNTdHJpbmdcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJOdW1lcmljU3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBOdW1lcmljU3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJ2FhYSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nIC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSTnVtZXJpY1N0cmluZyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIEtKVVIuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIHRoaXMuaFQgPSBcIjEyXCI7XG59O1xuWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUk51bWVyaWNTdHJpbmcsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgUHJpbnRhYmxlU3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nXG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBQcmludGFibGVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnYWFhJ30pXG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmdcbiAqIEBkZXNjcmlwdGlvblxuICogQHNlZSBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcgLSBzdXBlcmNsYXNzXG4gKi9cbktKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIHRoaXMuaFQgPSBcIjEzXCI7XG59O1xuWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUlByaW50YWJsZVN0cmluZywgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBUZWxldGV4U3RyaW5nXG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSVGVsZXRleFN0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgVGVsZXRleFN0cmluZ1xuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICdhYWEnfSlcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBAc2VlIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyAtIHN1cGVyY2xhc3NcbiAqL1xuS0pVUi5hc24xLkRFUlRlbGV0ZXhTdHJpbmcgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSVGVsZXRleFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB0aGlzLmhUID0gXCIxNFwiO1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIElBNVN0cmluZ1xuICogQG5hbWUgS0pVUi5hc24xLkRFUklBNVN0cmluZ1xuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgSUE1U3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgYXNzb2NpYXRpdmUgYXJyYXkgb2YgcGFyYW1ldGVycyAoZXguIHsnc3RyJzogJ2FhYSd9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBzZWUgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nIC0gc3VwZXJjbGFzc1xuICovXG5LSlVSLmFzbjEuREVSSUE1U3RyaW5nID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgS0pVUi5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB0aGlzLmhUID0gXCIxNlwiO1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJJQTVTdHJpbmcsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgVVRDVGltZVxuICogQG5hbWUgS0pVUi5hc24xLkRFUlVUQ1RpbWVcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIFVUQ1RpbWVcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBhc3NvY2lhdGl2ZSBhcnJheSBvZiBwYXJhbWV0ZXJzIChleC4geydzdHInOiAnMTMwNDMwMjM1OTU5Wid9KVxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZVxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+c3RyIC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgc3RyaW5nIChleC4nMTMwNDMwMjM1OTU5WicpPC9saT5cbiAqIDxsaT5oZXggLSBzcGVjaWZ5IGluaXRpYWwgQVNOLjEgdmFsdWUoVikgYnkgYSBoZXhhZGVjaW1hbCBzdHJpbmc8L2xpPlxuICogPGxpPmRhdGUgLSBzcGVjaWZ5IERhdGUgb2JqZWN0LjwvbGk+XG4gKiA8L3VsPlxuICogTk9URTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiA8aDQ+RVhBTVBMRVM8L2g0PlxuICogQGV4YW1wbGVcbiAqIGQxID0gbmV3IEtKVVIuYXNuMS5ERVJVVENUaW1lKCk7XG4gKiBkMS5zZXRTdHJpbmcoJzEzMDQzMDEyNTk1OVonKTtcbiAqXG4gKiBkMiA9IG5ldyBLSlVSLmFzbjEuREVSVVRDVGltZSh7J3N0cic6ICcxMzA0MzAxMjU5NTlaJ30pO1xuICogZDMgPSBuZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUoeydkYXRlJzogbmV3IERhdGUoRGF0ZS5VVEMoMjAxNSwgMCwgMzEsIDAsIDAsIDAsIDApKX0pO1xuICogZDQgPSBuZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUoJzEzMDQzMDEyNTk1OVonKTtcbiAqL1xuS0pVUi5hc24xLkRFUlVUQ1RpbWUgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSVVRDVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB0aGlzLmhUID0gXCIxN1wiO1xuXG4gICAgLyoqXG4gICAgICogc2V0IHZhbHVlIGJ5IGEgRGF0ZSBvYmplY3Q8YnIvPlxuICAgICAqIEBuYW1lIHNldEJ5RGF0ZVxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSVVRDVGltZSNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGVPYmplY3QgRGF0ZSBvYmplY3QgdG8gc2V0IEFTTi4xIHZhbHVlKFYpXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBvID0gbmV3IEtKVVIuYXNuMS5ERVJVVENUaW1lKCk7XG4gICAgICogby5zZXRCeURhdGUobmV3IERhdGUoXCIyMDE2LzEyLzMxXCIpKTtcbiAgICAgKi9cbiAgICB0aGlzLnNldEJ5RGF0ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kYXRlID0gZGF0ZU9iamVjdDtcbiAgICAgICAgdGhpcy5zID0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwgJ3V0YycpO1xuICAgICAgICB0aGlzLmhWID0gc3RvaGV4KHRoaXMucyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZGF0ZSA9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB0aGlzLnMgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucyA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsICd1dGMnKTtcbiAgICAgICAgICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xuXG4gICAgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChwYXJhbXMuc3RyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RyaW5nKHBhcmFtcy5zdHIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXCJzdHJpbmdcIiAmJiBwYXJhbXMubWF0Y2goL15bMC05XXsxMn1aJC8pKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cmluZyhwYXJhbXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5oZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHJpbmdIZXgocGFyYW1zLmhleCk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRCeURhdGUocGFyYW1zLmRhdGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVENUaW1lLCBLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lKTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8qKlxuICogY2xhc3MgZm9yIEFTTi4xIERFUiBHZW5lcmFsaXplZFRpbWVcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWVcbiAqIEBjbGFzcyBjbGFzcyBmb3IgQVNOLjEgREVSIEdlbmVyYWxpemVkVGltZVxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIGFzc29jaWF0aXZlIGFycmF5IG9mIHBhcmFtZXRlcnMgKGV4LiB7J3N0cic6ICcyMDEzMDQzMDIzNTk1OVonfSlcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gd2l0aE1pbGxpcyBmbGFnIHRvIHNob3cgbWlsbGlzZWNvbmRzIG9yIG5vdFxuICogQGV4dGVuZHMgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZVxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogQXMgZm9yIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5IG9uZSBvZlxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiA8dWw+XG4gKiA8bGk+c3RyIC0gc3BlY2lmeSBpbml0aWFsIEFTTi4xIHZhbHVlKFYpIGJ5IGEgc3RyaW5nIChleC4nMjAxMzA0MzAyMzU5NTlaJyk8L2xpPlxuICogPGxpPmhleCAtIHNwZWNpZnkgaW5pdGlhbCBBU04uMSB2YWx1ZShWKSBieSBhIGhleGFkZWNpbWFsIHN0cmluZzwvbGk+XG4gKiA8bGk+ZGF0ZSAtIHNwZWNpZnkgRGF0ZSBvYmplY3QuPC9saT5cbiAqIDxsaT5taWxsaXMgLSBzcGVjaWZ5IGZsYWcgdG8gc2hvdyBtaWxsaXNlY29uZHMgKGZyb20gMS4wLjYpPC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFMTogJ3BhcmFtcycgY2FuIGJlIG9taXR0ZWQuXG4gKiBOT1RFMjogJ3dpdGhNaWxsaXMnIHByb3BlcnR5IGlzIHN1cHBvcnRlZCBmcm9tIGFzbjEgMS4wLjYuXG4gKi9cbktKVVIuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIHRoaXMuaFQgPSBcIjE4XCI7XG4gICAgdGhpcy53aXRoTWlsbGlzID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWUgYnkgYSBEYXRlIG9iamVjdFxuICAgICAqIEBuYW1lIHNldEJ5RGF0ZVxuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lI1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZU9iamVjdCBEYXRlIG9iamVjdCB0byBzZXQgQVNOLjEgdmFsdWUoVilcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFdoZW4geW91IHNwZWNpZnkgVVRDIHRpbWUsIHVzZSAnRGF0ZS5VVEMnIG1ldGhvZCBsaWtlIHRoaXM6PGJyLz5cbiAgICAgKiBvMSA9IG5ldyBERVJVVENUaW1lKCk7XG4gICAgICogbzEuc2V0QnlEYXRlKGRhdGUpO1xuICAgICAqXG4gICAgICogZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDKDIwMTUsIDAsIDMxLCAyMywgNTksIDU5LCAwKSk7ICMyMDE1SkFOMzEgMjM6NTk6NTlcbiAgICAgKi9cbiAgICB0aGlzLnNldEJ5RGF0ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kYXRlID0gZGF0ZU9iamVjdDtcbiAgICAgICAgdGhpcy5zID0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwgJ2dlbicsIHRoaXMud2l0aE1pbGxpcyk7XG4gICAgICAgIHRoaXMuaFYgPSBzdG9oZXgodGhpcy5zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGUgPT09IHVuZGVmaW5lZCAmJiB0aGlzLnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucyA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsICdnZW4nLCB0aGlzLndpdGhNaWxsaXMpO1xuICAgICAgICAgICAgdGhpcy5oViA9IHN0b2hleCh0aGlzLnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhWO1xuICAgIH07XG5cbiAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5zdHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHJpbmcocGFyYW1zLnN0cik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PSBcInN0cmluZ1wiICYmIHBhcmFtcy5tYXRjaCgvXlswLTldezE0fVokLykpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RyaW5nKHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmhleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cmluZ0hleChwYXJhbXMuaGV4KTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ5RGF0ZShwYXJhbXMuZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5taWxsaXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMud2l0aE1pbGxpcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuWUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZSwgS0pVUi5hc24xLkRFUkFic3RyYWN0VGltZSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgU2VxdWVuY2VcbiAqIEBuYW1lIEtKVVIuYXNuMS5ERVJTZXF1ZW5jZVxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgU2VxdWVuY2VcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWRcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPmFycmF5IC0gc3BlY2lmeSBhcnJheSBvZiBBU04xT2JqZWN0IHRvIHNldCBlbGVtZW50cyBvZiBjb250ZW50PC9saT5cbiAqIDwvdWw+XG4gKiBOT1RFOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC5cbiAqL1xuS0pVUi5hc24xLkRFUlNlcXVlbmNlID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgS0pVUi5hc24xLkRFUlNlcXVlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgIHRoaXMuaFQgPSBcIjMwXCI7XG4gICAgdGhpcy5nZXRGcmVzaFZhbHVlSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hc24xQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhc24xT2JqID0gdGhpcy5hc24xQXJyYXlbaV07XG4gICAgICAgICAgICBoICs9IGFzbjFPYmouZ2V0RW5jb2RlZEhleCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaFYgPSBoO1xuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSwgS0pVUi5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vKipcbiAqIGNsYXNzIGZvciBBU04uMSBERVIgU2V0XG4gKiBAbmFtZSBLSlVSLmFzbjEuREVSU2V0XG4gKiBAY2xhc3MgY2xhc3MgZm9yIEFTTi4xIERFUiBTZXRcbiAqIEBleHRlbmRzIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWRcbiAqIEBkZXNjcmlwdGlvblxuICogPGJyLz5cbiAqIEFzIGZvciBhcmd1bWVudCAncGFyYW1zJyBmb3IgY29uc3RydWN0b3IsIHlvdSBjYW4gc3BlY2lmeSBvbmUgb2ZcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogPHVsPlxuICogPGxpPmFycmF5IC0gc3BlY2lmeSBhcnJheSBvZiBBU04xT2JqZWN0IHRvIHNldCBlbGVtZW50cyBvZiBjb250ZW50PC9saT5cbiAqIDxsaT5zb3J0ZmxhZyAtIGZsYWcgZm9yIHNvcnQgKGRlZmF1bHQ6IHRydWUpLiBBU04uMSBCRVIgaXMgbm90IHNvcnRlZCBpbiAnU0VUIE9GJy48L2xpPlxuICogPC91bD5cbiAqIE5PVEUxOiAncGFyYW1zJyBjYW4gYmUgb21pdHRlZC48YnIvPlxuICogTk9URTI6IHNvcnRmbGFnIGlzIHN1cHBvcnRlZCBzaW5jZSAxLjAuNS5cbiAqL1xuS0pVUi5hc24xLkRFUlNldCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIEtKVVIuYXNuMS5ERVJTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgdGhpcy5oVCA9IFwiMzFcIjtcbiAgICB0aGlzLnNvcnRGbGFnID0gdHJ1ZTsgLy8gaXRlbSBzaGFsbCBiZSBzb3J0ZWQgb25seSBpbiBBU04uMSBERVJcbiAgICB0aGlzLmdldEZyZXNoVmFsdWVIZXggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGEgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFzbjFBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFzbjFPYmogPSB0aGlzLmFzbjFBcnJheVtpXTtcbiAgICAgICAgICAgIGEucHVzaChhc24xT2JqLmdldEVuY29kZWRIZXgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc29ydEZsYWcgPT0gdHJ1ZSkgYS5zb3J0KCk7XG4gICAgICAgIHRoaXMuaFYgPSBhLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcy5zb3J0ZmxhZyAhPSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICBwYXJhbXMuc29ydGZsYWcgPT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNvcnRGbGFnID0gZmFsc2U7XG4gICAgfVxufTtcbllBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJTZXQsIEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLyoqXG4gKiBjbGFzcyBmb3IgQVNOLjEgREVSIFRhZ2dlZE9iamVjdFxuICogQG5hbWUgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdFxuICogQGNsYXNzIGNsYXNzIGZvciBBU04uMSBERVIgVGFnZ2VkT2JqZWN0XG4gKiBAZXh0ZW5kcyBLSlVSLmFzbjEuQVNOMU9iamVjdFxuICogQGRlc2NyaXB0aW9uXG4gKiA8YnIvPlxuICogUGFyYW1ldGVyICd0YWdOb05leCcgaXMgQVNOLjEgdGFnKFQpIHZhbHVlIGZvciB0aGlzIG9iamVjdC5cbiAqIEZvciBleGFtcGxlLCBpZiB5b3UgZmluZCAnWzFdJyB0YWcgaW4gYSBBU04uMSBkdW1wLFxuICogJ3RhZ05vSGV4JyB3aWxsIGJlICdhMScuXG4gKiA8YnIvPlxuICogQXMgZm9yIG9wdGlvbmFsIGFyZ3VtZW50ICdwYXJhbXMnIGZvciBjb25zdHJ1Y3RvciwgeW91IGNhbiBzcGVjaWZ5ICpBTlkqIG9mXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIDx1bD5cbiAqIDxsaT5leHBsaWNpdCAtIHNwZWNpZnkgdHJ1ZSBpZiB0aGlzIGlzIGV4cGxpY2l0IHRhZyBvdGhlcndpc2UgZmFsc2VcbiAqICAgICAoZGVmYXVsdCBpcyAndHJ1ZScpLjwvbGk+XG4gKiA8bGk+dGFnIC0gc3BlY2lmeSB0YWcgKGRlZmF1bHQgaXMgJ2EwJyB3aGljaCBtZWFucyBbMF0pPC9saT5cbiAqIDxsaT5vYmogLSBzcGVjaWZ5IEFTTjFPYmplY3Qgd2hpY2ggaXMgdGFnZ2VkPC9saT5cbiAqIDwvdWw+XG4gKiBAZXhhbXBsZVxuICogZDEgPSBuZXcgS0pVUi5hc24xLkRFUlVURjhTdHJpbmcoeydzdHInOidhJ30pO1xuICogZDIgPSBuZXcgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdCh7J29iaic6IGQxfSk7XG4gKiBoZXggPSBkMi5nZXRFbmNvZGVkSGV4KCk7XG4gKi9cbktKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmhUID0gXCJhMFwiO1xuICAgIHRoaXMuaFYgPSAnJztcbiAgICB0aGlzLmlzRXhwbGljaXQgPSB0cnVlO1xuICAgIHRoaXMuYXNuMU9iamVjdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdmFsdWUgYnkgYW4gQVNOMU9iamVjdFxuICAgICAqIEBuYW1lIHNldFN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0I1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNFeHBsaWNpdEZsYWcgZmxhZyBmb3IgZXhwbGljaXQvaW1wbGljaXQgdGFnXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSB0YWdOb0hleCBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgQVNOLjEgdGFnXG4gICAgICogQHBhcmFtIHtBU04xT2JqZWN0fSBhc24xT2JqZWN0IEFTTi4xIHRvIGVuY2Fwc3VsYXRlXG4gICAgICovXG4gICAgdGhpcy5zZXRBU04xT2JqZWN0ID0gZnVuY3Rpb24oaXNFeHBsaWNpdEZsYWcsIHRhZ05vSGV4LCBhc24xT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuaFQgPSB0YWdOb0hleDtcbiAgICAgICAgdGhpcy5pc0V4cGxpY2l0ID0gaXNFeHBsaWNpdEZsYWc7XG4gICAgICAgIHRoaXMuYXNuMU9iamVjdCA9IGFzbjFPYmplY3Q7XG4gICAgICAgIGlmICh0aGlzLmlzRXhwbGljaXQpIHtcbiAgICAgICAgICAgIHRoaXMuaFYgPSB0aGlzLmFzbjFPYmplY3QuZ2V0RW5jb2RlZEhleCgpO1xuICAgICAgICAgICAgdGhpcy5oVExWID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhWID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaFRMViA9IGFzbjFPYmplY3QuZ2V0RW5jb2RlZEhleCgpO1xuICAgICAgICAgICAgdGhpcy5oVExWID0gdGhpcy5oVExWLnJlcGxhY2UoL14uLi8sIHRhZ05vSGV4KTtcbiAgICAgICAgICAgIHRoaXMuaXNNb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RnJlc2hWYWx1ZUhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oVjtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1sndGFnJ10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5oVCA9IHBhcmFtc1sndGFnJ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbJ2V4cGxpY2l0J10gIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5pc0V4cGxpY2l0ID0gcGFyYW1zWydleHBsaWNpdCddO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zWydvYmonXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmFzbjFPYmplY3QgPSBwYXJhbXNbJ29iaiddO1xuICAgICAgICAgICAgdGhpcy5zZXRBU04xT2JqZWN0KHRoaXMuaXNFeHBsaWNpdCwgdGhpcy5oVCwgdGhpcy5hc24xT2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5ZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0LCBLSlVSLmFzbjEuQVNOMU9iamVjdCk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IEpTRW5jcnlwdFJTQUtleSB0aGF0IGV4dGVuZHMgVG9tIFd1J3MgUlNBIGtleSBvYmplY3QuXG4gKiBUaGlzIG9iamVjdCBpcyBqdXN0IGEgZGVjb3JhdG9yIGZvciBwYXJzaW5nIHRoZSBrZXkgcGFyYW1ldGVyXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGtleSAtIFRoZSBrZXkgaW4gc3RyaW5nIGZvcm1hdCwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmdcbiAqIHRoZSBwYXJhbWV0ZXJzIG5lZWRlZCB0byBidWlsZCBhIFJTQUtleSBvYmplY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEpTRW5jcnlwdFJTQUtleSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSlNFbmNyeXB0UlNBS2V5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEpTRW5jcnlwdFJTQUtleShrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gQ2FsbCB0aGUgc3VwZXIgY29uc3RydWN0b3IuXG4gICAgICAgIC8vICBSU0FLZXkuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gSWYgYSBrZXkga2V5IHdhcyBwcm92aWRlZC5cbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHN0cmluZy4uLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJzZUtleShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoSlNFbmNyeXB0UlNBS2V5Lmhhc1ByaXZhdGVLZXlQcm9wZXJ0eShrZXkpIHx8XG4gICAgICAgICAgICAgICAgSlNFbmNyeXB0UlNBS2V5Lmhhc1B1YmxpY0tleVByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHZhbHVlcyBmb3IgdGhlIGtleS5cbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJzZVByb3BlcnRpZXNGcm9tKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gcGFyc2UgYSBwZW0gZW5jb2RlZCBzdHJpbmcgY29udGFpbmluZyBib3RoIGEgcHVibGljIG9yIHByaXZhdGUga2V5LlxuICAgICAqIFRoZSBtZXRob2Qgd2lsbCB0cmFuc2xhdGUgdGhlIHBlbSBlbmNvZGVkIHN0cmluZyBpbiBhIGRlciBlbmNvZGVkIHN0cmluZyBhbmRcbiAgICAgKiB3aWxsIHBhcnNlIHByaXZhdGUga2V5IGFuZCBwdWJsaWMga2V5IHBhcmFtZXRlcnMuIFRoaXMgbWV0aG9kIGFjY2VwdHMgcHVibGljIGtleVxuICAgICAqIGluIHRoZSByc2FlbmNyeXB0aW9uIHBrY3MgIzEgZm9ybWF0IChvaWQ6IDEuMi44NDAuMTEzNTQ5LjEuMS4xKS5cbiAgICAgKlxuICAgICAqIEB0b2RvIENoZWNrIGhvdyBtYW55IHJzYSBmb3JtYXRzIHVzZSB0aGUgc2FtZSBmb3JtYXQgb2YgcGtjcyAjMS5cbiAgICAgKlxuICAgICAqIFRoZSBmb3JtYXQgaXMgZGVmaW5lZCBhczpcbiAgICAgKiBQdWJsaWNLZXlJbmZvIDo6PSBTRVFVRU5DRSB7XG4gICAgICogICBhbGdvcml0aG0gICAgICAgQWxnb3JpdGhtSWRlbnRpZmllcixcbiAgICAgKiAgIFB1YmxpY0tleSAgICAgICBCSVQgU1RSSU5HXG4gICAgICogfVxuICAgICAqIFdoZXJlIEFsZ29yaXRobUlkZW50aWZpZXIgaXM6XG4gICAgICogQWxnb3JpdGhtSWRlbnRpZmllciA6Oj0gU0VRVUVOQ0Uge1xuICAgICAqICAgYWxnb3JpdGhtICAgICAgIE9CSkVDVCBJREVOVElGSUVSLCAgICAgdGhlIE9JRCBvZiB0aGUgZW5jIGFsZ29yaXRobVxuICAgICAqICAgcGFyYW1ldGVycyAgICAgIEFOWSBERUZJTkVEIEJZIGFsZ29yaXRobSBPUFRJT05BTCAoTlVMTCBmb3IgUEtDUyAjMSlcbiAgICAgKiB9XG4gICAgICogYW5kIFB1YmxpY0tleSBpcyBhIFNFUVVFTkNFIGVuY2Fwc3VsYXRlZCBpbiBhIEJJVCBTVFJJTkdcbiAgICAgKiBSU0FQdWJsaWNLZXkgOjo9IFNFUVVFTkNFIHtcbiAgICAgKiAgIG1vZHVsdXMgICAgICAgICAgIElOVEVHRVIsICAtLSBuXG4gICAgICogICBwdWJsaWNFeHBvbmVudCAgICBJTlRFR0VSICAgLS0gZVxuICAgICAqIH1cbiAgICAgKiBpdCdzIHBvc3NpYmxlIHRvIGV4YW1pbmUgdGhlIHN0cnVjdHVyZSBvZiB0aGUga2V5cyBvYnRhaW5lZCBmcm9tIG9wZW5zc2wgdXNpbmdcbiAgICAgKiBhbiBhc24uMSBkdW1wZXIgYXMgdGhlIG9uZSB1c2VkIGhlcmUgdG8gcGFyc2UgdGhlIGNvbXBvbmVudHM6IGh0dHA6Ly9sYXBvLml0L2FzbjFqcy9cbiAgICAgKiBAYXJndW1lbnQge3N0cmluZ30gcGVtIHRoZSBwZW0gZW5jb2RlZCBzdHJpbmcsIGNhbiBpbmNsdWRlIHRoZSBCRUdJTi9FTkQgaGVhZGVyL2Zvb3RlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5wYXJzZUtleSA9IGZ1bmN0aW9uIChwZW0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBtb2R1bHVzID0gMDtcbiAgICAgICAgICAgIHZhciBwdWJsaWNfZXhwb25lbnQgPSAwO1xuICAgICAgICAgICAgdmFyIHJlSGV4ID0gL15cXHMqKD86WzAtOUEtRmEtZl1bMC05QS1GYS1mXVxccyopKyQvO1xuICAgICAgICAgICAgdmFyIGRlciA9IHJlSGV4LnRlc3QocGVtKSA/IEhleC5kZWNvZGUocGVtKSA6IEJhc2U2NC51bmFybW9yKHBlbSk7XG4gICAgICAgICAgICB2YXIgYXNuMSA9IEFTTjEuZGVjb2RlKGRlcik7XG4gICAgICAgICAgICAvLyBGaXhlcyBhIGJ1ZyB3aXRoIE9wZW5TU0wgMS4wKyBwcml2YXRlIGtleXNcbiAgICAgICAgICAgIGlmIChhc24xLnN1Yi5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBhc24xID0gYXNuMS5zdWJbMl0uc3ViWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFzbjEuc3ViLmxlbmd0aCA9PT0gOSkge1xuICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBwcml2YXRlIGtleS5cbiAgICAgICAgICAgICAgICBtb2R1bHVzID0gYXNuMS5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gYmlnaW50XG4gICAgICAgICAgICAgICAgdGhpcy5uID0gcGFyc2VCaWdJbnQobW9kdWx1cywgMTYpO1xuICAgICAgICAgICAgICAgIHB1YmxpY19leHBvbmVudCA9IGFzbjEuc3ViWzJdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGludFxuICAgICAgICAgICAgICAgIHRoaXMuZSA9IHBhcnNlSW50KHB1YmxpY19leHBvbmVudCwgMTYpO1xuICAgICAgICAgICAgICAgIHZhciBwcml2YXRlX2V4cG9uZW50ID0gYXNuMS5zdWJbM10uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gYmlnaW50XG4gICAgICAgICAgICAgICAgdGhpcy5kID0gcGFyc2VCaWdJbnQocHJpdmF0ZV9leHBvbmVudCwgMTYpO1xuICAgICAgICAgICAgICAgIHZhciBwcmltZTEgPSBhc24xLnN1Yls0XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgICAgICAgICB0aGlzLnAgPSBwYXJzZUJpZ0ludChwcmltZTEsIDE2KTtcbiAgICAgICAgICAgICAgICB2YXIgcHJpbWUyID0gYXNuMS5zdWJbNV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTsgLy8gYmlnaW50XG4gICAgICAgICAgICAgICAgdGhpcy5xID0gcGFyc2VCaWdJbnQocHJpbWUyLCAxNik7XG4gICAgICAgICAgICAgICAgdmFyIGV4cG9uZW50MSA9IGFzbjEuc3ViWzZdLmdldEhleFN0cmluZ1ZhbHVlKCk7IC8vIGJpZ2ludFxuICAgICAgICAgICAgICAgIHRoaXMuZG1wMSA9IHBhcnNlQmlnSW50KGV4cG9uZW50MSwgMTYpO1xuICAgICAgICAgICAgICAgIHZhciBleHBvbmVudDIgPSBhc24xLnN1Yls3XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgICAgICAgICB0aGlzLmRtcTEgPSBwYXJzZUJpZ0ludChleHBvbmVudDIsIDE2KTtcbiAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBhc24xLnN1Yls4XS5nZXRIZXhTdHJpbmdWYWx1ZSgpOyAvLyBiaWdpbnRcbiAgICAgICAgICAgICAgICB0aGlzLmNvZWZmID0gcGFyc2VCaWdJbnQoY29lZmZpY2llbnQsIDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFzbjEuc3ViLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBwdWJsaWMga2V5LlxuICAgICAgICAgICAgICAgIHZhciBiaXRfc3RyaW5nID0gYXNuMS5zdWJbMV07XG4gICAgICAgICAgICAgICAgdmFyIHNlcXVlbmNlID0gYml0X3N0cmluZy5zdWJbMF07XG4gICAgICAgICAgICAgICAgbW9kdWx1cyA9IHNlcXVlbmNlLnN1YlswXS5nZXRIZXhTdHJpbmdWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubiA9IHBhcnNlQmlnSW50KG1vZHVsdXMsIDE2KTtcbiAgICAgICAgICAgICAgICBwdWJsaWNfZXhwb25lbnQgPSBzZXF1ZW5jZS5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmUgPSBwYXJzZUludChwdWJsaWNfZXhwb25lbnQsIDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGUgcnNhIHBhcmFtZXRlcnMgaW4gYSBoZXggZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByc2Ega2V5LlxuICAgICAqXG4gICAgICogVGhlIHRyYW5zbGF0aW9uIGZvbGxvdyB0aGUgQVNOLjEgbm90YXRpb24gOlxuICAgICAqIFJTQVByaXZhdGVLZXkgOjo9IFNFUVVFTkNFIHtcbiAgICAgKiAgIHZlcnNpb24gICAgICAgICAgIFZlcnNpb24sXG4gICAgICogICBtb2R1bHVzICAgICAgICAgICBJTlRFR0VSLCAgLS0gblxuICAgICAqICAgcHVibGljRXhwb25lbnQgICAgSU5URUdFUiwgIC0tIGVcbiAgICAgKiAgIHByaXZhdGVFeHBvbmVudCAgIElOVEVHRVIsICAtLSBkXG4gICAgICogICBwcmltZTEgICAgICAgICAgICBJTlRFR0VSLCAgLS0gcFxuICAgICAqICAgcHJpbWUyICAgICAgICAgICAgSU5URUdFUiwgIC0tIHFcbiAgICAgKiAgIGV4cG9uZW50MSAgICAgICAgIElOVEVHRVIsICAtLSBkIG1vZCAocDEpXG4gICAgICogICBleHBvbmVudDIgICAgICAgICBJTlRFR0VSLCAgLS0gZCBtb2QgKHEtMSlcbiAgICAgKiAgIGNvZWZmaWNpZW50ICAgICAgIElOVEVHRVIsICAtLSAoaW52ZXJzZSBvZiBxKSBtb2QgcFxuICAgICAqIH1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAgREVSIEVuY29kZWQgU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcnNhIHByaXZhdGUga2V5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBKU0VuY3J5cHRSU0FLZXkucHJvdG90eXBlLmdldFByaXZhdGVCYXNlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFycmF5OiBbXG4gICAgICAgICAgICAgICAgbmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsgaW50OiAwIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5uIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGludDogdGhpcy5lIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5kIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5wIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5xIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5kbXAxIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5kbXExIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7IGJpZ2ludDogdGhpcy5jb2VmZiB9KVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VxID0gbmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHNlcS5nZXRFbmNvZGVkSGV4KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBiYXNlNjQgKHBlbSkgZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSBERVIgZW5jb2RlZCByZXByZXNlbnRhdGlvblxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIHdpdGhvdXQgaGVhZGVyIGFuZCBmb290ZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQcml2YXRlQmFzZUtleUI2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhleDJiNjQodGhpcy5nZXRQcml2YXRlQmFzZUtleSgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSByc2EgcGFyYW1ldGVycyBpbiBhIGhleCBlbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHJzYSBwdWJsaWMga2V5LlxuICAgICAqIFRoZSByZXByZXNlbnRhdGlvbiBmb2xsb3cgdGhlIEFTTi4xIG5vdGF0aW9uIDpcbiAgICAgKiBQdWJsaWNLZXlJbmZvIDo6PSBTRVFVRU5DRSB7XG4gICAgICogICBhbGdvcml0aG0gICAgICAgQWxnb3JpdGhtSWRlbnRpZmllcixcbiAgICAgKiAgIFB1YmxpY0tleSAgICAgICBCSVQgU1RSSU5HXG4gICAgICogfVxuICAgICAqIFdoZXJlIEFsZ29yaXRobUlkZW50aWZpZXIgaXM6XG4gICAgICogQWxnb3JpdGhtSWRlbnRpZmllciA6Oj0gU0VRVUVOQ0Uge1xuICAgICAqICAgYWxnb3JpdGhtICAgICAgIE9CSkVDVCBJREVOVElGSUVSLCAgICAgdGhlIE9JRCBvZiB0aGUgZW5jIGFsZ29yaXRobVxuICAgICAqICAgcGFyYW1ldGVycyAgICAgIEFOWSBERUZJTkVEIEJZIGFsZ29yaXRobSBPUFRJT05BTCAoTlVMTCBmb3IgUEtDUyAjMSlcbiAgICAgKiB9XG4gICAgICogYW5kIFB1YmxpY0tleSBpcyBhIFNFUVVFTkNFIGVuY2Fwc3VsYXRlZCBpbiBhIEJJVCBTVFJJTkdcbiAgICAgKiBSU0FQdWJsaWNLZXkgOjo9IFNFUVVFTkNFIHtcbiAgICAgKiAgIG1vZHVsdXMgICAgICAgICAgIElOVEVHRVIsICAtLSBuXG4gICAgICogICBwdWJsaWNFeHBvbmVudCAgICBJTlRFR0VSICAgLS0gZVxuICAgICAqIH1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBERVIgRW5jb2RlZCBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByc2EgcHVibGljIGtleVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQdWJsaWNCYXNlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmlyc3Rfc2VxdWVuY2UgPSBuZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHtcbiAgICAgICAgICAgIGFycmF5OiBbXG4gICAgICAgICAgICAgICAgbmV3IEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHsgb2lkOiBcIjEuMi44NDAuMTEzNTQ5LjEuMS4xXCIgfSksXG4gICAgICAgICAgICAgICAgbmV3IEtKVVIuYXNuMS5ERVJOdWxsKClcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzZWNvbmRfc2VxdWVuY2UgPSBuZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHtcbiAgICAgICAgICAgIGFycmF5OiBbXG4gICAgICAgICAgICAgICAgbmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsgYmlnaW50OiB0aGlzLm4gfSksXG4gICAgICAgICAgICAgICAgbmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsgaW50OiB0aGlzLmUgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBiaXRfc3RyaW5nID0gbmV3IEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcoe1xuICAgICAgICAgICAgaGV4OiBcIjAwXCIgKyBzZWNvbmRfc2VxdWVuY2UuZ2V0RW5jb2RlZEhleCgpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2VxID0gbmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7XG4gICAgICAgICAgICBhcnJheTogW1xuICAgICAgICAgICAgICAgIGZpcnN0X3NlcXVlbmNlLFxuICAgICAgICAgICAgICAgIGJpdF9zdHJpbmdcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZXEuZ2V0RW5jb2RlZEhleCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogYmFzZTY0IChwZW0pIGVuY29kZWQgdmVyc2lvbiBvZiB0aGUgREVSIGVuY29kZWQgcmVwcmVzZW50YXRpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiB3aXRob3V0IGhlYWRlciBhbmQgZm9vdGVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdFJTQUtleS5wcm90b3R5cGUuZ2V0UHVibGljQmFzZUtleUI2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhleDJiNjQodGhpcy5nZXRQdWJsaWNCYXNlS2V5KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogd3JhcCB0aGUgc3RyaW5nIGluIGJsb2NrIG9mIHdpZHRoIGNoYXJzLiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgcnNhIGtleXMgaXMgNjRcbiAgICAgKiBjaGFyYWN0ZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgdGhlIHBlbSBlbmNvZGVkIHN0cmluZyB3aXRob3V0IGhlYWRlciBhbmQgZm9vdGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt3aWR0aD02NF0gLSB0aGUgbGVuZ3RoIHRoZSBzdHJpbmcgaGFzIHRvIGJlIHdyYXBwZWQgYXRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSlNFbmNyeXB0UlNBS2V5LndvcmR3cmFwID0gZnVuY3Rpb24gKHN0ciwgd2lkdGgpIHtcbiAgICAgICAgd2lkdGggPSB3aWR0aCB8fCA2NDtcbiAgICAgICAgaWYgKCFzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZ2V4ID0gXCIoLnsxLFwiICsgd2lkdGggKyBcIn0pKCArfCRcXG4/KXwoLnsxLFwiICsgd2lkdGggKyBcIn0pXCI7XG4gICAgICAgIHJldHVybiBzdHIubWF0Y2goUmVnRXhwKHJlZ2V4LCBcImdcIikpLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgcGVtIGVuY29kZWQgcHJpdmF0ZSBrZXlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcGVtIGVuY29kZWQgcHJpdmF0ZSBrZXkgd2l0aCBoZWFkZXIvZm9vdGVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdFJTQUtleS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtleSA9IFwiLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLVxcblwiO1xuICAgICAgICBrZXkgKz0gSlNFbmNyeXB0UlNBS2V5LndvcmR3cmFwKHRoaXMuZ2V0UHJpdmF0ZUJhc2VLZXlCNjQoKSkgKyBcIlxcblwiO1xuICAgICAgICBrZXkgKz0gXCItLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLVwiO1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHBlbSBlbmNvZGVkIHB1YmxpYyBrZXlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcGVtIGVuY29kZWQgcHVibGljIGtleSB3aXRoIGhlYWRlci9mb290ZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5nZXRQdWJsaWNLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXkgPSBcIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXFxuXCI7XG4gICAgICAgIGtleSArPSBKU0VuY3J5cHRSU0FLZXkud29yZHdyYXAodGhpcy5nZXRQdWJsaWNCYXNlS2V5QjY0KCkpICsgXCJcXG5cIjtcbiAgICAgICAga2V5ICs9IFwiLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXCI7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgb2JqZWN0IGNvbnRhaW5zIHRoZSBuZWNlc3NhcnkgcGFyYW1ldGVycyB0byBwb3B1bGF0ZSB0aGUgcnNhIG1vZHVsdXNcbiAgICAgKiBhbmQgcHVibGljIGV4cG9uZW50IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmo9e31dIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gdGhlIHR3byBwdWJsaWMga2V5XG4gICAgICogcGFyYW1ldGVyc1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgbW9kdWx1cyBhbmQgdGhlIHB1YmxpYyBleHBvbmVudFxuICAgICAqIHByb3BlcnRpZXMgKG4gYW5kIGUpXG4gICAgICogQHRvZG8gY2hlY2sgZm9yIHR5cGVzIG9mIG4gYW5kIGUuIE4gc2hvdWxkIGJlIGEgcGFyc2VhYmxlIGJpZ0ludCBvYmplY3QsIEUgc2hvdWxkXG4gICAgICogYmUgYSBwYXJzZWFibGUgaW50ZWdlciBudW1iZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEpTRW5jcnlwdFJTQUtleS5oYXNQdWJsaWNLZXlQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgb2JqID0gb2JqIHx8IHt9O1xuICAgICAgICByZXR1cm4gKG9iai5oYXNPd25Qcm9wZXJ0eShcIm5cIikgJiZcbiAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShcImVcIikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIG9iamVjdCBjb250YWlucyBBTEwgdGhlIHBhcmFtZXRlcnMgb2YgYW4gUlNBIGtleS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iaj17fV0gLSBBbiBvYmplY3QgdGhhdCBtYXkgY29udGFpbiBuaW5lIHJzYSBrZXlcbiAgICAgKiBwYXJhbWV0ZXJzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBjb250YWlucyBhbGwgdGhlIHBhcmFtZXRlcnMgbmVlZGVkXG4gICAgICogQHRvZG8gY2hlY2sgZm9yIHR5cGVzIG9mIHRoZSBwYXJhbWV0ZXJzIGFsbCB0aGUgcGFyYW1ldGVycyBidXQgdGhlIHB1YmxpYyBleHBvbmVudFxuICAgICAqIHNob3VsZCBiZSBwYXJzZWFibGUgYmlnaW50IG9iamVjdHMsIHRoZSBwdWJsaWMgZXhwb25lbnQgc2hvdWxkIGJlIGEgcGFyc2VhYmxlIGludGVnZXIgbnVtYmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBKU0VuY3J5cHRSU0FLZXkuaGFzUHJpdmF0ZUtleVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBvYmogPSBvYmogfHwge307XG4gICAgICAgIHJldHVybiAob2JqLmhhc093blByb3BlcnR5KFwiblwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwiZVwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwiZFwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwicFwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwicVwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwiZG1wMVwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwiZG1xMVwiKSAmJlxuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KFwiY29lZmZcIikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIHByb3BlcnRpZXMgb2Ygb2JqIGluIHRoZSBjdXJyZW50IHJzYSBvYmplY3QuIE9iaiBzaG91bGQgQVQgTEVBU1RcbiAgICAgKiBpbmNsdWRlIHRoZSBtb2R1bHVzIGFuZCBwdWJsaWMgZXhwb25lbnQgKG4sIGUpIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHRoZSBvYmplY3QgY29udGFpbmluZyByc2EgcGFyYW1ldGVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSlNFbmNyeXB0UlNBS2V5LnByb3RvdHlwZS5wYXJzZVByb3BlcnRpZXNGcm9tID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB0aGlzLm4gPSBvYmoubjtcbiAgICAgICAgdGhpcy5lID0gb2JqLmU7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoXCJkXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmQgPSBvYmouZDtcbiAgICAgICAgICAgIHRoaXMucCA9IG9iai5wO1xuICAgICAgICAgICAgdGhpcy5xID0gb2JqLnE7XG4gICAgICAgICAgICB0aGlzLmRtcDEgPSBvYmouZG1wMTtcbiAgICAgICAgICAgIHRoaXMuZG1xMSA9IG9iai5kbXExO1xuICAgICAgICAgICAgdGhpcy5jb2VmZiA9IG9iai5jb2VmZjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEpTRW5jcnlwdFJTQUtleTtcbn0oUlNBS2V5KSk7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucyA9IHt9XSAtIEFuIG9iamVjdCB0byBjdXN0b21pemUgSlNFbmNyeXB0IGJlaGF2aW91clxuICogcG9zc2libGUgcGFyYW1ldGVycyBhcmU6XG4gKiAtIGRlZmF1bHRfa2V5X3NpemUgICAgICAgIHtudW1iZXJ9ICBkZWZhdWx0OiAxMDI0IHRoZSBrZXkgc2l6ZSBpbiBiaXRcbiAqIC0gZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQge3N0cmluZ30gIGRlZmF1bHQ6ICcwMTAwMDEnIHRoZSBoZXhhZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGV4cG9uZW50XG4gKiAtIGxvZyAgICAgICAgICAgICAgICAgICAgIHtib29sZWFufSBkZWZhdWx0OiBmYWxzZSB3aGV0aGVyIGxvZyB3YXJuL2Vycm9yIG9yIG5vdFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBKU0VuY3J5cHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNFbmNyeXB0KG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSA9IHBhcnNlSW50KG9wdGlvbnMuZGVmYXVsdF9rZXlfc2l6ZSwgMTApIHx8IDEwMjQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQgPSBvcHRpb25zLmRlZmF1bHRfcHVibGljX2V4cG9uZW50IHx8IFwiMDEwMDAxXCI7IC8vIDY1NTM3IGRlZmF1bHQgb3BlbnNzbCBwdWJsaWMgZXhwb25lbnQgZm9yIHJzYSBrZXkgdHlwZVxuICAgICAgICB0aGlzLmxvZyA9IG9wdGlvbnMubG9nIHx8IGZhbHNlO1xuICAgICAgICAvLyBUaGUgcHJpdmF0ZSBhbmQgcHVibGljIGtleS5cbiAgICAgICAgdGhpcy5rZXkgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gc2V0IHRoZSByc2Ega2V5IHBhcmFtZXRlciAob25lIG1ldGhvZCBpcyBlbm91Z2ggdG8gc2V0IGJvdGggdGhlIHB1YmxpY1xuICAgICAqIGFuZCB0aGUgcHJpdmF0ZSBrZXksIHNpbmNlIHRoZSBwcml2YXRlIGtleSBjb250YWlucyB0aGUgcHVibGljIGtleSBwYXJhbWVudGVycylcbiAgICAgKiBMb2cgYSB3YXJuaW5nIGlmIGxvZ3MgYXJlIGVuYWJsZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IGtleSB0aGUgcGVtIGVuY29kZWQgc3RyaW5nIG9yIGFuIG9iamVjdCAod2l0aCBvciB3aXRob3V0IGhlYWRlci9mb290ZXIpXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUuc2V0S2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodGhpcy5sb2cgJiYgdGhpcy5rZXkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkEga2V5IHdhcyBhbHJlYWR5IHNldCwgb3ZlcnJpZGluZyBleGlzdGluZy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZXkgPSBuZXcgSlNFbmNyeXB0UlNBS2V5KGtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm94eSBtZXRob2QgZm9yIHNldEtleSwgZm9yIGFwaSBjb21wYXRpYmlsaXR5XG4gICAgICogQHNlZSBzZXRLZXlcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0LnByb3RvdHlwZS5zZXRQcml2YXRlS2V5ID0gZnVuY3Rpb24gKHByaXZrZXkpIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBrZXkuXG4gICAgICAgIHRoaXMuc2V0S2V5KHByaXZrZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJveHkgbWV0aG9kIGZvciBzZXRLZXksIGZvciBhcGkgY29tcGF0aWJpbGl0eVxuICAgICAqIEBzZWUgc2V0S2V5XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUuc2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKHB1YmtleSkge1xuICAgICAgICAvLyBTZXRzIHRoZSBwdWJsaWMga2V5LlxuICAgICAgICB0aGlzLnNldEtleShwdWJrZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJveHkgbWV0aG9kIGZvciBSU0FLZXkgb2JqZWN0J3MgZGVjcnlwdCwgZGVjcnlwdCB0aGUgc3RyaW5nIHVzaW5nIHRoZSBwcml2YXRlXG4gICAgICogY29tcG9uZW50cyBvZiB0aGUgcnNhIGtleSBvYmplY3QuIE5vdGUgdGhhdCBpZiB0aGUgb2JqZWN0IHdhcyBub3Qgc2V0IHdpbGwgYmUgY3JlYXRlZFxuICAgICAqIG9uIHRoZSBmbHkgKGJ5IHRoZSBnZXRLZXkgbWV0aG9kKSB1c2luZyB0aGUgcGFyYW1ldGVycyBwYXNzZWQgaW4gdGhlIEpTRW5jcnlwdCBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgYmFzZTY0IGVuY29kZWQgY3J5cHRlZCBzdHJpbmcgdG8gZGVjcnlwdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGRlY3J5cHRlZCBzdHJpbmdcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0LnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIGRlY3J5cHRlZCBzdHJpbmcuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5kZWNyeXB0KGI2NHRvaGV4KHN0cikpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm94eSBtZXRob2QgZm9yIFJTQUtleSBvYmplY3QncyBlbmNyeXB0LCBlbmNyeXB0IHRoZSBzdHJpbmcgdXNpbmcgdGhlIHB1YmxpY1xuICAgICAqIGNvbXBvbmVudHMgb2YgdGhlIHJzYSBrZXkgb2JqZWN0LiBOb3RlIHRoYXQgaWYgdGhlIG9iamVjdCB3YXMgbm90IHNldCB3aWxsIGJlIGNyZWF0ZWRcbiAgICAgKiBvbiB0aGUgZmx5IChieSB0aGUgZ2V0S2V5IG1ldGhvZCkgdXNpbmcgdGhlIHBhcmFtZXRlcnMgcGFzc2VkIGluIHRoZSBKU0VuY3J5cHQgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBzdHJpbmcgdG8gZW5jcnlwdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVuY3J5cHRlZCBzdHJpbmcgZW5jb2RlZCBpbiBiYXNlNjRcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0LnByb3RvdHlwZS5lbmNyeXB0ID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIGVuY3J5cHRlZCBzdHJpbmcuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaGV4MmI2NCh0aGlzLmdldEtleSgpLmVuY3J5cHQoc3RyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb3h5IG1ldGhvZCBmb3IgUlNBS2V5IG9iamVjdCdzIHNpZ24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIHNpZ25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaWdlc3RNZXRob2QgaGFzaCBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlnZXN0TmFtZSB0aGUgbmFtZSBvZiB0aGUgaGFzaCBhbGdvcml0aG1cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBzaWduYXR1cmUgZW5jb2RlZCBpbiBiYXNlNjRcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0LnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gKHN0ciwgZGlnZXN0TWV0aG9kLCBkaWdlc3ROYW1lKSB7XG4gICAgICAgIC8vIHJldHVybiB0aGUgUlNBIHNpZ25hdHVyZSBvZiAnc3RyJyBpbiAnaGV4JyBmb3JtYXQuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaGV4MmI2NCh0aGlzLmdldEtleSgpLnNpZ24oc3RyLCBkaWdlc3RNZXRob2QsIGRpZ2VzdE5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJveHkgbWV0aG9kIGZvciBSU0FLZXkgb2JqZWN0J3MgdmVyaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgdGhlIHN0cmluZyB0byB2ZXJpZnlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2lnbmF0dXJlIHRoZSBzaWduYXR1cmUgZW5jb2RlZCBpbiBiYXNlNjQgdG8gY29tcGFyZSB0aGUgc3RyaW5nIHRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnZXN0TWV0aG9kIGhhc2ggbWV0aG9kXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgZGF0YSBhbmQgc2lnbmF0dXJlIG1hdGNoXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gKHN0ciwgc2lnbmF0dXJlLCBkaWdlc3RNZXRob2QpIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBkZWNyeXB0ZWQgJ2RpZ2VzdCcgb2YgdGhlIHNpZ25hdHVyZS5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEtleSgpLnZlcmlmeShzdHIsIGI2NHRvaGV4KHNpZ25hdHVyZSksIGRpZ2VzdE1ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgSlNFbmNyeXB0UlNBS2V5IG9iamVjdC4gSWYgaXQgZG9lc24ndCBleGlzdHMgYSBuZXcgb2JqZWN0XG4gICAgICogd2lsbCBiZSBjcmVhdGVkIGFuZCByZXR1cm5lZFxuICAgICAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYl0gdGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBpZiB3ZSB3YW50IHRoZSBrZXkgdG8gYmUgZ2VuZXJhdGVkXG4gICAgICogaW4gYW4gYXN5bmMgZmFzaGlvblxuICAgICAqIEByZXR1cm5zIHtKU0VuY3J5cHRSU0FLZXl9IHRoZSBKU0VuY3J5cHRSU0FLZXkgb2JqZWN0XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIC8vIE9ubHkgY3JlYXRlIG5ldyBpZiBpdCBkb2VzIG5vdCBleGlzdC5cbiAgICAgICAgaWYgKCF0aGlzLmtleSkge1xuICAgICAgICAgICAgLy8gR2V0IGEgbmV3IHByaXZhdGUga2V5LlxuICAgICAgICAgICAgdGhpcy5rZXkgPSBuZXcgSlNFbmNyeXB0UlNBS2V5KCk7XG4gICAgICAgICAgICBpZiAoY2IgJiYge30udG9TdHJpbmcuY2FsbChjYikgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIikge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5LmdlbmVyYXRlQXN5bmModGhpcy5kZWZhdWx0X2tleV9zaXplLCB0aGlzLmRlZmF1bHRfcHVibGljX2V4cG9uZW50LCBjYik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGtleS5cbiAgICAgICAgICAgIHRoaXMua2V5LmdlbmVyYXRlKHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSwgdGhpcy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMua2V5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHByaXZhdGUga2V5XG4gICAgICogSWYgdGhlIGtleSBkb2Vzbid0IGV4aXN0cyBhIG5ldyBrZXkgd2lsbCBiZSBjcmVhdGVkXG4gICAgICogQHJldHVybnMge3N0cmluZ30gcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHByaXZhdGUga2V5IFdJVEggaGVhZGVyIGFuZCBmb290ZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgSlNFbmNyeXB0LnByb3RvdHlwZS5nZXRQcml2YXRlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHByaXZhdGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBrZXkuXG4gICAgICAgIHJldHVybiB0aGlzLmdldEtleSgpLmdldFByaXZhdGVLZXkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcml2YXRlIGtleVxuICAgICAqIElmIHRoZSBrZXkgZG9lc24ndCBleGlzdHMgYSBuZXcga2V5IHdpbGwgYmUgY3JlYXRlZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHBlbSBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcml2YXRlIGtleSBXSVRIT1VUIGhlYWRlciBhbmQgZm9vdGVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleUI2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBwcml2YXRlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMga2V5LlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQcml2YXRlQmFzZUtleUI2NCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHB1YmxpYyBrZXlcbiAgICAgKiBJZiB0aGUga2V5IGRvZXNuJ3QgZXhpc3RzIGEgbmV3IGtleSB3aWxsIGJlIGNyZWF0ZWRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGtleSBXSVRIIGhlYWRlciBhbmQgZm9vdGVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHByaXZhdGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBrZXkuXG4gICAgICAgIHJldHVybiB0aGlzLmdldEtleSgpLmdldFB1YmxpY0tleSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGVtIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHB1YmxpYyBrZXlcbiAgICAgKiBJZiB0aGUga2V5IGRvZXNuJ3QgZXhpc3RzIGEgbmV3IGtleSB3aWxsIGJlIGNyZWF0ZWRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBwZW0gZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcHVibGljIGtleSBXSVRIT1VUIGhlYWRlciBhbmQgZm9vdGVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIEpTRW5jcnlwdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5QjY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHByaXZhdGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBrZXkuXG4gICAgICAgIHJldHVybiB0aGlzLmdldEtleSgpLmdldFB1YmxpY0Jhc2VLZXlCNjQoKTtcbiAgICB9O1xuICAgIEpTRW5jcnlwdC52ZXJzaW9uID0gXCIzLjAuMC1yYy4xXCI7XG4gICAgcmV0dXJuIEpTRW5jcnlwdDtcbn0oKSk7XG5cbndpbmRvdy5KU0VuY3J5cHQgPSBKU0VuY3J5cHQ7XG5cbmV4cG9ydHMuSlNFbmNyeXB0ID0gSlNFbmNyeXB0O1xuZXhwb3J0cy5kZWZhdWx0ID0gSlNFbmNyeXB0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsVUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///254\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(74);\n__webpack_require__(64);\nmodule.exports = __webpack_require__(256);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanM/NDY5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yJyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///255\n")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(20);\nvar get = __webpack_require__(126);\nmodule.exports = __webpack_require__(4).getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLmpzPzdkN2IiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0ID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBpdGVyRm4gPSBnZXQoaXQpO1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgcmV0dXJuIGFuT2JqZWN0KGl0ZXJGbi5jYWxsKGl0KSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///256\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _stringify = _interopRequireDefault(__webpack_require__(45));\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\n__webpack_require__(43);\n\n__webpack_require__(44);\n\n__webpack_require__(41);\n\n__webpack_require__(46);\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _v6sdk = __webpack_require__(84);\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nvar _bodyType = _interopRequireDefault(__webpack_require__(166));\n\nvar Mqtt = function Mqtt() {\n  var _this = this;\n\n  (0, _classCallCheck2[\"default\"])(this, Mqtt);\n  (0, _defineProperty2[\"default\"])(this, \"onConnectEvent\", function (cb) {\n    _this.onConnect = cb;\n  });\n  (0, _defineProperty2[\"default\"])(this, \"onMessageEvent\", function (cb) {\n    _this.onMessage = cb;\n  });\n  (0, _defineProperty2[\"default\"])(this, \"connect\", function (params, msgBodyCodec) {\n    var that = _this;\n    var session = new _v6sdk.v6sdk.Session(params);\n    that.session = session;\n    that.msgBodyCodec = msgBodyCodec;\n\n    session.onStateChange = function (session, newStateCode, oldStateCode, reason, packet, packetContent) {\n      console.log('onStateChange', session, _v6sdk.v6sdk.CLIENT_STATE[newStateCode] + '/' + newStateCode, oldStateCode, reason, packet, packetContent);\n      var newState = _v6sdk.v6sdk.CLIENT_STATE[newStateCode],\n          oldState = _v6sdk.v6sdk.CLIENT_STATE[oldStateCode];\n      reason && console.warn(reason);\n      packetContent && console.warn(packetContent);\n\n      try {\n        that.onState && that.onState(newState, {\n          reason: reason,\n          packet: packet,\n          content: packetContent\n        });\n      } catch (e) {\n        console.warn('MQTT状态变更出错：' + e);\n      } //通知监听者\n\n\n      switch (oldState) {\n        case 'NEW':\n          // 正在建立连接\n          if (newState == 'CONNECTING') {\n            that.state = 'CONNECTING';\n          }\n\n          break;\n\n        case 'CONNECTING':\n          if (newState == 'CONNECTED') {\n            // 成功连接\n            that.state = 'CONNECTED';\n            that.retryConnectCount = 0;\n          } else if (newState == 'CONNECT_FAILED') {\n            // 连接失败\n            that.state = 'CONNECT_FAILED';\n\n            if (reason && 'CLOSE_ABNORMAL,TRY_AGAIN_LATER,'.indexOf(reason + ',') >= 0) {\n              /**合法的间隔尝试重连3次，不成功则废弃*/\n              reason = that.afterCloseAbnormal(reason);\n            }\n          }\n\n          break;\n\n        case 'CONNECT_FAILED':\n          // 正在尝试重连\n          if (newState == 'CONNECTING') {\n            that.state = 'RECONNECTING';\n          }\n\n          break;\n\n        case 'CONNECTED':\n          // 已断开\n          if (newState == 'DISCONNECTED') {\n            that.state = 'DISCONNECTED';\n\n            if (reason && 'CLOSE_ABNORMAL,TRY_AGAIN_LATER,'.indexOf(reason + ',') >= 0) {\n              /**被动断开需要尝试重连*/\n              reason = that.afterCloseAbnormal(reason);\n            }\n          }\n\n          if (newState == 'CLOSING') {\n            that.state = 'CLOSING';\n          }\n\n          break;\n\n        case 'DISCONNECTED':\n          // 正在尝试重连\n          if (newState == 'CONNECTING') {\n            that.state = 'RECONNECTING';\n          }\n\n          break;\n\n        case 'CLOSING':\n          // 已关闭\n          if (newState == 'CLOSED') {\n            that.state = 'CLOSED';\n          }\n\n          break;\n\n        default:\n      }\n\n      that.connectStatusCallback(reason);\n    };\n\n    session.onServerPublish = function (session, type, serverPublish) {\n      console.log('onServerPublish', session, type, serverPublish); // 发出【已收到】ACK\n\n      this.sendReport({\n        receivedMsgId: serverPublish.lastMsgId,\n        topic: serverPublish.topic\n      }); // 目前接收publish只有type == 1，发送publish有1，2，3三种（message，report，remote_offline）\n      // 消息下行\n\n      if (type === 1) {\n        // MESSAGE\n        console.log('===== get message：', serverPublish);\n\n        for (var i = 0; i < serverPublish.messages.length; i++) {\n          var msg = serverPublish.messages[i];\n          msg.msgIdStr = msg.msgId.toString(10);\n          msg.ownerIdStr = msg.ownerId.toString(10);\n\n          if (msg.content.contentBuffer) {\n            window.msgBodyCodec = msgBodyCodec;\n            window.test = msg.content.contentBuffer; // console.log('msgData', msgBodyCodec.decode('text/plain', msg.content.contentBuffer))\n\n            var msgData = JSON.parse(_common[\"default\"].asString(msg.content.contentBuffer));\n            msgData.time = msg.time;\n            msgData.direction = msg.direction;\n            msg.content.body = msgData;\n          }\n        } // 通知收听者\n\n\n        try {\n          console.log('====== 收到的消息处理后的结果：', serverPublish);\n          that.onMessage && that.onMessage('SERVER_PUBLISH', serverPublish);\n        } catch (e) {\n          console.warn('处理消息时出错：' + e);\n        }\n      } // 上行需要\n      else if (type === 2) {\n          //REPORT\n          console.log('收到PUBLISH:REPORT 报告如下：');\n          console.log(serverPublish);\n        } else if (type === 3) {\n          //REMOVE_OFFLINE\n          console.log('收到PUBLISH:REMOVE_OFFLINE 通知如下：');\n          console.log(serverPublish);\n        } else {\n          console.log('收到PUBLISH:OTHER 通知如下：');\n          console.log(serverPublish);\n        }\n    };\n\n    that.connectStatusCallback = function (reason) {\n      that.session = session;\n      var status = null,\n          desc = reason ? reason : that.state;\n\n      switch (that.state) {\n        case 'CONNECTING':\n          //连接中\n          status = 101;\n          break;\n\n        case 'CONNECTED':\n          //连接成功\n          status = 1;\n          break;\n\n        case 'CONNECT_FAILED':\n          //连接失败\n          status = -1;\n          break;\n\n        case 'RECONNECTING':\n          //重连中（失败后重连）\n          status = 1011;\n          break;\n\n        case 'DISCONNECTED':\n          //断开连接\n          status = 3;\n          break;\n\n        case 'CLOSING':\n          //正在关闭连接\n          status = 102;\n          break;\n\n        case 'CLOSED':\n          //已关闭\n          status = 2;\n          break;\n      }\n\n      if (that.onConnect) {\n        that.onConnect(status, desc);\n      }\n    };\n\n    that.connectCallback = function (ack) {\n      that.session = session; // if (ack.code === 200) {\n      //     console.log('MQTT连接成功');\n      //     that.ready = true;\n      //     if(that.onConnect){\n      //         that.onConnect(200);\n      //     }\n      // } else {\n      //     console.warn('MQTT连接失败:' + ack.code);\n      //     if(that.onConnect){\n      //         that.onConnect(ack.code);\n      //     }\n      // }\n    };\n\n    that.afterCloseAbnormal = function (reason) {\n      /**被动断开需要尝试重连*/\n      var thisRetryConnectCount = that.retryConnectCount + 1;\n\n      if (that.retryConnectCount >= 3) {\n        console.log('已达最大被动断开需要尝试重连次数：' + that.retryConnectCount);\n        reason = reason + '  已达最大被动断开需要尝试重连次数：' + that.retryConnectCount;\n        return reason;\n      }\n\n      var delay = 3;\n      setTimeout(function () {\n        var self = that;\n        console.log('开始第' + thisRetryConnectCount + '次被动断开重连');\n        self.session.connect(null, self.connectCallback);\n      }, delay * 1000);\n      that.retryConnectCount++;\n      return reason;\n    };\n\n    session.connect(null, that.connectCallback);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"_beforeSendMessage\", function (msg) {\n    // 校验消息参数\n    if (!msg) {\n      console.warn('消息上行：请求报文缺失');\n      return false;\n    }\n\n    if (!msg.content) {\n      console.warn('消息上行：message.content参数缺失');\n      return false;\n    }\n\n    if (!msg.content.contentBuffer) {\n      console.warn('消息上行：message.content.contentBuffer参数缺失');\n      return false;\n    }\n\n    if (!msg.content.contentType) {\n      console.warn('消息上行：message.content.contentType参数缺失');\n      return false;\n    }\n\n    if (!msg.content.fromUri) {\n      console.warn('消息上行：message.content.fromUri参数缺失');\n      return false;\n    }\n\n    if (!msg.content.fromEpid) {\n      console.warn('消息上行：message.content.fromEpid参数缺失');\n      return false;\n    }\n\n    if (!msg.content.uuid) {\n      console.warn('消息上行：message.content.uuid参数缺失');\n      return false;\n    }\n\n    if (!msg.receivers || !msg.receivers.length) {\n      console.warn('消息上行：message.receivers参数缺失');\n      return false;\n    }\n\n    for (var i = 0; i < msg.receivers.length; i++) {\n      if (!msg.receivers[i].receiver.toUri) {\n        console.warn('消息上行：msg.receivers[' + i + '].receiver.toUri参数缺失');\n        return false;\n      }\n    }\n\n    if (!msg.messageType) {\n      console.warn('消息上行：message.messageType参数缺失');\n      return false;\n    }\n\n    if (!msg.topic) {\n      console.warn('消息上行：message.topic参数缺失');\n      return false;\n    }\n\n    return true;\n  });\n  (0, _defineProperty2[\"default\"])(this, \"_send\", function (message, publishSendAckHandler) {\n    var that = this;\n    that.session.sendMessage(message, function (ackMsg) {\n      console.log('收到PUBLISH:SEND ACK如下：');\n\n      if (publishSendAckHandler && typeof publishSendAckHandler == 'function') {\n        if (ackMsg.msgId) {\n          ackMsg['msgIdStr'] = ackMsg.msgId.toString(10);\n        }\n\n        if (ackMsg.msgTime) {\n          ackMsg['msgTimeStamp'] = (0, _parseInt2[\"default\"])(ackMsg.msgTime.toString(10).slice(0, -4));\n        }\n\n        ackMsg.status = that.SEND_ACK_STATUS[ackMsg.code];\n        publishSendAckHandler.apply(that, [message, ackMsg]);\n      }\n\n      console.log(ackMsg);\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"sendText\", function (msg, publishSendAckHandler) {\n    var that = _this,\n        contentType = 'text/plain';\n\n    if (!that.session) {\n      console.warn('未建立连接');\n      return false;\n    } // if (!that._beforeSendMessage(msg)) {\n    //   console.warn('校验消息参数未通过', msg)\n    //   return false\n    // }\n    // 生成消息体、组装消息\n\n\n    var contentBuffer = that.msgBodyCodec.encode(contentType, (0, _stringify[\"default\"])(msg.content.contentBuffer));\n    var message = msg;\n    message.content.contentBuffer = contentBuffer; // // 处理群@扩展字段buffer\n    // if (msg.content.extensions) {\n    //   var extensions = []\n    //   for (var i = 0; i < msg.content.extensions.length; i++) {\n    //     var item = msg.content.extensions[i]\n    //     var key = item.key\n    //     var data = BODY_TYPE['extension_' + key]\n    //       ? that.msgBodyCodec.encode('extension_' + key, item.data)\n    //       : item.data\n    //     if (!BODY_TYPE['extension_' + key]) {\n    //       console.warn('不支持发送该扩展pb格式:extension_' + key)\n    //     }\n    //     extensions.push({\n    //       key: key,\n    //       data: data,\n    //     })\n    //   }\n    //   message.content.extensions = extensions\n    // }\n    // 发送\n\n    that._send(message, publishSendAckHandler);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"sendImage\", function (msg, publishSendAckHandler) {\n    var contentType = 'image/*';\n\n    if (!that.session) {\n      console.warn('未建立通话');\n      return false;\n    }\n\n    if (!that._beforeSendMessage(msg)) {\n      console.warn('校验消息参数未通过', msg);\n      return false;\n    } // 生成消息体、组装消息\n\n\n    if (msg.content.body.thumb) {\n      delete msg.content.body.thumb;\n    }\n\n    var contentBuffer = that.msgBodyCodec.encode(contentType, msg.content.body);\n    var message = {\n      content: {\n        contentBuffer: contentBuffer,\n        fromUri: msg.content.fromUri,\n        fromNickname: msg.content.fromNickname,\n        uuid: msg.content.uuid,\n        contentType: contentType\n      },\n      messageType: msg.messageType,\n      peerUri: msg.peerUri,\n      receivers: msg.content.receivers,\n      topic: 'SF'\n    }; // 发送\n\n    that._send(message, publishSendAckHandler);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"answer\", function (report) {\n    var self = this;\n    self.session.sendReport(report, function (ackMsg) {// console.log('收到PUBLISH:REPORT ACK如下：');\n      // console.log(ackMsg);\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"reDial\", function (password) {\n    var self = this;\n\n    if (password) {\n      self.session.updateOption({\n        password: password\n      });\n    }\n\n    self.session.connect(null, self.connectCallback);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"quit\", function () {\n    var self = this;\n    self.session.close('退出连接');\n  });\n  (0, _defineProperty2[\"default\"])(this, \"connectStatus\", function () {\n    return this.session ? true : false;\n  });\n  (0, _defineProperty2[\"default\"])(this, \"SEND_ACK_STATUS\", function (SEND_ACK_STATUS) {\n    SEND_ACK_STATUS[SEND_ACK_STATUS['ACCEPTED'] = 202] = 'ACCEPTED';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['BAD_REQUEST'] = 400] = 'BAD_REQUEST';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['INCONSISTENT'] = 403] = 'INCONSISTENT';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['DUPLICATE_SEND'] = 409] = 'DUPLICATE_SEND';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['CONTENT_TOO_LARGE'] = 413] = 'CONTENT_TOO_LARGE';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['URI_TOO_LONG'] = 414] = 'URI_TOO_LONG';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['UNSUPPORTED_CONTENT'] = 415] = 'UNSUPPORTED_CONTENT';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['UNSUPPORTED_URI_SCHEME'] = 416] = 'UNSUPPORTED_URI_SCHEME';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['BAD_EXTENSION'] = 420] = 'BAD_EXTENSION';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['UNAVAILABLE_FOR_LEGAL_REASONS'] = 451] = 'UNAVAILABLE_FOR_LEGAL_REASONS';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['SERVER_ERROR'] = 500] = 'SERVER_ERROR';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['SERVICE_UNAVAILABLE'] = 503] = 'SERVICE_UNAVAILABLE';\n    SEND_ACK_STATUS[SEND_ACK_STATUS['SERVER_TIMEOUT'] = 504] = 'SERVER_TIMEOUT';\n  });\n\n  _v6sdk.v6sdk.setLogLevel(_v6sdk.v6sdk.LogLevel.INFO);\n\n  this.onConnect = null;\n  this.onState = null;\n  this.onMessage = null;\n  this.state = 'NEW'; // 记录当前通话状态，初始为NEW\n\n  this.session = null;\n  this.connectCallback = null;\n  this.connectStatusCallback = null;\n  this.retryConnectCount = 0;\n  this.ready = false;\n} //注册回调（连接状态监听）\n;\n\nvar _default = new Mqtt();\n\nexports[\"default\"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2xpYnJhcnkvbXF0dC9tcXR0LmpzP2Q4NmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjZzZGsgfSBmcm9tICcuL3Y2c2RrJ1xuaW1wb3J0IENvbW1vbiBmcm9tICcuLi8uLi91dGlsL2NvbW1vbidcbmltcG9ydCBCT0RZX1RZUEUgZnJvbSAnLi9ib2R5VHlwZSdcbmNsYXNzIE1xdHQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB2NnNkay5zZXRMb2dMZXZlbCh2NnNkay5Mb2dMZXZlbC5JTkZPKVxuICAgIHRoaXMub25Db25uZWN0ID0gbnVsbFxuICAgIHRoaXMub25TdGF0ZSA9IG51bGxcbiAgICB0aGlzLm9uTWVzc2FnZSA9IG51bGxcbiAgICB0aGlzLnN0YXRlID0gJ05FVycgLy8g6K6w5b2V5b2T5YmN6YCa6K+d54q25oCB77yM5Yid5aeL5Li6TkVXXG4gICAgdGhpcy5zZXNzaW9uID0gbnVsbFxuICAgIHRoaXMuY29ubmVjdENhbGxiYWNrID0gbnVsbFxuICAgIHRoaXMuY29ubmVjdFN0YXR1c0NhbGxiYWNrID0gbnVsbFxuICAgIHRoaXMucmV0cnlDb25uZWN0Q291bnQgPSAwXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlXG4gIH1cblxuICAvL+azqOWGjOWbnuiwg++8iOi/nuaOpeeKtuaAgeebkeWQrO+8iVxuICBvbkNvbm5lY3RFdmVudCA9IGNiID0+IHtcbiAgICB0aGlzLm9uQ29ubmVjdCA9IGNiXG4gIH1cbiAgLy/ms6jlhozlm57osIPvvIjmtojmga/nm5HlkKzvvIlcbiAgb25NZXNzYWdlRXZlbnQgPSBjYiA9PiB7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBjYlxuICB9XG5cbiAgY29ubmVjdCA9IChwYXJhbXMsIG1zZ0JvZHlDb2RlYykgPT4ge1xuICAgIGxldCB0aGF0ID0gdGhpc1xuICAgIGxldCBzZXNzaW9uID0gbmV3IHY2c2RrLlNlc3Npb24ocGFyYW1zKVxuICAgIHRoYXQuc2Vzc2lvbiA9IHNlc3Npb25cbiAgICB0aGF0Lm1zZ0JvZHlDb2RlYyA9IG1zZ0JvZHlDb2RlY1xuICAgIHNlc3Npb24ub25TdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uKFxuICAgICAgc2Vzc2lvbixcbiAgICAgIG5ld1N0YXRlQ29kZSxcbiAgICAgIG9sZFN0YXRlQ29kZSxcbiAgICAgIHJlYXNvbixcbiAgICAgIHBhY2tldCxcbiAgICAgIHBhY2tldENvbnRlbnQsXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnLFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICB2NnNkay5DTElFTlRfU1RBVEVbbmV3U3RhdGVDb2RlXSArICcvJyArIG5ld1N0YXRlQ29kZSxcbiAgICAgICAgb2xkU3RhdGVDb2RlLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHBhY2tldCxcbiAgICAgICAgcGFja2V0Q29udGVudCxcbiAgICAgIClcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHY2c2RrLkNMSUVOVF9TVEFURVtuZXdTdGF0ZUNvZGVdLFxuICAgICAgICBvbGRTdGF0ZSA9IHY2c2RrLkNMSUVOVF9TVEFURVtvbGRTdGF0ZUNvZGVdXG4gICAgICByZWFzb24gJiYgY29uc29sZS53YXJuKHJlYXNvbilcbiAgICAgIHBhY2tldENvbnRlbnQgJiYgY29uc29sZS53YXJuKHBhY2tldENvbnRlbnQpXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoYXQub25TdGF0ZSAmJlxuICAgICAgICAgIHRoYXQub25TdGF0ZShuZXdTdGF0ZSwge1xuICAgICAgICAgICAgcmVhc29uOiByZWFzb24sXG4gICAgICAgICAgICBwYWNrZXQ6IHBhY2tldCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHBhY2tldENvbnRlbnQsXG4gICAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdNUVRU54q25oCB5Y+Y5pu05Ye66ZSZ77yaJyArIGUpXG4gICAgICB9XG5cbiAgICAgIC8v6YCa55+l55uR5ZCs6ICFXG4gICAgICBzd2l0Y2ggKG9sZFN0YXRlKSB7XG4gICAgICAgIGNhc2UgJ05FVyc6XG4gICAgICAgICAgLy8g5q2j5Zyo5bu656uL6L+e5o6lXG4gICAgICAgICAgaWYgKG5ld1N0YXRlID09ICdDT05ORUNUSU5HJykge1xuICAgICAgICAgICAgdGhhdC5zdGF0ZSA9ICdDT05ORUNUSU5HJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdDT05ORUNUSU5HJzpcbiAgICAgICAgICBpZiAobmV3U3RhdGUgPT0gJ0NPTk5FQ1RFRCcpIHtcbiAgICAgICAgICAgIC8vIOaIkOWKn+i/nuaOpVxuICAgICAgICAgICAgdGhhdC5zdGF0ZSA9ICdDT05ORUNURUQnXG4gICAgICAgICAgICB0aGF0LnJldHJ5Q29ubmVjdENvdW50ID0gMFxuICAgICAgICAgIH0gZWxzZSBpZiAobmV3U3RhdGUgPT0gJ0NPTk5FQ1RfRkFJTEVEJykge1xuICAgICAgICAgICAgLy8g6L+e5o6l5aSx6LSlXG4gICAgICAgICAgICB0aGF0LnN0YXRlID0gJ0NPTk5FQ1RfRkFJTEVEJ1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICByZWFzb24gJiZcbiAgICAgICAgICAgICAgJ0NMT1NFX0FCTk9STUFMLFRSWV9BR0FJTl9MQVRFUiwnLmluZGV4T2YocmVhc29uICsgJywnKSA+PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLyoq5ZCI5rOV55qE6Ze06ZqU5bCd6K+V6YeN6L+eM+asoe+8jOS4jeaIkOWKn+WImeW6n+W8gyovXG4gICAgICAgICAgICAgIHJlYXNvbiA9IHRoYXQuYWZ0ZXJDbG9zZUFibm9ybWFsKHJlYXNvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQ09OTkVDVF9GQUlMRUQnOlxuICAgICAgICAgIC8vIOato+WcqOWwneivlemHjei/nlxuICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PSAnQ09OTkVDVElORycpIHtcbiAgICAgICAgICAgIHRoYXQuc3RhdGUgPSAnUkVDT05ORUNUSU5HJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdDT05ORUNURUQnOlxuICAgICAgICAgIC8vIOW3suaWreW8gFxuICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PSAnRElTQ09OTkVDVEVEJykge1xuICAgICAgICAgICAgdGhhdC5zdGF0ZSA9ICdESVNDT05ORUNURUQnXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHJlYXNvbiAmJlxuICAgICAgICAgICAgICAnQ0xPU0VfQUJOT1JNQUwsVFJZX0FHQUlOX0xBVEVSLCcuaW5kZXhPZihyZWFzb24gKyAnLCcpID49IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvKirooqvliqjmlq3lvIDpnIDopoHlsJ3or5Xph43ov54qL1xuICAgICAgICAgICAgICByZWFzb24gPSB0aGF0LmFmdGVyQ2xvc2VBYm5vcm1hbChyZWFzb24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PSAnQ0xPU0lORycpIHtcbiAgICAgICAgICAgIHRoYXQuc3RhdGUgPSAnQ0xPU0lORydcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnRElTQ09OTkVDVEVEJzpcbiAgICAgICAgICAvLyDmraPlnKjlsJ3or5Xph43ov55cbiAgICAgICAgICBpZiAobmV3U3RhdGUgPT0gJ0NPTk5FQ1RJTkcnKSB7XG4gICAgICAgICAgICB0aGF0LnN0YXRlID0gJ1JFQ09OTkVDVElORydcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQ0xPU0lORyc6XG4gICAgICAgICAgLy8g5bey5YWz6ZetXG4gICAgICAgICAgaWYgKG5ld1N0YXRlID09ICdDTE9TRUQnKSB7XG4gICAgICAgICAgICB0aGF0LnN0YXRlID0gJ0NMT1NFRCdcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICAgIHRoYXQuY29ubmVjdFN0YXR1c0NhbGxiYWNrKHJlYXNvbilcbiAgICB9XG5cbiAgICBzZXNzaW9uLm9uU2VydmVyUHVibGlzaCA9IGZ1bmN0aW9uKHNlc3Npb24sIHR5cGUsIHNlcnZlclB1Ymxpc2gpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdvblNlcnZlclB1Ymxpc2gnLCBzZXNzaW9uLCB0eXBlLCBzZXJ2ZXJQdWJsaXNoKVxuXG4gICAgICAvLyDlj5Hlh7rjgJDlt7LmlLbliLDjgJFBQ0tcbiAgICAgIHRoaXMuc2VuZFJlcG9ydCh7XG4gICAgICAgIHJlY2VpdmVkTXNnSWQ6IHNlcnZlclB1Ymxpc2gubGFzdE1zZ0lkLFxuICAgICAgICB0b3BpYzogc2VydmVyUHVibGlzaC50b3BpYyxcbiAgICAgIH0pXG5cbiAgICAgIC8vIOebruWJjeaOpeaUtnB1Ymxpc2jlj6rmnIl0eXBlID09IDHvvIzlj5HpgIFwdWJsaXNo5pyJMe+8jDLvvIwz5LiJ56eN77yIbWVzc2FnZe+8jHJlcG9ydO+8jHJlbW90ZV9vZmZsaW5l77yJXG4gICAgICAvLyDmtojmga/kuIvooYxcbiAgICAgIGlmICh0eXBlID09PSAxKSB7XG4gICAgICAgIC8vIE1FU1NBR0VcbiAgICAgICAgY29uc29sZS5sb2coJz09PT09IGdldCBtZXNzYWdl77yaJywgc2VydmVyUHVibGlzaClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJ2ZXJQdWJsaXNoLm1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IG1zZyA9IHNlcnZlclB1Ymxpc2gubWVzc2FnZXNbaV1cbiAgICAgICAgICBtc2cubXNnSWRTdHIgPSBtc2cubXNnSWQudG9TdHJpbmcoMTApXG4gICAgICAgICAgbXNnLm93bmVySWRTdHIgPSBtc2cub3duZXJJZC50b1N0cmluZygxMClcbiAgICAgICAgICBpZiAobXNnLmNvbnRlbnQuY29udGVudEJ1ZmZlcikge1xuICAgICAgICAgICAgd2luZG93Lm1zZ0JvZHlDb2RlYyA9IG1zZ0JvZHlDb2RlY1xuICAgICAgICAgICAgd2luZG93LnRlc3QgPSBtc2cuY29udGVudC5jb250ZW50QnVmZmVyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbXNnRGF0YScsIG1zZ0JvZHlDb2RlYy5kZWNvZGUoJ3RleHQvcGxhaW4nLCBtc2cuY29udGVudC5jb250ZW50QnVmZmVyKSlcbiAgICAgICAgICAgIGxldCBtc2dEYXRhID0gSlNPTi5wYXJzZShDb21tb24uYXNTdHJpbmcobXNnLmNvbnRlbnQuY29udGVudEJ1ZmZlcikpXG4gICAgICAgICAgICBtc2dEYXRhLnRpbWUgPSBtc2cudGltZVxuICAgICAgICAgICAgbXNnRGF0YS5kaXJlY3Rpb24gPSBtc2cuZGlyZWN0aW9uXG4gICAgICAgICAgICBtc2cuY29udGVudC5ib2R5ID0gbXNnRGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyDpgJrnn6XmlLblkKzogIVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnPT09PT09IOaUtuWIsOeahOa2iOaBr+WkhOeQhuWQjueahOe7k+aenO+8micsIHNlcnZlclB1Ymxpc2gpXG4gICAgICAgICAgdGhhdC5vbk1lc3NhZ2UgJiYgdGhhdC5vbk1lc3NhZ2UoJ1NFUlZFUl9QVUJMSVNIJywgc2VydmVyUHVibGlzaClcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign5aSE55CG5raI5oGv5pe25Ye66ZSZ77yaJyArIGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIOS4iuihjOmcgOimgVxuICAgICAgZWxzZSBpZiAodHlwZSA9PT0gMikge1xuICAgICAgICAvL1JFUE9SVFxuICAgICAgICBjb25zb2xlLmxvZygn5pS25YiwUFVCTElTSDpSRVBPUlQg5oql5ZGK5aaC5LiL77yaJylcbiAgICAgICAgY29uc29sZS5sb2coc2VydmVyUHVibGlzaClcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgICAgICAvL1JFTU9WRV9PRkZMSU5FXG4gICAgICAgIGNvbnNvbGUubG9nKCfmlLbliLBQVUJMSVNIOlJFTU9WRV9PRkZMSU5FIOmAmuefpeWmguS4i++8micpXG4gICAgICAgIGNvbnNvbGUubG9nKHNlcnZlclB1Ymxpc2gpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn5pS25YiwUFVCTElTSDpPVEhFUiDpgJrnn6XlpoLkuIvvvJonKVxuICAgICAgICBjb25zb2xlLmxvZyhzZXJ2ZXJQdWJsaXNoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoYXQuY29ubmVjdFN0YXR1c0NhbGxiYWNrID0gcmVhc29uID0+IHtcbiAgICAgIHRoYXQuc2Vzc2lvbiA9IHNlc3Npb25cbiAgICAgIGxldCBzdGF0dXMgPSBudWxsLFxuICAgICAgICBkZXNjID0gcmVhc29uID8gcmVhc29uIDogdGhhdC5zdGF0ZVxuICAgICAgc3dpdGNoICh0aGF0LnN0YXRlKSB7XG4gICAgICAgIGNhc2UgJ0NPTk5FQ1RJTkcnOlxuICAgICAgICAgIC8v6L+e5o6l5LitXG4gICAgICAgICAgc3RhdHVzID0gMTAxXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQ09OTkVDVEVEJzpcbiAgICAgICAgICAvL+i/nuaOpeaIkOWKn1xuICAgICAgICAgIHN0YXR1cyA9IDFcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdDT05ORUNUX0ZBSUxFRCc6XG4gICAgICAgICAgLy/ov57mjqXlpLHotKVcbiAgICAgICAgICBzdGF0dXMgPSAtMVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ1JFQ09OTkVDVElORyc6XG4gICAgICAgICAgLy/ph43ov57kuK3vvIjlpLHotKXlkI7ph43ov57vvIlcbiAgICAgICAgICBzdGF0dXMgPSAxMDExXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnRElTQ09OTkVDVEVEJzpcbiAgICAgICAgICAvL+aWreW8gOi/nuaOpVxuICAgICAgICAgIHN0YXR1cyA9IDNcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdDTE9TSU5HJzpcbiAgICAgICAgICAvL+ato+WcqOWFs+mXrei/nuaOpVxuICAgICAgICAgIHN0YXR1cyA9IDEwMlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0NMT1NFRCc6XG4gICAgICAgICAgLy/lt7LlhbPpl61cbiAgICAgICAgICBzdGF0dXMgPSAyXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmICh0aGF0Lm9uQ29ubmVjdCkge1xuICAgICAgICB0aGF0Lm9uQ29ubmVjdChzdGF0dXMsIGRlc2MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhhdC5jb25uZWN0Q2FsbGJhY2sgPSBhY2sgPT4ge1xuICAgICAgdGhhdC5zZXNzaW9uID0gc2Vzc2lvblxuICAgICAgLy8gaWYgKGFjay5jb2RlID09PSAyMDApIHtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnTVFUVOi/nuaOpeaIkOWKnycpO1xuICAgICAgLy8gICAgIHRoYXQucmVhZHkgPSB0cnVlO1xuICAgICAgLy8gICAgIGlmKHRoYXQub25Db25uZWN0KXtcbiAgICAgIC8vICAgICAgICAgdGhhdC5vbkNvbm5lY3QoMjAwKTtcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICAgIGNvbnNvbGUud2FybignTVFUVOi/nuaOpeWksei0pTonICsgYWNrLmNvZGUpO1xuICAgICAgLy8gICAgIGlmKHRoYXQub25Db25uZWN0KXtcbiAgICAgIC8vICAgICAgICAgdGhhdC5vbkNvbm5lY3QoYWNrLmNvZGUpO1xuICAgICAgLy8gICAgIH1cbiAgICAgIC8vIH1cbiAgICB9XG5cbiAgICB0aGF0LmFmdGVyQ2xvc2VBYm5vcm1hbCA9IHJlYXNvbiA9PiB7XG4gICAgICAvKirooqvliqjmlq3lvIDpnIDopoHlsJ3or5Xph43ov54qL1xuICAgICAgbGV0IHRoaXNSZXRyeUNvbm5lY3RDb3VudCA9IHRoYXQucmV0cnlDb25uZWN0Q291bnQgKyAxXG4gICAgICBpZiAodGhhdC5yZXRyeUNvbm5lY3RDb3VudCA+PSAzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICflt7Lovr7mnIDlpKfooqvliqjmlq3lvIDpnIDopoHlsJ3or5Xph43ov57mrKHmlbDvvJonICsgdGhhdC5yZXRyeUNvbm5lY3RDb3VudCxcbiAgICAgICAgKVxuICAgICAgICByZWFzb24gPVxuICAgICAgICAgIHJlYXNvbiArXG4gICAgICAgICAgJyAg5bey6L6+5pyA5aSn6KKr5Yqo5pat5byA6ZyA6KaB5bCd6K+V6YeN6L+e5qyh5pWw77yaJyArXG4gICAgICAgICAgdGhhdC5yZXRyeUNvbm5lY3RDb3VudFxuICAgICAgICByZXR1cm4gcmVhc29uXG4gICAgICB9XG5cbiAgICAgIGxldCBkZWxheSA9IDNcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhhdFxuICAgICAgICBjb25zb2xlLmxvZygn5byA5aeL56ysJyArIHRoaXNSZXRyeUNvbm5lY3RDb3VudCArICfmrKHooqvliqjmlq3lvIDph43ov54nKVxuICAgICAgICBzZWxmLnNlc3Npb24uY29ubmVjdChudWxsLCBzZWxmLmNvbm5lY3RDYWxsYmFjaylcbiAgICAgIH0sIGRlbGF5ICogMTAwMClcblxuICAgICAgdGhhdC5yZXRyeUNvbm5lY3RDb3VudCsrXG4gICAgICByZXR1cm4gcmVhc29uXG4gICAgfVxuICAgIHNlc3Npb24uY29ubmVjdChudWxsLCB0aGF0LmNvbm5lY3RDYWxsYmFjaylcbiAgfVxuXG4gIF9iZWZvcmVTZW5kTWVzc2FnZSA9IGZ1bmN0aW9uKG1zZykge1xuICAgIC8vIOagoemqjOa2iOaBr+WPguaVsFxuICAgIGlmICghbXNnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+a2iOaBr+S4iuihjO+8muivt+axguaKpeaWh+e8uuWksScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKCFtc2cuY29udGVudCkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLmNvbnRlbnTlj4LmlbDnvLrlpLEnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmICghbXNnLmNvbnRlbnQuY29udGVudEJ1ZmZlcikge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLmNvbnRlbnQuY29udGVudEJ1ZmZlcuWPguaVsOe8uuWksScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKCFtc2cuY29udGVudC5jb250ZW50VHlwZSkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLmNvbnRlbnQuY29udGVudFR5cGXlj4LmlbDnvLrlpLEnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmICghbXNnLmNvbnRlbnQuZnJvbVVyaSkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLmNvbnRlbnQuZnJvbVVyaeWPguaVsOe8uuWksScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKCFtc2cuY29udGVudC5mcm9tRXBpZCkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLmNvbnRlbnQuZnJvbUVwaWTlj4LmlbDnvLrlpLEnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmICghbXNnLmNvbnRlbnQudXVpZCkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLmNvbnRlbnQudXVpZOWPguaVsOe8uuWksScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKCFtc2cucmVjZWl2ZXJzIHx8ICFtc2cucmVjZWl2ZXJzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLnJlY2VpdmVyc+WPguaVsOe8uuWksScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtc2cucmVjZWl2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIW1zZy5yZWNlaXZlcnNbaV0ucmVjZWl2ZXIudG9VcmkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICfmtojmga/kuIrooYzvvJptc2cucmVjZWl2ZXJzWycgKyBpICsgJ10ucmVjZWl2ZXIudG9Vcmnlj4LmlbDnvLrlpLEnLFxuICAgICAgICApXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW1zZy5tZXNzYWdlVHlwZSkge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLm1lc3NhZ2VUeXBl5Y+C5pWw57y65aSxJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoIW1zZy50b3BpYykge1xuICAgICAgY29uc29sZS53YXJuKCfmtojmga/kuIrooYzvvJptZXNzYWdlLnRvcGlj5Y+C5pWw57y65aSxJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgX3NlbmQgPSBmdW5jdGlvbihtZXNzYWdlLCBwdWJsaXNoU2VuZEFja0hhbmRsZXIpIHtcbiAgICBsZXQgdGhhdCA9IHRoaXNcbiAgICB0aGF0LnNlc3Npb24uc2VuZE1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24oYWNrTXNnKSB7XG4gICAgICBjb25zb2xlLmxvZygn5pS25YiwUFVCTElTSDpTRU5EIEFDS+WmguS4i++8micpXG4gICAgICBpZiAocHVibGlzaFNlbmRBY2tIYW5kbGVyICYmIHR5cGVvZiBwdWJsaXNoU2VuZEFja0hhbmRsZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoYWNrTXNnLm1zZ0lkKSB7XG4gICAgICAgICAgYWNrTXNnWydtc2dJZFN0ciddID0gYWNrTXNnLm1zZ0lkLnRvU3RyaW5nKDEwKVxuICAgICAgICB9XG4gICAgICAgIGlmIChhY2tNc2cubXNnVGltZSkge1xuICAgICAgICAgIGFja01zZ1snbXNnVGltZVN0YW1wJ10gPSBwYXJzZUludChcbiAgICAgICAgICAgIGFja01zZy5tc2dUaW1lLnRvU3RyaW5nKDEwKS5zbGljZSgwLCAtNCksXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGFja01zZy5zdGF0dXMgPSB0aGF0LlNFTkRfQUNLX1NUQVRVU1thY2tNc2cuY29kZV1cbiAgICAgICAgcHVibGlzaFNlbmRBY2tIYW5kbGVyLmFwcGx5KHRoYXQsIFttZXNzYWdlLCBhY2tNc2ddKVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coYWNrTXNnKVxuICAgIH0pXG4gIH1cblxuICAvL+a2iOaBr+S4iuihjCAtIOmAmuefpVxuICBzZW5kVGV4dCA9IChtc2csIHB1Ymxpc2hTZW5kQWNrSGFuZGxlcikgPT4ge1xuICAgIGxldCB0aGF0ID0gdGhpcyxcbiAgICAgIGNvbnRlbnRUeXBlID0gJ3RleHQvcGxhaW4nXG4gICAgaWYgKCF0aGF0LnNlc3Npb24pIHtcbiAgICAgIGNvbnNvbGUud2Fybign5pyq5bu656uL6L+e5o6lJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICAvLyBpZiAoIXRoYXQuX2JlZm9yZVNlbmRNZXNzYWdlKG1zZykpIHtcbiAgICAvLyAgIGNvbnNvbGUud2Fybign5qCh6aqM5raI5oGv5Y+C5pWw5pyq6YCa6L+HJywgbXNnKVxuICAgIC8vICAgcmV0dXJuIGZhbHNlXG4gICAgLy8gfVxuICAgIC8vIOeUn+aIkOa2iOaBr+S9k+OAgee7hOijhea2iOaBr1xuICAgIHZhciBjb250ZW50QnVmZmVyID0gdGhhdC5tc2dCb2R5Q29kZWMuZW5jb2RlKFxuICAgICAgY29udGVudFR5cGUsXG4gICAgICBKU09OLnN0cmluZ2lmeShtc2cuY29udGVudC5jb250ZW50QnVmZmVyKVxuICAgIClcblxuICAgIHZhciBtZXNzYWdlID0gbXNnXG4gICAgbWVzc2FnZS5jb250ZW50LmNvbnRlbnRCdWZmZXIgPSBjb250ZW50QnVmZmVyXG5cbiAgICAvLyAvLyDlpITnkIbnvqRA5omp5bGV5a2X5q61YnVmZmVyXG4gICAgLy8gaWYgKG1zZy5jb250ZW50LmV4dGVuc2lvbnMpIHtcbiAgICAvLyAgIHZhciBleHRlbnNpb25zID0gW11cbiAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmNvbnRlbnQuZXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICB2YXIgaXRlbSA9IG1zZy5jb250ZW50LmV4dGVuc2lvbnNbaV1cbiAgICAvLyAgICAgdmFyIGtleSA9IGl0ZW0ua2V5XG4gICAgLy8gICAgIHZhciBkYXRhID0gQk9EWV9UWVBFWydleHRlbnNpb25fJyArIGtleV1cbiAgICAvLyAgICAgICA/IHRoYXQubXNnQm9keUNvZGVjLmVuY29kZSgnZXh0ZW5zaW9uXycgKyBrZXksIGl0ZW0uZGF0YSlcbiAgICAvLyAgICAgICA6IGl0ZW0uZGF0YVxuICAgIC8vICAgICBpZiAoIUJPRFlfVFlQRVsnZXh0ZW5zaW9uXycgKyBrZXldKSB7XG4gICAgLy8gICAgICAgY29uc29sZS53YXJuKCfkuI3mlK/mjIHlj5HpgIHor6XmianlsZVwYuagvOW8jzpleHRlbnNpb25fJyArIGtleSlcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBleHRlbnNpb25zLnB1c2goe1xuICAgIC8vICAgICAgIGtleToga2V5LFxuICAgIC8vICAgICAgIGRhdGE6IGRhdGEsXG4gICAgLy8gICAgIH0pXG4gICAgLy8gICB9XG4gICAgLy8gICBtZXNzYWdlLmNvbnRlbnQuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnNcbiAgICAvLyB9XG4gICAgLy8g5Y+R6YCBXG4gICAgdGhhdC5fc2VuZChtZXNzYWdlLCBwdWJsaXNoU2VuZEFja0hhbmRsZXIpXG4gIH1cblxuICAvLyDmtojmga/kuIrooYwt5Y+R5Zu+54mHXG4gIHNlbmRJbWFnZSA9IGZ1bmN0aW9uKG1zZywgcHVibGlzaFNlbmRBY2tIYW5kbGVyKSB7XG4gICAgbGV0IGNvbnRlbnRUeXBlID0gJ2ltYWdlLyonXG4gICAgaWYgKCF0aGF0LnNlc3Npb24pIHtcbiAgICAgIGNvbnNvbGUud2Fybign5pyq5bu656uL6YCa6K+dJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhhdC5fYmVmb3JlU2VuZE1lc3NhZ2UobXNnKSkge1xuICAgICAgY29uc29sZS53YXJuKCfmoKHpqozmtojmga/lj4LmlbDmnKrpgJrov4cnLCBtc2cpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyDnlJ/miJDmtojmga/kvZPjgIHnu4Too4Xmtojmga9cbiAgICBpZiAobXNnLmNvbnRlbnQuYm9keS50aHVtYikge1xuICAgICAgZGVsZXRlIG1zZy5jb250ZW50LmJvZHkudGh1bWJcbiAgICB9XG4gICAgdmFyIGNvbnRlbnRCdWZmZXIgPSB0aGF0Lm1zZ0JvZHlDb2RlYy5lbmNvZGUoY29udGVudFR5cGUsIG1zZy5jb250ZW50LmJvZHkpXG4gICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIGNvbnRlbnRCdWZmZXI6IGNvbnRlbnRCdWZmZXIsXG4gICAgICAgIGZyb21Vcmk6IG1zZy5jb250ZW50LmZyb21VcmksXG4gICAgICAgIGZyb21OaWNrbmFtZTogbXNnLmNvbnRlbnQuZnJvbU5pY2tuYW1lLFxuICAgICAgICB1dWlkOiBtc2cuY29udGVudC51dWlkLFxuICAgICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICB9LFxuICAgICAgbWVzc2FnZVR5cGU6IG1zZy5tZXNzYWdlVHlwZSxcbiAgICAgIHBlZXJVcmk6IG1zZy5wZWVyVXJpLFxuICAgICAgcmVjZWl2ZXJzOiBtc2cuY29udGVudC5yZWNlaXZlcnMsXG4gICAgICB0b3BpYzogJ1NGJyxcbiAgICB9XG5cbiAgICAvLyDlj5HpgIFcbiAgICB0aGF0Ll9zZW5kKG1lc3NhZ2UsIHB1Ymxpc2hTZW5kQWNrSGFuZGxlcilcbiAgfVxuXG4gIC8qKiDmtojmga/kuIrooYwt6L+U5Zue5o6l5pS25oql5ZGKXG4gICAqIHtcbiAgICogICAgdG9waWM6IG1lc3NhZ2UudG9waWMsXG4gICAqICAgIHJlY2VpdmVkTXNnSWQ6IG1lc3NhZ2UubGFzdE1zZ0lkXG4gICAqIH1cbiAgICovXG4gIGFuc3dlciA9IGZ1bmN0aW9uKHJlcG9ydCkge1xuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIHNlbGYuc2Vzc2lvbi5zZW5kUmVwb3J0KHJlcG9ydCwgZnVuY3Rpb24oYWNrTXNnKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygn5pS25YiwUFVCTElTSDpSRVBPUlQgQUNL5aaC5LiL77yaJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhhY2tNc2cpO1xuICAgIH0pXG4gIH1cblxuICByZURpYWwgPSBmdW5jdGlvbihwYXNzd29yZCkge1xuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIGlmIChwYXNzd29yZCkge1xuICAgICAgc2VsZi5zZXNzaW9uLnVwZGF0ZU9wdGlvbih7XG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgIH0pXG4gICAgfVxuICAgIHNlbGYuc2Vzc2lvbi5jb25uZWN0KG51bGwsIHNlbGYuY29ubmVjdENhbGxiYWNrKVxuICB9XG5cbiAgcXVpdCA9IGZ1bmN0aW9uKCkge1xuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIHNlbGYuc2Vzc2lvbi5jbG9zZSgn6YCA5Ye66L+e5o6lJylcbiAgfVxuXG4gIGNvbm5lY3RTdGF0dXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uID8gdHJ1ZSA6IGZhbHNlXG4gIH1cblxuICBTRU5EX0FDS19TVEFUVVMgPSBmdW5jdGlvbihTRU5EX0FDS19TVEFUVVMpIHtcbiAgICBTRU5EX0FDS19TVEFUVVNbKFNFTkRfQUNLX1NUQVRVU1snQUNDRVBURUQnXSA9IDIwMildID0gJ0FDQ0VQVEVEJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydCQURfUkVRVUVTVCddID0gNDAwKV0gPSAnQkFEX1JFUVVFU1QnXG4gICAgU0VORF9BQ0tfU1RBVFVTWyhTRU5EX0FDS19TVEFUVVNbJ0lOQ09OU0lTVEVOVCddID0gNDAzKV0gPSAnSU5DT05TSVNURU5UJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydEVVBMSUNBVEVfU0VORCddID0gNDA5KV0gPVxuICAgICAgJ0RVUExJQ0FURV9TRU5EJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydDT05URU5UX1RPT19MQVJHRSddID0gNDEzKV0gPVxuICAgICAgJ0NPTlRFTlRfVE9PX0xBUkdFJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydVUklfVE9PX0xPTkcnXSA9IDQxNCldID0gJ1VSSV9UT09fTE9ORydcbiAgICBTRU5EX0FDS19TVEFUVVNbKFNFTkRfQUNLX1NUQVRVU1snVU5TVVBQT1JURURfQ09OVEVOVCddID0gNDE1KV0gPVxuICAgICAgJ1VOU1VQUE9SVEVEX0NPTlRFTlQnXG4gICAgU0VORF9BQ0tfU1RBVFVTWyhTRU5EX0FDS19TVEFUVVNbJ1VOU1VQUE9SVEVEX1VSSV9TQ0hFTUUnXSA9IDQxNildID1cbiAgICAgICdVTlNVUFBPUlRFRF9VUklfU0NIRU1FJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydCQURfRVhURU5TSU9OJ10gPSA0MjApXSA9ICdCQURfRVhURU5TSU9OJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUyddID0gNDUxKV0gPVxuICAgICAgJ1VOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TJ1xuICAgIFNFTkRfQUNLX1NUQVRVU1soU0VORF9BQ0tfU1RBVFVTWydTRVJWRVJfRVJST1InXSA9IDUwMCldID0gJ1NFUlZFUl9FUlJPUidcbiAgICBTRU5EX0FDS19TVEFUVVNbKFNFTkRfQUNLX1NUQVRVU1snU0VSVklDRV9VTkFWQUlMQUJMRSddID0gNTAzKV0gPVxuICAgICAgJ1NFUlZJQ0VfVU5BVkFJTEFCTEUnXG4gICAgU0VORF9BQ0tfU1RBVFVTWyhTRU5EX0FDS19TVEFUVVNbJ1NFUlZFUl9USU1FT1VUJ10gPSA1MDQpXSA9XG4gICAgICAnU0VSVkVSX1RJTUVPVVQnXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1xdHQoKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFBQTtBQWVBO0FBQ0E7QUFoQkE7QUFtQkE7QUFDQTtBQXBCQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFRQTtBQVNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQTFEQTtBQUNBO0FBMkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEJBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUE1QkE7QUFDQTtBQTZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUEvUEE7QUFrUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBcFRBO0FBdVRBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF4VUE7QUE0VUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQXBYQTtBQXdYQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBY0E7QUFDQTtBQXhaQTtBQWlhQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBdGFBO0FBeWFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBaGJBO0FBbWJBO0FBQ0E7QUFDQTtBQXJiQTtBQXdiQTtBQUNBO0FBemJBO0FBNGJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQWhkQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBd2NBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///257\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(259);\nmodule.exports = __webpack_require__(4).Date.now;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9kYXRlL25vdy5qcz9lODI5Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmRhdGUubm93Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5EYXRlLm5vdztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///258\n")},function(module,exports,__webpack_require__){eval("// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = __webpack_require__(6);\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5kYXRlLm5vdy5qcz8yZjM3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDIwLjMuMy4xIC8gMTUuOS40LjQgRGF0ZS5ub3coKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdEYXRlJywgeyBub3c6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOyB9IH0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///259\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(261);\nvar $Object = __webpack_require__(4).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzP2RjNjIiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///260\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(88) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzPzk0MjciXSwic291cmNlc0NvbnRlbnQiOlsidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IGNyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpIH0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///261\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(263);\nmodule.exports = __webpack_require__(4).Object.setPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcz8yNWIwIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///262\n")},function(module,exports,__webpack_require__){eval("// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(6);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(264).set });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcz8xZGY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IHNldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXQgfSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///263\n")},function(module,exports,__webpack_require__){eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(24);\nvar anObject = __webpack_require__(20);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(34)(Function.call, __webpack_require__(80).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanM/ZWFkNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///264\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _stringify = _interopRequireDefault(__webpack_require__(45));\n\n__webpack_require__(65);\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _bodyType = _interopRequireDefault(__webpack_require__(166));\n\n/*\n * @Author: zdy\n * @Date: 2020-03-03 09:32:04\n * @LastEditTime: 2020-03-05 14:24:00\n */\nvar ByteUtils = __webpack_require__(84).ByteUtils;\n\nvar UTF8 = __webpack_require__(84).UTF8;\n\nvar JsonMsgBodyCodec = function JsonMsgBodyCodec() {\n  (0, _classCallCheck2["default"])(this, JsonMsgBodyCodec);\n  (0, _defineProperty2["default"])(this, "decode", function (contentType, data) {\n    data = new Uint8Array(data);\n\n    if (contentType === _bodyType["default"][\'TEXT\']) {\n      if (data instanceof Array) {\n        return UTF8.bytesToString(data);\n      } else {\n        return \'\';\n      }\n    } else if (contentType === _bodyType["default"][\'MIXPICTEXT\']) {\n      if (data instanceof Array) {\n        return UTF8.bytesToString(data);\n      } else {\n        return \'\';\n      }\n    } else if (contentType === _bodyType["default"][\'VCARD\']) {\n      if (data instanceof Array) {\n        return UTF8.bytesToString(data);\n      } else {\n        return \'\';\n      }\n    } else if (contentType === _bodyType["default"][\'MessageRcsRevoke\']) {\n      if (data instanceof Array) {\n        return UTF8.bytesToString(data);\n      } else {\n        return \'\';\n      }\n    } else {\n      return JSON.parse(ByteUtils.asString(data));\n    }\n  });\n  (0, _defineProperty2["default"])(this, "encode", function (contentType, data) {\n    if (data instanceof Uint8Array) {\n      return data;\n    } else if (data instanceof ArrayBuffer) {\n      return data;\n    } else if (data instanceof Array) {\n      return data;\n    } else {\n      if (contentType === _bodyType["default"][\'TEXT\'] || contentType === _bodyType["default"][\'COMMON_TEMPLATE\']) {\n        return UTF8.stringToBytes(data);\n      } else if (contentType === _bodyType["default"][\'MIXPICTEXT\']) {\n        return UTF8.stringToBytes(data);\n      } else if (contentType === _bodyType["default"][\'VCARD\']) {\n        return UTF8.stringToBytes(data);\n      } else if (contentType === _bodyType["default"][\'MessageRcsRevoke\']) {\n        return UTF8.stringToBytes(data);\n      } else {\n        return ByteUtils.asBytes((0, _stringify["default"])(data));\n      }\n    }\n  });\n};\n\nvar _default = JsonMsgBodyCodec;\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2xpYnJhcnkvbXF0dC9Kc29uTXNnQm9keUNvZGVjLmpzPzJhYjIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBBdXRob3I6IHpkeVxuICogQERhdGU6IDIwMjAtMDMtMDMgMDk6MzI6MDRcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDMtMDUgMTQ6MjQ6MDBcbiAqL1xuaW1wb3J0IEJPRFlfVFlQRSBmcm9tICcuL2JvZHlUeXBlJ1xubGV0IEJ5dGVVdGlscyA9IHJlcXVpcmUoJy4vdjZzZGsnKS5CeXRlVXRpbHNcbmxldCBVVEY4ID0gcmVxdWlyZSgnLi92NnNkay5qcycpLlVURjhcbmNsYXNzIEpzb25Nc2dCb2R5Q29kZWMge1xuICBkZWNvZGUgPSBmdW5jdGlvbiAoY29udGVudFR5cGUsIGRhdGEpIHtcbiAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSlcbiAgICBpZiAoXG4gICAgICBjb250ZW50VHlwZSA9PT0gQk9EWV9UWVBFWydURVhUJ11cbiAgICApIHtcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFVURjguYnl0ZXNUb1N0cmluZyhkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb250ZW50VHlwZSA9PT0gQk9EWV9UWVBFWydNSVhQSUNURVhUJ10pIHtcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFVURjguYnl0ZXNUb1N0cmluZyhkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb250ZW50VHlwZSA9PT0gQk9EWV9UWVBFWydWQ0FSRCddKSB7XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJldHVybiBVVEY4LmJ5dGVzVG9TdHJpbmcoZGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgPT09IEJPRFlfVFlQRVsnTWVzc2FnZVJjc1Jldm9rZSddKSB7XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJldHVybiBVVEY4LmJ5dGVzVG9TdHJpbmcoZGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShCeXRlVXRpbHMuYXNTdHJpbmcoZGF0YSkpXG4gICAgfVxuICB9XG4gIGVuY29kZSA9IGZ1bmN0aW9uKGNvbnRlbnRUeXBlLCBkYXRhKSB7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbnRlbnRUeXBlID09PSBCT0RZX1RZUEVbJ1RFWFQnXSB8fFxuICAgICAgICBjb250ZW50VHlwZSA9PT0gQk9EWV9UWVBFWydDT01NT05fVEVNUExBVEUnXVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBVVEY4LnN0cmluZ1RvQnl0ZXMoZGF0YSlcbiAgICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgPT09IEJPRFlfVFlQRVsnTUlYUElDVEVYVCddKSB7XG4gICAgICAgIHJldHVybiBVVEY4LnN0cmluZ1RvQnl0ZXMoZGF0YSlcbiAgICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgPT09IEJPRFlfVFlQRVsnVkNBUkQnXSkge1xuICAgICAgICByZXR1cm4gVVRGOC5zdHJpbmdUb0J5dGVzKGRhdGEpXG4gICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlID09PSBCT0RZX1RZUEVbJ01lc3NhZ2VSY3NSZXZva2UnXSkge1xuICAgICAgICByZXR1cm4gVVRGOC5zdHJpbmdUb0J5dGVzKGRhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gQnl0ZVV0aWxzLmFzQnl0ZXMoSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEpzb25Nc2dCb2R5Q29kZWMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS0E7QUFDQTtBQU5BOzs7OztBQU1BO0FBQ0E7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///265\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(267);\nmodule.exports = __webpack_require__(4).parseFloat;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9wYXJzZS1mbG9hdC5qcz83YmU3Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnBhcnNlLWZsb2F0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvX2NvcmUnKS5wYXJzZUZsb2F0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///266\n")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(6);\nvar $parseFloat = __webpack_require__(268);\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wYXJzZS1mbG9hdC5qcz8wYTkwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJHBhcnNlRmxvYXQgPSByZXF1aXJlKCcuL19wYXJzZS1mbG9hdCcpO1xuLy8gMTguMi40IHBhcnNlRmxvYXQoc3RyaW5nKVxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LkYgKiAocGFyc2VGbG9hdCAhPSAkcGFyc2VGbG9hdCksIHsgcGFyc2VGbG9hdDogJHBhcnNlRmxvYXQgfSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///267\n")},function(module,exports,__webpack_require__){eval("var $parseFloat = __webpack_require__(9).parseFloat;\nvar $trim = __webpack_require__(157).trim;\n\nmodule.exports = 1 / $parseFloat(__webpack_require__(113) + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wYXJzZS1mbG9hdC5qcz8xMGZmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciAkcGFyc2VGbG9hdCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLnBhcnNlRmxvYXQ7XG52YXIgJHRyaW0gPSByZXF1aXJlKCcuL19zdHJpbmctdHJpbScpLnRyaW07XG5cbm1vZHVsZS5leHBvcnRzID0gMSAvICRwYXJzZUZsb2F0KHJlcXVpcmUoJy4vX3N0cmluZy13cycpICsgJy0wJykgIT09IC1JbmZpbml0eSA/IGZ1bmN0aW9uIHBhcnNlRmxvYXQoc3RyKSB7XG4gIHZhciBzdHJpbmcgPSAkdHJpbShTdHJpbmcoc3RyKSwgMyk7XG4gIHZhciByZXN1bHQgPSAkcGFyc2VGbG9hdChzdHJpbmcpO1xuICByZXR1cm4gcmVzdWx0ID09PSAwICYmIHN0cmluZy5jaGFyQXQoMCkgPT0gJy0nID8gLTAgOiByZXN1bHQ7XG59IDogJHBhcnNlRmxvYXQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///268\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(270);\nmodule.exports = __webpack_require__(4).Array.isArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9pcy1hcnJheS5qcz9mNDEwIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmlzLWFycmF5Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5BcnJheS5pc0FycmF5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///269\n")},function(module,exports,__webpack_require__){eval("// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = __webpack_require__(6);\n\n$export($export.S, 'Array', { isArray: __webpack_require__(123) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pcy1hcnJheS5qcz8xYWY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDIyLjEuMi4yIC8gMTUuNC4zLjIgQXJyYXkuaXNBcnJheShhcmcpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ0FycmF5JywgeyBpc0FycmF5OiByZXF1aXJlKCcuL19pcy1hcnJheScpIH0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///270\n")},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){eval("var arrayWithoutHoles = __webpack_require__(298);\n\nvar iterableToArray = __webpack_require__(299);\n\nvar nonIterableSpread = __webpack_require__(305);\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcz80ZGIxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcnJheVdpdGhvdXRIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aG91dEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vaXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90b0NvbnN1bWFibGVBcnJheTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///289\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(300);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9hcnJheS9mcm9tLmpzPzc3NGUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb21cIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///290\n")},function(module,exports,__webpack_require__){"use strict";eval("\n// https://github.com/tc39/Array.prototype.includes\nvar $export = __webpack_require__(10);\nvar $includes = __webpack_require__(92)(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n__webpack_require__(130)('includes');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMuanM/Njc2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9BcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgJGluY2x1ZGVzID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKSh0cnVlKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAsICdBcnJheScsIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKGVsIC8qICwgZnJvbUluZGV4ID0gMCAqLykge1xuICAgIHJldHVybiAkaW5jbHVkZXModGhpcywgZWwsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5cbnJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpKCdpbmNsdWRlcycpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///291\n")},function(module,exports,__webpack_require__){"use strict";eval("// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n\nvar $export = __webpack_require__(10);\nvar context = __webpack_require__(158);\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * __webpack_require__(159)(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmluY2x1ZGVzLmpzPzJmZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMjEuMS4zLjcgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyhzZWFyY2hTdHJpbmcsIHBvc2l0aW9uID0gMClcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29udGV4dCA9IHJlcXVpcmUoJy4vX3N0cmluZy1jb250ZXh0Jyk7XG52YXIgSU5DTFVERVMgPSAnaW5jbHVkZXMnO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzLWlzLXJlZ2V4cCcpKElOQ0xVREVTKSwgJ1N0cmluZycsIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZyAvKiAsIHBvc2l0aW9uID0gMCAqLykge1xuICAgIHJldHVybiAhIX5jb250ZXh0KHRoaXMsIHNlYXJjaFN0cmluZywgSU5DTFVERVMpXG4gICAgICAuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///292\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(196);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvcmVnZW5lcmF0b3IvaW5kZXguanM/OTY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///293\n")},function(module,exports,__webpack_require__){eval('var _Promise = __webpack_require__(18);\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzP2ZhODQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9Qcm9taXNlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvcHJvbWlzZVwiKTtcblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBfUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXN5bmNUb0dlbmVyYXRvcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///294\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\n__webpack_require__(33);\n\n__webpack_require__(46);\n\n__webpack_require__(37);\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _tttwebsdk = _interopRequireDefault(__webpack_require__(307));\n\nvar _eventEmitter = _interopRequireDefault(__webpack_require__(188));\n\n/**\n * 加入房间，调用摄像头能力等\n */\n// const TTTRtcWeb = require('./lib/TTTRtcWeb');\nvar RTCObj = new _tttwebsdk[\"default\"]();\n\nif (_tttwebsdk[\"default\"]) {\n  _tttwebsdk[\"default\"].setLogSubmit(false);\n\n  _tttwebsdk[\"default\"].setPrivate(true);\n}\n\nvar SRTCWeb = function SRTCWeb(_role, rtmpUrl, disableRtmpVideo, webMediaRelay) {\n  var _this = this;\n\n  (0, _classCallCheck2[\"default\"])(this, SRTCWeb);\n  (0, _defineProperty2[\"default\"])(this, \"checkSystem\", function () {\n    var webrtc = RTCObj.checkSystemRequirements();\n    return webrtc;\n  });\n  (0, _defineProperty2[\"default\"])(this, \"checkDevice\", function (callback) {\n    RTCObj.getDevices(function (devices) {\n      var result = devices.filter(function (deviceInfo) {\n        return deviceInfo.kind === 'audioinput' || deviceInfo.kind === 'videoinput';\n      });\n\n      if (result.length >= 2) {\n        callback(true, devices);\n      } else {\n        callback(false, devices);\n      }\n    }, function (err) {\n      callback(false, err);\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"setRootSvcHost\", function (value) {\n    var address = value;\n\n    if (value.indexOf(':') != -1) {\n      address = value.split(':')[0];\n    } //RTCObj.setServerUrl(address);\n\n\n    _tttwebsdk[\"default\"].setServerUrl(address);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"init\", function (appId, userId) {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.client.init(appId, userId, function (success) {\n        console.log('client init success ->', success);\n        resolve('The audio and video client are successfully initialized');\n      }, function (err) {\n        reject('Failed to initialize audio and video client when joining channel');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"joinChannel\", function (userId, channelId, mode, resolution) {\n    _this.mode = mode;\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.client.join('', channelId, function (success) {\n        console.log('client join success ->', channelId);\n        _this.stream = RTCObj.createStream({\n          streamID: userId,\n          userID: userId,\n          audio: true,\n          video: mode == 2 ? true : false,\n          screen: mode == 3 ? true : false,\n          attributes: {\n            resolution: resolution\n          }\n        });\n\n        _this.stream.init(function () {\n          console.log('client stream init success ->');\n\n          _this.publishStream().then(function (stream) {\n            if (mode == 2) {\n              _eventEmitter[\"default\"].eventEmitter.emit('stream-publish', stream);\n\n              resolve(stream); // let t = setInterval(() => {\n              //     if(this.client._webcamProducer != null){\n              //         clearInterval(t);\n              //         Emitter.eventEmitter.emit('stream-publish',stream);\n              //         resolve(stream);\n              //     }\n              // },300)\n            } else {\n              _eventEmitter[\"default\"].eventEmitter.emit('stream-publish', stream);\n\n              resolve(stream);\n            }\n          })[\"catch\"](function (err) {\n            reject(err);\n          });\n        }, function (err) {\n          console.log('client stream init fail ->', err);\n          reject('Failed to joinChannel');\n        });\n      }, function (err) {\n        console.log('client join failure ->', err);\n        reject('Failed to joinChannel');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"publishLocalStream\", function (userId, mode, isScreen, resolution) {\n    _this.mode = mode;\n    return new _promise[\"default\"](function (resolve, reject) {\n      console.log('client start switchScreenStream');\n\n      if (_this.stream) {\n        _this.client.unpublish(_this.stream, function () {\n          console.log(\"unpublishStream - client.unpublish local stream  success.\");\n          _this.stream = RTCObj.createStream({\n            streamID: userId,\n            userID: userId,\n            audio: true,\n            video: !isScreen,\n            screen: isScreen,\n            attributes: {\n              resolution: resolution\n            }\n          });\n\n          _this.stream.init(function () {\n            console.log('client screen stream init success ->');\n\n            _this.publishStream().then(function (stream) {\n              _eventEmitter[\"default\"].eventEmitter.emit('stream-publish', stream);\n\n              resolve(stream);\n            })[\"catch\"](function (err) {\n              reject(err);\n            });\n          }, function (err) {\n            console.log('client screen stream init fail ->', err);\n            reject('Failed to switch screen');\n          });\n        }, function () {\n          console.log('unpublishStream - client.unpublish local stream failed');\n          reject('Failed to unpublish screen');\n        }, isScreen ? true : false);\n      }\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"publishStream\", function () {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.client.publish(_this.stream, function (cb) {\n        console.log('client publish success stream');\n        resolve(_this.stream);\n      }, function (err) {\n        console.log('client  publish failure ->', err);\n        reject('Failed to publish stream when joining channel');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"unpublishStream\", function () {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.client.unpublish(_this.stream, function (cb) {\n        console.log('client unpublish success stream');\n        resolve();\n      }, function (err) {\n        console.log('client unpublish failure ->', err);\n        reject('Failed to unpublish stream');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"subscribeStream\", function (stream) {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.client.subscribe(stream, function (res) {\n        console.log('client subscribe success stream cb->', res);\n        resolve(res);\n      }, function (err) {\n        console.log('client subscribe failure ->', err);\n        reject('Failed to subscribe stream');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"unsubscribeStream\", function (stream) {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.client.unsubscribe(stream, function (cb) {\n        console.log('client unsubscribe success stream cb->', cb);\n        resolve();\n      }, function (err) {\n        console.log('client unsubscribe failure ->', err);\n        reject('Failed to unsubscribe stream');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"listen\", function (event, params) {\n    switch (event) {\n      //用户进入\n      case 'user-join':\n        _this.client.on('peer-join', function (evt) {\n          console.log('client on >> user joined room success ->' + evt.userID, evt); //新成员加入时调用注册好的监听函数，将加入结果传出\n\n          _eventEmitter[\"default\"].eventEmitter.emit('user-join', evt.userID);\n        }, function (err) {\n          console.log('client on >> user joined room failure ->', err);\n        });\n\n        break;\n      //用户离开\n\n      case 'user-leave':\n        _this.client.on('peer-leave', function (evt) {\n          console.log('client on >> user leaved room success ->' + evt.userID, evt);\n          var role = evt.peer._appData.role;\n\n          _eventEmitter[\"default\"].eventEmitter.emit('user-leave', evt.userID, role);\n        }, function (err) {\n          console.log('client on >> user leaved room fail ->', err);\n        });\n\n        break;\n      //新增流\n\n      case 'stream-add':\n        _this.client.on('stream-added', function (evt) {\n          var stream = evt.stream;\n          console.log('client on >> stream-added room success. ->', stream); // this.subscribeStream(stream)\n          //     .then((res) => {\n          //         Emitter.eventEmitter.emit('stream-add',res);\n          //     })\n          //     .catch((err) => {\n          //         Emitter.eventEmitter.emit('error',err);\n          //     })\n        }, function (err) {\n          console.log('client on >> stream-added room fail. ->', err);\n        });\n\n        break;\n      //新增音频流\n\n      case 'audio-added':\n        _this.client.on('audio-added', function (evt) {\n          var stream = evt.stream;\n          console.log('client on >> audio-added room success. ->', stream);\n\n          _this.subscribeStream(stream).then(function (res) {\n            console.log('client on >> audio-stream subscribe success. ->', stream);\n\n            _eventEmitter[\"default\"].eventEmitter.emit('audio-added', res);\n          })[\"catch\"](function (err) {\n            _eventEmitter[\"default\"].eventEmitter.emit('error', err);\n          });\n        }, function (err) {\n          console.log('client on >>  audio-stream subscribe fail. ->', err);\n        });\n\n        break;\n      //新增流\n\n      case 'video-added':\n        _this.client.on('video-added', function (evt) {\n          var stream = evt.stream;\n          console.log('client on >> video-added room success. ->', stream);\n\n          _this.subscribeStream(stream).then(function (res) {\n            console.log('client on >> video-stream subscribe success. ->', stream);\n\n            _eventEmitter[\"default\"].eventEmitter.emit('video-added', res);\n          })[\"catch\"](function (err) {\n            _eventEmitter[\"default\"].eventEmitter.emit('error', err);\n          });\n        }, function (err) {\n          console.log('client on >> video-stream subscribe fail. ->', err);\n        });\n\n        break;\n      //音量变化\n\n      case 'speaking':\n        var stream = params;\n        stream.on('volume-change', function (evt) {\n          _eventEmitter[\"default\"].eventEmitter.emit('speaking', evt.userID, evt.volume);\n        });\n        break;\n      //用户禁音\n\n      case 'audio-mute':\n        _this.client.on('audio-mute', function (evt) {\n          console.log('client on >> listen user audio-mute ->' + evt.stream.getId(), evt);\n          var stream = evt.stream;\n\n          _eventEmitter[\"default\"].eventEmitter.emit('audio-mute', stream);\n        });\n\n        break;\n      //用户取消禁音\n\n      case 'audio-unmute':\n        _this.client.on('audio-unmute', function (evt) {\n          console.log('client on >> listen user audio-unmute ->' + evt.stream.getId(), evt);\n          var stream = evt.stream;\n\n          _eventEmitter[\"default\"].eventEmitter.emit('audio-unmute', stream);\n        });\n\n        break;\n      //用户禁视频\n\n      case 'video-mute':\n        _this.client.on('video-mute', function (evt) {\n          console.log('client on >> listen user video-mute ->' + evt.stream.getId(), evt);\n          var stream = evt.stream;\n\n          _eventEmitter[\"default\"].eventEmitter.emit('video-mute', stream);\n        });\n\n        break;\n      //取消用户禁视频\n\n      case 'video-unmute':\n        _this.client.on('video-unmute', function (evt) {\n          console.log('client on >> listen user video-unmute ->' + evt.stream.getId(), evt);\n          var stream = evt.stream;\n\n          _eventEmitter[\"default\"].eventEmitter.emit('video-unmute', stream);\n        });\n\n        break;\n      //用户音视频流订阅\n\n      case 'stream-subscribed':\n        _this.client.on('stream-subscribed', function (res) {\n          console.log('client stream-subscribed', res);\n\n          _eventEmitter[\"default\"].eventEmitter.emit('stream-subscribed', res);\n        });\n\n        break;\n      //音视频流取消订阅\n\n      case 'stream-unpublished':\n        _this.client.on('stream-unpublished', function (res) {\n          console.log('client stream-unpublished', res);\n        });\n\n        break;\n      //屏幕共享停止\n\n      case 'screen-close':\n        _this.stream.on('screen-close', function (res) {\n          console.log('client screen-close', res);\n        });\n\n        break;\n      //被踢出房间\n\n      case 'kickout':\n        _this.client.on('kickout', function (res) {\n          var cb = {};\n\n          if (res.exitCode == 104) {\n            //主持人退出\n            cb.code = 1;\n            cb.desc = 'The host quits and the room is destroyed';\n          } else if (res.exitCode == 108) {\n            //两个主持人\n            cb.code = 2;\n            cb.desc = 'There\\'s only one host. You\\'re moved out of the room.';\n          } else if (res.exitCode == 101) {\n            //被提出房间\n            cb.code = 3;\n            cb.desc = ' You\\'re moved out of the room by host.';\n          }\n\n          _eventEmitter[\"default\"].eventEmitter.emit('kickout', cb);\n        });\n\n        break;\n      //用户断开\n\n      case 'disconnect':\n        _this.client.on('disconnected', function (res) {\n          console.log('client disconnected', res);\n\n          _eventEmitter[\"default\"].eventEmitter.emit('disconnect', res);\n        });\n\n        break;\n    }\n  });\n  (0, _defineProperty2[\"default\"])(this, \"leaveChannel\", function () {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.unpublishStream().then(function () {\n        _this.client.leave(function (success) {\n          console.log('client leave channel success ->', success);\n\n          if (_this.stream) {\n            _this.stream.close();\n          }\n\n          if (_this.client) {\n            _this.client.close();\n          }\n\n          resolve('LeaveChannel success');\n        }, function (err) {\n          console.log('client leave channel failure ->', err);\n          reject('Failed to leave channel,' + err);\n        });\n      })[\"catch\"](function (err) {\n        reject('Failed to leave channel,' + err);\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"forbiddenMic\", function () {\n    _this.client.pauseMic();\n  });\n  (0, _defineProperty2[\"default\"])(this, \"unForbiddenMic\", function () {\n    _this.client.resumeMic();\n  });\n  (0, _defineProperty2[\"default\"])(this, \"forbiddenWebcam\", function () {\n    _this.client.pauseWebcam(_this.stream, true);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"unForbiddenWebcam\", function () {\n    _this.client.resumeWebcam(_this.stream);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"getVolume\", function (stream) {\n    if (stream == undefined) {\n      stream = _this.stream;\n    }\n\n    var volume = stream.getAudioLevel();\n    return volume;\n  });\n  (0, _defineProperty2[\"default\"])(this, \"closeVideo\", function () {\n    console.log('client disableVideo ');\n\n    _this.stream.disableVideo();\n  });\n  (0, _defineProperty2[\"default\"])(this, \"openVideo\", function () {\n    console.log('client enableVideo ');\n\n    _this.stream.enableVideo();\n  });\n  (0, _defineProperty2[\"default\"])(this, \"closeAudio\", function () {\n    console.log('client disableAudio ');\n\n    _this.stream.disableAudio();\n  });\n  (0, _defineProperty2[\"default\"])(this, \"openAudio\", function () {\n    console.log('client enableAudio ');\n\n    _this.stream.enableAudio();\n  });\n  (0, _defineProperty2[\"default\"])(this, \"setVideoProperty\", function (value) {\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.stream.setVideoProfile(value, function (success) {\n        console.log('client setVideoProfile success --\x3e ', success);\n        resolve('Set resolution (' + value + ') success');\n      }, function (err) {\n        console.log('client setVideoProfile failure --\x3e ', err);\n        reject('Set resolution (' + value + ') failure');\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"setSei\", function (userId, type, sei, isScreen) {\n    console.log('client setSEI params:', userId, type, isScreen, sei);\n\n    _this.client.setSEI(userId, type, isScreen, sei);\n  });\n  (0, _defineProperty2[\"default\"])(this, \"captureVideo\", function (stream, retType, filename) {\n    return new _promise[\"default\"](function (resolve, reject) {\n      try {\n        stream.capture(retType, filename, function (res) {\n          resolve(res);\n        });\n      } catch (e) {\n        reject('Failed to capture video,' + e);\n      }\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"kickOut\", function (userId) {\n    _this.client.kickOut(userId);\n  });\n  //和接入的其他人的stream区分开\n  this.stream = null;\n  this.screenstream = null;\n  this.mode = 2;\n\n  if (true) {//   RTCObj.setLogLevel('LOG_NONE');\n  }\n\n  var obj = {};\n\n  if (_role) {\n    obj.role = _role;\n  } //推流地址设置\n\n\n  if (rtmpUrl) {\n    obj.rtmpUrl = rtmpUrl;\n  } //是否禁止推视频（纯音频）\n\n\n  if (disableRtmpVideo) {\n    obj.disableRtmpVideo = disableRtmpVideo;\n  }\n\n  var _address = webMediaRelay;\n\n  if (webMediaRelay.indexOf(':') != -1) {\n    _address = webMediaRelay.split(':')[0];\n  }\n\n  _tttwebsdk[\"default\"].setServerUrl(_address); //每加入一次都就new一个客户端\n\n\n  console.log('init client obj:', obj);\n  this.client = RTCObj.createClient(obj);\n};\n\nvar _default = SRTCWeb;\nexports[\"default\"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2xpYnJhcnkvY2hhbm5lbC9jbGllbnQuanM/NTI1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWKoOWFpeaIv+mXtO+8jOiwg+eUqOaRhOWDj+WktOiDveWKm+etiVxuICovXG4vLyBjb25zdCBUVFRSdGNXZWIgPSByZXF1aXJlKCcuL2xpYi9UVFRSdGNXZWInKTtcbmltcG9ydCBUVFRSdGNXZWIgZnJvbSAndHR0d2Vic2RrJ1xuY29uc3QgUlRDT2JqID0gbmV3IFRUVFJ0Y1dlYigpO1xuaW1wb3J0IEVtaXR0ZXIgZnJvbSBcIi4uLy4uL3V0aWwvZXZlbnRFbWl0dGVyXCI7XG5pZiAoVFRUUnRjV2ViKSB7XG4gIFRUVFJ0Y1dlYi5zZXRMb2dTdWJtaXQoZmFsc2UpXG4gIFRUVFJ0Y1dlYi5zZXRQcml2YXRlKHRydWUpXG59XG5jbGFzcyBTUlRDV2ViIHtcbiAgICBjb25zdHJ1Y3Rvcihyb2xlLHJ0bXBVcmwsZGlzYWJsZVJ0bXBWaWRlbywgd2ViTWVkaWFSZWxheSl7XG4gICAgICAgIC8v5ZKM5o6l5YWl55qE5YW25LuW5Lq655qEc3RyZWFt5Yy65YiG5byAXG4gICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY3JlZW5zdHJlYW0gPSBudWxsO1xuICAgICAgICB0aGlzLm1vZGUgPSAyO1xuXG4gICAgICAgIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdwcm9kdWN0aW9uJyl7XG4gICAgICAgICAvLyAgIFJUQ09iai5zZXRMb2dMZXZlbCgnTE9HX05PTkUnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JqID0ge307XG4gICAgICAgIGlmKHJvbGUpe1xuICAgICAgICAgICAgb2JqLnJvbGUgPSByb2xlXG4gICAgICAgIH1cbiAgICAgICAgLy/mjqjmtYHlnLDlnYDorr7nva5cbiAgICAgICAgaWYocnRtcFVybCl7XG4gICAgICAgICAgICBvYmoucnRtcFVybCA9IHJ0bXBVcmxcbiAgICAgICAgfVxuICAgICAgICAvL+aYr+WQpuemgeatouaOqOinhumike+8iOe6r+mfs+mike+8iVxuICAgICAgICBpZihkaXNhYmxlUnRtcFZpZGVvKXtcbiAgICAgICAgICAgIG9iai5kaXNhYmxlUnRtcFZpZGVvID0gZGlzYWJsZVJ0bXBWaWRlb1xuICAgICAgICB9XG4gICAgICAgIGxldCBhZGRyZXNzID0gd2ViTWVkaWFSZWxheTtcbiAgICAgICAgaWYod2ViTWVkaWFSZWxheS5pbmRleE9mKCc6JykgIT0gLTEpe1xuICAgICAgICAgICAgYWRkcmVzcyA9IHdlYk1lZGlhUmVsYXkuc3BsaXQoJzonKVswXTtcbiAgICAgICAgfVxuICAgICAgICBUVFRSdGNXZWIuc2V0U2VydmVyVXJsKGFkZHJlc3MpO1xuXG4gICAgICAgIC8v5q+P5Yqg5YWl5LiA5qyh6YO95bCxbmV35LiA5Liq5a6i5oi356uvXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0IGNsaWVudCBvYmo6JyxvYmopO1xuICAgICAgICB0aGlzLmNsaWVudCA9IFJUQ09iai5jcmVhdGVDbGllbnQob2JqKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog5qOA5p+l5rWP6KeI5Zmo5piv5ZCm5pSv5oyBd2VicnRjXG4gICAgICogQHJldHVybnMge1JldHVybnN9XG4gICAgICovXG4gICAgY2hlY2tTeXN0ZW0gPSAoKSA9PiB7XG4gICAgICAgIGxldCB3ZWJydGMgPSBSVENPYmouY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMoKTtcbiAgICAgICAgcmV0dXJuIHdlYnJ0Y1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOajgOafpeiuvuWkh+eahOm6puWFi+mjju+8jOaRhOWDj+WktFxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGNoZWNrRGV2aWNlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIFJUQ09iai5nZXREZXZpY2VzKChkZXZpY2VzKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gZGV2aWNlcy5maWx0ZXIoKGRldmljZUluZm8pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGV2aWNlSW5mby5raW5kID09PSAnYXVkaW9pbnB1dCcgfHwgZGV2aWNlSW5mby5raW5kID09PSAndmlkZW9pbnB1dCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZihyZXN1bHQubGVuZ3RoID49IDIpe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUsZGV2aWNlcylcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLGRldmljZXMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwoZXJyKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSxlcnIpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6K6+572u5aqS5L2T6K6/6Zeu5Zyw5Z2A77yI5pS5SVAv5Z+f5ZCN77yM5pyA5aW95piv5Z+f5ZCN77yJXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgc2V0Um9vdFN2Y0hvc3QgPSAodmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGFkZHJlc3MgPSB2YWx1ZTtcbiAgICAgICAgaWYodmFsdWUuaW5kZXhPZignOicpICE9IC0xKXtcbiAgICAgICAgICAgIGFkZHJlc3MgPSB2YWx1ZS5zcGxpdCgnOicpWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vUlRDT2JqLnNldFNlcnZlclVybChhZGRyZXNzKTtcbiAgICAgICAgVFRUUnRjV2ViLnNldFNlcnZlclVybChhZGRyZXNzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJblrqLmiLfnq69cbiAgICAgKiBAcGFyYW0gYXBwSWRcbiAgICAgKiBAcGFyYW0gdXNlcklkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgaW5pdCA9IChhcHBJZCx1c2VySWQpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LmluaXQoYXBwSWQsIHVzZXJJZCwgKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IGluaXQgc3VjY2VzcyAtPicsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoJ1RoZSBhdWRpbyBhbmQgdmlkZW8gY2xpZW50IGFyZSBzdWNjZXNzZnVsbHkgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGF1ZGlvIGFuZCB2aWRlbyBjbGllbnQgd2hlbiBqb2luaW5nIGNoYW5uZWwnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDliqDlhaXpopHpgZNcbiAgICAgKiBAcGFyYW0gdXNlcklkICAg5Y+R6LW35pa5dWNjSURcbiAgICAgKiBAcGFyYW0gY2hhbm5lbElkICAg6aKR6YGTSURcbiAgICAgKiBAcGFyYW0gbW9kZSDpopHpgZPmqKHlvI/vvIwx77ya6Z+z6aKR77yMMu+8muinhumikVxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uICDliJ3lp4vljJbnmoTliIbovqjnjodcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+IHwgUHJvbWlzZX1cbiAgICAgKi9cbiAgICBqb2luQ2hhbm5lbCA9ICh1c2VySWQsY2hhbm5lbElkLG1vZGUscmVzb2x1dGlvbikgPT4ge1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGllbnQuam9pbignJyxjaGFubmVsSWQsIChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBqb2luIHN1Y2Nlc3MgLT4nLCBjaGFubmVsSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtID0gUlRDT2JqLmNyZWF0ZVN0cmVhbSh7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbUlEOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJRDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlkZW86IG1vZGUgPT0gMj90cnVlOmZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzY3JlZW46IG1vZGUgPT0gMz90cnVlOmZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOntcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246cmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5pbml0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBzdHJlYW0gaW5pdCBzdWNjZXNzIC0+Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaFN0cmVhbSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoc3RyZWFtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobW9kZSA9PSAyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgnc3RyZWFtLXB1Ymxpc2gnLHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZih0aGlzLmNsaWVudC5fd2ViY2FtUHJvZHVjZXIgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2xlYXJJbnRlcnZhbCh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdzdHJlYW0tcHVibGlzaCcsc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICByZXNvbHZlKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sMzAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdzdHJlYW0tcHVibGlzaCcsc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgc3RyZWFtIGluaXQgZmFpbCAtPicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGpvaW5DaGFubmVsJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBqb2luIGZhaWx1cmUgLT4nLCBlcnIpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGpvaW5DaGFubmVsJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLypcbiAgICAgKiDliIfmjaLlsY/luZXmtYFcbiAgICAgKi9cbiAgICBwdWJsaXNoTG9jYWxTdHJlYW0gPSAodXNlcklkLG1vZGUsaXNTY3JlZW4sIHJlc29sdXRpb24pID0+IHtcbiAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IHN0YXJ0IHN3aXRjaFNjcmVlblN0cmVhbScpO1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LnVucHVibGlzaCh0aGlzLnN0cmVhbSwgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdW5wdWJsaXNoU3RyZWFtIC0gY2xpZW50LnVucHVibGlzaCBsb2NhbCBzdHJlYW0gIHN1Y2Nlc3MuYCk7XG4gICAgICAgICAgICAgIHRoaXMuc3RyZWFtID0gUlRDT2JqLmNyZWF0ZVN0cmVhbSh7XG4gICAgICAgICAgICAgICAgc3RyZWFtSUQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICB1c2VySUQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2aWRlbzogIWlzU2NyZWVuLFxuICAgICAgICAgICAgICAgIHNjcmVlbjogaXNTY3JlZW4sXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczp7XG4gICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHRoaXMuc3RyZWFtLmluaXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgc2NyZWVuIHN0cmVhbSBpbml0IHN1Y2Nlc3MgLT4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hTdHJlYW0oKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdzdHJlYW0tcHVibGlzaCcsc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgc2NyZWVuIHN0cmVhbSBpbml0IGZhaWwgLT4nLCBlcnIpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIHN3aXRjaCBzY3JlZW4nKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1bnB1Ymxpc2hTdHJlYW0gLSBjbGllbnQudW5wdWJsaXNoIGxvY2FsIHN0cmVhbSBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gdW5wdWJsaXNoIHNjcmVlbicpO1xuICAgICAgICAgICAgfSwgaXNTY3JlZW4gPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5Y+R5biD6KeG6aKR5rWBXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgcHVibGlzaFN0cmVhbSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LnB1Ymxpc2godGhpcy5zdHJlYW0sIChjYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgcHVibGlzaCBzdWNjZXNzIHN0cmVhbScpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5zdHJlYW0pO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgIHB1Ymxpc2ggZmFpbHVyZSAtPicsIGVycik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gcHVibGlzaCBzdHJlYW0gd2hlbiBqb2luaW5nIGNoYW5uZWwnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPlua2iOWPkeW4g+inhumikea1gVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT4gfCBQcm9taXNlfVxuICAgICAqL1xuICAgIHVucHVibGlzaFN0cmVhbSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LnVucHVibGlzaCh0aGlzLnN0cmVhbSwgKGNiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCB1bnB1Ymxpc2ggc3VjY2VzcyBzdHJlYW0nKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCB1bnB1Ymxpc2ggZmFpbHVyZSAtPicsIGVycik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gdW5wdWJsaXNoIHN0cmVhbScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6K6i6ZiF6KeG6aKR5rWBKOiuoumYheS5i+WQjuaJjeWPr+S7peaSreaUvilcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+IHwgUHJvbWlzZX1cbiAgICAgKi9cbiAgICBzdWJzY3JpYmVTdHJlYW0gPSAoc3RyZWFtKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsaWVudC5zdWJzY3JpYmUoc3RyZWFtLCAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBzdWJzY3JpYmUgc3VjY2VzcyBzdHJlYW0gY2ItPicsIHJlcyk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgc3Vic2NyaWJlIGZhaWx1cmUgLT4nLCBlcnIpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIHN1YnNjcmliZSBzdHJlYW0nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPlua2iOiuoumYheinhumikea1gSjorqLpmIXkuYvlkI7miY3lj6/ku6Xmkq3mlL4pXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgdW5zdWJzY3JpYmVTdHJlYW0gPSAoc3RyZWFtKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsaWVudC51bnN1YnNjcmliZShzdHJlYW0sIChjYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgdW5zdWJzY3JpYmUgc3VjY2VzcyBzdHJlYW0gY2ItPicsIGNiKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCB1bnN1YnNjcmliZSBmYWlsdXJlIC0+JywgZXJyKTtcbiAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byB1bnN1YnNjcmliZSBzdHJlYW0nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOebkeWQrFxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBsaXN0ZW4gPSAoZXZlbnQscGFyYW1zKSA9PiB7XG4gICAgICAgIHN3aXRjaChldmVudCl7XG4gICAgICAgICAgICAvL+eUqOaIt+i/m+WFpVxuICAgICAgICAgICAgY2FzZSAndXNlci1qb2luJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbigncGVlci1qb2luJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IG9uID4+IHVzZXIgam9pbmVkIHJvb20gc3VjY2VzcyAtPicrZXZ0LnVzZXJJRCwgZXZ0KTtcbiAgICAgICAgICAgICAgICAgICAgLy/mlrDmiJDlkZjliqDlhaXml7bosIPnlKjms6jlhozlpb3nmoTnm5HlkKzlh73mlbDvvIzlsIbliqDlhaXnu5PmnpzkvKDlh7pcbiAgICAgICAgICAgICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgndXNlci1qb2luJyxldnQudXNlcklEKTtcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgb24gPj4gdXNlciBqb2luZWQgcm9vbSBmYWlsdXJlIC0+JywgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8v55So5oi356a75byAXG4gICAgICAgICAgICBjYXNlICd1c2VyLWxlYXZlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbigncGVlci1sZWF2ZScsIChldnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBvbiA+PiB1c2VyIGxlYXZlZCByb29tIHN1Y2Nlc3MgLT4nK2V2dC51c2VySUQsIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCByb2xlID0gZXZ0LnBlZXIuX2FwcERhdGEucm9sZTtcblxuICAgICAgICAgICAgICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCd1c2VyLWxlYXZlJyxldnQudXNlcklELHJvbGUpO1xuXG4gICAgICAgICAgICAgICAgfSwoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgb24gPj4gdXNlciBsZWF2ZWQgcm9vbSBmYWlsIC0+JywgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8v5paw5aKe5rWBXG4gICAgICAgICAgICBjYXNlICdzdHJlYW0tYWRkJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbignc3RyZWFtLWFkZGVkJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RyZWFtID0gZXZ0LnN0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBvbiA+PiBzdHJlYW0tYWRkZWQgcm9vbSBzdWNjZXNzLiAtPicsIHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc3Vic2NyaWJlU3RyZWFtKHN0cmVhbSlcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdzdHJlYW0tYWRkJyxyZXMpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgnZXJyb3InLGVycik7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBvbiA+PiBzdHJlYW0tYWRkZWQgcm9vbSBmYWlsLiAtPicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvL+aWsOWinumfs+mikea1gVxuICAgICAgICAgICAgY2FzZSAnYXVkaW8tYWRkZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCdhdWRpby1hZGRlZCcsIChldnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cmVhbSA9IGV2dC5zdHJlYW07XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgb24gPj4gYXVkaW8tYWRkZWQgcm9vbSBzdWNjZXNzLiAtPicsIHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlU3RyZWFtKHN0cmVhbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IG9uID4+IGF1ZGlvLXN0cmVhbSBzdWJzY3JpYmUgc3VjY2Vzcy4gLT4nLCBzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ2F1ZGlvLWFkZGVkJyxyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgnZXJyb3InLGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBvbiA+PiAgYXVkaW8tc3RyZWFtIHN1YnNjcmliZSBmYWlsLiAtPicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvL+aWsOWinua1gVxuICAgICAgICAgICAgY2FzZSAndmlkZW8tYWRkZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCd2aWRlby1hZGRlZCcsIChldnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cmVhbSA9IGV2dC5zdHJlYW07XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgb24gPj4gdmlkZW8tYWRkZWQgcm9vbSBzdWNjZXNzLiAtPicsIHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlU3RyZWFtKHN0cmVhbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IG9uID4+IHZpZGVvLXN0cmVhbSBzdWJzY3JpYmUgc3VjY2Vzcy4gLT4nLCBzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ3ZpZGVvLWFkZGVkJyxyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgnZXJyb3InLGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBvbiA+PiB2aWRlby1zdHJlYW0gc3Vic2NyaWJlIGZhaWwuIC0+JywgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8v6Z+z6YeP5Y+Y5YyWXG4gICAgICAgICAgICBjYXNlICdzcGVha2luZyc6XG4gICAgICAgICAgICAgICAgbGV0IHN0cmVhbSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICBzdHJlYW0ub24oJ3ZvbHVtZS1jaGFuZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ3NwZWFraW5nJyxldnQudXNlcklELGV2dC52b2x1bWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy/nlKjmiLfnpoHpn7NcbiAgICAgICAgICAgIGNhc2UgJ2F1ZGlvLW11dGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCdhdWRpby1tdXRlJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IG9uID4+IGxpc3RlbiB1c2VyIGF1ZGlvLW11dGUgLT4nK2V2dC5zdHJlYW0uZ2V0SWQoKSwgZXZ0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cmVhbSA9IGV2dC5zdHJlYW07XG4gICAgICAgICAgICAgICAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ2F1ZGlvLW11dGUnLHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8v55So5oi35Y+W5raI56aB6Z+zXG4gICAgICAgICAgICBjYXNlICdhdWRpby11bm11dGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCdhdWRpby11bm11dGUnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgb24gPj4gbGlzdGVuIHVzZXIgYXVkaW8tdW5tdXRlIC0+JytldnQuc3RyZWFtLmdldElkKCksIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJlYW0gPSBldnQuc3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdhdWRpby11bm11dGUnLHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8v55So5oi356aB6KeG6aKRXG4gICAgICAgICAgICBjYXNlICd2aWRlby1tdXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbigndmlkZW8tbXV0ZScsIChldnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBvbiA+PiBsaXN0ZW4gdXNlciB2aWRlby1tdXRlIC0+JytldnQuc3RyZWFtLmdldElkKCksIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJlYW0gPSBldnQuc3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCd2aWRlby1tdXRlJyxzdHJlYW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvL+WPlua2iOeUqOaIt+emgeinhumikVxuICAgICAgICAgICAgY2FzZSAndmlkZW8tdW5tdXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5vbigndmlkZW8tdW5tdXRlJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IG9uID4+IGxpc3RlbiB1c2VyIHZpZGVvLXVubXV0ZSAtPicrZXZ0LnN0cmVhbS5nZXRJZCgpLCBldnQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RyZWFtID0gZXZ0LnN0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgndmlkZW8tdW5tdXRlJyxzdHJlYW0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvL+eUqOaIt+mfs+inhumikea1geiuoumYhVxuICAgICAgICAgICAgY2FzZSAnc3RyZWFtLXN1YnNjcmliZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCdzdHJlYW0tc3Vic2NyaWJlZCcsKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IHN0cmVhbS1zdWJzY3JpYmVkJyxyZXMpO1xuICAgICAgICAgICAgICAgICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdzdHJlYW0tc3Vic2NyaWJlZCcscmVzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy/pn7Pop4bpopHmtYHlj5bmtojorqLpmIVcbiAgICAgICAgICAgIGNhc2UgJ3N0cmVhbS11bnB1Ymxpc2hlZCc6XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub24oJ3N0cmVhbS11bnB1Ymxpc2hlZCcsKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IHN0cmVhbS11bnB1Ymxpc2hlZCcscmVzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy/lsY/luZXlhbHkuqvlgZzmraJcbiAgICAgICAgICAgIGNhc2UgJ3NjcmVlbi1jbG9zZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0ub24oJ3NjcmVlbi1jbG9zZScsKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IHNjcmVlbi1jbG9zZScscmVzKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy/ooqvouKLlh7rmiL/pl7RcbiAgICAgICAgICAgIGNhc2UgJ2tpY2tvdXQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCdraWNrb3V0JywocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZihyZXMuZXhpdENvZGUgPT0gMTA0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Li75oyB5Lq66YCA5Ye6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYi5jb2RlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiLmRlc2MgPSAnVGhlIGhvc3QgcXVpdHMgYW5kIHRoZSByb29tIGlzIGRlc3Ryb3llZCc7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChyZXMuZXhpdENvZGUgPT0gMTA4KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Lik5Liq5Li75oyB5Lq6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYi5jb2RlID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiLmRlc2MgPSAnVGhlcmVcXCdzIG9ubHkgb25lIGhvc3QuIFlvdVxcJ3JlIG1vdmVkIG91dCBvZiB0aGUgcm9vbS4nO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZiAocmVzLmV4aXRDb2RlID09IDEwMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+iiq+aPkOWHuuaIv+mXtFxuICAgICAgICAgICAgICAgICAgICAgICAgY2IuY29kZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYi5kZXNjID0gJyBZb3VcXCdyZSBtb3ZlZCBvdXQgb2YgdGhlIHJvb20gYnkgaG9zdC4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ2tpY2tvdXQnLGNiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy/nlKjmiLfmlq3lvIBcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3QnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm9uKCdkaXNjb25uZWN0ZWQnLChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBkaXNjb25uZWN0ZWQnLHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ2Rpc2Nvbm5lY3QnLHJlcyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOemu+W8gOmikemBk1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT4gfCBQcm9taXNlfVxuICAgICAqL1xuICAgIGxlYXZlQ2hhbm5lbCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudW5wdWJsaXNoU3RyZWFtKClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmxlYXZlKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IGxlYXZlIGNoYW5uZWwgc3VjY2VzcyAtPicsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdHJlYW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNsaWVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ0xlYXZlQ2hhbm5lbCBzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgbGVhdmUgY2hhbm5lbCBmYWlsdXJlIC0+JywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGxlYXZlIGNoYW5uZWwsJytlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGxlYXZlIGNoYW5uZWwsJytlcnIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOemgem6puWFi+mjjlxuICAgICAqL1xuICAgIGZvcmJpZGRlbk1pYyA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGllbnQucGF1c2VNaWMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5Y+W5raI56aB6bqm5YWL6aOOXG4gICAgICovXG4gICAgdW5Gb3JiaWRkZW5NaWMgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xpZW50LnJlc3VtZU1pYygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOemgeaRhOWDj+WktFxuICAgICAqL1xuICAgIGZvcmJpZGRlbldlYmNhbSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGllbnQucGF1c2VXZWJjYW0odGhpcy5zdHJlYW0sIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlj5bmtojnpoHmkYTlg4/lpLRcbiAgICAgKi9cbiAgICB1bkZvcmJpZGRlbldlYmNhbSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGllbnQucmVzdW1lV2ViY2FtKHRoaXMuc3RyZWFtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDojrflj5bpn7PpopHnmoTpn7Pph49cbiAgICAgKi9cbiAgICBnZXRWb2x1bWUgPSAoc3RyZWFtKSA9PiB7XG4gICAgICAgIGlmKHN0cmVhbSA9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgc3RyZWFtID0gdGhpcy5zdHJlYW07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZvbHVtZSA9IHN0cmVhbS5nZXRBdWRpb0xldmVsKCk7XG4gICAgICAgIHJldHVybiB2b2x1bWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YWz6Zet6KeG6aKR6L2o6YGTXG4gICAgICovXG4gICAgY2xvc2VWaWRlbyA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBkaXNhYmxlVmlkZW8gJyApO1xuICAgICAgICB0aGlzLnN0cmVhbS5kaXNhYmxlVmlkZW8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5omT5byA6KeG6aKR6L2o6YGTXG4gICAgICovXG4gICAgb3BlblZpZGVvID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IGVuYWJsZVZpZGVvICcgKTtcbiAgICAgICAgdGhpcy5zdHJlYW0uZW5hYmxlVmlkZW8oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhbPpl63pn7PpopHovajpgZNcbiAgICAgKi9cbiAgICBjbG9zZUF1ZGlvID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IGRpc2FibGVBdWRpbyAnICk7XG4gICAgICAgIHRoaXMuc3RyZWFtLmRpc2FibGVBdWRpbygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDmiZPlvIDpn7PpopHovajpgZNcbiAgICAgKi9cbiAgICBvcGVuQXVkaW8gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQgZW5hYmxlQXVkaW8gJyApO1xuICAgICAgICB0aGlzLnN0cmVhbS5lbmFibGVBdWRpbygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiuvue9ruinhumikee8lueggVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHNldFZpZGVvUHJvcGVydHkgPSAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLnNldFZpZGVvUHJvZmlsZSh2YWx1ZSwgKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IHNldFZpZGVvUHJvZmlsZSBzdWNjZXNzIC0tPiAnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdTZXQgcmVzb2x1dGlvbiAoJyt2YWx1ZSsnKSBzdWNjZXNzJyk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBzZXRWaWRlb1Byb2ZpbGUgZmFpbHVyZSAtLT4gJywgZXJyKTtcbiAgICAgICAgICAgICAgICByZWplY3QoJ1NldCByZXNvbHV0aW9uICgnK3ZhbHVlKycpIGZhaWx1cmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDorr7nva7lkIjmtYHluIPlsYBcbiAgICAgKiBAcGFyYW0gdXNlcklkXG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKiBAcGFyYW0gc2VpXG4gICAgICogQHBhcmFtIGlzU2NyZWVuXG4gICAgICovXG4gICAgc2V0U2VpID0gKHVzZXJJZCx0eXBlLHNlaSxpc1NjcmVlbikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50IHNldFNFSSBwYXJhbXM6Jyx1c2VySWQsdHlwZSxpc1NjcmVlbixzZWkpXG4gICAgICAgIHRoaXMuY2xpZW50LnNldFNFSSh1c2VySWQsdHlwZSxpc1NjcmVlbixzZWkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5oiq5Y+W6KeG6aKR5binXG4gICAgICogQHBhcmFtIHN0cmVhbSDlqpLkvZPmtYFcbiAgICAgKiBAcGFyYW0gcmV0VHlwZSDmlofku7bnsbvlnotcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUg5paH5Lu25ZCNXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgY2FwdHVyZVZpZGVvID0gKHN0cmVhbSwgcmV0VHlwZSwgZmlsZW5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2FwdHVyZShyZXRUeXBlLGZpbGVuYW1lLChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gY2FwdHVyZSB2aWRlbywnK2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6Lii5Lq6XG4gICAgICogQHBhcmFtIHVzZXJJZFxuICAgICAqL1xuICAgIGtpY2tPdXQgPSAodXNlcklkKSA9PiB7XG4gICAgICAgIHRoaXMuY2xpZW50LmtpY2tPdXQodXNlcklkKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU1JUQ1dlYlxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVBBOzs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBcUNBO0FBQ0E7QUFDQTtBQXZDQTtBQThDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBM0RBO0FBa0VBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQXhFQTtBQWlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6RkE7QUFvR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFOQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQW5KQTtBQXdKQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQU5BO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3TEE7QUFtTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1TUE7QUFtTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1TkE7QUFtT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1T0E7QUFtUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1UEE7QUFvUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBN0pBO0FBK0pBO0FBbmFBO0FBMGFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUEvYkE7QUFxY0E7QUFDQTtBQXRjQTtBQTJjQTtBQUNBO0FBNWNBO0FBa2RBO0FBQ0E7QUFuZEE7QUF3ZEE7QUFDQTtBQXpkQTtBQStkQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXBlQTtBQTBlQTtBQUNBO0FBQUE7QUFDQTtBQTVlQTtBQWlmQTtBQUNBO0FBQUE7QUFDQTtBQW5mQTtBQXlmQTtBQUNBO0FBQUE7QUFDQTtBQTNmQTtBQWdnQkE7QUFDQTtBQUFBO0FBQ0E7QUFsZ0JBO0FBeWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxoQkE7QUE0aEJBO0FBQ0E7QUFBQTtBQUNBO0FBOWhCQTtBQXdpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFsakJBO0FBeWpCQTtBQUNBO0FBempCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQStoQkE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///295\n")},,function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty2 = __webpack_require__(2);\n\n_Object$defineProperty2(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(2));\n\nvar _defineProperties = _interopRequireDefault(__webpack_require__(47));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(__webpack_require__(48));\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(__webpack_require__(40));\n\nvar _getOwnPropertySymbols = _interopRequireDefault(__webpack_require__(49));\n\nvar _keys = _interopRequireDefault(__webpack_require__(38));\n\nvar _parseFloat2 = _interopRequireDefault(__webpack_require__(168));\n\nvar _getIterator2 = _interopRequireDefault(__webpack_require__(133));\n\nvar _toConsumableArray2 = _interopRequireDefault(__webpack_require__(289));\n\n__webpack_require__(291);\n\n__webpack_require__(292);\n\n__webpack_require__(121);\n\n__webpack_require__(37);\n\n__webpack_require__(142);\n\n__webpack_require__(27);\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(293));\n\n__webpack_require__(33);\n\nvar _parseInt2 = _interopRequireDefault(__webpack_require__(13));\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\n__webpack_require__(196);\n\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(294));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty3 = _interopRequireDefault(__webpack_require__(8));\n\nvar _channels = _interopRequireDefault(__webpack_require__(306));\n\nvar _client = _interopRequireDefault(__webpack_require__(295));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _eventEmitter = _interopRequireDefault(__webpack_require__(188));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nfunction ownKeys(object, enumerableOnly) { var keys = (0, _keys["default"])(object); if (_getOwnPropertySymbols["default"]) { var symbols = (0, _getOwnPropertySymbols["default"])(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return (0, _getOwnPropertyDescriptor["default"])(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty3["default"])(target, key, source[key]); }); } else if (_getOwnPropertyDescriptors["default"]) { (0, _defineProperties["default"])(target, (0, _getOwnPropertyDescriptors["default"])(source)); } else { ownKeys(Object(source)).forEach(function (key) { (0, _defineProperty2["default"])(target, key, (0, _getOwnPropertyDescriptor["default"])(source, key)); }); } } return target; }\n\nvar SRTCClient = null;\n\nvar Channel = function Channel() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Channel);\n  (0, _defineProperty3["default"])(this, "streams", []);\n  (0, _defineProperty3["default"])(this, "room", null);\n  (0, _defineProperty3["default"])(this, "resolution", \'hd720p\');\n  (0, _defineProperty3["default"])(this, "supportRecord", false);\n  (0, _defineProperty3["default"])(this, "layout", null);\n  (0, _defineProperty3["default"])(this, "isScreen", false);\n  (0, _defineProperty3["default"])(this, "timer", null);\n  (0, _defineProperty3["default"])(this, "join", /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(_ref2) {\n      var channelKey, role, channelName, profile, to, onSuccess, onFailure, scope, enableRecord, profileServer;\n      return _regenerator["default"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              channelKey = _ref2.channelKey, role = _ref2.role, channelName = _ref2.channelName, profile = _ref2.profile, to = _ref2.to, onSuccess = _ref2.onSuccess, onFailure = _ref2.onFailure;\n              _context.next = 3;\n              return new _promise["default"](function (resolve, reject) {\n                _this._checkValue(\'channelName\', channelName).then(function () {\n                  return _this._checkValue(\'channelKey\', channelKey);\n                }).then(function () {\n                  return _this._checkValue(\'profile\', profile);\n                }).then(function () {\n                  return _this._checkValue(\'role\', role);\n                }).then(function () {\n                  resolve();\n                })["catch"](function (err) {\n                  if (onFailure) {\n                    onFailure(400, err);\n                  } else {\n                    throw new Error(err);\n                  }\n\n                  return;\n                });\n              });\n\n            case 3:\n              channelName = _config["default"].config.appCode + channelName; // channelKey = channelKey != undefined ? channelKey : channelName;\n\n              channelKey = channelName;\n              scope = 6;\n              enableRecord = _this.supportRecord;\n\n              if (!_eventEmitter["default"].eventEmitter) {\n                _eventEmitter["default"].createEventEmitter();\n              }\n\n              if (profile == 3) {\n                _this.isScreen = true;\n              } //给平台的profile设置（音频1，视频2，屏幕共享也是2）\n\n\n              profileServer = (0, _parseInt2["default"])(profile) > 2 ? 2 : profile; //先调用平台再调用媒体sdk\n\n              _channels["default"].joinChannel(role, null, channelKey, channelName, profileServer, scope, enableRecord).then(function (data) {\n                _this.room = data;\n                _config["default"].config.webMediaRelay = data.webMediaRelay.split(\';\')[0];\n                _this.supportRecord = data.channel.enableRecord;\n                return _this._heartBeat = (channelKey, channelName, data.callId);\n              }).then(function () {\n                //目前需求只有主持人可以推流和设置流布局sei，参与者不推流也不设置布局，只调用平台录制接口\n                var rtmpUrl = null;\n\n                if (_this.supportRecord && role == 1) {\n                  //推流地址的格式：平台返回的url+房间号_callId(rtmp://ip:1934/record_manual/房间号_callId)\n                  rtmpUrl = _this.room.channel.publishURL + channelName + \'_\' + _this.room.callId; // rtmpUrl = \'rtmp://10.0.0.38:1935/conference/\' + channelName\n                }\n\n                var disableVideoPush = profile == 1 ? true : false;\n                SRTCClient = new _client["default"](role, rtmpUrl, disableVideoPush, _config["default"].config.webMediaRelay); // SRTCClient.setRootSvcHost(Config.config.webMediaRelay);\n\n                return SRTCClient.init(_config["default"].config.mediaAppId, _common["default"].addAppCode(_config["default"].config.uccId));\n              }).then(function () {\n                //保存当前房间信息\n                console.log(_this.room.channel);\n                _this.room = _objectSpread({}, _this.room.channel, {\n                  profile: profile,\n                  callId: _this.room.callId,\n                  role: role\n                });\n\n                _this._listenClient();\n\n                var data = _objectSpread({}, _this.room);\n\n                data.channelName = _common["default"].channelNameFilter(data.channelName);\n                console.log("======join success", data);\n\n                if (onSuccess) {\n                  onSuccess(200, data);\n                }\n              })["catch"](function (err) {\n                console.log(\'=============join err =>\', err);\n\n                _this.leave({});\n\n                if (onFailure) {\n                  onFailure(500, err);\n                } else {\n                  throw new Error(err);\n                }\n              });\n\n            case 11:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  (0, _defineProperty3["default"])(this, "playMedia", function (_ref3) {\n    var uccId = _ref3.uccId,\n        elementId = _ref3.elementId,\n        onSuccess = _ref3.onSuccess,\n        onFailure = _ref3.onFailure;\n\n    if (!uccId) {\n      if (onFailure) {\n        onFailure(400, \'uccId parameters are required\');\n      } else {\n        throw new Error(\'uccId parameters are required\');\n      }\n\n      return;\n    }\n\n    var media = null;\n\n    if (elementId) {\n      media = document.getElementById(elementId);\n      media.muted = true;\n    } //无法分辨监听到的流（app和小程序过来的）是纯音频还是音视频流\n    //暂时的方案是 监听到的流都用video+audio播放，video静音（只播放画面），audio来播放声音\n    //播放自己的视频\n\n\n    if (uccId == _config["default"].config.uccId) {\n      var profile = _this.room.profile,\n          role = _this.room.role; //远程协助的判断\n\n      var profileClient = profile == 3 || profile == 4 && role == 1 ? 3 : profile == 4 && role == 2 ? 2 : profile; //小程序音频互通\n\n      if (_this.room.os == \'WeChat\' && profile == 1) {\n        profileClient = 2;\n      }\n\n      var userId = _common["default"].addAppCode(_config["default"].config.uccId);\n\n      SRTCClient.joinChannel(userId, _this.room.channelName, profileClient, _this.resolution).then(function (stream) {\n        if (_this.supportRecord && _this.room.role == 1) {\n          _this.setLayout({\n            type: 1\n          });\n        }\n\n        _eventEmitter["default"].eventEmitter.emit(\'speak\'); //小程序的纯音频模式兼容\n\n\n        if (_this.room.os == \'WeChat\' && profile == 1) {\n          //关掉摄像头显示\n          stream._streamObj.getVideoTracks().forEach(function (track) {\n            return track.stop();\n          }); //关掉视频轨道\n\n\n          SRTCClient.closeVideo(); //关掉摄像头链接（用来彻底关掉摄像头，只适用于小程序的纯音频场景）\n\n          SRTCClient.client._webcamProducer.close(); //用来调整显示，不然直接用video播放会有视频是黑色的，不利于UI展示\n\n\n          if (media) {\n            var audio = document.createElement(\'audio\');\n            audio.muted = true;\n            audio.srcObject = stream.streamObj;\n            media.appendChild(audio);\n            audio.play();\n          }\n        } else {\n          if (media) {\n            stream.play(elementId);\n            media.srcObject = stream.streamObj;\n            media.play();\n          }\n        }\n\n        if (onSuccess) {\n          onSuccess(200);\n        }\n      })["catch"](function (err) {\n        if (onFailure) {\n          onFailure(500, err);\n        } else {\n          throw new Error(err);\n        }\n      });\n    } else {\n      //播放别人的视频\n      var data = _this.streams.find(function (item) {\n        return item.uccId == _common["default"].addAppCode(uccId);\n      });\n\n      if (_this.streams.length == 0 || !data || !data.stream) {\n        if (onFailure) {\n          onFailure(400, \'There is no audio or video currently available\');\n        } else {\n          throw new Error(\'There is no audio or video currently available\');\n        }\n\n        return;\n      }\n\n      if (media) {\n        var stream = data.stream;\n        stream.play(elementId);\n        media.srcObject = stream.streamObj;\n        var audio = document.createElement(\'audio\');\n        audio.srcObject = stream.streamObj;\n        media.appendChild(audio);\n        media.play();\n        audio.play();\n      }\n\n      if (onSuccess) {\n        onSuccess(200);\n      }\n    }\n  });\n  (0, _defineProperty3["default"])(this, "publishLocalStream", function (_ref4) {\n    var uccId = _ref4.uccId,\n        elementId = _ref4.elementId,\n        isScreen = _ref4.isScreen,\n        onSuccess = _ref4.onSuccess,\n        onFailure = _ref4.onFailure;\n\n    if (!uccId) {\n      if (onFailure) {\n        onFailure(400, \'uccId parameters are required\');\n      } else {\n        throw new Error(\'uccId parameters are required\');\n      }\n\n      return;\n    }\n\n    var media = null;\n\n    if (elementId) {\n      media = document.getElementById(elementId);\n      media.muted = true;\n    }\n\n    var userId = _common["default"].addAppCode(_config["default"].config.uccId);\n\n    var mode = isScreen ? 3 : 2;\n    SRTCClient.publishLocalStream(userId, mode, isScreen, _this.resolution).then(function (stream) {\n      if (_this.supportRecord && _this.room.role == 1) {\n        _this.setLayout({\n          type: 1\n        });\n      }\n\n      _this.isScreen = isScreen;\n\n      _eventEmitter["default"].eventEmitter.emit(\'speak\');\n\n      if (media) {\n        stream.play(elementId);\n        media.srcObject = stream.streamObj;\n        media.play();\n      }\n\n      if (onSuccess) {\n        onSuccess(200);\n      }\n    })["catch"](function (err) {\n      if (onFailure) {\n        onFailure(500, err);\n      } else {\n        throw new Error(err);\n      }\n    });\n  });\n  (0, _defineProperty3["default"])(this, "on", function (event, callback) {\n    if (!callback || typeof callback !== "function") {\n      throw new TypeError(\'callback is required and callback must be a function\');\n      return;\n    }\n\n    if (!event) {\n      callback(null, \'event parameter is required\');\n      return;\n    }\n\n    if (!_eventEmitter["default"].eventEmitter) {\n      _eventEmitter["default"].createEventEmitter();\n    }\n\n    switch (event) {\n      case \'user-join\':\n        _this._userJoinCallback = callback;\n        break;\n\n      case \'user-leave\':\n        _this._userLeaveCallback = callback;\n        break;\n\n      case \'stream-publish\':\n        _this._streamPublishCallback = callback;\n        break;\n\n      case \'stream-add\':\n        _this._streamAddCallback = callback;\n        break;\n\n      case \'audio-added\':\n        _this._streamAudioAddCallback = callback;\n        break;\n\n      case \'video-added\':\n        _this._streamVideoAddCallback = callback;\n        break;\n\n      case \'stream-subscribed\':\n        _this._streamScribedCallback = callback;\n        break;\n\n      case \'speaking\':\n        _this._speakingCallback = callback;\n        break;\n\n      case \'audio-mute\':\n        _this._audioMuteCallback = callback;\n        break;\n\n      case \'audio-unmute\':\n        _this._audioUnmuteCallback = callback;\n        break;\n\n      case \'video-mute\':\n        _this._videoMuteCallback = callback;\n        break;\n\n      case \'video-unmute\':\n        _this._videoUnmuteCallback = callback;\n        break;\n\n      case \'kickout\':\n        _this._kickoutCallback = callback;\n        break;\n\n      case \'error\':\n        //发生异常\n        _this._errorCallback = callback;\n        break;\n\n      case \'disconnect\':\n        //断开，可能是网络断开或者被踢掉导致的\n        _this._disconnectCallback = callback;\n    }\n  });\n  (0, _defineProperty3["default"])(this, "_listenClient", function () {\n    SRTCClient.listen(\'user-join\');\n\n    _eventEmitter["default"].eventEmitter.on(\'user-join\', function (uccId) {\n      console.log(\'======调到了on user join的监听函数，说明有成员进入,uccId：\' + uccId);\n\n      if (_this._userJoinCallback) {\n        _this._userJoinCallback(_common["default"].removeAppCode(uccId));\n      }\n    });\n\n    SRTCClient.listen(\'user-leave\');\n\n    _eventEmitter["default"].eventEmitter.on(\'user-leave\', function (uccId, role) {\n      console.log(\'======调到了on user leave的监听函数，说明有成员离开,uccId:\' + uccId);\n      _this.streams = _this.streams.filter(function (item) {\n        return item.uccId !== uccId;\n      }); //离开时改变合流布局\n\n      if (_this.supportRecord && _this.room.role == 1 && (role == 1 || role == 2)) {\n        _this.setLayout({\n          type: 2\n        });\n      }\n\n      if (_this._userLeaveCallback) {\n        _this._userLeaveCallback(_common["default"].removeAppCode(uccId));\n      }\n    }); //本地流发布成功\n\n\n    _eventEmitter["default"].eventEmitter.on(\'stream-publish\', function (stream) {\n      var uccId = stream.getId();\n\n      _this.streams.push({\n        uccId: uccId,\n        stream: stream\n      });\n\n      if (_this._streamPublishCallback) {\n        _this._streamPublishCallback(stream);\n      }\n    });\n\n    SRTCClient.listen(\'stream-add\');\n\n    _eventEmitter["default"].eventEmitter.on(\'stream-add\', function (stream) {\n      console.log(\'======调到了on add stream的监听函数，说明新成员的音视频流写入页面的音视频标签,\', stream); // let uccId = stream.getId()\n      // this.streams.push({ uccId: uccId, stream: stream })\n      // //加入时改变合流布局\n      // if (this.supportRecord && this.room.role == 1) {\n      //   this.setLayout({ type: 1 })\n      // }\n      //\n      // //新增流，speak中注册的监听需要对应的新增一个\n      // Emitter.eventEmitter.emit(\'speak\')\n      //\n      // if (this._streamAddCallback) {\n      //   this._streamAddCallback(stream)\n      // }\n    });\n\n    SRTCClient.listen(\'audio-added\');\n\n    _eventEmitter["default"].eventEmitter.on(\'audio-added\', function (stream) {\n      console.log(\'======调到了on audio-added的监听函数,\', stream);\n\n      if (_this._streamAudioAddCallback) {\n        _this._streamAudioAddCallback(stream);\n      }\n    });\n\n    SRTCClient.listen(\'video-added\');\n\n    _eventEmitter["default"].eventEmitter.on(\'video-added\', function (stream) {\n      console.log(\'======调到了on video-added的监听函数,\', stream);\n\n      if (_this._streamVideoAddCallback) {\n        _this._streamVideoAddCallback(stream);\n      }\n    });\n\n    SRTCClient.listen(\'stream-subscribed\');\n\n    _eventEmitter["default"].eventEmitter.on(\'stream-subscribed\', function (evt) {\n      var stream = evt.stream;\n\n      if (!stream) {\n        console.log(\'======调到了on stream-subscribed监听函数，但是stream is null,\');\n        return;\n      }\n\n      console.log(\'======调到了on stream-subscribed监听函数，说明新成员的音视频流写入页面的音视频标签,\', stream);\n      var uccId = stream.getId();\n\n      _this.streams.push({\n        uccId: uccId,\n        stream: stream\n      }); //加入时改变合流布局\n\n\n      if (_this.supportRecord && _this.room.role == 1) {\n        _this.setLayout({\n          type: 1\n        });\n      } //新增流，speak中注册的监听需要对应的新增一个\n\n\n      _eventEmitter["default"].eventEmitter.emit(\'speak\');\n\n      if (_this._streamAddCallback) {\n        _this._streamAddCallback(evt.stream);\n      }\n    });\n\n    var this_streams = [],\n        i = 0; //为了保证有人进入时及时更新流（都放到speaking里面的话在声音变化时会一直被调用，没必要）\n\n    _eventEmitter["default"].eventEmitter.on(\'speak\', function () {\n      var results = _this.streams.filter(function (item) {\n        var idList = this_streams.map(function (v) {\n          return v.uccId;\n        });\n        return !idList.includes(item.uccId);\n      });\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator2["default"])(results), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          SRTCClient.listen(\'speaking\', item.stream);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator["return"] != null) {\n            _iterator["return"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this_streams = (0, _toConsumableArray2["default"])(_this.streams);\n\n      _eventEmitter["default"].eventEmitter.on(\'speaking\', function (uccId, vol) {\n        var speak = {\n          uccId: _common["default"].removeAppCode(uccId),\n          volume: vol\n        };\n\n        if ((0, _parseInt2["default"])(vol) > 0) {\n          i = 0;\n\n          if (_this._speakingCallback) {\n            _this._speakingCallback(speak);\n          }\n        } else {\n          if (i === 0) {\n            if (_this._speakingCallback) {\n              _this._speakingCallback(speak);\n            }\n          }\n\n          i++;\n        }\n      });\n    });\n\n    SRTCClient.listen(\'audio-mute\');\n\n    _eventEmitter["default"].eventEmitter.on(\'audio-mute\', function (stream) {\n      if (_this._audioMuteCallback) {\n        _this._audioMuteCallback(stream.getId(), stream);\n      }\n    });\n\n    SRTCClient.listen(\'audio-unmute\');\n\n    _eventEmitter["default"].eventEmitter.on(\'audio-unmute\', function (stream) {\n      if (_this._audioUnmuteCallback) {\n        _this._audioUnmuteCallback(stream.getId(), stream);\n      }\n    });\n\n    SRTCClient.listen(\'video-mute\');\n\n    _eventEmitter["default"].eventEmitter.on(\'video-mute\', function (stream) {\n      if (_this._videoMuteCallback) {\n        _this._videoMuteCallback(stream.getId(), stream);\n      }\n    });\n\n    SRTCClient.listen(\'video-unmute\');\n\n    _eventEmitter["default"].eventEmitter.on(\'video-unmute\', function (stream) {\n      if (_this._videoUnmuteCallback) {\n        _this._videoUnmuteCallback(stream.getId(), stream);\n      }\n    });\n\n    SRTCClient.listen(\'kickout\');\n\n    _eventEmitter["default"].eventEmitter.on(\'kickout\', function (res) {\n      if (_this._kickoutCallback) {\n        _this._kickoutCallback(res);\n      }\n    }); //发生异常\n\n\n    _eventEmitter["default"].eventEmitter.on(\'error\', function (err) {\n      if (_this._errorCallback) {\n        _this._errorCallback(err);\n      }\n    }); //断开，可能是网络断开或者被踢掉导致的\n\n\n    SRTCClient.listen(\'disconnect\');\n\n    _eventEmitter["default"].eventEmitter.on(\'disconnect\', function (res) {\n      if (_this._disconnectCallback) {\n        _this._disconnectCallback(res);\n      }\n    });\n  });\n  (0, _defineProperty3["default"])(this, "leave", function (_ref5) {\n    var onSuccess = _ref5.onSuccess,\n        onFailure = _ref5.onFailure;\n\n    if (_this.room && (_this.room.channelName || _this.room.channel.channelName)) {\n      var room = _this.room.channel ? _this.room.channel : _this.room;\n      var channelName = room.channelName,\n          channelKey = room.channelKey,\n          callId = room.callId;\n\n      _eventEmitter["default"].removeEventEmitter();\n\n      _this.streams = [];\n      _this.room = null;\n      _this.layout = null;\n      clearInterval(_this.timer);\n      var count = 0;\n\n      _channels["default"].leaveChannel(channelKey, channelName, callId).then(function (code) {\n        count += 1;\n\n        if (onSuccess && count > 1) {\n          onSuccess(200, \'LeaveChannel success\');\n        }\n      })["catch"](function (err) {\n        if (onFailure) {\n          onFailure(500, err);\n        } else {\n          throw new Error(err);\n        }\n\n        return;\n      });\n\n      SRTCClient.leaveChannel().then(function () {\n        count += 1;\n\n        if (onSuccess && count > 1) {\n          onSuccess(200, \'LeaveChannel success\');\n        }\n      })["catch"](function (err) {\n        if (onFailure) {\n          onFailure(500, err);\n        } else {\n          throw new Error(err);\n        }\n\n        return;\n      });\n    } else {\n      if (onSuccess) {\n        onSuccess(200, \'LeaveChannel success\');\n      }\n    }\n  });\n  (0, _defineProperty3["default"])(this, "enableRecord", function (value) {\n    _this.supportRecord = value ? true : false;\n  });\n  (0, _defineProperty3["default"])(this, "startRecord", function (_ref6) {\n    var onSuccess = _ref6.onSuccess,\n        onFailure = _ref6.onFailure;\n\n    //房间允许录制时才能调用\n    if (_this.room.enableRecord) {\n      var channelName = _this.room.channelName,\n          channelKey = _this.room.channelKey,\n          callId = _this.room.callId;\n\n      _this._record(channelName, channelKey, callId, \'start\').then(function () {\n        if (onSuccess) {\n          onSuccess(200, \'Record success\');\n        }\n      })["catch"](function (err) {\n        if (onFailure) {\n          onFailure(500, err);\n        } else {\n          throw new Error(err);\n        }\n      });\n    } else {\n      if (onFailure) {\n        onFailure(500, \'Record failure , the room must allow record\');\n      } else {\n        throw new Error(\'Record failure , the room must allow record\');\n      }\n    }\n  });\n  (0, _defineProperty3["default"])(this, "stopRecord", function (_ref7) {\n    var onSuccess = _ref7.onSuccess,\n        onFailure = _ref7.onFailure;\n\n    //房间允许录制时才能调用\n    if (_this.room.enableRecord) {\n      var channelName = _this.room.channelName,\n          channelKey = _this.room.channelKey,\n          callId = _this.room.callId;\n\n      _this._record(channelName, channelKey, callId, \'stop\').then(function () {\n        if (onSuccess) {\n          onSuccess(200, \'Stop record success\');\n        }\n      })["catch"](function (err) {\n        if (onFailure) {\n          onFailure(500, err);\n        } else {\n          throw new Error(err);\n        }\n      });\n    } else {\n      if (onFailure) {\n        onFailure(500, \'StopRecord failure , the room must allow record\');\n      } else {\n        throw new Error(\'StopRecord failure , the room must allow record\');\n      }\n    }\n  });\n  (0, _defineProperty3["default"])(this, "setLayout", function (_ref8) {\n    var layouts = _ref8.layouts,\n        canvas = _ref8.canvas,\n        type = _ref8.type;\n\n    //只有主持人可以设置布局\n    if (_this.room.role == 1) {\n      if (!type) {\n        throw new Error(\'The type parameter is required\');\n      }\n\n      var isScreen = _this.isScreen;\n      type = type == 1 ? \'add\' : \'del\'; // 默认canvas设置\n\n      canvas = canvas || {};\n      canvas.w = canvas && canvas.w ? canvas.w : 375; //720;\n\n      canvas.h = canvas && canvas.h ? canvas.h : 667; //480;\n\n      canvas.bgrgb = canvas && canvas.bgrgb && canvas.bgrgb.length !== 0 ? canvas.bgrgb : [80, 80, 80]; //外部没有传入布局时的默认布局\n\n      if (!layouts || layouts.length === 0) {\n        // 默认布局（包括自己和stream-add中的成员）\n        var len = _this.streams.length;\n        layouts = [];\n        var cnum = 0;\n\n        for (var i = 0; i < len; i++) {\n          var item = _this.streams[i];\n          var data = {\n            id: item.uccId\n          };\n\n          if (item.uccId == _common["default"].addAppCode(_config["default"].config.uccId)) {\n            //主持人\n            data.x = 0;\n            data.y = 0;\n            data.w = 1;\n            data.h = 1;\n            data.z = 0;\n          } else {\n            var width = (0, _parseFloat2["default"])(1 / 3),\n                height = (0, _parseFloat2["default"])(1 / 3);\n\n            if ((0, _parseInt2["default"])(len - 1) > 3 && (0, _parseInt2["default"])(len - 1) < 7) {\n              height = (0, _parseFloat2["default"])(1 / 4);\n            }\n\n            data.x = 0 + (cnum <= 2 ? cnum : cnum - 3) * width;\n            data.y = 1 - (cnum <= 2 ? 1 : 2) * height;\n            data.w = width;\n            data.h = height;\n            data.z = i || i + 1;\n            cnum += 1;\n          }\n\n          layouts.push(data);\n        }\n      } else {\n        layouts.map(function (item) {\n          item.id = _common["default"].addAppCode(item.id);\n        });\n      } //上一次设置的布局\n\n\n      var old_layouts = _this.layout && _this.layout.pos ? _this.layout.pos : []; //ver参数暂时没用\n\n      _this.layout = {\n        mid: _common["default"].addAppCode(_config["default"].config.uccId),\n        pos: null,\n        ts: _common["default"].getTimeStamp(),\n        ver: _common["default"].getTimeStamp(),\n        canvas: canvas\n      };\n\n      if (old_layouts.length === 0) {\n        //之前没有设置过布局，要把现在的所有成员都走一次add\n        layouts.forEach(function (item, index) {\n          _this.layout.pos = layouts.slice(0, index + 2);\n          SRTCClient.setSei(item.id, type, _this.layout, isScreen);\n        });\n      } else {\n        var a = layouts,\n            b = old_layouts;\n\n        if (layouts.length < old_layouts.length && type === \'del\') {\n          ;\n          a = old_layouts, b = layouts;\n        }\n\n        var results = a.filter(function (item) {\n          var idList = b.map(function (v) {\n            return v.id;\n          });\n          return !idList.includes(item.id);\n        });\n\n        if (results) {\n          results.forEach(function (item, index) {\n            _this.layout.pos = type === \'add\' ? layouts.slice(0, index + 2) : layouts;\n            SRTCClient.setSei(item.id, type, _this.layout, isScreen);\n          });\n        } else {\n          _this.layout.pos = layouts;\n          SRTCClient.setSei(layouts[layouts.length - 1].id, \'add\', _this.layout, isScreen);\n        }\n      }\n    } else {\n      throw new Error(\'Only the host can set the layout\');\n    }\n  });\n  (0, _defineProperty3["default"])(this, "capture", function (_ref9) {\n    var uccId = _ref9.uccId,\n        fileType = _ref9.fileType,\n        filename = _ref9.filename,\n        onSuccess = _ref9.onSuccess,\n        onFailure = _ref9.onFailure;\n\n    if (!onSuccess) {\n      if (onFailure) {\n        onFailure(400, \'onSuccess is required and onSuccess must be a function\');\n      } else {\n        throw new Error(\'onSuccess is required and onSuccess must be a function\');\n      }\n\n      return;\n    }\n\n    uccId = uccId ? uccId : _config["default"].config.uccId;\n\n    var data = _this.streams.find(function (item) {\n      return item.uccId == _common["default"].addAppCode(uccId);\n    });\n\n    if (!data.stream.hasVideo()) {\n      if (onFailure) {\n        onFailure(400, \'No video on current media\');\n      } else {\n        throw new Error(\'No video on current media\');\n      }\n\n      return;\n    }\n\n    fileType = fileType ? fileType : \'\';\n    filename = filename ? filename : _common["default"].getTimeStamp(); //依赖stream.play函数的调用\n\n    SRTCClient.captureVideo(data.stream, fileType, filename).then(function (res) {\n      if (onSuccess) {\n        onSuccess(res);\n      }\n    })["catch"](function (res) {\n      if (onFailure) {\n        onFailure(res);\n      }\n    });\n  });\n  (0, _defineProperty3["default"])(this, "closeMic", function () {\n    SRTCClient.forbiddenMic();\n  });\n  (0, _defineProperty3["default"])(this, "openMic", function () {\n    SRTCClient.unForbiddenMic();\n  });\n  (0, _defineProperty3["default"])(this, "closeWebcam", function () {\n    SRTCClient.forbiddenWebcam();\n  });\n  (0, _defineProperty3["default"])(this, "openWebcam", function () {\n    SRTCClient.unForbiddenWebcam();\n  });\n  (0, _defineProperty3["default"])(this, "mute", function () {\n    SRTCClient.forbiddenMic(); // SRTCClient.closeAudio();\n  });\n  (0, _defineProperty3["default"])(this, "muteCancel", function () {\n    SRTCClient.unForbiddenMic(); // SRTCClient.openAudio();\n  });\n  (0, _defineProperty3["default"])(this, "getVolume", function (stream) {\n    var volume = SRTCClient.getVolume(stream);\n    return volume;\n  });\n  (0, _defineProperty3["default"])(this, "setVideoProperty", function (_ref10) {\n    var value = _ref10.value,\n        onSuccess = _ref10.onSuccess,\n        onFailure = _ref10.onFailure;\n\n    if (!value) {\n      if (onFailure) {\n        onFailure(400, \'The resolution parameter is required\');\n      } else {\n        throw new Error(\'The resolution parameter is required\');\n      }\n\n      return;\n    }\n\n    _this.resolution = value;\n\n    if (onSuccess) {\n      onSuccess(200, \'Set resolution success\');\n    }\n  });\n  (0, _defineProperty3["default"])(this, "kickOut", function (_ref11) {\n    var uccId = _ref11.uccId;\n\n    if (!uccId || uccId.length === 0) {\n      throw new Error(\'The uccId parameter is required\');\n      return;\n    }\n\n    if (_this.room.role != 1) {\n      throw new Error(\'Only the host can call kickOut\');\n      return;\n    }\n\n    if (uccId === _config["default"].config.uccId) {\n      throw new Error(\'You can\\\'t kick yourself out\');\n      return;\n    }\n\n    uccId = _common["default"].addAppCode(uccId);\n    SRTCClient.kickOut(uccId);\n  });\n  (0, _defineProperty3["default"])(this, "_heartBeat", function (channelKey, channelName, callId) {\n    return new _promise["default"](function (resolve, reject) {\n      //心跳上报(心跳两次失败表示异常，退出房间)\n      var heartTime = ((0, _parseInt2["default"])(_config["default"].config.heartbeatTime) - 1 || 9) * 1000;\n      var heartbeatFailCount = 0;\n      _this.timer = setInterval(function () {\n        _channels["default"].heartBeat(channelKey, channelName, callId).then(function (code) {\n          resolve();\n        })["catch"](function (code) {\n          heartbeatFailCount += 1;\n\n          if (heartbeatFailCount > 1) {\n            reject(\'心跳上报失败\');\n          }\n        });\n      }, heartTime);\n    });\n  });\n  (0, _defineProperty3["default"])(this, "_record", function (channelName, channelKey, callId, status) {\n    return new _promise["default"](function (resolve, reject) {\n      _channels["default"].record(channelName, channelKey, callId, status).then(function (res) {\n        resolve();\n      })["catch"](function (err) {\n        reject(err);\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "_toAudio", function () {\n    SRTCClient.closeVideo();\n    SRTCClient.forbiddenWebcam();\n  });\n  (0, _defineProperty3["default"])(this, "_toVideo", function () {\n    SRTCClient.unForbiddenWebcam();\n    SRTCClient.openVideo();\n  });\n  (0, _defineProperty3["default"])(this, "_checkValue", function (type, val) {\n    return new _promise["default"](function (resolve, reject) {\n      switch (type) {\n        case \'channelName\':\n          if (!val || !_common["default"].checkNumber(val) || (0, _parseInt2["default"])(val) > _config["default"].config.channelNameMax) {\n            reject(\'channelName must be a number not starting with 0 and cannot be more than 13 bits, no more than \' + _config["default"].config.channelNameMax);\n          } else {\n            resolve();\n          }\n\n          break;\n\n        case \'channelKey\':\n          if (val != undefined && val.length > 30) {\n            reject(\'channelKey cannot be more than 30 characters\');\n          } else {\n            resolve();\n          }\n\n          break;\n\n        case \'profile\':\n          if (!val) {\n            reject(\'profile is required\');\n          } else {\n            resolve();\n          }\n\n        case \'role\':\n          if (!val) {\n            reject(\'role is required\');\n          } else {\n            resolve();\n          }\n\n      }\n    });\n  });\n  return {\n    join: this.join,\n    playMedia: this.playMedia,\n    on: this.on,\n    leave: this.leave,\n    enableRecord: this.enableRecord,\n    startRecord: this.startRecord,\n    stopRecord: this.stopRecord,\n    setLayout: this.setLayout,\n    capture: this.capture,\n    closeMic: this.closeMic,\n    openMic: this.openMic,\n    closeWebcam: this.closeWebcam,\n    openWebcam: this.openWebcam,\n    mute: this.mute,\n    muteCancel: this.muteCancel,\n    getVolume: this.getVolume,\n    setVideoProperty: this.setVideoProperty,\n    kickOut: this.kickOut,\n    publishLocalStream: this.publishLocalStream\n  };\n};\n\nvar _default = new Channel();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2FwaS9jaGFubmVsLmpzPzc2YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoYW5uZWxzIGZyb20gJy4uL3NlcnZlci9jaGFubmVscyc7XG5pbXBvcnQgUlRDQ2xpZW50IGZyb20gXCIuLi9saWJyYXJ5L2NoYW5uZWwvY2xpZW50XCI7XG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi9jb25maWdcIjtcbmltcG9ydCBFbWl0dGVyIGZyb20gXCIuLi91dGlsL2V2ZW50RW1pdHRlclwiO1xuaW1wb3J0IENvbW1vbiBmcm9tIFwiLi4vdXRpbC9jb21tb25cIjtcblxubGV0IFNSVENDbGllbnQgPSBudWxsO1xuXG5jbGFzcyBDaGFubmVse1xuXG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGpvaW46dGhpcy5qb2luLFxuICAgICAgICAgICAgcGxheU1lZGlhOnRoaXMucGxheU1lZGlhLFxuICAgICAgICAgICAgb246dGhpcy5vbixcbiAgICAgICAgICAgIGxlYXZlOnRoaXMubGVhdmUsXG4gICAgICAgICAgICBlbmFibGVSZWNvcmQ6dGhpcy5lbmFibGVSZWNvcmQsXG4gICAgICAgICAgICBzdGFydFJlY29yZDp0aGlzLnN0YXJ0UmVjb3JkLFxuICAgICAgICAgICAgc3RvcFJlY29yZDp0aGlzLnN0b3BSZWNvcmQsXG4gICAgICAgICAgICBzZXRMYXlvdXQ6dGhpcy5zZXRMYXlvdXQsXG4gICAgICAgICAgICBjYXB0dXJlOnRoaXMuY2FwdHVyZSxcbiAgICAgICAgICAgIGNsb3NlTWljOnRoaXMuY2xvc2VNaWMsXG4gICAgICAgICAgICBvcGVuTWljOnRoaXMub3Blbk1pYyxcbiAgICAgICAgICAgIGNsb3NlV2ViY2FtOnRoaXMuY2xvc2VXZWJjYW0sXG4gICAgICAgICAgICBvcGVuV2ViY2FtOnRoaXMub3BlbldlYmNhbSxcbiAgICAgICAgICAgIG11dGU6dGhpcy5tdXRlLFxuICAgICAgICAgICAgbXV0ZUNhbmNlbDp0aGlzLm11dGVDYW5jZWwsXG4gICAgICAgICAgICBnZXRWb2x1bWU6dGhpcy5nZXRWb2x1bWUsXG4gICAgICAgICAgICBzZXRWaWRlb1Byb3BlcnR5OnRoaXMuc2V0VmlkZW9Qcm9wZXJ0eSxcbiAgICAgICAgICAgIGtpY2tPdXQ6dGhpcy5raWNrT3V0LFxuICAgICAgICAgICAgcHVibGlzaExvY2FsU3RyZWFtOiB0aGlzLnB1Ymxpc2hMb2NhbFN0cmVhbVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RyZWFtcyA9IFtdOyAgLy/miL/pl7TlhoXmiYDmnInmtYFcbiAgICByb29tID0gbnVsbDsgIC8v5oi/6Ze05L+h5oGvXG4gICAgcmVzb2x1dGlvbiA9ICdoZDcyMHAnOyAgLy8g6KeG6aKR5YiG6L6o546HXG4gICAgc3VwcG9ydFJlY29yZCA9IGZhbHNlOyAgLy/mmK/lkKbmlK/mjIHlvZXliLZcbiAgICBsYXlvdXQgPSBudWxsOyAgLy/mjqjmtYHluIPlsYBcbiAgICBpc1NjcmVlbiA9IGZhbHNlOyAvL+aYr+WQpuaYr+Wxj+W5leWFseS6q1xuICAgIHRpbWVyID0gbnVsbDsgIC8v5b+D6Lez5a6a5pe25ZmoXG5cbiAgICAvKipcbiAgICAgKiDliqDlhaXpopHpgZNcbiAgICAgKiBAcGFyYW0gY2hhbm5lbEtleSDpnZ7lv4XloavvvIjkuI3kvKDpu5jorqTkuLpjaGFubmVsTmFtZeWAvO+8iVxuICAgICAqIEBwYXJhbSByb2xlIOW/heWhqyAx5Li75oyB5Lq6IDLlj4LkuI7ogIUgM+inguS8l1xuICAgICAqIEBwYXJhbSBjaGFubmVsTmFtZSDlv4XloavvvIzmiL/pl7Tlj7cs5pyA5aSnMTPkvY1cbiAgICAgKiBAcGFyYW0gcHJvZmlsZSDlv4XloavvvIzpopHpgZPnsbvlnovvvIgx6Z+z6aKR77yMMuinhumike+8jDPlsY/luZXlhbHkuqssNOi/nOeoi+WNj+WKqe+8iVxuICAgICAqIEBwYXJhbSB0byDpnZ7lv4Xloass6YKA6K+35YiX6KGo77yM6buY6K6kbnVsbFxuICAgICAqIEBwYXJhbSBvblN1Y2Nlc3Mg6Z2e5b+F6ZyAIOaIkOWKn+Wbnuiwg1xuICAgICAqIEBwYXJhbSBvbkZhaWx1cmUg6Z2e5b+F6ZyAIOWksei0peWbnuiwg1xuICAgICAqL1xuICAgIGpvaW4gPSBhc3luYyAoe2NoYW5uZWxLZXkscm9sZSxjaGFubmVsTmFtZSxwcm9maWxlLHRvLG9uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIC8vY2hlY2tcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tWYWx1ZSgnY2hhbm5lbE5hbWUnLGNoYW5uZWxOYW1lKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrVmFsdWUoJ2NoYW5uZWxLZXknLGNoYW5uZWxLZXkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tWYWx1ZSgncHJvZmlsZScscHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja1ZhbHVlKCdyb2xlJyxyb2xlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZSg0MDAsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hhbm5lbE5hbWUgPSBDb25maWcuY29uZmlnLmFwcENvZGUrY2hhbm5lbE5hbWU7XG5cbiAgICAgICAgLy8gY2hhbm5lbEtleSA9IGNoYW5uZWxLZXkgIT0gdW5kZWZpbmVkID8gY2hhbm5lbEtleSA6IGNoYW5uZWxOYW1lO1xuICAgICAgICBjaGFubmVsS2V5ID0gY2hhbm5lbE5hbWU7XG5cbiAgICAgICAgbGV0IHNjb3BlID0gNjtcbiAgICAgICAgbGV0IGVuYWJsZVJlY29yZCAgPSB0aGlzLnN1cHBvcnRSZWNvcmQ7XG5cbiAgICAgICAgaWYoIUVtaXR0ZXIuZXZlbnRFbWl0dGVyKXtcbiAgICAgICAgICAgIEVtaXR0ZXIuY3JlYXRlRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihwcm9maWxlID09IDMpe1xuICAgICAgICAgICAgdGhpcy5pc1NjcmVlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvL+e7meW5s+WPsOeahHByb2ZpbGXorr7nva7vvIjpn7PpopEx77yM6KeG6aKRMu+8jOWxj+W5leWFseS6q+S5n+aYrzLvvIlcbiAgICAgICAgbGV0IHByb2ZpbGVTZXJ2ZXIgPSBwYXJzZUludChwcm9maWxlKSA+IDIgPyAyIDogcHJvZmlsZTtcbiAgICAgICAgLy/lhYjosIPnlKjlubPlj7Dlho3osIPnlKjlqpLkvZNzZGtcbiAgICAgICAgQ2hhbm5lbHMuam9pbkNoYW5uZWwocm9sZSwgbnVsbCwgY2hhbm5lbEtleSwgY2hhbm5lbE5hbWUsIHByb2ZpbGVTZXJ2ZXIsIHNjb3BlLCBlbmFibGVSZWNvcmQpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vbSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgQ29uZmlnLmNvbmZpZy53ZWJNZWRpYVJlbGF5ID0gZGF0YS53ZWJNZWRpYVJlbGF5LnNwbGl0KCc7JylbMF1cbiAgICAgICAgICAgICAgICB0aGlzLnN1cHBvcnRSZWNvcmQgPSBkYXRhLmNoYW5uZWwuZW5hYmxlUmVjb3JkO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlYXJ0QmVhdCA9IChjaGFubmVsS2V5LCBjaGFubmVsTmFtZSwgZGF0YS5jYWxsSWQpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT57XG4gICAgICAgICAgICAgICAgLy/nm67liY3pnIDmsYLlj6rmnInkuLvmjIHkurrlj6/ku6XmjqjmtYHlkozorr7nva7mtYHluIPlsYBzZWnvvIzlj4LkuI7ogIXkuI3mjqjmtYHkuZ/kuI3orr7nva7luIPlsYDvvIzlj6rosIPnlKjlubPlj7DlvZXliLbmjqXlj6NcbiAgICAgICAgICAgICAgICBsZXQgcnRtcFVybCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdXBwb3J0UmVjb3JkICYmIHJvbGUgPT0gMSl7XG4gICAgICAgICAgICAgICAgICAgIC8v5o6o5rWB5Zyw5Z2A55qE5qC85byP77ya5bmz5Y+w6L+U5Zue55qEdXJsK+aIv+mXtOWPt19jYWxsSWQocnRtcDovL2lwOjE5MzQvcmVjb3JkX21hbnVhbC/miL/pl7Tlj7dfY2FsbElkKVxuICAgICAgICAgICAgICAgICAgICBydG1wVXJsID0gdGhpcy5yb29tLmNoYW5uZWwucHVibGlzaFVSTCtjaGFubmVsTmFtZSsnXycrdGhpcy5yb29tLmNhbGxJZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcnRtcFVybCA9ICdydG1wOi8vMTAuMC4wLjM4OjE5MzUvY29uZmVyZW5jZS8nICsgY2hhbm5lbE5hbWVcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgZGlzYWJsZVZpZGVvUHVzaCA9IHByb2ZpbGUgPT0gMSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBTUlRDQ2xpZW50ID0gbmV3IFJUQ0NsaWVudChyb2xlLHJ0bXBVcmwsZGlzYWJsZVZpZGVvUHVzaCxDb25maWcuY29uZmlnLndlYk1lZGlhUmVsYXkpO1xuICAgICAgICAgICAgICAgIC8vIFNSVENDbGllbnQuc2V0Um9vdFN2Y0hvc3QoQ29uZmlnLmNvbmZpZy53ZWJNZWRpYVJlbGF5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gU1JUQ0NsaWVudC5pbml0KENvbmZpZy5jb25maWcubWVkaWFBcHBJZCwgQ29tbW9uLmFkZEFwcENvZGUoQ29uZmlnLmNvbmZpZy51Y2NJZCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8v5L+d5a2Y5b2T5YmN5oi/6Ze05L+h5oGvXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yb29tLmNoYW5uZWwpXG4gICAgICAgICAgICAgICAgdGhpcy5yb29tID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnJvb20uY2hhbm5lbCxcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZTpwcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICBjYWxsSWQ6dGhpcy5yb29tLmNhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTpyb2xlLFxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuQ2xpZW50KCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsuLi50aGlzLnJvb219O1xuICAgICAgICAgICAgICAgIGRhdGEuY2hhbm5lbE5hbWUgPSBDb21tb24uY2hhbm5lbE5hbWVGaWx0ZXIoZGF0YS5jaGFubmVsTmFtZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PWpvaW4gc3VjY2Vzc1wiLGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgaWYob25TdWNjZXNzKXtcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKDIwMCxkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnPT09PT09PT09PT09PWpvaW4gZXJyID0+JyxlcnIpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVhdmUoe30pO1xuICAgICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZSg1MDAsIGVycik7XG4gICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaSreaUvumfs+inhumike+8iOaSreaUvuW9k+WJjeeUqOaIt+iHquW3seeahOinhumike+8jOmcgOimgeWKoOWFpeWqkuS9k+mikemBk+W5tuWPkeW4g+a1ge+8jOaSreaUvuWFtuS7lueUqOaIt+inhumikeWmguajgOa1i+acieS6uui/m+WFpeaXtumcgOimgeaSreaUvu+8jOWImeS7juW9k+WJjee8k+WtmOeahHN0cmVhbXPkuK3mib7liLDmtYHlubbmkq3mlL7vvIlcbiAgICAgKiBQU++8mmVsZW1lbnRJZOS4unZpZGVv5YWD57Sg77yM6Z+zL+inhumikeaooeW8j+S4i+mDveS9v+eUqOi/meS4qu+8jOmfs+mikeaDheWGteS4i+m7mOiupOWxleekunZpZGVv55qE6IOM5pmv77yI5aaC5p6c6K6+572u5LqG77yJXG4gICAgICogQHBhcmFtIHVjY0lkIOW/heWhq1xuICAgICAqIEBwYXJhbSBlbGVtZW50SWQg6Z2e5b+F5aGr77yM5Lyg5YWl5YiZ6Ieq5Yqo5pKt5pS+77yM5LiN5Lyg5LiN5pKt5pS+XG4gICAgICovXG4gICAgcGxheU1lZGlhID0gKHt1Y2NJZCxlbGVtZW50SWQsb25TdWNjZXNzLG9uRmFpbHVyZX0pID0+IHtcbiAgICAgICAgaWYoIXVjY0lkKXtcbiAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwndWNjSWQgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndWNjSWQgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lZGlhID0gbnVsbDtcbiAgICAgICAgaWYoZWxlbWVudElkKXtcbiAgICAgICAgICAgIG1lZGlhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgICAgICAgICAgIG1lZGlhLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8v5peg5rOV5YiG6L6o55uR5ZCs5Yiw55qE5rWB77yIYXBw5ZKM5bCP56iL5bqP6L+H5p2l55qE77yJ5piv57qv6Z+z6aKR6L+Y5piv6Z+z6KeG6aKR5rWBXG4gICAgICAgIC8v5pqC5pe255qE5pa55qGI5pivIOebkeWQrOWIsOeahOa1gemDveeUqHZpZGVvK2F1ZGlv5pKt5pS+77yMdmlkZW/pnZnpn7PvvIjlj6rmkq3mlL7nlLvpnaLvvInvvIxhdWRpb+adpeaSreaUvuWjsOmfs1xuXG4gICAgICAgIC8v5pKt5pS+6Ieq5bex55qE6KeG6aKRXG4gICAgICAgIGlmKHVjY0lkID09IENvbmZpZy5jb25maWcudWNjSWQpe1xuICAgICAgICAgICAgbGV0IHByb2ZpbGUgPSB0aGlzLnJvb20ucHJvZmlsZSxyb2xlID0gdGhpcy5yb29tLnJvbGU7XG5cbiAgICAgICAgICAgIC8v6L+c56iL5Y2P5Yqp55qE5Yik5patXG4gICAgICAgICAgICBsZXQgcHJvZmlsZUNsaWVudCA9IChwcm9maWxlID09IDMgfHwgKHByb2ZpbGUgPT0gNCAmJiByb2xlID09IDEpKT8gMyA6IChwcm9maWxlID09IDQgJiYgcm9sZSA9PSAyKT8yOnByb2ZpbGU7XG5cbiAgICAgICAgICAgIC8v5bCP56iL5bqP6Z+z6aKR5LqS6YCaXG4gICAgICAgICAgICBpZih0aGlzLnJvb20ub3MgPT0gJ1dlQ2hhdCcgJiYgcHJvZmlsZSA9PSAxKXtcbiAgICAgICAgICAgICAgICBwcm9maWxlQ2xpZW50ID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB1c2VySWQgPSBDb21tb24uYWRkQXBwQ29kZShDb25maWcuY29uZmlnLnVjY0lkKVxuICAgICAgICAgICAgU1JUQ0NsaWVudC5qb2luQ2hhbm5lbCh1c2VySWQsdGhpcy5yb29tLmNoYW5uZWxOYW1lLHByb2ZpbGVDbGllbnQsdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgICAgIC50aGVuKChzdHJlYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdXBwb3J0UmVjb3JkICYmIHRoaXMucm9vbS5yb2xlID09IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMYXlvdXQoe3R5cGU6MX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgnc3BlYWsnKTtcblxuICAgICAgICAgICAgICAgICAgICAvL+Wwj+eoi+W6j+eahOe6r+mfs+mikeaooeW8j+WFvOWuuVxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJvb20ub3MgPT0gJ1dlQ2hhdCcgJiYgcHJvZmlsZSA9PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YWz5o6J5pGE5YOP5aS05pi+56S6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0uX3N0cmVhbU9iai5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YWz5o6J6KeG6aKR6L2o6YGTXG4gICAgICAgICAgICAgICAgICAgICAgICBTUlRDQ2xpZW50LmNsb3NlVmlkZW8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YWz5o6J5pGE5YOP5aS06ZO+5o6l77yI55So5p2l5b275bqV5YWz5o6J5pGE5YOP5aS077yM5Y+q6YCC55So5LqO5bCP56iL5bqP55qE57qv6Z+z6aKR5Zy65pmv77yJXG4gICAgICAgICAgICAgICAgICAgICAgICBTUlRDQ2xpZW50LmNsaWVudC5fd2ViY2FtUHJvZHVjZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v55So5p2l6LCD5pW05pi+56S677yM5LiN54S255u05o6l55SodmlkZW/mkq3mlL7kvJrmnInop4bpopHmmK/pu5HoibLnmoTvvIzkuI3liKnkuo5VSeWxleekulxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobWVkaWEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW8ubXV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvLnNyY09iamVjdCA9IHN0cmVhbS5zdHJlYW1PYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWEuYXBwZW5kQ2hpbGQoYXVkaW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtZWRpYSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLnBsYXkoZWxlbWVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYS5zcmNPYmplY3QgPSBzdHJlYW0uc3RyZWFtT2JqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoMjAwKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZhaWx1cmUoNTAwLGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8v5pKt5pS+5Yir5Lq655qE6KeG6aKRXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuc3RyZWFtcy5maW5kKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udWNjSWQgPT0gQ29tbW9uLmFkZEFwcENvZGUodWNjSWQpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYodGhpcy5zdHJlYW1zLmxlbmd0aCA9PSAwIHx8ICFkYXRhIHx8ICFkYXRhLnN0cmVhbSl7XG4gICAgICAgICAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwnVGhlcmUgaXMgbm8gYXVkaW8gb3IgdmlkZW8gY3VycmVudGx5IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGF1ZGlvIG9yIHZpZGVvIGN1cnJlbnRseSBhdmFpbGFibGUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKG1lZGlhKXtcbiAgICAgICAgICAgICAgICBsZXQgc3RyZWFtID0gZGF0YS5zdHJlYW07XG4gICAgICAgICAgICAgICAgc3RyZWFtLnBsYXkoZWxlbWVudElkKTtcbiAgICAgICAgICAgICAgICBtZWRpYS5zcmNPYmplY3QgPSBzdHJlYW0uc3RyZWFtT2JqO1xuICAgICAgICAgICAgICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgYXVkaW8uc3JjT2JqZWN0ID0gc3RyZWFtLnN0cmVhbU9iajtcbiAgICAgICAgICAgICAgICBtZWRpYS5hcHBlbmRDaGlsZChhdWRpbyk7XG4gICAgICAgICAgICAgICAgbWVkaWEucGxheSgpO1xuICAgICAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKDIwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgLyoqXG4gICAqIOWPkeW4g+a1ge+8iOinhumikea1geaIluiAheWxj+W5lea1ge+8iVxuICAgKlxuICAgKiBAcGFyYW0gdWNjSWQg5b+F5aGrXG4gICAqIEBwYXJhbSBlbGVtZW50SWQg6Z2e5b+F5aGr77yM5Lyg5YWl5YiZ6Ieq5Yqo5pKt5pS+77yM5LiN5Lyg5LiN5pKt5pS+XG4gICAqIEBwYXJhbSBpc1NjcmVlbiDmmK/lkKbmmK/lsY/luZXmtYFcbiAgICovXG4gICAgcHVibGlzaExvY2FsU3RyZWFtID0gKHt1Y2NJZCxlbGVtZW50SWQsIGlzU2NyZWVuLCBvblN1Y2Nlc3Msb25GYWlsdXJlfSkgPT4ge1xuICAgICAgaWYoIXVjY0lkKXtcbiAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAgICAgICBvbkZhaWx1cmUoNDAwLCd1Y2NJZCBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZCcpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VjY0lkIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBtZWRpYSA9IG51bGw7XG4gICAgICBpZihlbGVtZW50SWQpe1xuICAgICAgICBtZWRpYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gICAgICAgIG1lZGlhLm11dGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHVzZXJJZCA9IENvbW1vbi5hZGRBcHBDb2RlKENvbmZpZy5jb25maWcudWNjSWQpXG4gICAgICBsZXQgbW9kZSA9IGlzU2NyZWVuID8gMyA6IDJcbiAgICAgIFNSVENDbGllbnQucHVibGlzaExvY2FsU3RyZWFtKHVzZXJJZCwgbW9kZSwgaXNTY3JlZW4sIHRoaXMucmVzb2x1dGlvbilcbiAgICAgICAgLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgIGlmKHRoaXMuc3VwcG9ydFJlY29yZCAmJiB0aGlzLnJvb20ucm9sZSA9PSAxKXtcbiAgICAgICAgICAgIHRoaXMuc2V0TGF5b3V0KHt0eXBlOjF9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pc1NjcmVlbiA9IGlzU2NyZWVuXG4gICAgICAgICAgRW1pdHRlci5ldmVudEVtaXR0ZXIuZW1pdCgnc3BlYWsnKTtcblxuICAgICAgICAgIGlmKG1lZGlhKXtcbiAgICAgICAgICAgICAgc3RyZWFtLnBsYXkoZWxlbWVudElkKTtcbiAgICAgICAgICAgICAgbWVkaWEuc3JjT2JqZWN0ID0gc3RyZWFtLnN0cmVhbU9iajtcbiAgICAgICAgICAgICAgbWVkaWEucGxheSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICBvblN1Y2Nlc3MoMjAwKVxuICAgICAgICAgIH1cblxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICBvbkZhaWx1cmUoNTAwLGVycik7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9XG4gICAgLyoqXG4gICAgICog55uR5ZCs55So5oi35Yqg5YWl56a75byALOa1geeahOWinuWKoO+8jOW9k+WJjeiusuivneiAhe+8jOiiq+i4ouWHuuetieOAkOWcqGpvaW7osIPnlKjkuYvlkI4scGxheU1lZGlh5LmL5YmN6LCD55So77yM5q2k5pe25L+d6K+B5aqS5L2T5byV5pOO5Yid5aeL5YyWT0vlubbkuJTog73ojrflj5bliLDmiL/pl7TlhoXlhbbku5bkurrjgJFcbiAgICAgKiBAcGFyYW0gZXZlbnQg5b+F6ZyA77yM55uR5ZCs55qE5LqL5Lu25ZCN56ewXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIOW/hemcgFxuICAgICAqL1xuICAgIG9uID0gKGV2ZW50LGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIil7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBpcyByZXF1aXJlZCBhbmQgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWV2ZW50KXtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsJ2V2ZW50IHBhcmFtZXRlciBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFFbWl0dGVyLmV2ZW50RW1pdHRlcil7XG4gICAgICAgICAgICBFbWl0dGVyLmNyZWF0ZUV2ZW50RW1pdHRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VzZXItam9pbic6XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlckpvaW5DYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1c2VyLWxlYXZlJzpcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VyTGVhdmVDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdHJlYW0tcHVibGlzaCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyZWFtUHVibGlzaENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0cmVhbS1hZGQnOlxuICAgICAgICAgICAgICAgIHRoaXMuX3N0cmVhbUFkZENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2F1ZGlvLWFkZGVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJlYW1BdWRpb0FkZENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZpZGVvLWFkZGVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJlYW1WaWRlb0FkZENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0cmVhbS1zdWJzY3JpYmVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJlYW1TY3JpYmVkQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3BlYWtpbmcnOlxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWFraW5nQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXVkaW8tbXV0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9NdXRlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXVkaW8tdW5tdXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb1VubXV0ZUNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZpZGVvLW11dGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvTXV0ZUNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZpZGVvLXVubXV0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlkZW9Vbm11dGVDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdraWNrb3V0JzpcbiAgICAgICAgICAgICAgICB0aGlzLl9raWNrb3V0Q2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgIC8v5Y+R55Sf5byC5bi4XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0JzpcbiAgICAgICAgICAgICAgICAvL+aWreW8gO+8jOWPr+iDveaYr+e9kee7nOaWreW8gOaIluiAheiiq+i4ouaOieWvvOiHtOeahFxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgX2xpc3RlbkNsaWVudCA9ICgpID0+IHtcbiAgICBTUlRDQ2xpZW50Lmxpc3RlbigndXNlci1qb2luJylcbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbigndXNlci1qb2luJywgdWNjSWQgPT4ge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICc9PT09PT3osIPliLDkuoZvbiB1c2VyIGpvaW7nmoTnm5HlkKzlh73mlbDvvIzor7TmmI7mnInmiJDlkZjov5vlhaUsdWNjSWTvvJonICsgdWNjSWQsXG4gICAgICApXG4gICAgICBpZiAodGhpcy5fdXNlckpvaW5DYWxsYmFjaykge1xuICAgICAgICB0aGlzLl91c2VySm9pbkNhbGxiYWNrKENvbW1vbi5yZW1vdmVBcHBDb2RlKHVjY0lkKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIFNSVENDbGllbnQubGlzdGVuKCd1c2VyLWxlYXZlJylcbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbigndXNlci1sZWF2ZScsICh1Y2NJZCwgcm9sZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICc9PT09PT3osIPliLDkuoZvbiB1c2VyIGxlYXZl55qE55uR5ZCs5Ye95pWw77yM6K+05piO5pyJ5oiQ5ZGY56a75byALHVjY0lkOicgKyB1Y2NJZCxcbiAgICAgIClcbiAgICAgIHRoaXMuc3RyZWFtcyA9IHRoaXMuc3RyZWFtcy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtLnVjY0lkICE9PSB1Y2NJZFxuICAgICAgfSlcbiAgICAgIC8v56a75byA5pe25pS55Y+Y5ZCI5rWB5biD5bGAXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuc3VwcG9ydFJlY29yZCAmJlxuICAgICAgICB0aGlzLnJvb20ucm9sZSA9PSAxICYmXG4gICAgICAgIChyb2xlID09IDEgfHwgcm9sZSA9PSAyKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc2V0TGF5b3V0KHsgdHlwZTogMiB9KVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fdXNlckxlYXZlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdXNlckxlYXZlQ2FsbGJhY2soQ29tbW9uLnJlbW92ZUFwcENvZGUodWNjSWQpKVxuICAgICAgfVxuICAgIH0pXG4gICAgLy/mnKzlnLDmtYHlj5HluIPmiJDlip9cbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbignc3RyZWFtLXB1Ymxpc2gnLCBzdHJlYW0gPT4ge1xuICAgICAgbGV0IHVjY0lkID0gc3RyZWFtLmdldElkKClcbiAgICAgIHRoaXMuc3RyZWFtcy5wdXNoKHsgdWNjSWQ6IHVjY0lkLCBzdHJlYW06IHN0cmVhbSB9KVxuICAgICAgaWYgKHRoaXMuX3N0cmVhbVB1Ymxpc2hDYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9zdHJlYW1QdWJsaXNoQ2FsbGJhY2soc3RyZWFtKVxuICAgICAgfVxuICAgIH0pXG4gICAgU1JUQ0NsaWVudC5saXN0ZW4oJ3N0cmVhbS1hZGQnKVxuICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLm9uKCdzdHJlYW0tYWRkJywgc3RyZWFtID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAnPT09PT096LCD5Yiw5LqGb24gYWRkIHN0cmVhbeeahOebkeWQrOWHveaVsO+8jOivtOaYjuaWsOaIkOWRmOeahOmfs+inhumikea1geWGmeWFpemhtemdoueahOmfs+inhumikeagh+etviwnLFxuICAgICAgICBzdHJlYW0sXG4gICAgICApXG4gICAgICAvLyBsZXQgdWNjSWQgPSBzdHJlYW0uZ2V0SWQoKVxuICAgICAgLy8gdGhpcy5zdHJlYW1zLnB1c2goeyB1Y2NJZDogdWNjSWQsIHN0cmVhbTogc3RyZWFtIH0pXG4gICAgICAvLyAvL+WKoOWFpeaXtuaUueWPmOWQiOa1geW4g+WxgFxuICAgICAgLy8gaWYgKHRoaXMuc3VwcG9ydFJlY29yZCAmJiB0aGlzLnJvb20ucm9sZSA9PSAxKSB7XG4gICAgICAvLyAgIHRoaXMuc2V0TGF5b3V0KHsgdHlwZTogMSB9KVxuICAgICAgLy8gfVxuICAgICAgLy9cbiAgICAgIC8vIC8v5paw5aKe5rWB77yMc3BlYWvkuK3ms6jlhoznmoTnm5HlkKzpnIDopoHlr7nlupTnmoTmlrDlop7kuIDkuKpcbiAgICAgIC8vIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ3NwZWFrJylcbiAgICAgIC8vXG4gICAgICAvLyBpZiAodGhpcy5fc3RyZWFtQWRkQ2FsbGJhY2spIHtcbiAgICAgIC8vICAgdGhpcy5fc3RyZWFtQWRkQ2FsbGJhY2soc3RyZWFtKVxuICAgICAgLy8gfVxuICAgIH0pXG4gICAgU1JUQ0NsaWVudC5saXN0ZW4oJ2F1ZGlvLWFkZGVkJylcbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbignYXVkaW8tYWRkZWQnLCBzdHJlYW0gPT4ge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICc9PT09PT3osIPliLDkuoZvbiBhdWRpby1hZGRlZOeahOebkeWQrOWHveaVsCwnLFxuICAgICAgICBzdHJlYW0sXG4gICAgICApXG4gICAgICBpZiAodGhpcy5fc3RyZWFtQXVkaW9BZGRDYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9zdHJlYW1BdWRpb0FkZENhbGxiYWNrKHN0cmVhbSlcbiAgICAgIH1cbiAgICB9KVxuICAgIFNSVENDbGllbnQubGlzdGVuKCd2aWRlby1hZGRlZCcpXG4gICAgRW1pdHRlci5ldmVudEVtaXR0ZXIub24oJ3ZpZGVvLWFkZGVkJywgc3RyZWFtID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAnPT09PT096LCD5Yiw5LqGb24gdmlkZW8tYWRkZWTnmoTnm5HlkKzlh73mlbAsJyxcbiAgICAgICAgc3RyZWFtLFxuICAgICAgKVxuICAgICAgaWYgKHRoaXMuX3N0cmVhbVZpZGVvQWRkQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fc3RyZWFtVmlkZW9BZGRDYWxsYmFjayhzdHJlYW0pXG4gICAgICB9XG4gICAgfSlcbiAgICBTUlRDQ2xpZW50Lmxpc3Rlbignc3RyZWFtLXN1YnNjcmliZWQnKVxuICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLm9uKCdzdHJlYW0tc3Vic2NyaWJlZCcsIGV2dCA9PiB7XG4gICAgICBsZXQgc3RyZWFtID0gZXZ0LnN0cmVhbVxuICAgICAgaWYgKCFzdHJlYW0pIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJz09PT09Peiwg+WIsOS6hm9uIHN0cmVhbS1zdWJzY3JpYmVk55uR5ZCs5Ye95pWw77yM5L2G5pivc3RyZWFtIGlzIG51bGwsJ1xuICAgICAgICApXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICc9PT09PT3osIPliLDkuoZvbiBzdHJlYW0tc3Vic2NyaWJlZOebkeWQrOWHveaVsO+8jOivtOaYjuaWsOaIkOWRmOeahOmfs+inhumikea1geWGmeWFpemhtemdoueahOmfs+inhumikeagh+etviwnLFxuICAgICAgICBzdHJlYW0sXG4gICAgICApXG4gICAgICBsZXQgdWNjSWQgPSBzdHJlYW0uZ2V0SWQoKVxuICAgICAgdGhpcy5zdHJlYW1zLnB1c2goeyB1Y2NJZDogdWNjSWQsIHN0cmVhbTogc3RyZWFtIH0pXG4gICAgICAvL+WKoOWFpeaXtuaUueWPmOWQiOa1geW4g+WxgFxuICAgICAgaWYgKHRoaXMuc3VwcG9ydFJlY29yZCAmJiB0aGlzLnJvb20ucm9sZSA9PSAxKSB7XG4gICAgICAgIHRoaXMuc2V0TGF5b3V0KHsgdHlwZTogMSB9KVxuICAgICAgfVxuXG4gICAgICAvL+aWsOWinua1ge+8jHNwZWFr5Lit5rOo5YaM55qE55uR5ZCs6ZyA6KaB5a+55bqU55qE5paw5aKe5LiA5LiqXG4gICAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5lbWl0KCdzcGVhaycpXG5cbiAgICAgIGlmICh0aGlzLl9zdHJlYW1BZGRDYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9zdHJlYW1BZGRDYWxsYmFjayhldnQuc3RyZWFtKVxuICAgICAgfVxuICAgIH0pXG4gICAgbGV0IHRoaXNfc3RyZWFtcyA9IFtdLFxuICAgICAgaSA9IDBcblxuICAgIC8v5Li65LqG5L+d6K+B5pyJ5Lq66L+b5YWl5pe25Y+K5pe25pu05paw5rWB77yI6YO95pS+5Yiwc3BlYWtpbmfph4zpnaLnmoTor53lnKjlo7Dpn7Plj5jljJbml7bkvJrkuIDnm7TooqvosIPnlKjvvIzmsqHlv4XopoHvvIlcbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbignc3BlYWsnLCAoKSA9PiB7XG4gICAgICBsZXQgcmVzdWx0cyA9IHRoaXMuc3RyZWFtcy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgIGxldCBpZExpc3QgPSB0aGlzX3N0cmVhbXMubWFwKHYgPT4gdi51Y2NJZClcbiAgICAgICAgcmV0dXJuICFpZExpc3QuaW5jbHVkZXMoaXRlbS51Y2NJZClcbiAgICAgIH0pXG4gICAgICBmb3IgKGxldCBpdGVtIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgU1JUQ0NsaWVudC5saXN0ZW4oJ3NwZWFraW5nJywgaXRlbS5zdHJlYW0pXG4gICAgICB9XG5cbiAgICAgIHRoaXNfc3RyZWFtcyA9IFsuLi50aGlzLnN0cmVhbXNdXG5cbiAgICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLm9uKCdzcGVha2luZycsICh1Y2NJZCwgdm9sKSA9PiB7XG4gICAgICAgIGxldCBzcGVhayA9IHsgdWNjSWQ6IENvbW1vbi5yZW1vdmVBcHBDb2RlKHVjY0lkKSwgdm9sdW1lOiB2b2wgfVxuICAgICAgICBpZiAocGFyc2VJbnQodm9sKSA+IDApIHtcbiAgICAgICAgICBpID0gMFxuICAgICAgICAgIGlmICh0aGlzLl9zcGVha2luZ0NhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9zcGVha2luZ0NhbGxiYWNrKHNwZWFrKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NwZWFraW5nQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgdGhpcy5fc3BlYWtpbmdDYWxsYmFjayhzcGVhaylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICBTUlRDQ2xpZW50Lmxpc3RlbignYXVkaW8tbXV0ZScpXG4gICAgRW1pdHRlci5ldmVudEVtaXR0ZXIub24oJ2F1ZGlvLW11dGUnLCBzdHJlYW0gPT4ge1xuICAgICAgaWYgKHRoaXMuX2F1ZGlvTXV0ZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvTXV0ZUNhbGxiYWNrKHN0cmVhbS5nZXRJZCgpLCBzdHJlYW0pXG4gICAgICB9XG4gICAgfSlcbiAgICBTUlRDQ2xpZW50Lmxpc3RlbignYXVkaW8tdW5tdXRlJylcbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbignYXVkaW8tdW5tdXRlJywgc3RyZWFtID0+IHtcbiAgICAgIGlmICh0aGlzLl9hdWRpb1VubXV0ZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvVW5tdXRlQ2FsbGJhY2soc3RyZWFtLmdldElkKCksIHN0cmVhbSlcbiAgICAgIH1cbiAgICB9KVxuICAgIFNSVENDbGllbnQubGlzdGVuKCd2aWRlby1tdXRlJylcbiAgICBFbWl0dGVyLmV2ZW50RW1pdHRlci5vbigndmlkZW8tbXV0ZScsIHN0cmVhbSA9PiB7XG4gICAgICBpZiAodGhpcy5fdmlkZW9NdXRlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdmlkZW9NdXRlQ2FsbGJhY2soc3RyZWFtLmdldElkKCksIHN0cmVhbSlcbiAgICAgIH1cbiAgICB9KVxuICAgIFNSVENDbGllbnQubGlzdGVuKCd2aWRlby11bm11dGUnKVxuICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLm9uKCd2aWRlby11bm11dGUnLCBzdHJlYW0gPT4ge1xuICAgICAgaWYgKHRoaXMuX3ZpZGVvVW5tdXRlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdmlkZW9Vbm11dGVDYWxsYmFjayhzdHJlYW0uZ2V0SWQoKSwgc3RyZWFtKVxuICAgICAgfVxuICAgIH0pXG4gICAgU1JUQ0NsaWVudC5saXN0ZW4oJ2tpY2tvdXQnKVxuICAgIEVtaXR0ZXIuZXZlbnRFbWl0dGVyLm9uKCdraWNrb3V0JywgcmVzID0+IHtcbiAgICAgIGlmICh0aGlzLl9raWNrb3V0Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fa2lja291dENhbGxiYWNrKHJlcylcbiAgICAgIH1cbiAgICB9KVxuICAgIC8v5Y+R55Sf5byC5bi4XG4gICAgRW1pdHRlci5ldmVudEVtaXR0ZXIub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgIGlmICh0aGlzLl9lcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2FsbGJhY2soZXJyKVxuICAgICAgfVxuICAgIH0pXG4gICAgLy/mlq3lvIDvvIzlj6/og73mmK/nvZHnu5zmlq3lvIDmiJbogIXooqvouKLmjonlr7zoh7TnmoRcbiAgICBTUlRDQ2xpZW50Lmxpc3RlbignZGlzY29ubmVjdCcpXG4gICAgRW1pdHRlci5ldmVudEVtaXR0ZXIub24oJ2Rpc2Nvbm5lY3QnLCByZXMgPT4ge1xuICAgICAgaWYgKHRoaXMuX2Rpc2Nvbm5lY3RDYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9kaXNjb25uZWN0Q2FsbGJhY2socmVzKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgICAvKipcbiAgICAgKiDnprvlvIDpopHpgZNcbiAgICAgKiBAcGFyYW0gb25TdWNjZXNzIOmdnuW/heWhq1xuICAgICAqIEBwYXJhbSBvbkZhaWx1cmUg6Z2e5b+F5aGrXG4gICAgICovXG4gICAgbGVhdmUgPSAoe29uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIGlmKHRoaXMucm9vbSAmJiAodGhpcy5yb29tLmNoYW5uZWxOYW1lIHx8IHRoaXMucm9vbS5jaGFubmVsLmNoYW5uZWxOYW1lKSl7XG4gICAgICAgICAgICBsZXQgcm9vbSA9IHRoaXMucm9vbS5jaGFubmVsID8gdGhpcy5yb29tLmNoYW5uZWwgOiB0aGlzLnJvb207XG4gICAgICAgICAgICBsZXQgY2hhbm5lbE5hbWUgPSByb29tLmNoYW5uZWxOYW1lLGNoYW5uZWxLZXkgPSByb29tLmNoYW5uZWxLZXksY2FsbElkID0gcm9vbS5jYWxsSWQ7XG4gICAgICAgICAgICBFbWl0dGVyLnJlbW92ZUV2ZW50RW1pdHRlcigpO1xuXG4gICAgICAgICAgICB0aGlzLnN0cmVhbXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucm9vbSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxheW91dCA9IG51bGw7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuXG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgICAgICAgICBDaGFubmVscy5sZWF2ZUNoYW5uZWwoY2hhbm5lbEtleSxjaGFubmVsTmFtZSxjYWxsSWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKGNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYob25TdWNjZXNzICYmIGNvdW50ID4gMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoMjAwLCdMZWF2ZUNoYW5uZWwgc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihvbkZhaWx1cmUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlKDUwMCxlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgU1JUQ0NsaWVudC5sZWF2ZUNoYW5uZWwoKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYob25TdWNjZXNzICYmIGNvdW50ID4gMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoMjAwLCdMZWF2ZUNoYW5uZWwgc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihvbkZhaWx1cmUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlKDUwMCxlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKDIwMCwnTGVhdmVDaGFubmVsIHN1Y2Nlc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIh+aNoumikemBk1xuICAgICAqIEBwYXJhbSBwcm9maWxlIOW/heWhq++8jOWIh+aNoueahOmikemBk+aooeW8jyAxLumfs+mikSAyLuinhumikSAzLuWxj+W5leWFseS6q1xuICAgICAqIEBwYXJhbSBvblN1Y2Nlc3Mg6Z2e5b+F5aGrXG4gICAgICogQHBhcmFtIG9uRmFpbHVyZSDpnZ7lv4XloatcbiAgICAgKi9cbiAgICAvLyBjaGFuZ2UgPSBhc3luYyAoe3Byb2ZpbGUsb25TdWNjZXNzLG9uRmFpbHVyZX0pID0+IHtcbiAgICAvLyAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vICAgICAgICAgdGhpcy5fY2hlY2tWYWx1ZSgncHJvZmlsZScsIGNoYW5uZWxOYW1lKVxuICAgIC8vICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKG9uRmFpbHVyZSkge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlKGVycik7XG4gICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgLy8gICAgICAgICAgICAgfSlcbiAgICAvLyAgICAgfSk7XG4gICAgLy9cbiAgICAvLyAgICAgbGV0IGNoYW5uZWxOYW1lID0gdGhpcy5yb29tLmNoYW5uZWxOYW1lLFxuICAgIC8vICAgICAgICAgY2hhbm5lbEtleSA9IHRoaXMucm9vbS5jaGFubmVsS2V5LFxuICAgIC8vICAgICAgICAgc2NvcGUgPSA2O1xuICAgIC8vXG4gICAgLy8gICAgIENoYW5uZWxzLmNoYW5nZUNoYW5uZWwoY2hhbm5lbEtleSxjaGFubmVsTmFtZSxwcm9maWxlLHNjb3BlKVxuICAgIC8vICAgICAgICAgLnRoZW4oKGNvZGUpID0+IHtcbiAgICAvLyAgICAgICAgICAgICB0cnl7XG4gICAgLy8gICAgICAgICAgICAgICAgIGlmKHByb2ZpbGUgPT0gMSl7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAvL+WIh+aNoumfs+mikSjmkYTlg4/lpLTlhbPpl63vvIzop4bpopHovajpgZPlhbPpl60pXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLl90b0F1ZGlvKCk7XG4gICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvZmlsZSA9PSAyKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAvL+WIh+aNouinhumikSjmkYTlg4/lpLTmiZPlvIDvvIzop4bpopHovajpgZPmiZPlvIApXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLl90b1ZpZGVvKCk7XG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBvbkZhaWx1cmUoJ+WIh+aNoumikemBk+Wksei0pScpO1xuICAgIC8vICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5YiH5o2i6aKR6YGT5aSx6LSlJylcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vXG4gICAgLy8gICAgICAgICAgICAgaWYob25TdWNjZXNzKXtcbiAgICAvLyAgICAgICAgICAgICAgICAgb25TdWNjZXNzKGNvZGUpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgLy8gICAgICAgICAgICAgICAgIG9uRmFpbHVyZShlcnIpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gfVxuXG5cbiAgICAvKipcbiAgICAgKiDorr7nva7mmK/lkKbmlK/mjIHlvZXliLblip/og73vvIjkuLvmjIHkurrlnKjliqDlhaXmiL/pl7TkuYvliY3orr7nva7vvIlcbiAgICAgKiBAcGFyYW0gdmFsdWUgYm9vbGVhblxuICAgICAqL1xuICAgIGVuYWJsZVJlY29yZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnN1cHBvcnRSZWNvcmQgPSB2YWx1ZT90cnVlOmZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW8gOWni+W9leWItlxuICAgICAqIEBwYXJhbSBvblN1Y2Nlc3NcbiAgICAgKiBAcGFyYW0gb25GYWlsdXJlXG4gICAgICovXG4gICAgc3RhcnRSZWNvcmQgPSAoe29uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIC8v5oi/6Ze05YWB6K645b2V5Yi25pe25omN6IO96LCD55SoXG4gICAgICAgIGlmKHRoaXMucm9vbS5lbmFibGVSZWNvcmQpe1xuICAgICAgICAgICAgbGV0IGNoYW5uZWxOYW1lID0gdGhpcy5yb29tLmNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxLZXkgPSB0aGlzLnJvb20uY2hhbm5lbEtleSxcbiAgICAgICAgICAgICAgICBjYWxsSWQgPSB0aGlzLnJvb20uY2FsbElkO1xuICAgICAgICAgICAgdGhpcy5fcmVjb3JkKGNoYW5uZWxOYW1lLGNoYW5uZWxLZXksY2FsbElkLCdzdGFydCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihvblN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKDIwMCwnUmVjb3JkIHN1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihvbkZhaWx1cmUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlKDUwMCwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoNTAwLCAnUmVjb3JkIGZhaWx1cmUgLCB0aGUgcm9vbSBtdXN0IGFsbG93IHJlY29yZCcpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWNvcmQgZmFpbHVyZSAsIHRoZSByb29tIG11c3QgYWxsb3cgcmVjb3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8v5YGc5q2i5b2V5Yi2XG4gICAgc3RvcFJlY29yZCA9ICh7b25TdWNjZXNzLG9uRmFpbHVyZX0pID0+IHtcbiAgICAgICAgLy/miL/pl7TlhYHorrjlvZXliLbml7bmiY3og73osIPnlKhcbiAgICAgICAgaWYodGhpcy5yb29tLmVuYWJsZVJlY29yZCkge1xuICAgICAgICAgICAgbGV0IGNoYW5uZWxOYW1lID0gdGhpcy5yb29tLmNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxLZXkgPSB0aGlzLnJvb20uY2hhbm5lbEtleSxcbiAgICAgICAgICAgICAgICBjYWxsSWQgPSB0aGlzLnJvb20uY2FsbElkO1xuICAgICAgICAgICAgdGhpcy5fcmVjb3JkKGNoYW5uZWxOYW1lLCBjaGFubmVsS2V5LCBjYWxsSWQsICdzdG9wJylcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcygyMDAsJ1N0b3AgcmVjb3JkIHN1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAob25GYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZhaWx1cmUoNTAwLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgb25GYWlsdXJlKDUwMCwgJ1N0b3BSZWNvcmQgZmFpbHVyZSAsIHRoZSByb29tIG11c3QgYWxsb3cgcmVjb3JkJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0b3BSZWNvcmQgZmFpbHVyZSAsIHRoZSByb29tIG11c3QgYWxsb3cgcmVjb3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDorr7nva7luIPlsYAs5Li75oyB5Lq66L+b5YWl5ZCO6K6+572u77yM5Li75oyB5Lq65Y+R546w5pyJ5Y+C5LiO6ICF6L+b5YWl5oiW56a75byA5Lmf6KaB6K6+572u5biD5bGA77yI5q+P5qyh6K6+572u5oi/6Ze05YaF5pyJ6Z+z6KeG6aKR5rWB55qE5omA5pyJ55So5oi377yJXG4gICAgICogQHBhcmFtIGxheW91dHMgW3tpZDonNjY2Jyx4OjAseTowLHc6MSxoOjEsejowfV0saWQ65a+55bqU55So5oi355qEdWNjSWTvvJt4L3nvvJrnm7jlr7nkuo7nlLvluIPnmoTmqKrnurXlnZDmoIfvvIzojIPlm7Qw772eMe+8m+inhumikeWuvemrmO+8jDDvvZ4xO3o65Y+g5pS+5qyh5bqPXG4gICAgICogQHBhcmFtIGNhbnZhcyB7dzonJyxoOicnLGJncmdiOlswLDAsMF19XG4gICAgICogQHBhcmFtIHR5cGUg5aKe5Yqg5oiW5Yig6Zmk55So5oi377yM5YC8IDHvvJphZGQg77yMMu+8mmRlbFxuICAgICAqL1xuICAgICBzZXRMYXlvdXQgPSAoeyBsYXlvdXRzLCBjYW52YXMsIHR5cGUgfSkgPT4ge1xuICAgICAgIC8v5Y+q5pyJ5Li75oyB5Lq65Y+v5Lul6K6+572u5biD5bGAXG4gICAgICAgIGlmICh0aGlzLnJvb20ucm9sZSA9PSAxKSB7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdHlwZSBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQnKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzU2NyZWVuID0gdGhpcy5pc1NjcmVlblxuICAgICAgICB0eXBlID0gdHlwZSA9PSAxID8gJ2FkZCcgOiAnZGVsJ1xuXG4gICAgICAgIC8vIOm7mOiupGNhbnZhc+iuvue9rlxuICAgICAgICBjYW52YXMgPSBjYW52YXMgfHwge31cbiAgICAgICAgY2FudmFzLncgPSBjYW52YXMgJiYgY2FudmFzLncgPyBjYW52YXMudyA6IDM3NSAvLzcyMDtcbiAgICAgICAgY2FudmFzLmggPSBjYW52YXMgJiYgY2FudmFzLmggPyBjYW52YXMuaCA6IDY2NyAvLzQ4MDtcbiAgICAgICAgY2FudmFzLmJncmdiID1cbiAgICAgICAgICAgIGNhbnZhcyAmJiBjYW52YXMuYmdyZ2IgJiYgY2FudmFzLmJncmdiLmxlbmd0aCAhPT0gMFxuICAgICAgICAgICAgPyBjYW52YXMuYmdyZ2JcbiAgICAgICAgICAgIDogWzgwLCA4MCwgODBdXG5cbiAgICAgICAgLy/lpJbpg6jmsqHmnInkvKDlhaXluIPlsYDml7bnmoTpu5jorqTluIPlsYBcbiAgICAgICAgaWYgKCFsYXlvdXRzIHx8IGxheW91dHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyDpu5jorqTluIPlsYDvvIjljIXmi6zoh6rlt7HlkoxzdHJlYW0tYWRk5Lit55qE5oiQ5ZGY77yJXG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zdHJlYW1zLmxlbmd0aFxuICAgICAgICAgICAgbGF5b3V0cyA9IFtdXG4gICAgICAgICAgICBsZXQgY251bSA9IDBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5zdHJlYW1zW2ldXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHsgaWQ6IGl0ZW0udWNjSWQgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udWNjSWQgPT0gQ29tbW9uLmFkZEFwcENvZGUoQ29uZmlnLmNvbmZpZy51Y2NJZCkpIHtcbiAgICAgICAgICAgICAgICAvL+S4u+aMgeS6ulxuICAgICAgICAgICAgICAgIGRhdGEueCA9IDBcbiAgICAgICAgICAgICAgICBkYXRhLnkgPSAwXG4gICAgICAgICAgICAgICAgZGF0YS53ID0gMVxuICAgICAgICAgICAgICAgIGRhdGEuaCA9IDFcbiAgICAgICAgICAgICAgICBkYXRhLnogPSAwXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoMSAvIDMpLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhcnNlRmxvYXQoMSAvIDMpXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGxlbiAtIDEpID4gMyAmJiBwYXJzZUludChsZW4gLSAxKSA8IDcpIHtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUZsb2F0KDEgLyA0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhLnggPSAwICsgKGNudW0gPD0gMiA/IGNudW0gOiBjbnVtIC0gMykgKiB3aWR0aFxuICAgICAgICAgICAgICAgIGRhdGEueSA9IDEgLSAoY251bSA8PSAyID8gMSA6IDIpICogaGVpZ2h0XG4gICAgICAgICAgICAgICAgZGF0YS53ID0gd2lkdGhcbiAgICAgICAgICAgICAgICBkYXRhLmggPSBoZWlnaHRcbiAgICAgICAgICAgICAgICBkYXRhLnogPSBpIHx8IGkgKyAxXG4gICAgICAgICAgICAgICAgY251bSArPSAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXlvdXRzLnB1c2goZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxheW91dHMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS5pZCA9IENvbW1vbi5hZGRBcHBDb2RlKGl0ZW0uaWQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy/kuIrkuIDmrKHorr7nva7nmoTluIPlsYBcbiAgICAgICAgbGV0IG9sZF9sYXlvdXRzID0gdGhpcy5sYXlvdXQgJiYgdGhpcy5sYXlvdXQucG9zID8gdGhpcy5sYXlvdXQucG9zIDogW11cblxuICAgICAgICAvL3ZlcuWPguaVsOaaguaXtuayoeeUqFxuICAgICAgICB0aGlzLmxheW91dCA9IHtcbiAgICAgICAgICAgIG1pZDogQ29tbW9uLmFkZEFwcENvZGUoQ29uZmlnLmNvbmZpZy51Y2NJZCksXG4gICAgICAgICAgICBwb3M6IG51bGwsXG4gICAgICAgICAgICB0czogQ29tbW9uLmdldFRpbWVTdGFtcCgpLFxuICAgICAgICAgICAgdmVyOiBDb21tb24uZ2V0VGltZVN0YW1wKCksXG4gICAgICAgICAgICBjYW52YXM6IGNhbnZhcyxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbGRfbGF5b3V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8v5LmL5YmN5rKh5pyJ6K6+572u6L+H5biD5bGA77yM6KaB5oqK546w5Zyo55qE5omA5pyJ5oiQ5ZGY6YO96LWw5LiA5qyhYWRkXG4gICAgICAgICAgICBsYXlvdXRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxheW91dC5wb3MgPSBsYXlvdXRzLnNsaWNlKDAsIGluZGV4ICsgMilcbiAgICAgICAgICAgIFNSVENDbGllbnQuc2V0U2VpKGl0ZW0uaWQsIHR5cGUsIHRoaXMubGF5b3V0LCBpc1NjcmVlbilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgYSA9IGxheW91dHMsXG4gICAgICAgICAgICBiID0gb2xkX2xheW91dHNcbiAgICAgICAgICAgIGlmIChsYXlvdXRzLmxlbmd0aCA8IG9sZF9sYXlvdXRzLmxlbmd0aCAmJiB0eXBlID09PSAnZGVsJykge1xuICAgICAgICAgICAgOyhhID0gb2xkX2xheW91dHMpLCAoYiA9IGxheW91dHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVzdWx0cyA9IGEuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgbGV0IGlkTGlzdCA9IGIubWFwKHYgPT4gdi5pZClcbiAgICAgICAgICAgIHJldHVybiAhaWRMaXN0LmluY2x1ZGVzKGl0ZW0uaWQpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZiAocmVzdWx0cykge1xuICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGF5b3V0LnBvcyA9XG4gICAgICAgICAgICAgICAgdHlwZSA9PT0gJ2FkZCcgPyBsYXlvdXRzLnNsaWNlKDAsIGluZGV4ICsgMikgOiBsYXlvdXRzXG4gICAgICAgICAgICAgICAgU1JUQ0NsaWVudC5zZXRTZWkoaXRlbS5pZCwgdHlwZSwgdGhpcy5sYXlvdXQsIGlzU2NyZWVuKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dC5wb3MgPSBsYXlvdXRzXG4gICAgICAgICAgICBTUlRDQ2xpZW50LnNldFNlaShcbiAgICAgICAgICAgICAgICBsYXlvdXRzW2xheW91dHMubGVuZ3RoIC0gMV0uaWQsXG4gICAgICAgICAgICAgICAgJ2FkZCcsXG4gICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQsXG4gICAgICAgICAgICAgICAgaXNTY3JlZW4sXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHRoZSBob3N0IGNhbiBzZXQgdGhlIGxheW91dCcpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmiKrlj5bop4bpopHluKdcbiAgICAgKiBAcGFyYW0gdWNjSWQg6KaB5oiq5Y+W5Zu+54mH55qE55So5oi377yM5LiN5Lyg6buY6K6k5b2T5YmN55So5oi3XG4gICAgICogQHBhcmFtIGZpbGVUeXBlIOaWh+S7tuexu+Wei++8jCcn6KGo56S6YmFzZTY077yMJ2ZpbGUn6KGo56S6anBlZyzkuI3kvKDpu5jorqRiYXNlNjRcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUg5paH5Lu25ZCN77yM5LiN5Lyg6buY6K6k5b2T5YmN5pe26Ze05oizXG4gICAgICogQHBhcmFtIG9uU3VjY2VzcyDlv4XpobtcbiAgICAgKiBAcGFyYW0gb25GYWlsdXJlXG4gICAgICovXG4gICAgY2FwdHVyZSA9ICh7dWNjSWQsZmlsZVR5cGUsZmlsZW5hbWUsb25TdWNjZXNzLG9uRmFpbHVyZX0pID0+IHtcblxuICAgICAgICBpZighb25TdWNjZXNzKXtcbiAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwnb25TdWNjZXNzIGlzIHJlcXVpcmVkIGFuZCBvblN1Y2Nlc3MgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uU3VjY2VzcyBpcyByZXF1aXJlZCBhbmQgb25TdWNjZXNzIG11c3QgYmUgYSBmdW5jdGlvbicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1Y2NJZCA9IHVjY0lkID8gdWNjSWQgOiBDb25maWcuY29uZmlnLnVjY0lkO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuc3RyZWFtcy5maW5kKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS51Y2NJZCA9PSBDb21tb24uYWRkQXBwQ29kZSh1Y2NJZClcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKCFkYXRhLnN0cmVhbS5oYXNWaWRlbygpKXtcbiAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgb25GYWlsdXJlKDQwMCwnTm8gdmlkZW8gb24gY3VycmVudCBtZWRpYScpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWRlbyBvbiBjdXJyZW50IG1lZGlhJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbGVUeXBlID0gZmlsZVR5cGUgPyBmaWxlVHlwZSA6ICcnO1xuICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lID8gZmlsZW5hbWUgOiBDb21tb24uZ2V0VGltZVN0YW1wKCk7XG5cblxuICAgICAgICAvL+S+nei1lnN0cmVhbS5wbGF55Ye95pWw55qE6LCD55SoXG4gICAgICAgIFNSVENDbGllbnQuY2FwdHVyZVZpZGVvKGRhdGEuc3RyZWFtLGZpbGVUeXBlLGZpbGVuYW1lKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZShyZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YWz6Zet6bqm5YWL6aOOXG4gICAgICovXG4gICAgY2xvc2VNaWMgPSAoKSA9PiB7XG4gICAgICAgIFNSVENDbGllbnQuZm9yYmlkZGVuTWljKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaJk+W8gOm6puWFi+mjjlxuICAgICAqL1xuICAgIG9wZW5NaWMgPSAoKSA9PiB7XG4gICAgICAgIFNSVENDbGllbnQudW5Gb3JiaWRkZW5NaWMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5YWz6Zet5pGE5YOP5aS0XG4gICAgICovXG4gICAgY2xvc2VXZWJjYW0gPSAoKSA9PiB7XG4gICAgICAgIFNSVENDbGllbnQuZm9yYmlkZGVuV2ViY2FtKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaJk+W8gOaRhOWDj+WktFxuICAgICAqL1xuICAgIG9wZW5XZWJjYW0gPSAoKSA9PiB7XG4gICAgICAgIFNSVENDbGllbnQudW5Gb3JiaWRkZW5XZWJjYW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpnZnpn7PvvIjliKvkurrlkKzkuI3liLDoh6rlt7HnmoTlo7Dpn7PvvIlcbiAgICAgKi9cbiAgICBtdXRlID0gKCkgPT4ge1xuICAgICAgICBTUlRDQ2xpZW50LmZvcmJpZGRlbk1pYygpO1xuICAgICAgICAvLyBTUlRDQ2xpZW50LmNsb3NlQXVkaW8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5Y+W5raI6Z2Z6Z+zXG4gICAgICovXG4gICAgbXV0ZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgU1JUQ0NsaWVudC51bkZvcmJpZGRlbk1pYygpO1xuICAgICAgICAvLyBTUlRDQ2xpZW50Lm9wZW5BdWRpbygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+WPlumfs+mHj1xuICAgICAqIEBwYXJhbSBzdHJlYW1cbiAgICAgKi9cbiAgICBnZXRWb2x1bWUgPSAoc3RyZWFtKSA9PiB7XG4gICAgICAgIGxldCB2b2x1bWUgPSBTUlRDQ2xpZW50LmdldFZvbHVtZShzdHJlYW0pO1xuICAgICAgICByZXR1cm4gdm9sdW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiuvue9ruinhumikeWIhui+qOeOh1xuICAgICAqIEBwYXJhbSB2YWx1ZSDigJhzaWbigJksIOKAmHZnYeKAmSwg4oCYaGQ3MjBw4oCZXG4gICAgICogQHBhcmFtIG9uU3VjY2VzcyDpnZ7lv4XloatcbiAgICAgKiBAcGFyYW0gb25GYWlsdXJlIOmdnuW/heWhq1xuICAgICAqL1xuICAgIHNldFZpZGVvUHJvcGVydHkgPSAoe3ZhbHVlLG9uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIGlmKCF2YWx1ZSl7XG4gICAgICAgICAgICBpZihvbkZhaWx1cmUpe1xuICAgICAgICAgICAgICAgIG9uRmFpbHVyZSg0MDAsJ1RoZSByZXNvbHV0aW9uIHBhcmFtZXRlciBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcmVzb2x1dGlvbiBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgaWYob25TdWNjZXNzKXtcbiAgICAgICAgICAgIG9uU3VjY2VzcygyMDAsICdTZXQgcmVzb2x1dGlvbiBzdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBraWNrT3V0ID0gKHt1Y2NJZH0pID0+IHtcbiAgICAgICAgaWYoIXVjY0lkIHx8IHVjY0lkLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB1Y2NJZCBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnJvb20ucm9sZSAhPSAxKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0aGUgaG9zdCBjYW4gY2FsbCBraWNrT3V0JylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih1Y2NJZCA9PT0gQ29uZmlnLmNvbmZpZy51Y2NJZCl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW5cXCd0IGtpY2sgeW91cnNlbGYgb3V0JylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1Y2NJZCA9IENvbW1vbi5hZGRBcHBDb2RlKHVjY0lkKVxuICAgICAgICBTUlRDQ2xpZW50LmtpY2tPdXQodWNjSWQpO1xuICAgIH1cblxuICAgIC8vIC8qKlxuICAgIC8vICAqIOiuvue9ruinhumikee8lueggVxuICAgIC8vICAq6KeG6aKR5bGe5oCnXHTliIbovqjnjoco5a69eOmrmClcdCAgIOW4p+eOhyhmcHMpXHQgICDnoIHnjocoa2JwcylcbiAgICAvLyAgICAgMTIwUFx0MTYwKjEyMFx0ICAgICAgICAxNVx0ICAgICAgICA2NSoxMDAwXG4gICAgLy8gICAgIDE4MFBcdDMyMCoxODBcdCAgICAgICAgMTVcdCAgICAgICAgMTQwKjEwMDBcbiAgICAvLyAgICAgMjQwUFx0MzIwKjI0MFx0ICAgICAgICAxNVx0ICAgICAgICAyMDAqMTAwMFxuICAgIC8vICAgICAzNjBQXHQ2NDAqMzYwXHQgICAgICAgIDE1XHQgICAgICAgIDQwMCoxMDAwXG4gICAgLy8gICAgIDQ4MFBcdDY0MCo0ODBcdCAgICAgICAgMTVcdCAgICAgICAgNTAwKjEwMDBcbiAgICAvLyAgICAgNzIwUFx0MTI4MCo3MjBcdCAgICAxNVx0ICAgICAgICAxMTMwKjEwMDBcbiAgICAvLyAgICAgMTA4MFBcdDE5MjAqMTA4MFx0ICAgIDE1XHQgICAgICAgIDIwODAqMTAwMFxuICAgIC8vICAqIEBwYXJhbSB2YWx1ZSDpnZ7lv4XloavvvIzpu5jorqQxMDgwUFxuICAgIC8vICAqIEBwYXJhbSBvblN1Y2Nlc3Mg6Z2e5b+F5aGrXG4gICAgLy8gICogQHBhcmFtIG9uRmFpbHVyZSDpnZ7lv4XloatcbiAgICAvLyAgKi9cbiAgICAvLyBzZXRWaWRlb1Byb3BlcnR5ID0gKHt2YWx1ZSxvblN1Y2Nlc3Msb25GYWlsdXJlfSkgPT4ge1xuICAgIC8vICAgICBpZighdmFsdWUpe1xuICAgIC8vICAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAvLyAgICAgICAgICAgICBvbkZhaWx1cmUoJ+WIhui+qOeOh+WAvOS4uuW/heWhq+mhuScpO1xuICAgIC8vICAgICAgICAgfWVsc2V7XG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfliIbovqjnjoflgLzkuLrlv4XloavpobknKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIHJldHVybjtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICB2YWx1ZSA9IHZhbHVlIHx8ICc3MjBwJztcbiAgICAvLyAgICAgU1JUQ0NsaWVudC5zZXRWaWRlb1Byb3BlcnR5KHZhbHVlKVxuICAgIC8vICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgLy8gICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXMpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgLy8gICAgICAgICAgICAgICAgIG9uRmFpbHVyZShlcnIpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vIH1cblxuICAgIC8v5b+D6LezXG4gICAgX2hlYXJ0QmVhdCA9IChjaGFubmVsS2V5LGNoYW5uZWxOYW1lLGNhbGxJZCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy/lv4Pot7PkuIrmiqUo5b+D6Lez5Lik5qyh5aSx6LSl6KGo56S65byC5bi477yM6YCA5Ye65oi/6Ze0KVxuICAgICAgICAgICAgbGV0IGhlYXJ0VGltZSA9IChwYXJzZUludChDb25maWcuY29uZmlnLmhlYXJ0YmVhdFRpbWUpLTEgfHwgOSkgKiAxMDAwO1xuICAgICAgICAgICAgbGV0IGhlYXJ0YmVhdEZhaWxDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIENoYW5uZWxzLmhlYXJ0QmVhdChjaGFubmVsS2V5LGNoYW5uZWxOYW1lLGNhbGxJZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChjb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFydGJlYXRGYWlsQ291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhlYXJ0YmVhdEZhaWxDb3VudCA+IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgn5b+D6Lez5LiK5oql5aSx6LSlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LGhlYXJ0VGltZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy/lvZXliLbvvIjosIPnlKjlkI7lj7DmnI3liqHvvIlcbiAgICBfcmVjb3JkID0gKGNoYW5uZWxOYW1lLGNoYW5uZWxLZXksY2FsbElkLHN0YXR1cykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgQ2hhbm5lbHMucmVjb3JkKGNoYW5uZWxOYW1lLGNoYW5uZWxLZXksY2FsbElkLHN0YXR1cylcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvL+i9rOmfs+mikVxuICAgIF90b0F1ZGlvID0gKCkgPT4ge1xuICAgICAgICBTUlRDQ2xpZW50LmNsb3NlVmlkZW8oKTtcbiAgICAgICAgU1JUQ0NsaWVudC5mb3JiaWRkZW5XZWJjYW0oKTtcbiAgICB9XG4gICAgLy/ovazop4bpopFcbiAgICBfdG9WaWRlbyA9ICgpID0+IHtcbiAgICAgICAgU1JUQ0NsaWVudC51bkZvcmJpZGRlbldlYmNhbSgpO1xuICAgICAgICBTUlRDQ2xpZW50Lm9wZW5WaWRlbygpO1xuICAgIH1cblxuXG4gICAgX2NoZWNrVmFsdWUgPSAodHlwZSx2YWwpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjaGFubmVsTmFtZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmKCF2YWwgfHwgIUNvbW1vbi5jaGVja051bWJlcih2YWwpIHx8IHBhcnNlSW50KHZhbCkgPiBDb25maWcuY29uZmlnLmNoYW5uZWxOYW1lTWF4KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnY2hhbm5lbE5hbWUgbXVzdCBiZSBhIG51bWJlciBub3Qgc3RhcnRpbmcgd2l0aCAwIGFuZCBjYW5ub3QgYmUgbW9yZSB0aGFuIDEzIGJpdHMsIG5vIG1vcmUgdGhhbiAnK0NvbmZpZy5jb25maWcuY2hhbm5lbE5hbWVNYXgpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjaGFubmVsS2V5JzpcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsICE9IHVuZGVmaW5lZCAmJiB2YWwubGVuZ3RoID4gMzApe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdjaGFubmVsS2V5IGNhbm5vdCBiZSBtb3JlIHRoYW4gMzAgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwcm9maWxlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYoIXZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ3Byb2ZpbGUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdyb2xlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYoIXZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ3JvbGUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2hhbm5lbCgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXpCQTtBQTBCQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTNDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBb0pBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUE3UEE7QUFxUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBbFRBO0FBeVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTlDQTtBQWlEQTtBQXJYQTtBQXdYQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1aUJBO0FBa2pCQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFubUJBO0FBbXFCQTtBQUNBO0FBcHFCQTtBQTJxQkE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUF0c0JBO0FBeXNCQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW51QkE7QUEydUJBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuMUJBO0FBNjFCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyNEJBO0FBMjRCQTtBQUNBO0FBNTRCQTtBQWk1QkE7QUFDQTtBQWw1QkE7QUF1NUJBO0FBQ0E7QUF4NUJBO0FBNjVCQTtBQUNBO0FBOTVCQTtBQW82QkE7QUFFQTtBQXQ2QkE7QUEyNkJBO0FBRUE7QUE3NkJBO0FBbzdCQTtBQUNBO0FBQ0E7QUF0N0JBO0FBODdCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBMzhCQTtBQTY4QkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTU5QkE7QUFxZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0aENBO0FBMGhDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBbmlDQTtBQXNpQ0E7QUFDQTtBQUNBO0FBeGlDQTtBQTJpQ0E7QUFDQTtBQUNBO0FBN2lDQTtBQWlqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzQkE7QUE0QkE7QUFFQTtBQS9rQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBNmpDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///297\n')},function(module,exports,__webpack_require__){eval("var _Array$isArray = __webpack_require__(169);\n\nfunction _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcz83YzY0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfQXJyYXkkaXNBcnJheSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2FycmF5L2lzLWFycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChfQXJyYXkkaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRob3V0SG9sZXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///298\n")},function(module,exports,__webpack_require__){eval('var _Array$from = __webpack_require__(290);\n\nvar _isIterable = __webpack_require__(302);\n\nfunction _iterableToArray(iter) {\n  if (_isIterable(Object(iter)) || Object.prototype.toString.call(iter) === "[object Arguments]") return _Array$from(iter);\n}\n\nmodule.exports = _iterableToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanM/M2QwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9hcnJheS9mcm9tXCIpO1xuXG52YXIgX2lzSXRlcmFibGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9pcy1pdGVyYWJsZVwiKTtcblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmIChfaXNJdGVyYWJsZShPYmplY3QoaXRlcikpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIF9BcnJheSRmcm9tKGl0ZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///299\n')},function(module,exports,__webpack_require__){eval("__webpack_require__(64);\n__webpack_require__(301);\nmodule.exports = __webpack_require__(4).Array.from;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzP2QyZDUiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5mcm9tJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5BcnJheS5mcm9tO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///300\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar ctx = __webpack_require__(34);\nvar $export = __webpack_require__(6);\nvar toObject = __webpack_require__(55);\nvar call = __webpack_require__(175);\nvar isArrayIter = __webpack_require__(176);\nvar toLength = __webpack_require__(95);\nvar createProperty = __webpack_require__(171);\nvar getIterFn = __webpack_require__(126);\n\n$export($export.S + $export.F * !__webpack_require__(178)(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzPzU0OWIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKTtcbnZhciBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5Jyk7XG52YXIgZ2V0SXRlckZuID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbiAoaXRlcikgeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlIC8qICwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQgKi8pIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KGFycmF5TGlrZSk7XG4gICAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5O1xuICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgbWFwZm4gPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKE8pO1xuICAgIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG4gICAgaWYgKG1hcHBpbmcpIG1hcGZuID0gY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKSB7XG4gICAgICBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDKCk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICAgIGZvciAocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///301\n")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(303);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvY29yZS1qcy9pcy1pdGVyYWJsZS5qcz9jOGJiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZVwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///302\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(74);\n__webpack_require__(64);\nmodule.exports = __webpack_require__(304);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZS5qcz81NGExIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvY29yZS5pcy1pdGVyYWJsZScpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///303\n")},function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(97);\nvar ITERATOR = __webpack_require__(14)('iterator');\nvar Iterators = __webpack_require__(56);\nmodule.exports = __webpack_require__(4).isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanM/OTVkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuaXNJdGVyYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTyA9IE9iamVjdChpdCk7XG4gIHJldHVybiBPW0lURVJBVE9SXSAhPT0gdW5kZWZpbmVkXG4gICAgfHwgJ0BAaXRlcmF0b3InIGluIE9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgfHwgSXRlcmF0b3JzLmhhc093blByb3BlcnR5KGNsYXNzb2YoTykpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///304\n")},function(module,exports){eval('function _nonIterableSpread() {\n  throw new TypeError("Invalid attempt to spread non-iterable instance");\n}\n\nmodule.exports = _nonIterableSpread;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9ub25JdGVyYWJsZVNwcmVhZC5qcz9kOGYwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVNwcmVhZDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///305\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty2 = __webpack_require__(2);\n\n_Object$defineProperty2(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(2));\n\nvar _defineProperties = _interopRequireDefault(__webpack_require__(47));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(__webpack_require__(48));\n\n__webpack_require__(27);\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(__webpack_require__(40));\n\n__webpack_require__(37);\n\nvar _getOwnPropertySymbols = _interopRequireDefault(__webpack_require__(49));\n\nvar _keys = _interopRequireDefault(__webpack_require__(38));\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty3 = _interopRequireDefault(__webpack_require__(8));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\nfunction ownKeys(object, enumerableOnly) { var keys = (0, _keys["default"])(object); if (_getOwnPropertySymbols["default"]) { var symbols = (0, _getOwnPropertySymbols["default"])(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return (0, _getOwnPropertyDescriptor["default"])(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty3["default"])(target, key, source[key]); }); } else if (_getOwnPropertyDescriptors["default"]) { (0, _defineProperties["default"])(target, (0, _getOwnPropertyDescriptors["default"])(source)); } else { ownKeys(Object(source)).forEach(function (key) { (0, _defineProperty2["default"])(target, key, (0, _getOwnPropertyDescriptor["default"])(source, key)); }); } } return target; }\n\nvar Channels = function Channels() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, Channels);\n  (0, _defineProperty3["default"])(this, "sessionId", null);\n  (0, _defineProperty3["default"])(this, "_getBaseHeaders", function () {\n    return {\n      \'Content-Type\': \'application/json;charset=utf-8\',\n      \'SdkVersion\': _config["default"].config.sdkVersion,\n      \'DeviceId\': _config["default"].config.deviceId,\n      \'AppKey\': _config["default"].config.appKey\n    };\n  });\n  (0, _defineProperty3["default"])(this, "joinChannel", function (role, toUccIds, channelKey, channelName, profile, scope, enableRecord) {\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/channel/join\';\n    _this.sessionId = _common["default"].uuid();\n\n    var token = _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId);\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Token\': token\n    });\n\n    var data = {\n      from: _config["default"].config.uccId,\n      role: role,\n      to: toUccIds,\n      channel: {\n        channelKey: channelKey,\n        channelName: channelName,\n        profile: profile,\n        scope: scope,\n        enableRecord: enableRecord\n      }\n    };\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(url, {\n        method: \'POST\',\n        headers: headers,\n        data: data,\n        success: function success(code, res) {\n          console.log(\'----success ->\', res);\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            resolve(res);\n          } else {\n            reject(\'Failed to joinChannel , code is \' + code + \',\' + _this._errorMag(code));\n          }\n        },\n        fail: function fail(code, err) {\n          reject(\'Failed to joinChannel , code is \' + code + \',\' + err);\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "heartBeat", function (channelKey, channelName, callId) {\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/channel/action/heartbeat\';\n\n    var token = _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId);\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Token\': token\n    });\n\n    var data = {\n      from: _config["default"].config.uccId,\n      callId: callId,\n      channel: {\n        channelKey: channelKey,\n        channelName: channelName\n      }\n    };\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(url, {\n        method: \'POST\',\n        headers: headers,\n        data: data,\n        success: function success(code, res) {\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            resolve(200);\n          } else {\n            reject(500);\n          }\n        },\n        fail: function fail(code, err) {\n          reject(500);\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "leaveChannel", function (channelKey, channelName, callId) {\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/channel/action/leave\';\n\n    var token = _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId);\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Token\': token\n    });\n\n    var data = {\n      from: _config["default"].config.uccId,\n      callId: callId,\n      role: _config["default"].config.roleType,\n      channel: {\n        channelKey: channelKey,\n        channelName: channelName\n      }\n    };\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(url, {\n        method: \'POST\',\n        headers: headers,\n        data: data,\n        success: function success(code, res) {\n          console.log(\'----leave room success ->\', res);\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            _this.sessionId = null;\n            resolve(\'LeaveChannel success\');\n          } else {\n            reject(\'Failed to leaveChannel , code is \' + code + \',\' + _this._errorMag(code));\n          }\n        },\n        fail: function fail(code, err) {\n          console.log(\'----leave room fail ->\' + code, err);\n          reject(\'Failed to leaveChannel, code is \' + code + \',\' + err);\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "changeChannel", function (channelKey, channelName, profile, scope) {\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/channel/action/change\';\n\n    var token = _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId);\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Token\': token\n    });\n\n    var data = {\n      from: _config["default"].config.uccId,\n      channel: {\n        channelKey: channelKey,\n        channelName: channelName,\n        profile: profile,\n        scope: scope\n      }\n    };\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(url, {\n        method: \'POST\',\n        headers: headers,\n        data: data,\n        success: function success(code, res) {\n          console.log(\'----changeChannel success ->\', res);\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            resolve(\'ChangeChannel success\');\n          } else {\n            reject(\'Failed to changeChannel , code is \' + code + \',\' + _this._errorMag(code));\n          }\n        },\n        fail: function fail(code, err) {\n          console.log(\'----changeChannel fail ->\' + code, err);\n          reject(\'Failed to changeChannel , code is \' + code + \',\' + err);\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "invite", function (channelKey, channelName, list, callId) {\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/channel/action/invite\';\n\n    var token = _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId);\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Token\': token\n    });\n\n    var data = {\n      from: _config["default"].config.uccId,\n      to: list,\n      callId: callId,\n      channel: {\n        channelKey: channelKey,\n        channelName: channelName\n      }\n    };\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(url, {\n        method: \'POST\',\n        headers: headers,\n        data: data,\n        success: function success(code, res) {\n          console.log(\'----invite success ->\', res);\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            resolve(\'Send invite success\');\n          } else {\n            reject(\'Failed to send invite , code is \' + code + \',\' + _this._errorMag(code));\n          }\n        },\n        fail: function fail(code, err) {\n          console.log(\'----changeChannel fail ->\' + code, err);\n          reject(\'Failed to send invite , code is \' + code + \',\' + err);\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "record", function (channelName, channelKey, callId, status) {\n    var url = _config["default"].config.webHttpGateway + \'/srtc_server/channel/record\';\n\n    var token = _common["default"].setToken(_this.sessionId, _config["default"].config.deviceId);\n\n    var headers = _objectSpread({}, _this._getBaseHeaders(), {\n      \'Token\': token\n    });\n\n    var data = {\n      from: _config["default"].config.uccId,\n      callId: callId,\n      channel: {\n        channelKey: channelKey,\n        channelName: channelName,\n        enableRecord: true,\n        record: status\n      }\n    };\n    return new _promise["default"](function (resolve, reject) {\n      _common["default"].requestJson(url, {\n        method: \'POST\',\n        headers: headers,\n        data: data,\n        success: function success(code, res) {\n          console.log(\'----\' + status + \' record success ->\', res);\n          code = res.code;\n\n          if (code >= 2000 && code < 3000) {\n            resolve(\'Recode success\');\n          } else {\n            reject(\'Failed to \' + status + \' record , code is \' + code + \',\' + _this._errorMag(code));\n          }\n        },\n        fail: function fail(code, err) {\n          console.log(\'----changeChannel fail ->\' + code, err);\n          reject(\'Failed to \' + status + \' record , code is \' + code + \',\' + err);\n        }\n      });\n    });\n  });\n  (0, _defineProperty3["default"])(this, "_errorMag", function (code) {\n    var msg = \'\';\n\n    switch (code) {\n      case 4010:\n        msg = \'channelkey is error\';\n        break;\n\n      case 4011:\n        msg = \'uccId is conflict\';\n        break;\n\n      case 4012:\n        msg = \'channel access exceeded limit\';\n        break;\n\n      case 4013:\n        msg = \'channel already has a host\';\n        break;\n\n      case 4014:\n        msg = \'channel without a host\';\n        break;\n\n      case 5000:\n        msg = \'server error\';\n        break;\n    }\n\n    return msg;\n  });\n};\n\nvar _default = new Channels();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3NlcnZlci9jaGFubmVscy5qcz81MjAyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog6aKR6YGT5qih5byPLeWQjuWPsOacjeWKoeaOpeWPo1xuICovXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgQ29tbW9uIGZyb20gJy4uL3V0aWwvY29tbW9uJztcblxuY2xhc3MgQ2hhbm5lbHMge1xuICAgIHNlc3Npb25JZCA9IG51bGw7XG5cbiAgICBfZ2V0QmFzZUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgICdTZGtWZXJzaW9uJzpDb25maWcuY29uZmlnLnNka1ZlcnNpb24sXG4gICAgICAgICAgICAnRGV2aWNlSWQnOiBDb25maWcuY29uZmlnLmRldmljZUlkLFxuICAgICAgICAgICAgJ0FwcEtleSc6Q29uZmlnLmNvbmZpZy5hcHBLZXksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliqDlhaXpopHpgZNcbiAgICAgKiBAcGFyYW0gcm9sZVxuICAgICAqIEBwYXJhbSB0b1VjY0lkc1xuICAgICAqIEBwYXJhbSBjaGFubmVsS2V5XG4gICAgICogQHBhcmFtIGNoYW5uZWxOYW1lXG4gICAgICogQHBhcmFtIHByb2ZpbGUg6aKR6YGT5qih5byPIDEu6Z+z6aKRIDIu6KeG6aKRIDMu55u05pKtIOm7mOiupOmfs+mikeaooeW8j1xuICAgICAqIEBwYXJhbSBzY29wZSDpopHpgZPlrrnph48g5pyA6auY5o6l5YWl5pWw6YePKOS4jeWkp+S6jjYpIOm7mOiupDZcbiAgICAgKiBAcGFyYW0gZW5hYmxlUmVjb3JkIOaYr+WQpuW8gOWQr+W9leWItuWKn+iDvVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT4gfCBQcm9taXNlfVxuICAgICAqL1xuICAgIGpvaW5DaGFubmVsID0gKHJvbGUsdG9VY2NJZHMsY2hhbm5lbEtleSxjaGFubmVsTmFtZSxwcm9maWxlLHNjb3BlLGVuYWJsZVJlY29yZCkgPT4ge1xuICAgICAgICBsZXQgdXJsID0gQ29uZmlnLmNvbmZpZy53ZWJIdHRwR2F0ZXdheSsnL3NydGNfc2VydmVyL2NoYW5uZWwvam9pbic7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gQ29tbW9uLnV1aWQoKTtcbiAgICAgICAgbGV0IHRva2VuID0gQ29tbW9uLnNldFRva2VuKHRoaXMuc2Vzc2lvbklkLENvbmZpZy5jb25maWcuZGV2aWNlSWQpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2dldEJhc2VIZWFkZXJzKCksXG4gICAgICAgICAgICAnVG9rZW4nOnRva2VuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGZyb206Q29uZmlnLmNvbmZpZy51Y2NJZCxcbiAgICAgICAgICAgIHJvbGU6cm9sZSxcbiAgICAgICAgICAgIHRvOnRvVWNjSWRzLFxuICAgICAgICAgICAgY2hhbm5lbDp7XG4gICAgICAgICAgICAgICAgY2hhbm5lbEtleTogY2hhbm5lbEtleSxcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXG4gICAgICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZSxcbiAgICAgICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICAgICAgZW5hYmxlUmVjb3JkOiBlbmFibGVSZWNvcmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBDb21tb24ucmVxdWVzdEpzb24odXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChjb2RlLHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLXN1Y2Nlc3MgLT4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPj0gMjAwMCAmJiBjb2RlIDwzMDAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBqb2luQ2hhbm5lbCAsIGNvZGUgaXMgJytjb2RlKycsJyt0aGlzLl9lcnJvck1hZyhjb2RlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWw6IChjb2RlLGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBqb2luQ2hhbm5lbCAsIGNvZGUgaXMgJytjb2RlKycsJytlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW/g+i3s+S4iuaKpVxuICAgICAqIEBwYXJhbSBjaGFubmVsS2V5XG4gICAgICogQHBhcmFtIGNoYW5uZWxOYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgaGVhcnRCZWF0ID0gKGNoYW5uZWxLZXksY2hhbm5lbE5hbWUsY2FsbElkKSA9PiB7XG4gICAgICAgIGxldCB1cmwgPSBDb25maWcuY29uZmlnLndlYkh0dHBHYXRld2F5Kycvc3J0Y19zZXJ2ZXIvY2hhbm5lbC9hY3Rpb24vaGVhcnRiZWF0JztcblxuICAgICAgICBsZXQgdG9rZW4gPSBDb21tb24uc2V0VG9rZW4odGhpcy5zZXNzaW9uSWQsQ29uZmlnLmNvbmZpZy5kZXZpY2VJZCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5fZ2V0QmFzZUhlYWRlcnMoKSxcbiAgICAgICAgICAgICdUb2tlbic6dG9rZW5cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGZyb206IENvbmZpZy5jb25maWcudWNjSWQsXG4gICAgICAgICAgICBjYWxsSWQ6IGNhbGxJZCxcbiAgICAgICAgICAgIGNoYW5uZWw6IHtcbiAgICAgICAgICAgICAgICBjaGFubmVsS2V5OiBjaGFubmVsS2V5LFxuICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiBjaGFubmVsTmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBDb21tb24ucmVxdWVzdEpzb24odXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChjb2RlLHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPj0gMjAwMCAmJiBjb2RlIDwzMDAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbDogKGNvZGUsZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCg1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOemu+W8gOmikemBk1xuICAgICAqIEBwYXJhbSBjaGFubmVsS2V5XG4gICAgICogQHBhcmFtIGNoYW5uZWxOYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgbGVhdmVDaGFubmVsID0gKGNoYW5uZWxLZXksY2hhbm5lbE5hbWUsY2FsbElkKSA9PiB7XG4gICAgICAgIGxldCB1cmwgPSBDb25maWcuY29uZmlnLndlYkh0dHBHYXRld2F5Kycvc3J0Y19zZXJ2ZXIvY2hhbm5lbC9hY3Rpb24vbGVhdmUnO1xuXG4gICAgICAgIGxldCB0b2tlbiA9IENvbW1vbi5zZXRUb2tlbih0aGlzLnNlc3Npb25JZCxDb25maWcuY29uZmlnLmRldmljZUlkKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLl9nZXRCYXNlSGVhZGVycygpLFxuICAgICAgICAgICAgJ1Rva2VuJzp0b2tlblxuICAgICAgICB9XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgZnJvbTogQ29uZmlnLmNvbmZpZy51Y2NJZCxcbiAgICAgICAgICAgIGNhbGxJZDogY2FsbElkLFxuICAgICAgICAgICAgcm9sZTogQ29uZmlnLmNvbmZpZy5yb2xlVHlwZSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHtcbiAgICAgICAgICAgICAgICBjaGFubmVsS2V5OiBjaGFubmVsS2V5LFxuICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiBjaGFubmVsTmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBDb21tb24ucmVxdWVzdEpzb24odXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChjb2RlLHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWxlYXZlIHJvb20gc3VjY2VzcyAtPicsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgPSByZXMuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29kZSA+PSAyMDAwICYmIGNvZGUgPDMwMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnTGVhdmVDaGFubmVsIHN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBsZWF2ZUNoYW5uZWwgLCBjb2RlIGlzICcrY29kZSsnLCcrdGhpcy5fZXJyb3JNYWcoY29kZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiAoY29kZSxlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1sZWF2ZSByb29tIGZhaWwgLT4nK2NvZGUsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGxlYXZlQ2hhbm5lbCwgY29kZSBpcyAnK2NvZGUrJywnK2Vycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YiH5o2i6aKR6YGTXG4gICAgICogQHBhcmFtIGNoYW5uZWxLZXlcbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5hbWVcbiAgICAgKiBAcGFyYW0gcHJvZmlsZSDliIfmjaLnmoTpopHpgZPmqKHlvI8gMS7pn7PpopEgMi7op4bpopEgMy7nm7Tmkq0g6buY6K6k6Z+z6aKR5qih5byPXG4gICAgICogQHBhcmFtIHNjb3BlIOmikemBk+WuuemHjyDmnIDpq5jmjqXlhaXmlbDph48o5LiN5aSn5LqONikg6buY6K6kNlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT4gfCBQcm9taXNlfVxuICAgICAqL1xuICAgIGNoYW5nZUNoYW5uZWwgPSAoY2hhbm5lbEtleSxjaGFubmVsTmFtZSxwcm9maWxlLHNjb3BlKSA9PiB7XG4gICAgICAgIGxldCB1cmwgPSBDb25maWcuY29uZmlnLndlYkh0dHBHYXRld2F5Kycvc3J0Y19zZXJ2ZXIvY2hhbm5lbC9hY3Rpb24vY2hhbmdlJztcblxuICAgICAgICBsZXQgdG9rZW4gPSBDb21tb24uc2V0VG9rZW4odGhpcy5zZXNzaW9uSWQsQ29uZmlnLmNvbmZpZy5kZXZpY2VJZCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5fZ2V0QmFzZUhlYWRlcnMoKSxcbiAgICAgICAgICAgICdUb2tlbic6dG9rZW5cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGZyb206IENvbmZpZy5jb25maWcudWNjSWQsXG4gICAgICAgICAgICBjaGFubmVsOiB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbEtleTogY2hhbm5lbEtleSxcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXG4gICAgICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZSxcbiAgICAgICAgICAgICAgICBzY29wZTogc2NvcGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgQ29tbW9uLnJlcXVlc3RKc29uKHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoY29kZSxyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1jaGFuZ2VDaGFubmVsIHN1Y2Nlc3MgLT4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPj0gMjAwMCAmJiBjb2RlIDwzMDAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ0NoYW5nZUNoYW5uZWwgc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGNoYW5nZUNoYW5uZWwgLCBjb2RlIGlzICcrY29kZSsnLCcrdGhpcy5fZXJyb3JNYWcoY29kZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiAoY29kZSxlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1jaGFuZ2VDaGFubmVsIGZhaWwgLT4nK2NvZGUsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvIGNoYW5nZUNoYW5uZWwgLCBjb2RlIGlzICcrY29kZSsnLCcrZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlj5HpgIHpgoDor7dcbiAgICAgKiBAcGFyYW0gY2hhbm5lbEtleVxuICAgICAqIEBwYXJhbSBjaGFubmVsTmFtZVxuICAgICAqIEBwYXJhbSBsaXN0IOiiq+mCgOivt+iAheWIl+ihqO+8iOaVsOe7hO+8iVxuICAgICAqIEBwYXJhbSBjYWxsSWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+IHwgUHJvbWlzZX1cbiAgICAgKi9cbiAgICBpbnZpdGUgPSAoY2hhbm5lbEtleSxjaGFubmVsTmFtZSxsaXN0LGNhbGxJZCkgPT4ge1xuICAgICAgICBsZXQgdXJsID0gQ29uZmlnLmNvbmZpZy53ZWJIdHRwR2F0ZXdheSsnL3NydGNfc2VydmVyL2NoYW5uZWwvYWN0aW9uL2ludml0ZSc7XG5cbiAgICAgICAgbGV0IHRva2VuID0gQ29tbW9uLnNldFRva2VuKHRoaXMuc2Vzc2lvbklkLENvbmZpZy5jb25maWcuZGV2aWNlSWQpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2dldEJhc2VIZWFkZXJzKCksXG4gICAgICAgICAgICAnVG9rZW4nOnRva2VuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBmcm9tOiBDb25maWcuY29uZmlnLnVjY0lkLFxuICAgICAgICAgICAgdG86bGlzdCxcbiAgICAgICAgICAgIGNhbGxJZDpjYWxsSWQsXG4gICAgICAgICAgICBjaGFubmVsOiB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbEtleTogY2hhbm5lbEtleSxcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIENvbW1vbi5yZXF1ZXN0SnNvbih1cmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKGNvZGUscmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0taW52aXRlIHN1Y2Nlc3MgLT4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPj0gMjAwMCAmJiBjb2RlIDwzMDAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ1NlbmQgaW52aXRlIHN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBzZW5kIGludml0ZSAsIGNvZGUgaXMgJytjb2RlKycsJyt0aGlzLl9lcnJvck1hZyhjb2RlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWw6IChjb2RlLGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLWNoYW5nZUNoYW5uZWwgZmFpbCAtPicrY29kZSwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gc2VuZCBpbnZpdGUgLCBjb2RlIGlzICcrY29kZSsnLCcrZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDop4bpopHlvZXliLbvvIjlvIDlp4vvvIzlgZzmraLvvIlcbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5hbWVcbiAgICAgKiBAcGFyYW0gY2hhbm5lbEtleVxuICAgICAqIEBwYXJhbSBjYWxsSWRcbiAgICAgKiBAcGFyYW0gc3RhdHVzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgcmVjb3JkID0gKGNoYW5uZWxOYW1lLGNoYW5uZWxLZXksY2FsbElkLHN0YXR1cykgPT4ge1xuICAgICAgICBsZXQgdXJsID0gQ29uZmlnLmNvbmZpZy53ZWJIdHRwR2F0ZXdheSsnL3NydGNfc2VydmVyL2NoYW5uZWwvcmVjb3JkJztcblxuICAgICAgICBsZXQgdG9rZW4gPSBDb21tb24uc2V0VG9rZW4odGhpcy5zZXNzaW9uSWQsQ29uZmlnLmNvbmZpZy5kZXZpY2VJZCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5fZ2V0QmFzZUhlYWRlcnMoKSxcbiAgICAgICAgICAgICdUb2tlbic6dG9rZW5cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIGZyb206IENvbmZpZy5jb25maWcudWNjSWQsXG4gICAgICAgICAgICBjYWxsSWQ6Y2FsbElkLFxuICAgICAgICAgICAgY2hhbm5lbDoge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxLZXk6IGNoYW5uZWxLZXksXG4gICAgICAgICAgICAgICAgY2hhbm5lbE5hbWU6IGNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgICAgIGVuYWJsZVJlY29yZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWNvcmQ6IHN0YXR1c1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBDb21tb24ucmVxdWVzdEpzb24odXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChjb2RlLHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLScrc3RhdHVzKycgcmVjb3JkIHN1Y2Nlc3MgLT4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPj0gMjAwMCAmJiBjb2RlIDwzMDAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ1JlY29kZSBzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdGYWlsZWQgdG8gJytzdGF0dXMrJyByZWNvcmQgLCBjb2RlIGlzICcrY29kZSsnLCcrdGhpcy5fZXJyb3JNYWcoY29kZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiAoY29kZSxlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS1jaGFuZ2VDaGFubmVsIGZhaWwgLT4nK2NvZGUsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRmFpbGVkIHRvICcrc3RhdHVzKycgcmVjb3JkICwgY29kZSBpcyAnK2NvZGUrJywnK2Vycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiDmoLnmja7plJnor6/noIHov5Tlm57lr7nlupTplJnor6/kv6Hmga9cbiAgICAgKiBAcGFyYW0gY29kZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXJyb3JNYWcgPSAoY29kZSkgPT4ge1xuICAgICAgICBsZXQgbXNnID0gJyc7XG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSA0MDEwOlxuICAgICAgICAgICAgICAgIG1zZyA9ICdjaGFubmVsa2V5IGlzIGVycm9yJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDAxMTpcbiAgICAgICAgICAgICAgICBtc2cgPSAndWNjSWQgaXMgY29uZmxpY3QnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDEyOlxuICAgICAgICAgICAgICAgIG1zZyA9ICdjaGFubmVsIGFjY2VzcyBleGNlZWRlZCBsaW1pdCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwMTM6XG4gICAgICAgICAgICAgICAgbXNnID0gJ2NoYW5uZWwgYWxyZWFkeSBoYXMgYSBob3N0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDAxNDpcbiAgICAgICAgICAgICAgICBtc2cgPSAnY2hhbm5lbCB3aXRob3V0IGEgaG9zdCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDUwMDA6XG4gICAgICAgICAgICAgICAgbXNnID0gJ3NlcnZlciBlcnJvcic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDaGFubmVscygpXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTs7Ozs7QUFDQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUpBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFpQkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRkE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRkE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFtQkE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRkE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFGQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBa0JBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUZBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQWtCQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFGQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBSEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQWtCQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBbEJBO0FBQ0E7QUFtQkE7QUFDQTs7O0FBR0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///306\n')},function(module,exports,__webpack_require__){eval('!function(e,t){ true?module.exports=t():undefined}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=119)}([function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(123),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(121),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(26),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(142)),a=o(r(146)),i=o(r(26));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(0)),a=o(r(1)),i=o(r(107));function o(e){return e&&e.__esModule?e:{default:e}}var s="mediasoup-client",c=function(){function e(t){(0,n.default)(this,e),t?(this._debug=(0,i.default)(s+":"+t),this._warn=(0,i.default)(s+":WARN:"+t),this._error=(0,i.default)(s+":ERROR:"+t)):(this._debug=(0,i.default)(s),this._warn=(0,i.default)(s+":WARN"),this._error=(0,i.default)(s+":ERROR")),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return(0,a.default)(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}();t.default=c},function(e,t,r){e.exports={default:r(152),__esModule:!0}},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports={default:r(163),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(24));function a(e){return e&&e.__esModule?e:{default:e}}t.randomNumber=function(){return i()},t.clone=function(e){return JSON.parse((0,n.default)(e))};var i=a(r(113)).default.generator({min:1e7,max:99999999,integer:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(6)),a=l(r(2)),i=l(r(0)),o=l(r(1)),s=l(r(3)),c=l(r(4)),u=r(29),d=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,i.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return r.setMaxListeners(1/0),r._logger=e||new d.default("<EnhancedEventEmitter>"),r}return(0,c.default)(t,e),(0,o.default)(t,[{key:"safeEmit",value:function(e){try{for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit.apply(this,[e].concat(r))}catch(t){this._logger.error("safeEmit() | event listener threw an error [event:%s]:%o",e,t)}}},{key:"safeEmitAsPromise",value:function(e){for(var t=this,r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return new n.default((function(r,n){t.safeEmit.apply(t,[e].concat(a,[function(e){r(e)},function(r){t._logger.error("safeEmitAsPromise() | errback called [event:%s]:%o",e,r),n(r)}]))}))}}]),t}(u.EventEmitter);t.default=p},function(e,t,r){var n=r(13),a=r(7),i=r(27),o=r(28),s=r(32),c=function(e,t,r){var u,d,l,p=e&c.F,f=e&c.G,m=e&c.S,h=e&c.P,v=e&c.B,_=e&c.W,g=f?a:a[t]||(a[t]={}),y=g.prototype,b=f?n:m?n[t]:(n[t]||{}).prototype;for(u in f&&(r=t),r)(d=!p&&b&&void 0!==b[u])&&s(g,u)||(l=d?b[u]:r[u],g[u]=f&&"function"!=typeof b[u]?r[u]:v&&d?i(l,n):_&&b[u]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((g.virtual||(g.virtual={}))[u]=l,e&c.R&&y&&!y[u]&&o(y,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){"use strict";var n=r(190),a=r(191);t.write=a,t.parse=n.parse,t.parseFmtpConfig=n.parseFmtpConfig,t.parseParams=n.parseParams,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(64)("wks"),a=r(53),i=r(13).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(17),i=(n=a)&&n.__esModule?n:{default:n};function o(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,c=function(){var e=s.value,n=(t.rtcpFeedback||[]).find((function(t){return t.type===e.type&&t.parameter===e.parameter}));n&&r.push(n)},u=(0,i.default)(e.rtcpFeedback||[]);!(n=(s=u.next()).done);n=!0)c()}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}t.getExtendedRtpCapabilities=function(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=!0,a=!1,s=void 0;try{for(var c,u=function(){var t=c.value;if("rtx"===t.name)return"continue";var n=(e.codecs||[]).find((function(e){return function(e,t){var r=e.mimeType.toLowerCase(),n=t.mimeType.toLowerCase();if(r!==n)return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;if("video/h264"===r){var a=(e.parameters||{})["packetization-mode"]||0,i=(t.parameters||{})["packetization-mode"]||0;if(a!==i)return!1}return!0}(e,t)}));if(n){var a={name:t.name,mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,sendPayloadType:n.preferredPayloadType,sendRtxPayloadType:null,recvPayloadType:t.preferredPayloadType,recvRtxPayloadType:null,channels:t.channels,rtcpFeedback:o(n,t),parameters:t.parameters};a.channels||delete a.channels,r.codecs.push(a)}},d=(0,i.default)(t.codecs||[]);!(n=(c=d.next()).done);n=!0)u()}catch(e){a=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(a)throw s}}var l=!0,p=!1,f=void 0;try{for(var m,h=function(){var r=m.value,n=(e.codecs||[]).find((function(e){return"rtx"===e.name&&e.parameters.apt===r.sendPayloadType})),a=(t.codecs||[]).find((function(e){return"rtx"===e.name&&e.parameters.apt===r.recvPayloadType}));n&&a&&(r.sendRtxPayloadType=n.preferredPayloadType,r.recvRtxPayloadType=a.preferredPayloadType)},v=(0,i.default)(r.codecs||[]);!(l=(m=v.next()).done);l=!0)h()}catch(e){p=!0,f=e}finally{try{!l&&v.return&&v.return()}finally{if(p)throw f}}var _=!0,g=!1,y=void 0;try{for(var b,k=function(){var t=b.value,n=(e.headerExtensions||[]).find((function(e){return n=t,!((r=e).kind&&n.kind&&r.kind!==n.kind||r.uri!==n.uri);var r,n}));if(n){var a={kind:t.kind,uri:t.uri,sendId:n.preferredId,recvId:t.preferredId};r.headerExtensions.push(a)}},w=(0,i.default)(t.headerExtensions||[]);!(_=(b=w.next()).done);_=!0)k()}catch(e){g=!0,y=e}finally{try{!_&&w.return&&w.return()}finally{if(g)throw y}}return r},t.getRtpCapabilities=function(e){var t={codecs:[],headerExtensions:[],fecMechanisms:[]},r=!0,n=!1,a=void 0;try{for(var o,s=(0,i.default)(e.codecs);!(r=(o=s.next()).done);r=!0){var c=o.value,u={name:c.name,mimeType:c.mimeType,kind:c.kind,clockRate:c.clockRate,preferredPayloadType:c.recvPayloadType,channels:c.channels,rtcpFeedback:c.rtcpFeedback,parameters:c.parameters};if(u.channels||delete u.channels,t.codecs.push(u),c.recvRtxPayloadType){var d={name:"rtx",mimeType:c.kind+"/rtx",kind:c.kind,clockRate:c.clockRate,preferredPayloadType:c.recvRtxPayloadType,parameters:{apt:c.recvPayloadType}};t.codecs.push(d)}}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}var l=!0,p=!1,f=void 0;try{for(var m,h=(0,i.default)(e.headerExtensions);!(l=(m=h.next()).done);l=!0){var v=m.value,_={kind:v.kind,uri:v.uri,preferredId:v.recvId};t.headerExtensions.push(_)}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return t.fecMechanisms=e.fecMechanisms,t},t.getUnsupportedCodecs=function(e,t,r){if(!Array.isArray(t))return[];var n=[],a=e.codecs,o=r.codecs,s=!0,c=!1,u=void 0;try{for(var d,l=function(){var e=d.value;if(!o.some((function(t){return t.recvPayloadType===e}))){var t=a.find((function(t){return t.preferredPayloadType===e}));if(!t)throw new Error("mandatory codec PT "+e+" not found in remote codecs");n.push(t)}},p=(0,i.default)(t);!(s=(d=p.next()).done);s=!0)l()}catch(e){c=!0,u=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw u}}return n},t.canSend=function(e,t){return t.codecs.some((function(t){return t.kind===e}))},t.canReceive=function(e,t){if(0===e.codecs.length)return!1;var r=e.codecs[0];return t.codecs.some((function(e){return e.recvPayloadType===r.payloadType}))},t.getSendingRtpParameters=function(e,t){var r={muxId:null,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},n=!0,a=!1,o=void 0;try{for(var s,c=(0,i.default)(t.codecs);!(n=(s=c.next()).done);n=!0){var u=s.value;if(u.kind===e){var d={name:u.name,mimeType:u.mimeType,clockRate:u.clockRate,payloadType:u.sendPayloadType,channels:u.channels,rtcpFeedback:u.rtcpFeedback,parameters:u.parameters};if(d.channels||delete d.channels,r.codecs.push(d),u.sendRtxPayloadType){var l={name:"rtx",mimeType:u.kind+"/rtx",clockRate:u.clockRate,payloadType:u.sendRtxPayloadType,parameters:{apt:u.sendPayloadType}};r.codecs.push(l)}}}}catch(e){a=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}var p=!0,f=!1,m=void 0;try{for(var h,v=(0,i.default)(t.headerExtensions);!(p=(h=v.next()).done);p=!0){var _=h.value;if(!_.kind||_.kind===e){var g={uri:_.uri,id:_.sendId};r.headerExtensions.push(g)}}}catch(e){f=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw m}}return r},t.getReceivingFullRtpParameters=function(e,t){var r={muxId:null,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},n=!0,a=!1,o=void 0;try{for(var s,c=(0,i.default)(t.codecs);!(n=(s=c.next()).done);n=!0){var u=s.value;if(u.kind===e){var d={name:u.name,mimeType:u.mimeType,clockRate:u.clockRate,payloadType:u.recvPayloadType,channels:u.channels,rtcpFeedback:u.rtcpFeedback,parameters:u.parameters};if(d.channels||delete d.channels,r.codecs.push(d),u.recvRtxPayloadType){var l={name:"rtx",mimeType:u.kind+"/rtx",clockRate:u.clockRate,payloadType:u.recvRtxPayloadType,parameters:{apt:u.recvPayloadType}};r.codecs.push(l)}}}}catch(e){a=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}var p=!0,f=!1,m=void 0;try{for(var h,v=(0,i.default)(t.headerExtensions);!(p=(h=v.next()).done);p=!0){var _=h.value;if(!_.kind||_.kind===e){var g={uri:_.uri,id:_.recvId};r.headerExtensions.push(g)}}}catch(e){f=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw m}}return r}},function(e,t,r){e.exports={default:r(182),__esModule:!0}},function(e,t,r){e.exports={default:r(161),__esModule:!0}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports={default:r(185),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(17)),a=s(r(16)),i=s(r(8));t.extractRtpCapabilities=function(e){var t=new i.default,r=[],s=!1,c=!1,u=!0,d=!1,l=void 0;try{for(var p,f=(0,n.default)(e.media);!(u=(p=f.next()).done);u=!0){var m=p.value,h=m.type;switch(h){case"audio":if(s)continue;s=!0;break;case"video":if(c)continue;c=!0;break;default:continue}var v=!0,_=!1,g=void 0;try{for(var y,b=(0,n.default)(m.rtp);!(v=(y=b.next()).done);v=!0){var k=y.value,w={name:k.codec,mimeType:h+"/"+k.codec,kind:h,clockRate:k.rate,preferredPayloadType:k.payload,channels:k.encoding,rtcpFeedback:[],parameters:{}};"audio"!==w.kind?delete w.channels:w.channels||(w.channels=1),t.set(w.preferredPayloadType,w)}}catch(e){_=!0,g=e}finally{try{!v&&b.return&&b.return()}finally{if(_)throw g}}var P=!0,S=!1,I=void 0;try{for(var T,C=(0,n.default)(m.fmtp||[]);!(P=(T=C.next()).done);P=!0){var R=T.value,x=o.default.parseFmtpConfig(R.config),A=t.get(R.payload);A&&(A.parameters=x)}}catch(e){S=!0,I=e}finally{try{!P&&C.return&&C.return()}finally{if(S)throw I}}var E=!0,D=!1,O=void 0;try{for(var L,M=(0,n.default)(m.rtcpFb||[]);!(E=(L=M.next()).done);E=!0){var j=L.value,B=t.get(j.payload);if(B){var V={type:j.type,parameter:j.subtype};V.parameter||delete V.parameter,B.rtcpFeedback.push(V)}}}catch(e){D=!0,O=e}finally{try{!E&&M.return&&M.return()}finally{if(D)throw O}}var N=!0,F=!1,U=void 0;try{for(var G,W=(0,n.default)(m.ext||[]);!(N=(G=W.next()).done);N=!0){var K=G.value,z={kind:h,uri:K.uri,preferredId:K.value};r.push(z)}}catch(e){F=!0,U=e}finally{try{!N&&W.return&&W.return()}finally{if(F)throw U}}}}catch(e){d=!0,l=e}finally{try{!u&&f.return&&f.return()}finally{if(d)throw l}}return{codecs:(0,a.default)(t.values()),headerExtensions:r,fecMechanisms:[]}},t.extractDtlsParameters=function(e){var t=function(e){return(e.media||[]).find((function(e){return e.iceUfrag&&0!==e.port}))}(e),r=t.fingerprint||e.fingerprint,n=void 0;switch(t.setup){case"active":n="client";break;case"passive":n="server";break;case"actpass":n="auto"}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}};var o=s(r(12));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n=r(25),a=r(84),i=r(67),o=Object.defineProperty;t.f=r(22)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(33)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(5)),a=i(r(12));function i(e){return e&&e.__esModule?e:{default:e}}new n.default("<BandwidthHandler>");function o(e,t,r){return s(e,0,-1,t,r)}function s(e,t,r,n,a){for(var i=-1!==r?r:e.length,o=t;o<i;++o)if(0===e[o].indexOf(n)&&(!a||-1!==e[o].toLowerCase().indexOf(a.toLowerCase())))return o;return null}function c(e){var t=new RegExp("a=rtpmap:(\\\\d+) \\\\w+\\\\/\\\\d+"),r=e.match(t);return r&&2===r.length?r[1]:null}t.default={setBAS:function(e,t,r){return navigator.mozGetUserMedia||!t||(r&&(t.screen?t.screen<300&&console.warn("It seems that you are using wrong bandwidth value for screen. Screen sharing is expected to fail."):console.warn("It seems that you are not using bandwidth for screen. Screen sharing is expected to fail.")),t.screen&&r&&(e=(e=e.replace(/b=AS([^\\r\\n]+\\r\\n)/g,"")).replace(/a=mid:video\\r\\n/g,"a=mid:video\\r\\nb=AS:"+t.screen+"\\r\\n")),(t.audio||t.video||t.data)&&(e=e.replace(/b=AS([^\\r\\n]+\\r\\n)/g,"")),t.audio&&(e=e.replace(/a=mid:audio\\r\\n/g,"a=mid:audio\\r\\nb=AS:"+t.audio+"\\r\\n")),t.video&&(e=e.replace(/a=mid:video\\r\\n/g,"a=mid:video\\r\\nb=AS:"+(r?t.screen:t.video)+"\\r\\n"))),e},setVideoBitrates:function(e,t){if(null==t)return e;if(void 0===t.videoGoogleMinBitrate||void 0===t.videoGoogleMaxBitrate)return e;var r,n=(t=t||{}).videoGoogleMinBitrate,a=t.videoGoogleMaxBitrate,i=t.videoGoogleStartBitrate,u=e.split("\\r\\n"),d=o(u,"a=rtpmap","H264/90000");if(d&&(r=c(u[d])),!r)return e;for(var l="",p=void 0,f=0;null!==f&&(null!==(f=s(u,f,-1,"a=fmtp","profile-level-id=42001f"))&&(l="",-1===u[f].indexOf("x-google-min-bitrate=")?l+=";x-google-min-bitrate="+(n||"228"):(p=new RegExp("x-google-min-bitrate=(\\\\d+)"),u[f]=u[f].replace(p,"x-google-min-bitrate="+(n||"228"))),-1===u[f].indexOf("x-google-max-bitrate=")?l+=";x-google-max-bitrate="+(a||"228"):(p=new RegExp("x-google-max-bitrate=(\\\\d+)"),u[f]=u[f].replace(p,"x-google-max-bitrate="+(a||"228"))),-1===u[f].indexOf("x-google-start-bitrate=")?l+=";x-google-start-bitrate="+(i||"228"):(p=new RegExp("x-google-start-bitrate=(\\\\d+)"),u[f]=u[f].replace(p,"x-google-start-bitrate="+(i||"228"))),u[f]=u[f].concat(l),e=u.join("\\r\\n")),null!==f);)f+=1;for(f=0;null!==f&&(null!==(f=s(u,f,-1,"a=fmtp","profile-level-id=42e01f"))&&(l="",-1===u[f].indexOf("x-google-min-bitrate=")?l+=";x-google-min-bitrate="+(n||"228"):(p=new RegExp("x-google-min-bitrate=(\\\\d+)"),u[f]=u[f].replace(p,"x-google-min-bitrate="+(n||"228"))),-1===u[f].indexOf("x-google-max-bitrate=")?l+=";x-google-max-bitrate="+(a||"228"):(p=new RegExp("x-google-max-bitrate=(\\\\d+)"),u[f]=u[f].replace(p,"x-google-max-bitrate="+(a||"228"))),-1===u[f].indexOf("x-google-start-bitrate=")?l+=";x-google-start-bitrate="+(i||"228"):(p=new RegExp("x-google-start-bitrate=(\\\\d+)"),u[f]=u[f].replace(p,"x-google-start-bitrate="+(i||"228"))),u[f]=u[f].concat(l),e=u.join("\\r\\n")),null!==f);)f+=1;return e},setOpusAttributes:function(e,t){t=t||{};var r,n=e.split("\\r\\n"),a=o(n,"a=rtpmap","opus/48000");if(a&&(r=c(n[a])),!r)return e;var i=o(n,"a=fmtp:"+r.toString());if(null===i)return e;var s="",u=void 0;return void 0!==t.stereo&&(-1===n[i].indexOf("stereo=")?s+=";stereo="+t.stereo:(u=new RegExp("stereo=(\\\\d)"),n[i]=n[i].replace(u,"stereo="+t.stereo))),void 0!==t["sprop-stereo"]&&(-1===n[i].indexOf("sprop-stereo=")?s+=";sprop-stereo="+t["sprop-stereo"]:(u=new RegExp("sprop-stereo=(\\\\d)"),n[i]=n[i].replace(u,"sprop-stereo="+t["sprop-stereo"]))),void 0!==t.maxaveragebitrate&&(-1==n[i].indexOf("maxaveragebitrate=")?s+=";maxaveragebitrate="+(t.maxaveragebitrate||1048576):(u=new RegExp("maxaveragebitrate=(\\\\d+)"),n[i]=n[i].replace(u,"maxaveragebitrate="+(t.maxaveragebitrate||1048576)))),void 0!==t.maxplaybackrate&&(-1===n[i].indexOf("maxplaybackrate=")?s+=";maxplaybackrate="+(t.maxplaybackrate||48e3):(u=new RegExp("maxplaybackrate=(\\\\d+)"),n[i]=n[i].replace(u,"maxplaybackrate="+(t.maxplaybackrate||48e3)))),void 0!==t.cbr&&(-1===n[i].indexOf("cbr=")?s+=";cbr="+t.cbr:(u=new RegExp("cbr=(\\\\d+)"),n[i]=n[i].replace(u,"cbr="+t.cbr))),void 0!==t.useinbandfec&&(-1===n[i].indexOf("useinbandfec=")?s+=";useinbandfec="+t.useinbandfec:(u=new RegExp("useinbandfec=(\\\\d)"),n[i]=n[i].replace(u,"useinbandfec="+t.useinbandfec))),void 0!==t.usedtx&&(-1===n[i].indexOf("usedtx=")?s+=";usedtx="+t.usedtx:(u=new RegExp("usedtx=(\\\\d)"),n[i]=n[i].replace(u,"usedtx="+t.usedtx))),void 0!==t.maxptime&&(s+="\\r\\na=maxptime:"+t.maxptime),n[i]=n[i].concat(s),e=n.join("\\r\\n")},setSpecialAudioCodec:function(e,t){var r=a.default.parse(e);return r?(r.media.forEach((function(e,n){if("audio"===e.type&&e.rtp){r.media[n].rtp=e.rtp.filter((function(e){return e.codec.toLowerCase()==t||"CN"==e.codec||"telephone-event"==e.codec}));var a=-1;e.rtp.forEach((function(e,r){e.codec==t&&(a=e.payload)})),r.media[n].payloads=e.rtp.map((function(e){return e.payload})).join(" "),e.fmtp&&(r.media[n].fmtp=e.fmtp.filter((function(e){return e.payload==a}))),e.rtcpFb&&(r.media[n].rtcpFb=e.rtcpFb.filter((function(e){return e.payload==a})))}})),e=a.default.write(r)):e}}},function(e,t,r){e.exports={default:r(120),__esModule:!0}},function(e,t,r){var n=r(18);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(126)),a=o(r(135)),i="function"==typeof a.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,r){var n=r(45);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(21),a=r(46);e.exports=r(22)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";var n,a="object"==typeof Reflect?Reflect:null,i=a&&"function"==typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof e)}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var a,i,o,s;if(u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),void 0===o)o=i[t]=r,++e._eventsCount;else if("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(a=d(e))>0&&o.length>a&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=p.bind(n);return a.listener=r,n.wrapFn=a,a}function m(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):v(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError(\'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received \'+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError(\'The value of "n" is out of range. It must be a non-negative number. Received \'+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,d=v(c,u);for(r=0;r<u;++r)i(d[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,a,i,o;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return m(this,e,!0)},s.prototype.rawListeners=function(e){return m(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(24)),a=u(r(26)),i=u(r(0)),o=u(r(1)),s=u(r(107)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(51));function u(e){return e&&e.__esModule?e:{default:e}}var d=c.logLevel,l="tttwebsdk",p=d.LOG_TRACE,f=!0,m=!1,h=function(){function t(e){(0,i.default)(this,t),this._userAgent=navigator.userAgent,this._isMobile=/mobile/i.test(this._userAgent),e?(this._prefix="tttwebsdk "+e,this._debug=(0,s.default)("tttwebsdk:"+e),this._warn=(0,s.default)("tttwebsdk:WARN:"+e),this._error=(0,s.default)("tttwebsdk:ERROR:"+e)):(this._prefix="tttwebsdk",this._debug=(0,s.default)(l),this._warn=(0,s.default)("tttwebsdk:WARN"),this._error=(0,s.default)("tttwebsdk:ERROR")),this._debug=this._log_debug.bind(this),this._warn=this._log_warn.bind(this),this._error=this._log_error.bind(this)}return(0,o.default)(t,[{key:"setLoggerLevel",value:function(e){t.logLevel=e}},{key:"_log_debug",value:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(t.logLevel<=d.LOG_INFO){var o="["+this._prefix+"]";[].slice.apply(r).forEach((function(e){"object"===(void 0===e?"undefined":(0,a.default)(e))?o+=" "+(0,n.default)(e):o+=" "+e})),console.log(o)}this._log.apply(this,r)}},{key:"_log_error",value:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(t.logLevel<=d.LOG_ERROR){var o="["+this._prefix+"]";[].slice.apply(r).forEach((function(e){"object"===(void 0===e?"undefined":(0,a.default)(e))?o+=" "+(0,n.default)(e):o+=" "+e})),console.error(o)}this._log.apply(this,r)}},{key:"_log_warn",value:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(t.logLevel<=d.LOG_WARN){var o="["+this._prefix+"]";[].slice.apply(r).forEach((function(e){"object"===(void 0===e?"undefined":(0,a.default)(e))?o+=" "+(0,n.default)(e):o+=" "+e})),console.warn(o)}this._log.apply(this,r)}},{key:"_log",value:function(){if(t.logSubmit){for(var r=this._isMobile?"web_mobile":"web",i="appid="+e.g_appid+", roomid="+e.g_roomid+", userid="+e.g_userid+" server="+e.g_server+" dev="+r+" ua="+this._userAgent+" time="+new Date,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];[].slice.apply(s).forEach((function(e){"object"===(void 0===e?"undefined":(0,a.default)(e))?i+=" "+(0,n.default)(e):i+=" "+e})),fetch(c.logserver_url,{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"text/plain; charset=utf-8"},redirect:"follow",referrer:"no-referrer",body:"event="+this._prefix+" "+i}).catch((function(e){return console.warn("Error:",e)})).then((function(e){return(0,n.default)(e)}))}}},{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}],[{key:"privateCloud",get:function(){return m},set:function(e){m=Boolean(e)}},{key:"logSubmit",get:function(){return f},set:function(e){f=Boolean(e)}},{key:"logLevel",get:function(){return p},set:function(e){switch(e){case"LOG_NONE":p=d.LOG_NONE;break;case"LOG_ERROR":p=d.LOG_ERROR;break;case"LOG_WARN":p=d.LOG_WARN;break;case"LOG_INFO":p=d.LOG_INFO;break;case"LOG_DEBUG":p=d.LOG_DEBUG;break;case"LOG_TRACE":p=d.LOG_TRACE;break;default:throw TypeError("parameter error. must be: LOG_NONE, LOG_ERROR, LOG_WARN, LOG_INFO, LOG_DEBUG, LOG_TRACE")}}}]),t}();t.default=h}).call(this,r(37))},function(e,t,r){var n=r(62);e.exports=function(e){return Object(n(e))}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(128)(!0);r(69)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(114)),a=s(r(8)),i=s(r(19)),o=s(r(17));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){var n=void 0;if(null!=r){if(r=String(r),!(n=(e.media||[]).find((function(e){return String(e.mid)===r}))))throw new Error("SDP section with mid="+r+" not found")}else if(!(n=(e.media||[]).find((function(e){return e.type===t.kind&&e.msid&&e.msid.split(" ")[1]===t.id}))))throw new Error("SDP section with a=msid containing track.id="+t.id+" not found");return n}t.fillRtpParametersForTrack=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=s.mid,d=void 0===u?null:u,l=s.planBSimulcast,p=void 0!==l&&l,f=c(t,r,d);null!=d&&(e.muxId=String(d));e.rtcp={cname:null,reducedSize:!0,mux:!0};var m=(f.ssrcs||[]).find((function(e){return"cname"===e.attribute}));if(!m)throw new Error("CNAME value not found");if(e.rtcp.cname=m.value,p){var h=void 0,v=new i.default,_=!0,g=!1,y=void 0;try{for(var b,k=(0,o.default)(f.ssrcs||[]);!(_=(b=k.next()).done);_=!0){var w=b.value;if("msid"===w.attribute){var P=w.id;v.add(P),h||(h=P)}}}catch(e){g=!0,y=e}finally{try{!_&&k.return&&k.return()}finally{if(g)throw y}}if(0===v.size)throw new Error("no a=ssrc lines found");var S=new a.default,I=!0,T=!1,C=void 0;try{for(var R,x=(0,o.default)(f.ssrcGroups||[]);!(I=(R=x.next()).done);I=!0){var A=R.value;if("FID"===A.semantics){var E=A.ssrcs.split(/\\s+/),D=(0,n.default)(E,2),O=D[0],L=D[1];O=Number(O),L=Number(L),v.has(O)&&(v.delete(O),v.delete(L),S.set(O,L))}}}catch(e){T=!0,C=e}finally{try{!I&&x.return&&x.return()}finally{if(T)throw C}}var M=!0,j=!1,B=void 0;try{for(var V,N=(0,o.default)(v);!(M=(V=N.next()).done);M=!0){var F=V.value;S.set(F,null)}}catch(e){j=!0,B=e}finally{try{!M&&N.return&&N.return()}finally{if(j)throw B}}e.encodings=[];var U=S.size>1,G=["low","medium","high"],W=!0,K=!1,z=void 0;try{for(var q,H=(0,o.default)(S);!(W=(q=H.next()).done);W=!0){var J=(0,n.default)(q.value,2),Q=J[0],Y=(L=J[1],{ssrc:Q});L&&(Y.rtx={ssrc:L}),U&&(Y.profile=G.shift()),e.encodings.push(Y)}}catch(e){K=!0,z=e}finally{try{!W&&H.return&&H.return()}finally{if(K)throw z}}}else{var $=m.id,X=[],Z=!0,ee=!1,te=void 0;try{for(var re,ne=(0,o.default)(f.rids||[]);!(Z=(re=ne.next()).done);Z=!0){var ae=re.value;"send"===ae.direction&&(/^low/.test(ae.id)?X.push({rid:ae.id,profile:"low"}):/^medium/.test(ae.id)&&X.push({rid:ae.id,profile:"medium"}),/^high/.test(ae.id)&&X.push({rid:ae.id,profile:"high"}))}}catch(e){ee=!0,te=e}finally{try{!Z&&ne.return&&ne.return()}finally{if(ee)throw te}}if(e.encodings=[],0===X.length){var ie={ssrc:$};e.encodings.push(ie)}else{var oe=!0,se=!1,ce=void 0;try{for(var ue,de=(0,o.default)(X);!(oe=(ue=de.next()).done);oe=!0){var le=ue.value,pe={encodingId:le.rid,profile:le.profile};e.encodings.push(pe)}}catch(e){se=!0,ce=e}finally{try{!oe&&de.return&&de.return()}finally{if(se)throw ce}}}}},t.addPlanBSimulcast=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.mid,a=void 0===n?null:n,i=c(e,t,a),o=(i.ssrcs||[]).find((function(e){return"msid"===e.attribute}));if(!o)throw new Error("a=ssrc line with msid information not found");var s=o.id,u=o.value.split(" ")[0],d=void 0;(i.ssrcGroups||[]).some((function(e){if("FID"===e.semantics){var t=e.ssrcs.split(/\\s+/);return Number(t[0])===s?(d=Number(t[1]),!0):void 0}}));var l=i.ssrcs.find((function(e){return"cname"===e.attribute&&e.id===s}));if(!l)throw new Error("CNAME line not found");var p=l.value,f=s+1,m=s+2;if(i.ssrcGroups=[],i.ssrcs=[],i.ssrcGroups.push({semantics:"SIM",ssrcs:s+" "+f+" "+m}),i.ssrcs.push({id:s,attribute:"cname",value:p}),i.ssrcs.push({id:s,attribute:"msid",value:u+" "+t.id}),i.ssrcs.push({id:f,attribute:"cname",value:p}),i.ssrcs.push({id:f,attribute:"msid",value:u+" "+t.id}),i.ssrcs.push({id:m,attribute:"cname",value:p}),i.ssrcs.push({id:m,attribute:"msid",value:u+" "+t.id}),d){var h=d+1,v=d+2;i.ssrcGroups.push({semantics:"FID",ssrcs:s+" "+d}),i.ssrcs.push({id:d,attribute:"cname",value:p}),i.ssrcs.push({id:d,attribute:"msid",value:u+" "+t.id}),i.ssrcGroups.push({semantics:"FID",ssrcs:f+" "+h}),i.ssrcs.push({id:h,attribute:"cname",value:p}),i.ssrcs.push({id:h,attribute:"msid",value:u+" "+t.id}),i.ssrcGroups.push({semantics:"FID",ssrcs:m+" "+v}),i.ssrcs.push({id:v,attribute:"cname",value:p}),i.ssrcs.push({id:v,attribute:"msid",value:u+" "+t.id})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(41)),a=f(r(17)),i=f(r(2)),o=f(r(3)),s=f(r(4)),c=f(r(0)),u=f(r(1)),d=f(r(12)),l=f(r(5)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=new l.default("<RemoteUnifiedPlanSdp>"),h=function(){function e(t){(0,c.default)(this,e),this._rtpParametersByKind=t,this._transportLocalParameters=null,this._transportRemoteParameters=null,this._sdpGlobalFields={id:p.randomNumber(),version:0}}return(0,u.default)(e,[{key:"setTransportLocalParameters",value:function(e){m.debug("setTransportLocalParameters() [transportLocalParameters:%o]",e),this._transportLocalParameters=e}},{key:"setTransportRemoteParameters",value:function(e){m.debug("setTransportRemoteParameters() [transportRemoteParameters:%o]",e),this._transportRemoteParameters=e}},{key:"updateTransportRemoteIceParameters",value:function(e){m.debug("updateTransportRemoteIceParameters() [remoteIceParameters:%o]",e),this._transportRemoteParameters.iceParameters=e}}]),e}(),v=function(e){function t(e){return(0,c.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"createAnswerSdp",value:function(e){if(m.debug("createAnswerSdp()"),!this._transportLocalParameters)throw new Error("no transport local parameters");if(!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.iceParameters,r=this._transportRemoteParameters.iceCandidates,i=this._transportRemoteParameters.dtlsParameters,o={},s=(e.media||[]).filter((function(e){return e.hasOwnProperty("mid")})).map((function(e){return String(e.mid)}));this._sdpGlobalFields.version++,o.version=0,o.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},o.name="-",o.timing={start:0,stop:0},o.icelite=t.iceLite?"ice-lite":null,o.msidSemantic={semantic:"WMS",token:"*"},s.length>0&&(o.groups=[{type:"BUNDLE",mids:s.join(" ")}]),o.media=[];var c=i.fingerprints.length;o.fingerprint={type:i.fingerprints[c-1].algorithm,hash:i.fingerprints[c-1].value};var u=!0,l=!1,p=void 0;try{for(var f,h=(0,a.default)(e.media||[]);!(u=(f=h.next()).done);u=!0){var v=f.value,_="inactive"===v.direction,g=v.type,y=this._rtpParametersByKind[g].codecs,b=this._rtpParametersByKind[g].headerExtensions,k={};k.type=v.type,k.port=7,k.protocol="RTP/SAVPF",k.connection={ip:"127.0.0.1",version:4},k.mid=v.mid,k.iceUfrag=t.usernameFragment,k.icePwd=t.password,k.candidates=[];var w=!0,P=!1,S=void 0;try{for(var I,T=(0,a.default)(r);!(w=(I=T.next()).done);w=!0){var C=I.value,R={component:1};R.foundation=C.foundation,R.ip=C.ip,R.port=C.port,R.priority=C.priority,R.transport=C.protocol,R.type=C.type,C.tcpType&&(R.tcptype=C.tcpType),k.candidates.push(R)}}catch(e){P=!0,S=e}finally{try{!w&&T.return&&T.return()}finally{if(P)throw S}}switch(k.endOfCandidates="end-of-candidates",k.iceOptions="renomination",i.role){case"client":k.setup="active";break;case"server":k.setup="passive"}switch(v.direction){case"sendrecv":case"sendonly":k.direction="recvonly";break;case"recvonly":case"inactive":k.direction="inactive"}k.rtp=[],k.rtcpFb=[],k.fmtp=[];var x=!0,A=!1,E=void 0;try{for(var D,O=(0,a.default)(y);!(x=(D=O.next()).done);x=!0){var L=D.value,M={payload:L.payloadType,codec:L.name,rate:L.clockRate};if(L.channels>1&&(M.encoding=L.channels),k.rtp.push(M),L.parameters){var j={payload:L.payloadType,config:""},B=!0,V=!1,N=void 0;try{for(var F,U=(0,a.default)((0,n.default)(L.parameters));!(B=(F=U.next()).done);B=!0){var G=F.value;j.config&&(j.config+=";"),j.config+=G+"="+L.parameters[G]}}catch(e){V=!0,N=e}finally{try{!B&&U.return&&U.return()}finally{if(V)throw N}}j.config&&k.fmtp.push(j)}if(L.rtcpFeedback){var W=!0,K=!1,z=void 0;try{for(var q,H=(0,a.default)(L.rtcpFeedback);!(W=(q=H.next()).done);W=!0){var J=q.value;k.rtcpFb.push({payload:L.payloadType,type:J.type,subtype:J.parameter||""})}}catch(e){K=!0,z=e}finally{try{!W&&H.return&&H.return()}finally{if(K)throw z}}}}}catch(e){A=!0,E=e}finally{try{!x&&O.return&&O.return()}finally{if(A)throw E}}if(k.payloads=y.map((function(e){return e.payloadType})).join(" "),!_){k.ext=[];var Q=!0,Y=!1,$=void 0;try{for(var X,Z=function(){var e=X.value;if(!(v.ext||[]).find((function(t){return t.uri===e.uri})))return"continue";k.ext.push({uri:e.uri,value:e.id})},ee=(0,a.default)(b);!(Q=(X=ee.next()).done);Q=!0)Z()}catch(e){Y=!0,$=e}finally{try{!Q&&ee.return&&ee.return()}finally{if(Y)throw $}}}if(v.simulcast){k.simulcast={dir1:"recv",list1:v.simulcast.list1},k.rids=[];var te=!0,re=!1,ne=void 0;try{for(var ae,ie=(0,a.default)(v.rids||[]);!(te=(ae=ie.next()).done);te=!0){var oe=ae.value;"send"===oe.direction&&k.rids.push({id:oe.id,direction:"recv"})}}catch(e){re=!0,ne=e}finally{try{!te&&ie.return&&ie.return()}finally{if(re)throw ne}}}else if(v.simulcast_03){k.simulcast_03={value:v.simulcast_03.value.replace(/send/g,"recv")},k.rids=[];var se=!0,ce=!1,ue=void 0;try{for(var de,le=(0,a.default)(v.rids||[]);!(se=(de=le.next()).done);se=!0){var pe=de.value;"send"===pe.direction&&k.rids.push({id:pe.id,direction:"recv"})}}catch(e){ce=!0,ue=e}finally{try{!se&&le.return&&le.return()}finally{if(ce)throw ue}}}k.rtcpMux="rtcp-mux",k.rtcpRsize="rtcp-rsize",o.media.push(k)}}catch(e){l=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw p}}return d.default.write(o)}}]),t}(h),_=function(e){function t(e){return(0,c.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"createOfferSdp",value:function(e){if(m.debug("createOfferSdp()"),!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.iceParameters,r=this._transportRemoteParameters.iceCandidates,i=this._transportRemoteParameters.dtlsParameters,o={},s=e.map((function(e){return String(e.mid)}));this._sdpGlobalFields.version++,o.version=0,o.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},o.name="-",o.timing={start:0,stop:0},o.icelite=t.iceLite?"ice-lite":null,o.msidSemantic={semantic:"WMS",token:"*"},s.length>0&&(o.groups=[{type:"BUNDLE",mids:s.join(" ")}]),o.media=[];var c=i.fingerprints.length;o.fingerprint={type:i.fingerprints[c-1].algorithm,hash:i.fingerprints[c-1].value};var u=!0,l=!1,p=void 0;try{for(var f,h=(0,a.default)(e);!(u=(f=h.next()).done);u=!0){var v=f.value,_=v.closed,g=v.kind,y=void 0,b=void 0;"application"!==v.kind&&(y=this._rtpParametersByKind[g].codecs,b=this._rtpParametersByKind[g].headerExtensions);var k={};"application"!==v.kind?(k.type=g,k.port=7,k.protocol="RTP/SAVPF",k.connection={ip:"127.0.0.1",version:4},k.mid=v.mid,k.msid=v.streamId+" "+v.trackId):(k.type=g,k.port=9,k.protocol="DTLS/SCTP",k.connection={ip:"127.0.0.1",version:4},k.mid=v.mid),k.iceUfrag=t.usernameFragment,k.icePwd=t.password,k.candidates=[];var w=!0,P=!1,S=void 0;try{for(var I,T=(0,a.default)(r);!(w=(I=T.next()).done);w=!0){var C=I.value,R={component:1};R.foundation=C.foundation,R.ip=C.ip,R.port=C.port,R.priority=C.priority,R.transport=C.protocol,R.type=C.type,C.tcpType&&(R.tcptype=C.tcpType),k.candidates.push(R)}}catch(e){P=!0,S=e}finally{try{!w&&T.return&&T.return()}finally{if(P)throw S}}if(k.endOfCandidates="end-of-candidates",k.iceOptions="renomination",k.setup="actpass","application"!==v.kind){k.direction=_?"inactive":"sendonly",k.rtp=[],k.rtcpFb=[],k.fmtp=[];var x=!0,A=!1,E=void 0;try{for(var D,O=(0,a.default)(y);!(x=(D=O.next()).done);x=!0){var L=D.value,M={payload:L.payloadType,codec:L.name,rate:L.clockRate};if(L.channels>1&&(M.encoding=L.channels),k.rtp.push(M),L.parameters){var j={payload:L.payloadType,config:""},B=!0,V=!1,N=void 0;try{for(var F,U=(0,a.default)((0,n.default)(L.parameters));!(B=(F=U.next()).done);B=!0){var G=F.value;j.config&&(j.config+=";"),j.config+=G+"="+L.parameters[G]}}catch(e){V=!0,N=e}finally{try{!B&&U.return&&U.return()}finally{if(V)throw N}}j.config&&k.fmtp.push(j)}if(L.rtcpFeedback){var W=!0,K=!1,z=void 0;try{for(var q,H=(0,a.default)(L.rtcpFeedback);!(W=(q=H.next()).done);W=!0){var J=q.value;k.rtcpFb.push({payload:L.payloadType,type:J.type,subtype:J.parameter||""})}}catch(e){K=!0,z=e}finally{try{!W&&H.return&&H.return()}finally{if(K)throw z}}}}}catch(e){A=!0,E=e}finally{try{!x&&O.return&&O.return()}finally{if(A)throw E}}if(k.payloads=y.map((function(e){return e.payloadType})).join(" "),!_){k.ext=[];var Q=!0,Y=!1,$=void 0;try{for(var X,Z=(0,a.default)(b);!(Q=(X=Z.next()).done);Q=!0){var ee=X.value;"urn:ietf:params:rtp-hdrext:sdes:mid"!==ee.uri&&k.ext.push({uri:ee.uri,value:ee.id})}}catch(e){Y=!0,$=e}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw $}}}k.rtcpMux="rtcp-mux",k.rtcpRsize="rtcp-rsize",_||(k.ssrcs=[],k.ssrcGroups=[],k.ssrcs.push({id:v.ssrc,attribute:"cname",value:v.cname}),v.rtxSsrc&&(k.ssrcs.push({id:v.rtxSsrc,attribute:"cname",value:v.cname}),k.ssrcGroups.push({semantics:"FID",ssrcs:v.ssrc+" "+v.rtxSsrc})))}else k.payloads=5e3,k.sctpmap={app:"webrtc-datachannel",maxMessageSize:256,sctpmapNumber:5e3};o.media.push(k)}}catch(e){l=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw p}}return d.default.write(o)}}]),t}(h);t.default=function e(t,r){switch((0,c.default)(this,e),m.debug("constructor() [direction:%s, rtpParametersByKind:%o]",t,r),t){case"send":return new v(r);case"recv":return new _(r)}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports={}},function(e,t,r){var n=r(70),a=r(62);e.exports=function(e){return n(a(e))}},function(e,t,r){r(133);for(var n=r(13),a=r(28),i=r(38),o=r(14)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],d=n[u],l=d&&d.prototype;l&&!l[o]&&a(l,o,u),i[u]=i.Array}},function(e,t,r){e.exports={default:r(150),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(114)),a=s(r(17)),i=s(r(8)),o=s(r(19));function s(e){return e&&e.__esModule?e:{default:e}}t.fillRtpParametersForTrack=function(e,t,r){var s=r.kind,c={cname:null,reducedSize:!0,mux:!0},u=(t.media||[]).find((function(e){return e.type===s}));if(!u)throw new Error("m="+s+" section not found");var d=void 0,l=new o.default,p=!0,f=!1,m=void 0;try{for(var h,v=(0,a.default)(u.ssrcs||[]);!(p=(h=v.next()).done);p=!0){var _=h.value;if("msid"===_.attribute)if(_.value.split(" ")[1]===r.id){var g=_.id;l.add(g),d||(d=g)}}}catch(e){f=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw m}}if(0===l.size)throw new Error("a=ssrc line not found for local track [track.id:"+r.id+"]");var y=new i.default,b=!0,k=!1,w=void 0;try{for(var P,S=(0,a.default)(u.ssrcGroups||[]);!(b=(P=S.next()).done);b=!0){var I=P.value;if("FID"===I.semantics){var T=I.ssrcs.split(/\\s+/),C=(0,n.default)(T,2),R=C[0],x=C[1];R=Number(R),x=Number(x),l.has(R)&&(l.delete(R),l.delete(x),y.set(R,x))}}}catch(e){k=!0,w=e}finally{try{!b&&S.return&&S.return()}finally{if(k)throw w}}var A=!0,E=!1,D=void 0;try{for(var O,L=(0,a.default)(l);!(A=(O=L.next()).done);A=!0){var M=O.value;y.set(M,null)}}catch(e){E=!0,D=e}finally{try{!A&&L.return&&L.return()}finally{if(E)throw D}}var j=u.ssrcs.find((function(e){return"cname"===e.attribute&&e.id===d}));j&&(c.cname=j.value);e.rtcp=c,e.encodings=[];var B=y.size>1,V=["low","medium","high"],N=!0,F=!1,U=void 0;try{for(var G,W=(0,a.default)(y);!(N=(G=W.next()).done);N=!0){var K=(0,n.default)(G.value,2),z=K[0],q=(x=K[1],{ssrc:z});x&&(q.rtx={ssrc:x}),B&&(q.profile=V.shift()),e.encodings.push(q)}}catch(e){F=!0,U=e}finally{try{!N&&W.return&&W.return()}finally{if(F)throw U}}},t.addSimulcastForTrack=function(e,t){var r=t.kind,n=(e.media||[]).find((function(e){return e.type===r}));if(!n)throw new Error("m="+r+" section not found");var a=void 0,i=void 0,o=void 0;if(!(n.ssrcs||[]).find((function(e){return"msid"===e.attribute&&(e.value.split(" ")[1]===t.id?(a=e.id,o=e.value.split(" ")[0],!0):void 0)})))throw new Error("a=ssrc line not found for local track [track.id:"+t.id+"]");(n.ssrcGroups||[]).some((function(e){if("FID"===e.semantics){var t=e.ssrcs.split(/\\s+/);return Number(t[0])===a?(i=Number(t[1]),!0):void 0}}));var s=n.ssrcs.find((function(e){return"cname"===e.attribute&&e.id===a}));if(!s)throw new Error("CNAME line not found for local track [track.id:"+t.id+"]");var c=s.value,u=a+1,d=a+2;if(n.ssrcGroups=n.ssrcGroups||[],n.ssrcGroups.push({semantics:"SIM",ssrcs:a+" "+u+" "+d}),n.ssrcs.push({id:u,attribute:"cname",value:c}),n.ssrcs.push({id:u,attribute:"msid",value:o+" "+t.id}),n.ssrcs.push({id:d,attribute:"cname",value:c}),n.ssrcs.push({id:d,attribute:"msid",value:o+" "+t.id}),i){var l=i+1,p=i+2;n.ssrcGroups.push({semantics:"FID",ssrcs:u+" "+l}),n.ssrcs.push({id:l,attribute:"cname",value:c}),n.ssrcs.push({id:l,attribute:"msid",value:o+" "+t.id}),n.ssrcGroups.push({semantics:"FID",ssrcs:d+" "+p}),n.ssrcs.push({id:p,attribute:"cname",value:c}),n.ssrcs.push({id:p,attribute:"msid",value:o+" "+t.id})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(41)),a=f(r(17)),i=f(r(2)),o=f(r(3)),s=f(r(4)),c=f(r(0)),u=f(r(1)),d=f(r(12)),l=f(r(5)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=new l.default("<RemotePlanBSdp>"),h=function(){function e(t){(0,c.default)(this,e),this._rtpParametersByKind=t,this._transportLocalParameters=null,this._transportRemoteParameters=null,this._sdpGlobalFields={id:p.randomNumber(),version:0}}return(0,u.default)(e,[{key:"setTransportLocalParameters",value:function(e){m.debug("setTransportLocalParameters() [transportLocalParameters:%o]",e),this._transportLocalParameters=e}},{key:"setTransportRemoteParameters",value:function(e){m.debug("setTransportRemoteParameters() [transportRemoteParameters:%o]",e),this._transportRemoteParameters=e}},{key:"updateTransportRemoteIceParameters",value:function(e){m.debug("updateTransportRemoteIceParameters() [remoteIceParameters:%o]",e),this._transportRemoteParameters.iceParameters=e}}]),e}(),v=function(e){function t(e){return(0,c.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"createAnswerSdp",value:function(e){if(m.debug("createAnswerSdp()"),!this._transportLocalParameters)throw new Error("no transport local parameters");if(!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.iceParameters,r=this._transportRemoteParameters.iceCandidates,i=this._transportRemoteParameters.dtlsParameters,o={},s=(e.media||[]).map((function(e){return String(e.mid)}));this._sdpGlobalFields.version++,o.version=0,o.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},o.name="-",o.timing={start:0,stop:0},o.icelite=t.iceLite?"ice-lite":null,o.msidSemantic={semantic:"WMS",token:"*"},o.groups=[{type:"BUNDLE",mids:s.join(" ")}],o.media=[];var c=i.fingerprints.length;o.fingerprint={type:i.fingerprints[c-1].algorithm,hash:i.fingerprints[c-1].value};var u=!0,l=!1,p=void 0;try{for(var f,h=(0,a.default)(e.media||[]);!(u=(f=h.next()).done);u=!0){var v=f.value,_=v.type,g=this._rtpParametersByKind[_].codecs,y=this._rtpParametersByKind[_].headerExtensions,b={};b.type=v.type,b.port=7,b.protocol="RTP/SAVPF",b.connection={ip:"127.0.0.1",version:4},b.mid=v.mid,b.iceUfrag=t.usernameFragment,b.icePwd=t.password,b.candidates=[];var k=!0,w=!1,P=void 0;try{for(var S,I=(0,a.default)(r);!(k=(S=I.next()).done);k=!0){var T=S.value,C={component:1};C.foundation=T.foundation,C.ip=T.ip,C.port=T.port,C.priority=T.priority,C.transport=T.protocol,C.type=T.type,T.tcpType&&(C.tcptype=T.tcpType),b.candidates.push(C)}}catch(e){w=!0,P=e}finally{try{!k&&I.return&&I.return()}finally{if(w)throw P}}switch(b.endOfCandidates="end-of-candidates",b.iceOptions="renomination",i.role){case"client":b.setup="active";break;case"server":b.setup="passive"}switch(v.direction){case"sendrecv":case"sendonly":b.direction="recvonly";break;case"recvonly":case"inactive":b.direction="inactive"}"video"===_&&(b.xGoogleFlag="conference"),b.rtp=[],b.rtcpFb=[],b.fmtp=[];var R=!0,x=!1,A=void 0;try{for(var E,D=(0,a.default)(g);!(R=(E=D.next()).done);R=!0){var O=E.value,L={payload:O.payloadType,codec:O.name,rate:O.clockRate};if(O.channels>1&&(L.encoding=O.channels),b.rtp.push(L),O.parameters){var M={payload:O.payloadType,config:""},j=!0,B=!1,V=void 0;try{for(var N,F=(0,a.default)((0,n.default)(O.parameters));!(j=(N=F.next()).done);j=!0){var U=N.value;M.config&&(M.config+=";"),M.config+=U+"="+O.parameters[U]}}catch(e){B=!0,V=e}finally{try{!j&&F.return&&F.return()}finally{if(B)throw V}}M.config&&b.fmtp.push(M)}if(O.rtcpFeedback){var G=!0,W=!1,K=void 0;try{for(var z,q=(0,a.default)(O.rtcpFeedback);!(G=(z=q.next()).done);G=!0){var H=z.value;b.rtcpFb.push({payload:O.payloadType,type:H.type,subtype:H.parameter||""})}}catch(e){W=!0,K=e}finally{try{!G&&q.return&&q.return()}finally{if(W)throw K}}}}}catch(e){x=!0,A=e}finally{try{!R&&D.return&&D.return()}finally{if(x)throw A}}b.payloads=g.map((function(e){return e.payloadType})).join(" "),b.ext=[];var J=!0,Q=!1,Y=void 0;try{for(var $,X=function(){var e=$.value;if(!(v.ext||[]).find((function(t){return t.uri===e.uri})))return"continue";b.ext.push({uri:e.uri,value:e.id})},Z=(0,a.default)(y);!(J=($=Z.next()).done);J=!0)X()}catch(e){Q=!0,Y=e}finally{try{!J&&Z.return&&Z.return()}finally{if(Q)throw Y}}b.rtcpMux="rtcp-mux",b.rtcpRsize="rtcp-rsize",o.media.push(b)}}catch(e){l=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw p}}return d.default.write(o)}}]),t}(h),_=function(e){function t(e){return(0,c.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"createOfferSdp",value:function(e,t){var r=this;if(m.debug("createOfferSdp()"),!this._transportRemoteParameters)throw new Error("no transport remote parameters");var i=this._transportRemoteParameters.iceParameters,o=this._transportRemoteParameters.iceCandidates,s=this._transportRemoteParameters.dtlsParameters,c={},u=e;this._sdpGlobalFields.version++,c.version=0,c.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},c.name="-",c.timing={start:0,stop:0},c.icelite=i.iceLite?"ice-lite":null,c.msidSemantic={semantic:"WMS",token:"*"},c.groups=[{type:"BUNDLE",mids:u.join(" ")}],c.media=[];var l=s.fingerprints.length;c.fingerprint={type:s.fingerprints[l-1].algorithm,hash:s.fingerprints[l-1].value};var p=!0,f=!1,h=void 0;try{for(var v,_=function(){var e=v.value,s=r._rtpParametersByKind[e].codecs,u=r._rtpParametersByKind[e].headerExtensions,d={};d.type=e,d.port=7,d.protocol="RTP/SAVPF",d.connection={ip:"127.0.0.1",version:4},d.mid=e,d.iceUfrag=i.usernameFragment,d.icePwd=i.password,d.candidates=[];var l=!0,p=!1,f=void 0;try{for(var m,h=(0,a.default)(o);!(l=(m=h.next()).done);l=!0){var _=m.value,g={component:1};g.foundation=_.foundation,g.ip=_.ip,g.port=_.port,g.priority=_.priority,g.transport=_.protocol,g.type=_.type,_.tcpType&&(g.tcptype=_.tcpType),d.candidates.push(g)}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}d.endOfCandidates="end-of-candidates",d.iceOptions="renomination",d.setup="actpass",t.some((function(t){return t.kind===e}))?d.direction="sendonly":d.direction="inactive",d.rtp=[],d.rtcpFb=[],d.fmtp=[];var y=!0,b=!1,k=void 0;try{for(var w,P=(0,a.default)(s);!(y=(w=P.next()).done);y=!0){var S=w.value,I={payload:S.payloadType,codec:S.name,rate:S.clockRate};if(S.channels>1&&(I.encoding=S.channels),d.rtp.push(I),S.parameters){var T={payload:S.payloadType,config:""},C=!0,R=!1,x=void 0;try{for(var A,E=(0,a.default)((0,n.default)(S.parameters));!(C=(A=E.next()).done);C=!0){var D=A.value;T.config&&(T.config+=";"),T.config+=D+"="+S.parameters[D]}}catch(e){R=!0,x=e}finally{try{!C&&E.return&&E.return()}finally{if(R)throw x}}T.config&&d.fmtp.push(T)}if(S.rtcpFeedback){var O=!0,L=!1,M=void 0;try{for(var j,B=(0,a.default)(S.rtcpFeedback);!(O=(j=B.next()).done);O=!0){var V=j.value;d.rtcpFb.push({payload:S.payloadType,type:V.type,subtype:V.parameter||""})}}catch(e){L=!0,M=e}finally{try{!O&&B.return&&B.return()}finally{if(L)throw M}}}}}catch(e){b=!0,k=e}finally{try{!y&&P.return&&P.return()}finally{if(b)throw k}}d.payloads=s.map((function(e){return e.payloadType})).join(" "),d.ext=[];var N=!0,F=!1,U=void 0;try{for(var G,W=(0,a.default)(u);!(N=(G=W.next()).done);N=!0){var K=G.value;"urn:ietf:params:rtp-hdrext:sdes:mid"!==K.uri&&d.ext.push({uri:K.uri,value:K.id})}}catch(e){F=!0,U=e}finally{try{!N&&W.return&&W.return()}finally{if(F)throw U}}d.rtcpMux="rtcp-mux",d.rtcpRsize="rtcp-rsize",d.ssrcs=[],d.ssrcGroups=[];var z=!0,q=!1,H=void 0;try{for(var J,Q=(0,a.default)(t);!(z=(J=Q.next()).done);z=!0){var Y=J.value;Y.kind===e&&(d.ssrcs.push({id:Y.ssrc,attribute:"msid",value:Y.streamId+" "+Y.trackId}),d.ssrcs.push({id:Y.ssrc,attribute:"mslabel",value:Y.streamId}),d.ssrcs.push({id:Y.ssrc,attribute:"label",value:Y.trackId}),d.ssrcs.push({id:Y.ssrc,attribute:"cname",value:Y.cname}),Y.rtxSsrc&&(d.ssrcs.push({id:Y.rtxSsrc,attribute:"msid",value:Y.streamId+" "+Y.trackId}),d.ssrcs.push({id:Y.rtxSsrc,attribute:"mslabel",value:Y.streamId}),d.ssrcs.push({id:Y.rtxSsrc,attribute:"label",value:Y.trackId}),d.ssrcs.push({id:Y.rtxSsrc,attribute:"cname",value:Y.cname}),d.ssrcGroups.push({semantics:"FID",ssrcs:Y.ssrc+" "+Y.rtxSsrc})))}}catch(e){q=!0,H=e}finally{try{!z&&Q.return&&Q.return()}finally{if(q)throw H}}c.media.push(d)},g=(0,a.default)(e);!(p=(v=g.next()).done);p=!0)_()}catch(e){f=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(f)throw h}}return d.default.write(c)}}]),t}(h);t.default=function e(t,r){switch((0,c.default)(this,e),m.debug("constructor() [direction:%s, rtpParametersByKind:%o]",t,r),t){case"send":return new v(r);case"recv":return new _(r)}}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(86),a=r(71);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(21).f,a=r(32),i=r(14)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(27),a=r(92),i=r(93),o=r(25),s=r(55),c=r(76),u={},d={};(t=e.exports=function(e,t,r,l,p){var f,m,h,v,_=p?function(){return e}:c(e),g=n(r,l,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(f=s(e.length);f>y;y++)if((v=t?g(o(m=e[y])[0],m[1]):g(e[y]))===u||v===d)return v}else for(h=_.call(e);!(m=h.next()).done;)if((v=a(h,g,m.value,t))===u||v===d)return v}).BREAK=u,t.RETURN=d},function(e,t,r){"use strict";var n,a=r(8),i=(n=a)&&n.__esModule?n:{default:n};var o=new i.default([[1,{reason:"success"}],[2,{reason:"auth lock dog - noresource"}],[4,{reason:"already in channel"}],[5,{reason:"param invalid"}],[6,{reason:"no server available"}],[9,{reason:"already login"}],[10,{reason:"overmax"}],[11,{reason:"audio timeout"}],[12,{reason:"video timeout"}],[13,{reason:"live not start"}],[14,{reason:"timeout"}],[15,{reason:"update user media message"}],[16,{reason:"no-chair"}],[17,{reason:"user non-exist"}],[18,{reason:"record error"}],[19,{reason:"audiomixer error"}],[20,{reason:"dboper error"}],[21,{reason:"chair password error"}],[22,{reason:"password error"}],[23,{reason:"no password"}],[24,{reason:"channel is not exist"}],[25,{reason:"invalid appid"}],[26,{reason:"rtmp connect"}],[27,{reason:"authentication"}],[30,{reason:"connect timeout"}]]),s=new i.default([["80p",{width:110,height:80,bps:{ideal:55e3,min:3e4,max:6e4}}],["120p",{width:160,height:120,bps:{ideal:65e3,min:4e4,max:7e4}}],["160p",{width:210,height:160,bps:{ideal:12e4,min:5e4,max:15e4}}],["200p",{width:270,height:200,bps:{ideal:14e4,min:6e4,max:2e5}}],["240p",{width:320,height:240,bps:{ideal:2e5,min:6e4,max:26e4}}],["320p",{width:420,height:320,bps:{ideal:25e4,min:8e4,max:3e5}}],["360p",{width:480,height:360,bps:{ideal:25e4,min:8e4,max:36e4}}],["480p",{width:640,height:480,bps:{ideal:3e5,min:8e4,max:45e4}}],["540p",{width:720,height:540,bps:{ideal:6e5,min:2e5,max:7e5}}],["720p",{width:1280,height:720,bps:{ideal:113e4,min:5e5,max:14e5}}],["1080p",{width:1920,height:1080,bps:{ideal:2e6,min:1e6,max:24e5}}],["3840p",{width:3840,height:2160,bps:{ideal:8e6,min:7e6,max:15e6}}],["7680p",{width:7680,height:4320,bps:{ideal:2e7,min:15e6,max:25e6}}]]),c=new i.default([[720,{width:1280,height:720,bps:{ideal:1e6,min:8e5,max:15e5}}],[1080,{width:1920,height:1080,bps:{ideal:18e5,min:15e5,max:2e6}}],[2160,{width:3840,height:2160,bps:{ideal:25e5,min:2e6,max:3e6}}],[4320,{width:7680,height:4320,bps:{ideal:3e6,min:25e5,max:4e6}}]]),u=new i.default([["isac32",{codec:"isac",maxplaybackrate:32e3,stereo:0,maxaveragebitrate:40960}],["speech_low_quality",{codec:"opus",maxplaybackrate:16e3,stereo:0,maxaveragebitrate:24576}],["speech_standard",{codec:"opus",maxplaybackrate:32e3,stereo:0,maxaveragebitrate:24576}],["music_standard",{codec:"opus",maxplaybackrate:48e3,stereo:0,maxaveragebitrate:40960}],["standard_stereo",{codec:"opus",maxplaybackrate:48e3,stereo:1,maxaveragebitrate:65536}],["high_quality",{codec:"opus",maxplaybackrate:48e3,stereo:0,maxaveragebitrate:131072}],["high_quality_stereo",{codec:"opus",maxplaybackrate:48e3,stereo:1,maxaveragebitrate:196608}]]);e.exports={clientConfig:{mode:"live",codec:"vp8",proxyServer:"YOUR NGINX PROXY SERVER IP",turnServer:{turnServerURL:"turn:114.116.84.241",username:"ttt",password:"123456",udpport:"THE UDP PORT YOU WANT TO ADD",tcpport:"THE TCP PORT YOU WANT TO ADD",iceTransportPolicy:"all"},svcRootUrl:"119_3_245_117.3ttech.cn",role:"2",publish_rtmp_url:"rtmp://push.3ttech.cn/sdk/?",subcribe_rtmp_url:"rtmp://pull.3ttech.cn/sdk/?"},logLevel:{LOG_NONE:6,LOG_ERROR:5,LOG_WARN:4,LOG_INFO:3,LOG_DEBUG:2,LOG_TRACE:1},audioProfileSpec:u,videoProfile:{Profile_80p:"80p",Profile_120p:"120p",Profile_160p:"160p",Profile_200p:"200p",Profile_240p:"240p",Profile_320p:"320p",Profile_360p:"360p",Profile_480p:"480p",Profile_540p:"540p",Profile_720p:"720p",Profile_1080p:"1080p",Profile_3840p:"3840p",Profile_7680p:"7680p"},audioSpec:{sampleRate:{min:4e3,max:48e3,ideal:8e3},channelCount:{min:1,max:2,ideal:1}},videoSpec:{width:{min:80,ideal:640,max:1920},height:{min:60,ideal:480,max:1080},bitrate:{min:80,ideal:400,max:2e3},frameRate:{min:10,ideal:15,max:30},aspectRatio:4/3},mediaServerAddress:"",PUBLISH_STATE:{IDLE:0,PUBLISHING:1,PUBLISHED:2},tttErrMsg:o,logserver_url:"https://logst.3ttech.cn:15200",iplocationAddress:"webdispatch.3ttech.cn",iplocationPort:443,videoResolution:s,screenResolution:c,videoAttributes:{sif:[320,240],vga:[640,480],hd720p:[1280,720]},screenSpec:{s_frameRate:15,s_720p:{maxWidth:1280,maxHeight:720,maxAspectRatio:1.77},s_1080p:{maxWidth:1920,maxHeight:1080,maxAspectRatio:1.77},s_2k:{maxWidth:2048,maxHeight:1080,maxAspectRatio:1.77},s_4k:{maxWidth:3840,maxHeight:2160,maxAspectRatio:1.77},s_8k:{maxWidth:7680,maxHeight:4320,maxAspectRatio:1.77}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedError=t.TimeoutError=t.InvalidStateError=void 0;var n=s(r(2)),a=s(r(0)),i=s(r(3)),o=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}t.InvalidStateError=function(e){function t(e){(0,a.default)(this,t);var r=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return r.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r}return(0,o.default)(t,e),t}(Error),t.TimeoutError=function(e){function t(e){(0,a.default)(this,t);var r=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return r.name="TimeoutError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r}return(0,o.default)(t,e),t}(Error),t.UnsupportedError=function(e){function t(e,r){(0,a.default)(this,t);var o=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return o.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(o,t):o.stack=new Error(e).stack,o.data=r,o}return(0,o.default)(t,e),t}(Error)},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(25),a=r(130),i=r(71),o=r(63)("IE_PROTO"),s=function(){},c=function(){var e,t=r(66)("iframe"),n=i.length;for(t.style.display="none",r(87).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=c(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(68),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(53)("meta"),a=r(18),i=r(32),o=r(21).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(33)((function(){return c(Object.preventExtensions({}))})),d=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!i(e,n)&&d(e),e}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){},function(e,t,r){var n=r(48),a=r(14)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(26),i=(n=a)&&n.__esModule?n:{default:n};t.getProtooUrl=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3443,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"isac32",s="";s=""===i.length?"wss://"+n+":"+a+"/?peerName="+e+"&roomId="+t+"_"+r+"&audioPt="+o:"wss://"+n+":"+a+i+"/?peerName="+e+"&roomId="+t+"_"+r+"&audioPt="+o;return s},t.uuid=function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.clone=function e(t){if(null==t||"object"!==(void 0===t?"undefined":(0,i.default)(t)))return t;if(t instanceof Date){var r=new Date;return r.setTime(t.getTime()),r}if(t instanceof Array){for(var n=[],a=t.length,o=0;o<a;++o)n[o]=e(t[o]);return n}if(t instanceof Object){var s={};for(var c in t)t.hasOwnProperty(c)&&(s[c]=e(t[c]));return s}throw new Error("Unable to copy obj! Its type isn\'t supported.")}},function(e,t,r){e.exports={default:r(202),__esModule:!0}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can\'t call method on  "+e);return e}},function(e,t,r){var n=r(64)("keys"),a=r(53);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){var n=r(7),a=r(13),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(44)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(11),a=r(7),i=r(33);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*i((function(){r(1)})),"Object",o)}},function(e,t,r){var n=r(18),a=r(13).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,r){var n=r(18);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can\'t convert object to primitive value")}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(44),a=r(11),i=r(85),o=r(28),s=r(38),c=r(129),u=r(49),d=r(83),l=r(14)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,m,h,v,_){c(r,t,m);var g,y,b,k=function(e){if(!p&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",P="values"==h,S=!1,I=e.prototype,T=I[l]||I["@@iterator"]||h&&I[h],C=T||k(h),R=h?P?k("entries"):C:void 0,x="Array"==t&&I.entries||T;if(x&&(b=d(x.call(new e)))!==Object.prototype&&b.next&&(u(b,w,!0),n||"function"==typeof b[l]||o(b,l,f)),P&&T&&"values"!==T.name&&(S=!0,C=function(){return T.call(this)}),n&&!_||!p&&!S&&I[l]||o(I,l,C),s[t]=C,s[w]=f,h)if(g={values:P?C:k("values"),keys:v?C:k("keys"),entries:R},_)for(y in g)y in I||i(I,y,g[y]);else a(a.P+a.F*(p||S),t,g);return g}},function(e,t,r){var n=r(48);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){t.f=r(14)},function(e,t,r){var n=r(13),a=r(7),i=r(44),o=r(72),s=r(21).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(59),a=r(14)("iterator"),i=r(38);e.exports=r(7).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){"use strict";var n=r(45);function a(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new a(e)}},function(e,t,r){var n=r(28);e.exports=function(e,t,r){for(var a in t)r&&e[a]?e[a]=t[a]:n(e,a,t[a]);return e}},function(e,t,r){var n=r(18);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){var n;n=function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var a,o=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),c=/nexus\\s*[0-6]\\s*/i.test(t),u=!c&&/nexus\\s*[0-9]+/i.test(t),d=/CrOS/.test(t),l=/silk/i.test(t),p=/sailfish/i.test(t),f=/tizen/i.test(t),m=/(web|hpw)(o|0)s/i.test(t),h=/windows phone/i.test(t),v=(/SamsungBrowser/i.test(t),!h&&/windows/i.test(t)),_=!o&&!l&&/macintosh/i.test(t),g=!s&&!p&&!f&&!m&&/linux/i.test(t),y=n(/edg([ea]|ios)\\/(\\d+(\\.\\d+)?)/i),b=r(/version\\/(\\d+(\\.\\d+)?)/i),k=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!k&&/[^-]mobi/i.test(t),P=/xbox/i.test(t);/opera/i.test(t)?a={name:"Opera",opera:e,version:b||r(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/opr\\/|opios/i.test(t)?a={name:"Opera",opera:e,version:r(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)||b}:/SamsungBrowser/i.test(t)?a={name:"Samsung Internet for Android",samsungBrowser:e,version:b||r(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/Whale/i.test(t)?a={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/MZBrowser/i.test(t)?a={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/coast/i.test(t)?a={name:"Opera Coast",coast:e,version:b||r(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/focus/i.test(t)?a={name:"Focus",focus:e,version:r(/(?:focus)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/yabrowser/i.test(t)?a={name:"Yandex Browser",yandexbrowser:e,version:b||r(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/ucbrowser/i.test(t)?a={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/mxios/i.test(t)?a={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/epiphany/i.test(t)?a={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/puffin/i.test(t)?a={name:"Puffin",puffin:e,version:r(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)}:/sleipnir/i.test(t)?a={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/k-meleon/i.test(t)?a={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:h?(a={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},y?(a.msedge=e,a.version=y):(a.msie=e,a.version=r(/iemobile\\/(\\d+(\\.\\d+)?)/i))):/msie|trident/i.test(t)?a={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)}:d?a={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?a={name:"Microsoft Edge",msedge:e,version:y}:/vivaldi/i.test(t)?a={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\\/(\\d+(\\.\\d+)?)/i)||b}:p?a={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)}:/seamonkey\\//i.test(t)?a={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\\/(\\d+(\\.\\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(a={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)},/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(t)&&(a.firefoxos=e,a.osname="Firefox OS")):l?a={name:"Amazon Silk",silk:e,version:r(/silk\\/(\\d+(\\.\\d+)?)/i)}:/phantom/i.test(t)?a={name:"PhantomJS",phantom:e,version:r(/phantomjs\\/(\\d+(\\.\\d+)?)/i)}:/slimerjs/i.test(t)?a={name:"SlimerJS",slimer:e,version:r(/slimerjs\\/(\\d+(\\.\\d+)?)/i)}:/blackberry|\\bbb\\d+/i.test(t)||/rim\\stablet/i.test(t)?a={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:b||r(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)}:m?(a={name:"WebOS",osname:"WebOS",webos:e,version:b||r(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)},/touchpad\\//i.test(t)&&(a.touchpad=e)):/bada/i.test(t)?a={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\\/(\\d+(\\.\\d+)?)/i)}:f?a={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i)||b}:/qupzilla/i.test(t)?a={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i)||b}:/chromium/i.test(t)?a={name:"Chromium",chromium:e,version:r(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?a={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:s?a={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(a={name:"Safari",safari:e},b&&(a.version=b)):o?(a={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},b&&(a.version=b)):a=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\\/(\\d+(\\.\\d+))/i)||b}:{name:r(/^(.*)\\/(.*) /),version:n(/^(.*)\\/(.*) /)},!a.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\\/537\\.36/i.test(t)?(a.name=a.name||"Blink",a.blink=e):(a.name=a.name||"Webkit",a.webkit=e),!a.version&&b&&(a.version=b)):!a.opera&&/gecko\\//i.test(t)&&(a.name=a.name||"Gecko",a.gecko=e,a.version=a.version||r(/gecko\\/(\\d+(\\.\\d+)?)/i)),a.windowsphone||!s&&!a.silk?!a.windowsphone&&o?(a[o]=e,a.ios=e,a.osname="iOS"):_?(a.mac=e,a.osname="macOS"):P?(a.xbox=e,a.osname="Xbox"):v?(a.windows=e,a.osname="Windows"):g&&(a.linux=e,a.osname="Linux"):(a.android=e,a.osname="Android");var S="";a.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)):a.windowsphone?S=r(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i):a.mac?S=(S=r(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g,"."):o?S=(S=r(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(/[_\\s]/g,"."):s?S=r(/android[ \\/-](\\d+(\\.\\d+)*)/i):a.webos?S=r(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i):a.blackberry?S=r(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i):a.bada?S=r(/bada\\/(\\d+(\\.\\d+)*)/i):a.tizen&&(S=r(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)),S&&(a.osversion=S);var I=!a.windows&&S.split(".")[0];return k||u||"ipad"==o||s&&(3==I||I>=4&&!w)||a.silk?a.tablet=e:(w||"iphone"==o||"ipod"==o||s||c||a.blackberry||a.webos||a.bada)&&(a.mobile=e),a.msedge||a.msie&&a.version>=10||a.yandexbrowser&&a.version>=15||a.vivaldi&&a.version>=1||a.chrome&&a.version>=20||a.samsungBrowser&&a.version>=4||a.whale&&1===i([a.version,"1.0"])||a.mzbrowser&&1===i([a.version,"6.0"])||a.focus&&1===i([a.version,"1.0"])||a.firefox&&a.version>=20||a.safari&&a.version>=6||a.opera&&a.version>=10||a.ios&&a.osversion&&a.osversion.split(".")[0]>=6||a.blackberry&&a.version>=10.1||a.chromium&&a.version>=20?a.a=e:a.msie&&a.version<10||a.chrome&&a.version<20||a.firefox&&a.version<20||a.safari&&a.version<6||a.opera&&a.version<10||a.ios&&a.osversion&&a.osversion.split(".")[0]<6||a.chromium&&a.version<20?a.c=e:a.x=e,a}var r=t("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function a(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function i(e){for(var t=Math.max(n(e[0]),n(e[1])),r=a(e,(function(e){var r=t-n(e);return a((e+=new Array(r+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function o(e,n,a){var o=r;"string"==typeof n&&(a=n,n=void 0),void 0===n&&(n=!1),a&&(o=t(a));var s=""+o.version;for(var c in e)if(e.hasOwnProperty(c)&&o[c]){if("string"!=typeof e[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(e));return i([s,e[c]])<0}return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=o,r.compareVersions=i,r.check=function(e,t,r){return!o(e,t,r)},r._detect=t,r.detect=t,r},e.exports?e.exports=n():r(178)("bowser",n)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(0)),a=g(r(1)),i=g(r(80)),o=g(r(5)),s=g(r(181)),c=g(r(195)),u=g(r(196)),d=g(r(197)),l=(g(r(198)),g(r(199))),p=g(r(200)),f=g(r(201)),m=g(r(205)),h=g(r(206)),v=g(r(207)),_=g(r(209));function g(e){return e&&e.__esModule?e:{default:e}}var y=new o.default("Device"),b=function(){function t(){(0,n.default)(this,t)}return(0,a.default)(t,null,[{key:"setHandler",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t._detected=!0,t._handlerClass=e,t._flag=r.flag,t._name=r.name,t._version=r.version,t._bowser=r.bowser||{}}},{key:"getFlag",value:function(){return t._detected||t._detect(),t._flag}},{key:"getName",value:function(){return t._detected||t._detect(),t._name}},{key:"getVersion",value:function(){return t._detected||t._detect(),t._version}},{key:"getBowser",value:function(){return t._detected||t._detect(),t._bowser}},{key:"isSupported",value:function(){return t._detected||t._detect(),Boolean(t._handlerClass)}},{key:"_detect",value:function(){if(t._detected=!0,e.navigator&&"ReactNative"===e.navigator.product)t._flag="react-native",t._name="ReactNative",t._version=void 0,t._bowser={},t._handlerClass=_.default;else if(e.navigator&&"string"==typeof e.navigator.userAgent){var r=e.navigator.userAgent,n=i.default.detect(r);if(t._flag=void 0,t._name=n.name||void 0,t._version=n.version||void 0,t._bowser=n,t._handlerClass=null,i.default.check({chrome:"70",chromium:"70"},!0,r))t._flag="chrome",t._handlerClass=s.default;else if(i.default.check({chrome:"69",chromium:"69"},!0,r))t._flag="chrome",t._handlerClass=c.default;else if(i.default.check({chrome:"67",chromium:"67"},!0,r))t._flag="chrome",t._handlerClass=u.default;else if(i.default.check({chrome:"55",chromium:"55"},!0,r))t._flag="chrome",t._handlerClass=d.default;else if(i.default.check({chrome:"49",chromium:"49"},!0,r)&&e.adapter)t._flag="chrome",t._handlerClass=d.default;else if(i.default.check({firefox:"65"},!0,r))t._flag="firefox",t._handlerClass=f.default;else if(i.default.check({firefox:"59"},!0,r))t._flag="firefox",t._handlerClass=m.default;else if(i.default.check({firefox:"50"},!0,r))t._flag="firefox",t._handlerClass=h.default;else if(i.default.check({safari:"12.1"},!0,r)&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))t._flag="safari",t._handlerClass=l.default;else if(i.default.check({safari:"11"},!0,r))t._flag="safari",t._handlerClass=p.default;else if(i.default.check({msedge:"11"},!0,r))t._flag="msedge",t._handlerClass=v.default;else if(i.default.check({opera:"57"},!0,r))t._flag="opera",t._handlerClass=s.default;else if(i.default.check({opera:"44"},!0,r))t._flag="opera",t._handlerClass=d.default;else if(n.chromium||n.blink||n.webkit){y.debug(\'best effort Chrome based browser detection [name:"%s"]\',n.name),t._flag="chrome";var a=r.match(/(?:(?:Chrome|Chromium))[ /](\\w+)/i);if(a){var o=Number(a[1]);t._handlerClass=o>=70?s.default:o>=69?c.default:o>=67?u.default:d.default}else t._handlerClass=s.default}t.isSupported()?y.debug(\'browser supported [flag:%s, name:"%s", version:%s, handler:%s]\',t._flag,t._name,t._version,t._handlerClass.tag):y.warn("browser not supported [name:%s, version:%s]",t._name,t._version)}else y.warn("device not supported")}},{key:"Handler",get:function(){return t._detected||t._detect(),t._handlerClass}}]),t}();t.default=b,b._detected=!1,b._flag=void 0,b._name=void 0,b._version=void 0,b._bowser=void 0,b._handlerClass=null}).call(this,r(37))},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(61),i=(n=a)&&n.__esModule?n:{default:n};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){var n=r(32),a=r(31),i=r(63)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){e.exports=!r(22)&&!r(33)((function(){return 7!=Object.defineProperty(r(66)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){e.exports=r(28)},function(e,t,r){var n=r(32),a=r(39),i=r(131)(!1),o=r(63)("IE_PROTO");e.exports=function(e,t){var r,s=a(e),c=0,u=[];for(r in s)r!=o&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(13).document;e.exports=n&&n.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(48);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(86),a=r(71).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(57),a=r(46),i=r(39),o=r(67),s=r(32),c=r(84),u=Object.getOwnPropertyDescriptor;t.f=r(22)?u:function(e,t){if(e=i(e),t=o(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(25);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(38),a=r(14)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){var n=r(25),a=r(45),i=r(14)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},function(e,t,r){var n,a,i,o=r(27),s=r(154),c=r(87),u=r(66),d=r(13),l=d.process,p=d.setImmediate,f=d.clearImmediate,m=d.MessageChannel,h=d.Dispatch,v=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){g.call(e.data)};p&&f||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},f=function(e){delete _[e]},"process"==r(48)(l)?n=function(e){l.nextTick(o(g,e,1))}:h&&h.now?n=function(e){h.now(o(g,e,1))}:m?(i=(a=new m).port2,a.port1.onmessage=y,n=o(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",y,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:p,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(25),a=r(18),i=r(77);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(13),a=r(7),i=r(21),o=r(22),s=r(14)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:n[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(14)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},function(e,t,r){e.exports=r(159)},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(6),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,r){return function n(a,o){try{var s=t[a](o),c=s.value}catch(e){return void r(e)}if(!s.done)return i.default.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(c)}("next")}))}}},function(e,t,r){"use strict";var n=r(21).f,a=r(54),i=r(78),o=r(27),s=r(75),c=r(50),u=r(69),d=r(88),l=r(98),p=r(22),f=r(56).fastKey,m=r(79),h=p?"_s":"size",v=function(e,t){var r,n=f(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var d=e((function(e,n){s(e,d,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[h]=0,null!=n&&c(n,r,e[u],e)}));return i(d.prototype,{clear:function(){for(var e=m(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var r=m(this,t),n=v(r,e);if(n){var a=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=a),a&&(a.p=i),r._f==n&&(r._f=a),r._l==n&&(r._l=i),r[h]--}return!!n},forEach:function(e){m(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!v(m(this,t),e)}}),p&&n(d.prototype,"size",{get:function(){return m(this,t)[h]}}),d},def:function(e,t,r){var n,a,i=v(e,t);return i?i.v=r:(e._l=i={i:a=f(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[h]++,"F"!==a&&(e._i[a]=i)),e},getEntry:v,setStrong:function(e,t,r){u(e,t,(function(e,r){this._t=m(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))}),r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){"use strict";var n=r(13),a=r(11),i=r(56),o=r(33),s=r(28),c=r(78),u=r(50),d=r(75),l=r(18),p=r(49),f=r(21).f,m=r(165)(0),h=r(22);e.exports=function(e,t,r,v,_,g){var y=n[e],b=y,k=_?"set":"add",w=b&&b.prototype,P={};return h&&"function"==typeof b&&(g||w.forEach&&!o((function(){(new b).entries().next()})))?(b=t((function(t,r){d(t,b,e,"_c"),t._c=new y,null!=r&&u(r,_,t[k],t)})),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;e in w&&(!g||"clear"!=e)&&s(b.prototype,e,(function(r,n){if(d(this,b,e),!t&&g&&!l(r))return"get"==e&&void 0;var a=this._c[e](0===r?0:r,n);return t?this:a}))})),g||f(b.prototype,"size",{get:function(){return this._c.size}})):(b=v.getConstructor(t,e,_,k),c(b.prototype,r),i.NEED=!0),p(b,e),P[e]=b,a(a.G+a.W+a.F,P),g||v.setStrong(b,e,_),b}},function(e,t,r){var n=r(59),a=r(169);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn\'t generic");return a(this)}}},function(e,t,r){"use strict";var n=r(11);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";var n=r(11),a=r(45),i=r(27),o=r(50);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,c=arguments[1];return a(this),(t=void 0!==c)&&a(c),null==e?new this:(r=[],t?(n=0,s=i(c,arguments[2],2),o(e,!1,(function(e){r.push(s(e,n++))}))):o(e,!1,r.push,r),new this(r))}})}},function(e,t,r){(function(n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,a=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(a=n))}),t.splice(a,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(173)(t);const{formatters:a}=e.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(172))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(24)),a=m(r(2)),i=m(r(0)),o=m(r(1)),s=m(r(3)),c=m(r(4)),u=r(29),d=f(r(60)),l=m(r(30)),p=f(r(51));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var h=new l.default("<IPLocation>"),v=null,_=p.iplocationPort,g=p.mediaServerAddress,y=!1,b=r(109),k=b.operation({retries:4,factor:2,minTimeout:1e3,maxTimeout:2e3,randomize:!0}),w=function(e){function t(e,r,n,o){(0,i.default)(this,t);var c=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this)),u="";return""===(u=t.privateCloud?v?v.trim():"":p.iplocationAddress.trim())?(o("INVALID iplocation address - need set IplocationAddress"),(0,s.default)(c)):(c.appId=e,c.connectId=d.uuid(),c._url="wss://"+u+":"+_+"/iplocation/",h.debug("constructor: "+c._url),c._wsjson={eType:1,sSEQID:"111111111",mProtocolMsg:{sVersion:"Test_4.2.0.777",bLoadBalance:!1,bReConnect:!1,bVipUser:!1,sIDentify:"7B4FCDBC0914E7182B8EC357F07498F1",sSecret:"c052cd055acfabc5",sVerifyCode:"abcd",sAppID:e,nUserID:+r,sClientVer:"web_1.0",sConnectID:c.connectId,mIpAddrMsg:{bFec:!1,sIp:u,nPort:0}}},c._ws=null,c._closed=!1,c._successcb=n,c._failcb=o,c.reconnectTimes=1,c.firstConnectTime=Date.now(),c.connectedTime=0,c._hasSolve=!1,c._sendRetry={retry:5,timer:0},c._setWebSocket(),c)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getIpLocationVar",value:function(){return this.svcHost}},{key:"close",value:function(){this._closed=!0,null!==this._ws&&(this._ws.close(),this._ws=null)}},{key:"_setWebSocket",value:function(){var e=this,t=b.operation(k),r=!1;t.attempt((function(a){e._closed?t.stop():(h.debug("_setWebSocket() connecting... [currentAttempt: "+a),e._ws=new WebSocket(e._url),e._ws.onopen=function(){e._closed||(r=!0,e.connectedTime=Date.now(),e._ws.send((0,n.default)(e._wsjson)),e._sendRetry.timer=setInterval((function(){e._hasSolve||(0===e._sendRetry.retry&&(e._ws.close(),t.retry(!0),clearInterval(e._sendRetry.timer)),e._ws.send((0,n.default)(e._wsjson)),--e._sendRetry.retry)}),500),h.debug("WebSocket event [open]"))},e._ws.onclose=function(a){if(!e._closed)if(h.warn("WebSocket event [close] -- "+(0,n.default)(a)),4e3===a.code)e._closed=!0;else{if(r){if(t.stop(),e._closed)return;return void e._setWebSocket()}if(e._closed)return;t.retry(!0)&&++e.reconnectTimes}},e._ws.onerror=function(t){e._closed||h.error("WebSocket event [error] - error "+t.toString()+" - nothing todo.")},e._ws.onmessage=function(t){if(!e._closed){var r=JSON.parse(t.data);if(1!==r.eResult){var n=p.tttErrMsg.get(r.eResult);return e._failcb("msg.eResult: "+r.eResult+" - "+n.reason),void e.close()}var a=r.mProtocolMsg.mIpAddrMsg;e.svcHost={ip:a.sIp,domain:a.sDomain,port:a.nPort},""!==g&&(e.svcHost={ip:a.sIp,domain:g,port:a.nPort}),e._sendRetry.timer&&(clearInterval(e._sendRetry.timer),e._sendRetry.timer=0),e._hasSolve=!0,e._successcb(e.svcHost,r.mProtocolMsg.mGWIpAddrMsgList),e.close()}})}))}},{key:"privateCloud",get:function(){return y},set:function(e){y=Boolean(e)}}],[{key:"IplocationAddress",set:function(e){h.debug("set IplocationAddress: "+e),v=e},get:function(){return v}},{key:"IplocationPort",set:function(e){h.debug("set IplocationPort: "+e),/^[1-9][0-9]{2,4}$/.test(e)&&(_=e)},get:function(){return _}},{key:"MediaServerAddress",set:function(e){g=e},get:function(){return g}}]),t}(u.EventEmitter);t.default=w},function(e,t,r){e.exports=r(175)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(6)),a=y(r(100)),i=y(r(101)),o=y(r(24)),s=y(r(2)),c=y(r(0)),u=y(r(1)),d=y(r(3)),l=y(r(4)),p=y(r(8)),f=y(r(30)),m=r(29),h=g(r(51)),v=g(r(60)),_=g(r(177));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var b=r(80),k=r(179),w=new f.default("<Stream>"),P=new p.default;e.screen=_;var S=function(e){function t(e){(0,c.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this)),n="";e.userId?(e.userId=e.userId+"",n=e.userId.trim()):e.userID?(e.userID=e.userID+"",n=e.userID.trim()):n="",e.userId=n;var a="";return e.streamId?(e.streamId=e.streamId+"",a=e.streamId.trim()):e.streamID?(e.streamID=e.streamID+"",a=e.streamID.trim()):a="",e.streamId=a,r._spec=e,w.debug("constructor() -- spec: "+(0,o.default)(e)),r._streamObj=null,r._streamType="",r._spec.streamType&&(r._streamType=e.streamType),r._uuid=v.uuid(),r._innerStreamID="",r._customStreamID=a,r._userId=n,r._volume=0,r._isLocalStream=!1,r._webcamProducer=null,r._micProducer=null,r._audio=null,r._video=null,r._isMicClosed=!1,r._isVideoTrackClosed=!1,r._mediaSourceAudio=!1,r._mediaSourceVideo=!1,r._audioSource=null,r._spec.audioSource&&(r._audioSource=r._spec.audioSource,r._mediaSourceAudio=!0,r._spec.audio=!1),r._videoSource=null,r._spec.videoSource&&(r._videoSource=r._spec.videoSource,r._mediaSourceVideo=!0,r._spec.video=!1,r._spec.screen=!1),r._enableMic=r._spec.audio,r._enableCamera=r._spec.video,r._source=r._spec.source,r._subscribed=!1,r._ended=!1,r._closed=!1,r._isSubStream=!!r._spec.subStream&&r._spec.subStream,r._keyResolution="480p",r._isMobile=/mobile/i.test(navigator.userAgent),r._isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r._published=!1,r._publishState=h.PUBLISH_STATE.IDLE,r._videoType=-1,void 0!==r._spec.videoType&&(r._videoType=r._spec.videoType),r._needUpdateVideoStreamBitrate=!1,r._updateConstraints={},r._gainNode=null,r._videoSpec=null,r._specialCameraId="",r._specialMicId="",r._audioProfile=null,r._audioCtx=null,r}var r,p,f,m,_,g;return(0,l.default)(t,e),(0,u.default)(t,[{key:"init",value:(g=(0,i.default)(a.default.mark((function e(r,n){var s,c,u,d,l,p,f=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("API init() -- this._userId: "+this._userId+" this._spec: "+(0,o.default)(this._spec)),"function"==typeof r){e.next=4;break}throw w.warn("API init() error - onSuccess have to be a function."),TypeError("onSuccess have to be a function.");case 4:if("function"==typeof n){e.next=7;break}throw w.warn("API init() error - onFailure have to be a function."),TypeError("onFailure have to be a function.");case 7:if(this._streamType="producer",s=null,c=Boolean(this._spec.video),u=Boolean(this._spec.screen),!(+c+ +u>1)){e.next=16;break}return w.warn("API init() error - video/screen: only one can be set as true"),n("video/screen: only one can be set as true"),e.abrupt("return");case 16:if((this._spec.video||this._spec.screen)&&(this._enableVideoTrack=!0),this._videoType=-1,this._spec.video?this._videoType=0:this._spec.screen?this._videoType=1:this._mediaSourceVideo&&(this._videoType=2),this._videoSpec={width:{min:h.videoSpec.width.min,ideal:h.videoSpec.width.ideal,max:h.videoSpec.width.max},height:{min:h.videoSpec.height.min,ideal:h.videoSpec.height.ideal,max:h.videoSpec.height.max},frameRate:{min:h.videoSpec.frameRate.min,ideal:h.videoSpec.frameRate.ideal,max:h.videoSpec.frameRate.max}},this._isMobile&&(this._videoSpec.facingMode=this._spec.useBackCam?{exact:"environment"}:"user"),this._spec.attributes&&(this._spec.attributes.resolution&&("HD720P"===this._spec.attributes.resolution.toUpperCase()&&(this._videoSpec.width.ideal=h.videoAttributes.hd720p[0],this._videoSpec.height.ideal=h.videoAttributes.hd720p[1]),"VGA"===this._spec.attributes.resolution.toUpperCase()&&(this._videoSpec.width.ideal=h.videoAttributes.vga[0],this._videoSpec.height.ideal=h.videoAttributes.vga[1]),"SIF"===this._spec.attributes.resolution.toUpperCase()&&(this._videoSpec.width.ideal=h.videoAttributes.sif[0],this._videoSpec.height.ideal=h.videoAttributes.sif[1]),void 0!==this._spec.attributes.width&&void 0!==this._spec.attributes.height&&(this._videoSpec.width.ideal=this._spec.attributes.width,this._videoSpec.height.ideal=this._spec.attributes.height)),this._spec.attributes.minFrameRate&&this._spec.attributes.maxFrameRate&&(this._videoSpec.frameRate.min=this._spec.attributes.minFrameRate,this._videoSpec.frameRate.max=this._spec.attributes.maxFrameRate,void 0!==this._spec.attributes.idealFrameRate?this._videoSpec.frameRate.ideal=this._spec.attributes.idealFrameRate:this._videoSpec.frameRate.ideal=Math.floor((this._spec.attributes.maxFrameRate-this._spec.attributes.minFrameRate)/2+this._spec.attributes.minFrameRate)),this._spec.attributes.videoProfile&&(d=this._getResolutionByVideoProfile(this._spec.attributes.videoProfile),this._videoSpec.width.ideal=d.width,this._videoSpec.height.ideal=d.height)),!this._spec.video||!this._spec.audio){e.next=28;break}s={video:this._videoSpec},this._spec.microphoneId&&""!==this._spec.microphoneId.trim()?(s.audio={deviceId:{exact:this._spec.microphoneId.trim()},sampleRate:h.audioSpec.sampleRate,channelCount:h.audioSpec.channelCount},this._specialMicId=this._spec.microphoneId.trim()):s.audio=!0,this._spec.cameraId&&""!==this._spec.cameraId.trim()&&(s.video.deviceId={exact:this._spec.cameraId.trim()},this._specialCameraId=this._spec.cameraId.trim()),e.next=48;break;case 28:if(!this._spec.audio||this._spec.screen||this._spec.video){e.next=33;break}s={video:!1},this._spec.microphoneId&&""!==this._spec.microphoneId.trim()?(s.audio={deviceId:{exact:this._spec.microphoneId.trim()},sampleRate:h.audioSpec.sampleRate,channelCount:h.audioSpec.channelCount},this._specialMicId=this._spec.microphoneId.trim()):s.audio=!0,e.next=48;break;case 33:if(!this._spec.video||this._spec.audio||this._spec.screen){e.next=38;break}s={audio:!1,video:this._videoSpec},this._spec.cameraId&&""!==this._spec.cameraId.trim()&&(s.video.deviceId={exact:this._spec.cameraId.trim()},this._specialCameraId=this._spec.cameraId.trim()),e.next=48;break;case 38:if(!this._spec.screen){e.next=48;break}if(l=!0,"chrome"===b.name.toLowerCase()&&parseInt(b.version,10)<72&&(l=!1),!l){e.next=46;break}return e.next=44,this._startScreenCapture().then(function(){var e=(0,i.default)(a.default.mark((function e(i){var s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f._isLocalStream=!0,f.streamObj=i,f._screenStreamEnded(i),f._innerStreamID=t._getInnerStreamID(f.userID,f.userID,0,f,f._isSubStream),!f._spec.audio){e.next=17;break}return e.prev=5,e.next=8,f._createAudioTrack(f._spec.microphoneId);case 8:s=e.sent,f.audioTracks=s,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),w.warn("API init() _startScreenCapture() error - _createAudioTrack fail. error: "+(0,o.default)(e.t0)),n(e.t0),e.abrupt("return");case 17:w.debug("API init() _startScreenCapture() success - this.userID: "+f.userID+" this._innerStreamID: "+f._innerStreamID),r();case 19:case"end":return e.stop()}}),e,f,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return w.warn("API init() _startScreenCapture() error - "+e.name+" "+e.message),n(e.name+" "+e.message)}));case 44:e.next=47;break;case 46:window.getScreenId?window.getScreenId((function(e,s,c){if(w.debug("API init() getScreenId() - sourceId: "+s+" screen_constraints: "+(0,o.default)(c)),"firefox"!==s){if(c={video:{mandatory:{chromeMediaSource:"screen",maxWidth:1920,maxHeight:1080,minAspectRatio:1.77}}},"permission-denied"===e)return w.debug("API init() getScreenId() - Permission is denied"),n("getScreenId() - Permission is denied");if("not-chrome"===e)return w.debug("API init() getScreenId() - Please use chrome"),n("getScreenId() - Please use chrome");!e&&s&&(c.video.mandatory.chromeMediaSource="desktop",c.video.mandatory.chromeMediaSourceId=s)}var u;navigator.getUserMedia=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia(c,(u=(0,i.default)(a.default.mark((function e(i){var s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f._isLocalStream=!0,f.streamObj=i,f._screenStreamEnded(i),f._innerStreamID=t._getInnerStreamID(f.userID,f.userID,0,f,f._isSubStream),!f._spec.audio){e.next=17;break}return e.prev=5,e.next=8,f._createAudioTrack(f._spec.microphoneId);case 8:s=e.sent,f.audioTracks=s,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),w.warn("API init() getScreenId() error - stream of screen init failed for obtain audio track. error: "+e.t0.toString()),n(e.t0),e.abrupt("return");case 17:w.debug("API init() getScreenId() success - this.userID: "+f.userID+" this._innerStreamID: "+f._innerStreamID+" screen_constraints: "+(0,o.default)(c)),r();case 19:case"end":return e.stop()}}),e,f,[[5,12]])}))),function(e){return u.apply(this,arguments)}),(function(e){w.warn("API init() getScreenId() fail - "+e.name+" "+e.message+" -- constraints: "+(0,o.default)(c)),n("getScreenId() fail - "+e.name+" "+e.message)}))}),this._spec.audio):w.warn("API init() getScreenId is undefined");case 47:return e.abrupt("return");case 48:if(!this._spec.video&&!this._spec.audio){e.next=54;break}return w.debug("API init() this.userID: "+this.userID+" this._innerStreamID: "+this._innerStreamID+" this._videoType: "+this._videoType+" constraints: "+(0,o.default)(s)),navigator.mediaDevices.getUserMedia(s).then((function(e){if(f._isLocalStream=!0,f._isSafari)f.streamObj=e;else{var n=e.getVideoTracks();if(e.getAudioTracks().length>0){if(!f._audioCtx){var a=window.AudioContext||window.webkitAudioContext;f._audioCtx=new a}if(f._audioCtx&&!f._gainNode&&(f._gainNode=f._audioCtx.createGain(),f._gainNode.gain.value=1),f._audioCtx&&f._gainNode){var i=f._audioCtx.createMediaStreamSource(e);f.target=f._audioCtx.createMediaStreamDestination(),i.connect(f._gainNode),f._gainNode.connect(f.target),n.length>0&&f.target.stream.addTrack(n[0]),f.streamObj=f.target.stream}else f.streamObj=e}else f.streamObj=e}f._streamEnded(f.streamObj),f._innerStreamID=t._getInnerStreamID(f.userID,f.userID,0,f,f._isSubStream),w.debug("API init() getUserMedia() success - this.userID: "+f.userID+" this._innerStreamID: "+f._innerStreamID+" constraints: "+(0,o.default)(s)),r()})).catch((function(e){w.warn("API init() getUserMedia fail - "+e.name+" "+e.message+" -- constraints: "+(0,o.default)(s)),n("getUserMedia fail - "+e.name+" "+e.message)})),e.abrupt("return");case 54:if(!this._mediaSourceAudio&&!this._mediaSourceVideo){e.next=58;break}return p={audio:!0,video:!1},navigator.mediaDevices.getUserMedia(p).then((function(e){f._isLocalStream=!0,f._streamEnded(e);var n=e.getAudioTracks(),a=null;n.length>0&&(a=n[0],e.removeTrack(a)),f._audioSource&&e.addTrack(f._audioSource),f._videoSource&&e.addTrack(f._videoSource),f.streamObj=e,f._innerStreamID=t._getInnerStreamID(f.userID,f.userID,0,f,f._isSubStream),w.debug("API init() getUserMedia() for [mediasource] success - this.userID: "+f.userID+" this._innerStreamID: "+f._innerStreamID+" constraints: "+(0,o.default)(p)),r()})).catch((function(e){w.warn("API init() getUserMedia() for [mediasource] fail - getUserMedia fail - "+e.name+" "+e.message+" -- constraints: "+(0,o.default)(p)),n("getUserMedia for [mediasource] fail - "+e.name+" "+e.message)})),e.abrupt("return");case 58:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"_createAudioTrack",value:function(e){var t=this;if(!this._isLocalStream)return n.default.reject("_createAudioTrack - non-localStream");w.debug("_createAudioTrack() - microphoneId: "+e+" this._userId: "+this._userId+" streamId: "+this.getId());var r={video:!1};return e&&""!==e.trim()?(this._spec.microphoneId=e.trim(),r.audio={deviceId:{exact:this._spec.microphoneId},sampleRate:h.audioSpec.sampleRate,channelCount:h.audioSpec.channelCount},this._specialMicId=this._spec.microphoneId):r.audio=!0,navigator.getUserMedia=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,new n.default((function(e,n){navigator.mediaDevices.getUserMedia(r).then((function(r){if(t._isSafari){var n=r.getAudioTracks()[0];e(n)}else{if(!t._audioCtx){var a=window.AudioContext||window.webkitAudioContext;t._audioCtx=new a}if(t._audioCtx&&!t._gainNode&&(t._gainNode=t._audioCtx.createGain(),t._gainNode.gain.value=1),t._audioCtx&&t._gainNode){var i=t._audioCtx.createMediaStreamSource(r);t.target=t._audioCtx.createMediaStreamDestination(),i.connect(t._gainNode),t._gainNode.connect(t.target);var o=t.target.stream.getAudioTracks()[0];e(o)}else{var s=r.getAudioTracks()[0];e(s)}}})).catch((function(e){w.warn("_createAudioTrack() getUserMedia fail - "+e.name+" "+e.message+" -- constraints: "+(0,o.default)(r)),n("getUserMedia fail - "+e.name+" "+e.message)}))}))}},{key:"_createCameraVideoTrack",value:function(e){var t=this;if(!this._isLocalStream)return n.default.reject("non-localStream");w.debug("_createCameraVideoTrack() - cameraId: "+e+" this._userId: "+this._userId+" this._innerStreamID: "+this._innerStreamID);var r={audio:!1,video:this._videoSpec};return e&&""!==e.trim()&&(this._spec.cameraId=e.trim(),r.video.deviceId={exact:this._spec.cameraId},this._specialCameraId=this._spec.cameraId),navigator.getUserMedia=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,new n.default((function(e,n){navigator.mediaDevices.getUserMedia(r).then((function(r){var a=r.getVideoTracks();if(a&&a.length>0){var i=a[0];i?(t._streamEnded(r),e(i)):n("no video track")}else n("no video track")})).catch((function(e){w.warn("_createCameraVideoTrack() getUserMedia fail - "+e.name+" "+e.message+" -- constraints: "+(0,o.default)(r)),n("getUserMedia fail - "+e.name+" "+e.message)}))}))}},{key:"_createScreenVideoTrack",value:function(){var e,t=this,r=!0;return"chrome"===b.name.toLowerCase()&&parseInt(b.version,10)<72&&(r=!1),r?this._startScreenCapture().then((e=(0,i.default)(a.default.mark((function e(r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=r.getVideoTracks())&&i.length>0)){e.next=11;break}if(!(o=i[0])){e.next=8;break}return t._screenStreamEnded(r),e.abrupt("return",n.default.resolve(o));case 8:return e.abrupt("return",n.default.reject("no video track"));case 9:e.next=12;break;case 11:return e.abrupt("return",n.default.reject("no video track"));case 12:case"end":return e.stop()}}),e,t)}))),function(t){return e.apply(this,arguments)})).catch((function(e){return n.default.reject("_createScreenVideoTrack() error - "+e.name+" "+e.message)})):new n.default((function(e,r){if(!window.getScreenId)return r("_createScreenVideoTrack() getScreenId is undefined");window.getScreenId((function(n,s,c){if(w.debug("_createScreenVideoTrack() - sourceId: "+s+" screen_constraints: "+(0,o.default)(c)),"firefox"!==s){if(c={video:{mandatory:{chromeMediaSource:"screen",maxWidth:1920,maxHeight:1080,minAspectRatio:1.77}}},"permission-denied"===n)return r("_createScreenVideoTrack() - Permission is denied");if("not-chrome"===n)return r("_createScreenVideoTrack() - Please use chrome");!n&&s&&(c.video.mandatory.chromeMediaSource="desktop",c.video.mandatory.chromeMediaSourceId=s)}var u;navigator.getUserMedia=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia(c,(u=(0,i.default)(a.default.mark((function n(i){var o,s;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((o=i.getVideoTracks())&&o.length>0)){n.next=11;break}if(!(s=o[0])){n.next=8;break}return t._screenStreamEnded(i),n.abrupt("return",e(s));case 8:return n.abrupt("return",r("no video track"));case 9:n.next=12;break;case 11:return n.abrupt("return",r("no video track"));case 12:case"end":return n.stop()}}),n,t)}))),function(e){return u.apply(this,arguments)}),(function(e){return r("_createScreenVideoTrack() fail - "+e.name+" "+e.message+" -- constraints: "+(0,o.default)(c))}))}),!1)}))}},{key:"_speechEvents",value:function(e){var t=this;if(!this._audioCtx){var r=window.AudioContext||window.webkitAudioContext;this._audioCtx=new r}this._audioCtx&&(this._speach=new k(e,{threshold:-65,audioContext:this._audioCtx}),this._speach.on("volume_change",(function(e,r){e<r?t._volume=0:(t._volume=Math.round(-100*(e-r)/r),t._volume>100&&(t._volume=100)),t.emit("volume-change",{userID:t.userID,volume:t._volume})})),this._speach.on("speaking",(function(){t.emit("speaking",{userID:t.userID})})),this._speach.on("stopped_speaking",(function(){t._volume=0,t.emit("stopped-speaking",{userID:t.userID})})))}},{key:"attachAudioTracks",value:function(e){var t=e.track,r=e.autoPlay;if(!t)return w.warn("API attachAudioTracks() error - parameter track is NULL"),new TypeError("track");if("audio"!==t.kind)return w.warn("API attachAudioTracks() error - parameter track.kind is node audio"),new TypeError("track is not audio kind");if(w.debug("API attachAudioTracks() - autoPlay: "+r+" this._userId: "+this._userId+" streamId: "+this.getId()),null===this._streamObj)throw w.warn("API attachAudioTracks() error - this._streamObj is NULL"),new Error("stream object is null.");var n=this._streamObj.getAudioTracks();if(n&&n.length>0){var a=n[0];this._streamObj.removeTrack(a)}this._streamObj.addTrack(t),this._speechEvents(this._streamObj),this._video&&(this._video.srcObject=this._streamObj)}},{key:"getId",value:function(){return this._isLocalStream?this._innerStreamID:this._customStreamID}},{key:"getAttributes",value:function(){}},{key:"getAudioLevel",value:function(){return this._volume}},{key:"hasVideo",value:function(){return null!==this._streamObj&&this._streamObj.getVideoTracks().length>0}},{key:"hasAudio",value:function(){return null!==this._streamObj&&this._streamObj.getAudioTracks().length>0}},{key:"attachWebcamProducer",value:function(e){this._isLocalStream?this._webcamProducer=e:w.warn("API attachWebcamProducer() error - this is not local stream")}},{key:"detachWebcamProducer",value:function(){this._isLocalStream?this._webcamProducer=null:w.warn("API detachWebcamProducer() error - this is not local stream")}},{key:"attachMicProducer",value:function(e){this._isLocalStream?this._micProducer=e:w.warn("API attachMicProducer() error - this is not local stream")}},{key:"detachMicProducer",value:function(){this._isLocalStream?this._micProducer=null:w.warn("API detachMicProducer() error - this is not local stream")}},{key:"switchDevice",value:function(e,t,r,n){var a=this;if(w.debug("API switchDevice() type: "+e+" deviceId: "+t),"function"!=typeof r)throw w.warn("API switchDevice() error - onSuccess have to be a function."),TypeError("onSuccess have to be a function.");if("function"!=typeof n)throw w.warn("API switchDevice() error - onFailure have to be a function."),TypeError("onFailure have to be a function.");if(!this._isLocalStream)return w.warn("API switchDevice() error - this is not local stream"),void n("non-localStream");if(!t||""==t.trim())return w.warn("API switchDevice() error - deviceId is invalid"),void n("parameter deviceId is invalid");if("audio"!==e&&"video"!==e)return w.warn("API switchDevice() error - type must be [audio|video]"),void n("parameter type is invalid");var i=t.trim();"audio"===e?this._closeMic().then((function(){return a._openMic(i)})).then((function(){w.debug("API switchDevice() succ - type: "+e+" devId: "+i),r()})).catch((function(t){w.warn("API switchDevice() fail - type: "+e+" devId: "+i+" - "+t.toString()),n(t.toString())})):"video"===e?this._closeVideo().then((function(){return a._openVideo(i)})).then((function(){w.debug("API switchDevice() succ - type: "+e+" devId: "+i),r()})).catch((function(t){w.warn("API switchDevice() fail - type: "+e+" devId: "+i+" - "+t.toString()),n(t.toString())})):n("invalid type: "+e)}},{key:"_openVideo",value:function(e){var t=this;return this.isVideoTrackClosed?this._isLocalStream?n.default.resolve().then((0,i.default)(a.default.mark((function r(){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null,0!==t.videoType){r.next=7;break}return r.next=4,t._createCameraVideoTrack(e&&""!==e.trim()?e:t._spec.cameraId);case 4:i=r.sent,r.next=14;break;case 7:if(1!==t.videoType){r.next=13;break}return r.next=10,t._createScreenVideoTrack();case 10:i=r.sent,r.next=14;break;case 13:return r.abrupt("return",n.default.resolve());case 14:if(t.videoTracks=i,t._isVideoTrackClosed=!1,w.debug("_openVideo() localStream - streamId: "+t.getId()),!t._webcamProducer){r.next=20;break}return r.next=20,t._webcamProducer.replaceTrack(i);case 20:return r.abrupt("return",n.default.resolve());case 21:case"end":return r.stop()}}),r,t)})))).catch((function(e){return w.warn("_openVideo() fail - "+e.toString()),n.default.reject(e)})):(w.warn("_openVideo() error - non-localStream"),n.default.reject(new Error("non-localStream"))):(w.debug("_openVideo() - lack the conditions - this.isVideoTrackClosed: "+this.isVideoTrackClosed),n.default.resolve())}},{key:"_closeVideo",value:function(){var e=this;return this._isLocalStream?null===this._streamObj?n.default.reject(new Error("stream._streamObj is null")):n.default.resolve().then((function(){return 0!==e.videoType&&1!==e.videoType||(e._streamObj&&e._streamObj.getVideoTracks().forEach((function(t){w.debug("_closeVideo() track.stop - streamId: "+e.getId()+" kind: "+t.kind+" id: "+t.id),t.stop(),e._streamObj.removeTrack(t)})),e._isVideoTrackClosed=!0,w.debug("_closeVideo() localStream - streamId: "+e.getId()),e._webcamProducer&&e._webcamProducer.stopTrack()),n.default.resolve()})).catch((function(e){return n.default.reject(e)})):(w.warn("_closeVideo() error - non-localStream"),n.default.reject(new Error("non-localStream")))}},{key:"_openMic",value:function(e){var t=this;return this._spec.audio?this.isMicClosed?this._isLocalStream?n.default.resolve().then((0,i.default)(a.default.mark((function r(){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t._createAudioTrack(e&&""!==e.trim()?e:t._spec.microphoneId);case 2:if(i=r.sent,t.audioTracks=i,t._isMicClosed=!1,w.debug("_openMic() localStream - streamId: "+t.getId()),!t._micProducer){r.next=9;break}return r.next=9,t._micProducer.replaceTrack(i);case 9:return r.abrupt("return",n.default.resolve(i));case 10:case"end":return r.stop()}}),r,t)})))).catch((function(e){return n.default.reject(e)})):(w.warn("_openMic() error - non-localStream"),n.default.reject(new Error("non-localStream"))):(w.warn("_openMic() error - lack the conditions - this.isMicClosed: "+this.isMicClosed),n.default.reject(new Error("lack the conditions"))):(w.warn("_openMic() error - not mic stream"),n.default.reject(new Error("not mic stream")))}},{key:"_closeMic",value:function(){var e=this;return this._spec.audio?this._isLocalStream?null===this._streamObj?n.default.reject(new Error("stream._streamObj is null")):n.default.resolve().then((function(){return e._streamObj&&e._streamObj.getAudioTracks().forEach((function(t){w.debug("_closeMic() track.stop - streamId: "+e.getId()+" kind: "+t.kind+" id: "+t.id),t.stop(),e._streamObj.removeTrack(t)})),e._isMicClosed=!0,w.debug("_closeMic() localStream - streamId: "+e.getId()),e._micProducer&&e._micProducer.stopTrack(),n.default.resolve()})).catch((function(e){return n.default.reject(e)})):(w.warn("_closeMic() error - non-localStream"),n.default.reject(new Error("non-localStream"))):(w.warn("_closeMic() error - not mic stream"),n.default.reject(new Error("not mic stream")))}},{key:"enableVideo",value:(_=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isLocalStream){e.next=3;break}return w.warn("API enableVideo() error - non-localStream"),e.abrupt("return");case 3:if(w.debug("API enableVideo() - this._userId: "+this._userId+" streamId: "+this.getId()),this._published&&this.emit("resume-video",{stream:this}),!this._video){e.next=14;break}return e.prev=6,e.next=9,this._video.play();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),w.warn("API enableVideo() this._video.play() fail - "+e.t0.toString()+" - this._userId: "+this._userId+" streamId: "+this.getId());case 14:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(){return _.apply(this,arguments)})},{key:"disableVideo",value:function(){this._isLocalStream?(this._video&&this._video.pause(),this._published&&(w.debug("API disableVideo() - this._userId: "+this._userId+" streamId: "+this.getId()),this.emit("pause-video",{stream:this}))):w.warn("API disableVideo() error - non-localStream")}},{key:"enableAudio",value:function(){this._isLocalStream?(w.debug("API enableAudio() - this._userId: "+this._userId+" streamId: "+this.getId()),this._published&&this.emit("resume-audio",{stream:this})):w.warn("API enableAudio() error - non-localStream")}},{key:"disableAudio",value:function(){this._isLocalStream?(w.debug("API disableAudio() - this._userId: "+this._userId+" streamId: "+this.getId()+" this._published: "+this._published),this._published&&this.emit("pause-audio",{stream:this})):w.warn("API disableAudio() error - non-localStream")}},{key:"enableVideoAndAudio",value:(m=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isLocalStream){e.next=3;break}return w.warn("API enableVideoAndAudio() error - non-localStream"),e.abrupt("return");case 3:if(w.debug("API enableVideoAndAudio() - this._userId: "+this._userId+" streamId: "+this.getId()),!this._video){e.next=13;break}return e.prev=5,e.next=8,this._video.play();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),w.warn("API enableVideoAndAudio() this._video.play() fail - "+e.t0.toString()+" - this._userId: "+this._userId+" streamId: "+this.getId());case 13:this._published&&(this.emit("resume-audio",{stream:this}),this.emit("resume-video",{stream:this}));case 14:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(){return m.apply(this,arguments)})},{key:"disableVideoAndAudio",value:function(){this._isLocalStream?(w.debug("API disableVideoAndAudio() - this._userId: "+this._userId+" streamId: "+this.getId()),this._video&&this._video.pause(),this._published&&(this.emit("pause-audio",{stream:this}),this.emit("pause-video",{stream:this}))):w.warn("API disableVideoAndAudio() error - non-localStream")}},{key:"setAudioProfile",value:function(e){/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&"isac32"===e&&(e="music_standard");var t=h.audioProfileSpec.get(e);this._audioProfile=t||null,w.debug("API setAudioProfile() profile: "+e+" "+(0,o.default)(this._audioProfile))}},{key:"getAudioProfile",value:function(){return this._audioProfile}},{key:"setVideoProfile",value:function(e,t,r){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("function"!=typeof t)throw w.warn("API setVideoProfile() error - onSuccess have to be a function."),TypeError("onSuccess have to be a function.");if("function"!=typeof r)throw w.warn("API setVideoProfile() error - onFailure have to be a function."),TypeError("onFailure have to be a function.");if(!this._isLocalStream)return w.warn("API setVideoProfile() error - non-localStream"),void r("only local stream can set video profile.");if(w.debug("API setVideoProfile() - this._userId: "+this._userId+" videoProfile: "+e+" streamId: "+this.getId()),null===this._streamObj)return w.warn("API setVideoProfile() error - stream is null, please init it at first."),void r("stream is null, please init it at first.");var c=this._streamObj.getVideoTracks();if(c.length<=0)return w.warn("API setVideoProfile() error - no video track."),void r("no video track.");if(s){if(!s.minBandwidth||!s.maxBandwidth||!s.startBitrate)throw w.wanr("API setVideoProfile() error - codecOptions parameters invalid."),TypeError(s);if("number"!=typeof s.minBandwidth||"number"!=typeof s.maxBandwidth||"number"!=typeof s.startBitrate)throw w.warn("API setVideoProfile() error - codecOptions parameters invalid."),TypeError(s);if(s.minBandwidth>=s.maxBandwidth)throw w.warn("API setVideoProfile() error - codecOptions parameters invalid."),TypeError("minBandwidth > = maxBandwidth");this._spec.codecOptions=s}var u=c[0],d=void 0,l=this._getResolutionByVideoProfile(e),p=l.width,f=l.height;d={width:p,height:f},u.applyConstraints(d).then((0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("API setVideoProfile() track.applyConstraints ok -- constraints: "+(0,o.default)(d)),n._videoSetting=u.getSettings(),n._setKeyResolution(u),!n._published){e.next=9;break}if(!n._webcamProducer){e.next=7;break}return e.next=7,n._webcamProducer.updateTrack(u,d,{idealBandwidth:n.idealBandwidth,maxBandwidth:n.maxBandwidth,minBandwidth:n.minBandwidth});case 7:e.next=11;break;case 9:n._updateConstraints=d,n._needUpdateVideoStreamBitrate=!0;case 11:t("applyConstraint success");case 12:case"end":return e.stop()}}),e,n)})))).catch((function(e){w.warn("API setVideoProfile() error - track.applyConstraints failed - "+e.toString()),r(e)}))}},{key:"getVideoProfile",value:function(){if(!this._streamObj)return w.warn("API getVideoProfile() error - this._streamObj is NULL"),{};var e=this._streamObj.getVideoTracks();if(e.length<=0)return w.warn("API getVideoProfile() error - getVideoProfile: no video track"),{};var t=e[0].getSettings(),r={width:t.width,height:t.height};return w.debug("API getVideoProfile() - this._userId: "+this._userId+" streamId: "+this.getId()+" resoultion: "+(0,o.default)(r)),r}},{key:"setScreenProfile",value:function(){}},{key:"setAudioOutput",value:function(e,t,r){if(w.debug("API setAudioOutput() deviceId: "+e),"function"!=typeof t)throw w.warn("API setAudioOutput() error - onSuccess have to be a function."),TypeError("onSuccess have to be a function.");if("function"!=typeof r)throw w.warn("API setAudioOutput() error - onFailure have to be a function."),TypeError("onFailure have to be a function.");if(e&&""!=e.trim()){var n=e.trim();if("audio"===this.type){if(!this._audio)return w.debug("API setAudioOutput() fail - no audio tag"),void r("no audio tag");this._audio.setSinkId(n).then((function(){w.debug("Audio output device attached: "+n),t("Audio output device attached: "+n)})).catch((function(e){w.debug("Audio output device attached fail - "+e.toString()),r("Audio output device attached faile - "+e.toString())}))}else{if(!this._video)return w.debug("API setAudioOutput() fail - no video tag"),void r("no video tag");this._video.setSinkId(n).then((function(){w.debug("Audio output device attached: "+n),t("Audio output device attached: "+n)})).catch((function(e){w.debug("Audio output device attached faile - "+e.toString()),r("Audio output device attached faile - "+e.toString())}))}}else r("parameter deviceId is invalid")}},{key:"play",value:function(e,t,r){var n=this;if(w.debug("API play() - this._userId: "+this._userId+" streamId: "+this.getId()+" this.type: "+this.type),!this._streamObj)throw w.warn("API play() error - stream is NULL."),Error("stream is null, please init it at first.");if("audio"===this.type){if(!this._audio){if(this._audio=new Audio,!this._isLocalStream){if(!this._audioCtx){var o=window.AudioContext||window.webkitAudioContext;this._audioCtx=new o}this._audioCtx&&!this._gainNode&&(this._gainNode=this._audioCtx.createGain(),this._gainNode.gain.value=1),this._audio.onloadedmetadata=(0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("API play() - this._audio.onloadedmetadata. will connect to GainNode - this._userId: "+n._userId+" streamId: "+n.getId()),!n._audioCtx||!n._gainNode){e.next=14;break}return t=n._audioCtx.createMediaStreamSource(n._streamObj),e.prev=3,e.next=6,n._audio.play();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),w.warn("API play() this._audio.play() fail - "+e.t0.toString()+" - this._userId: "+n._userId+" streamId: "+n.getId()+" this.type: "+n.type);case 11:n._audio.muted=!0,t.connect(n._gainNode),n._gainNode.connect(n._audioCtx.destination);case 14:case"end":return e.stop()}}),e,n,[[3,8]])})))}this._audio.srcObject=this._streamObj}}else{if(this._video=document.getElementById(e),!this._video)throw w.warn("API play() error - Not found video -- id: "+e+"."),Error("video id can not find "+e);this._streamObj.active||w.debug("API play() - stream active is false"),this._video.muted=Boolean(this._isLocalStream)||Boolean(this._audio),Boolean(this._isLocalStream)&&r&&(this._video.muted=!1),this._video.autoplay=!0,this._video.controls=!!t,this._video.playsinline=!0,this._video.srcObject=this._streamObj}}},{key:"stopPlay",value:function(e){if("audio"===this.type){if(!this._audio)return;this._audio.muted=!0,this._audio.pause()}else{if(this._video=document.getElementById(e),!this._video)throw w.warn("API stopPlay() error - Not found video -- id: "+e+"."),Error("video id can not find "+e);this._video.muted=!0,this._video.pause()}}},{key:"close",value:function(){w.debug("API close() - this._userId: "+this._userId+" streamId: "+this.getId()),this._closed||(this._streamObj?(this._webcamProducer&&this._webcamProducer.close(),this._micProducer&&this._micProducer.pause(),this._streamObj.getTracks().forEach((function(e){return e.stop()})),this._streamObj=null,this.removeAllListeners(),this._closed=!0,this._video&&(this._video.srcObject=null),this._gainNode=null):w.warn("API close() error - stream is null, please init it at first."))}},{key:"_startScreenCapture",value:function(){var e={video:{aspectRatio:h.screenSpec.s_1080p.maxAspectRatio,frameRate:h.screenSpec.s_frameRate,height:h.screenSpec.s_1080p.maxHeight,resizeMode:"crop-and-scale",width:h.screenSpec.s_1080p.maxWidth,cursor:"always"}};return navigator.getDisplayMedia?navigator.getDisplayMedia(e):navigator.mediaDevices.getDisplayMedia?navigator.mediaDevices.getDisplayMedia(e):navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:{mediaSource:"screen"}}):(navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.getUserMedia,new n.default((function(e,t){navigator.getUserMedia?navigator.getUserMedia({video:{mandatory:{chromeMediaSource:"screen"}}},(function(t){e(t)}),(function(e){t("_startScreenCapture fail - "+e.name+" "+e.message)})):(w.warn("_startScreenCapture() fail - unsupported navigator.getUserMedia"),t("unsupported navigator.getUserMedia"))})))}},{key:"_streamEnded",value:(f=(0,i.default)(a.default.mark((function e(t){var r,n,i=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if((r=t.getVideoTracks())&&!(r.length<=0)){e.next=5;break}return e.abrupt("return");case 5:if(n=r[0]){e.next=8;break}return e.abrupt("return");case 8:n.onended=function(e){w.debug("_streamEnded() track.onended - streamId: "+i.getId()+" "+e.toString()+" - Emit [stream-close]"),i._isVideoTrackClosed=!0,i._ended=!0,setTimeout((function(){i.emit("stream-close",{streamId:i.streamID,stream:i})}))};case 9:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"_screenStreamEnded",value:(p=(0,i.default)(a.default.mark((function e(t){var r,n,i=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if((r=t.getVideoTracks())&&!(r.length<=0)){e.next=5;break}return e.abrupt("return");case 5:if(n=r[0]){e.next=8;break}return e.abrupt("return");case 8:n.onended=function(e){w.debug("_screenStreamEnded() track.onended - streamId: "+i.getId()+" "+e.toString()+" - Emit [screen-close]"),i._isVideoTrackClosed=!0,i._ended=!0,setTimeout((function(){i.emit("screen-close",{streamId:i.streamID,stream:i})}))};case 9:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"capture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).toISOString().replace(/[-:TZ.]/g,"")+this._customStreamID,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Function;if(w.debug("API capture() - this._userId: "+this._userId+" streamId: "+this.getId()),!this._streamObj)throw w.warn("API capture() error - this._streamObj is NULL."),Error("stream is null, please init it at first.");if(!this._video)throw w.warn("API capture() error - this._video is NULL."),Error("this stream has not be played: "+this._streamObj);if(!/[\\\\\\/\\*\\:\\<\\>\\|\\?\\"]/g.test(t)&&t.length>255)throw w.warn("API capture() error - illegal filename."),Error("illegal filename ");var n=document.createElement("canvas");n.width=this._video.videoWidth,n.height=this._video.videoHeight;var a=n.getContext("2d");a.drawImage(this._video,0,0,n.width,n.height),"file"===e?n.toBlob((function(e){r(new File([e],t+".jpeg",{type:"image/jpeg"}))})):r(n.toDataURL("image/jpeg"))}},{key:"setAudioVolume",value:function(e){"number"==typeof e?this._gainNode?(e<0?e=0:e>1.5&&(e=1.5),this._gainNode.gain.value=e,w.debug("API setAudioVolume() success - volume: "+e)):w.warn("API setAudioVolume() error - no gainNode existed."):w.warn("API setAudioVolume() TypeError - volume: "+e)}},{key:"setInputVolume",value:function(e){if("number"!=typeof e)throw w.warn("API setInputVolume() TypeError - volume: "+e),TypeError("Wrong arguments: volume must be number.");if(!this._gainNode)throw w.warn("API setInputVolume() error - no gainNode existed."),Error("setInputVolume() error - no gainNode existed.");e<0?e=0:e>1.5&&(e=1.5),this._gainNode.gain.value=e,w.debug("API setInputVolume() success - volume: "+e)}},{key:"addTrack",value:function(e){}},{key:"removeTrack",value:function(e){}},{key:"replaceTrack",value:(r=(0,i.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("API replaceTrack() - this._userId: "+this._userId+" streamId: "+this.getId()),t){e.next=4;break}throw w.warn("API replaceTrack() error - parameter [trank] is INVALID."),TypeError("track");case 4:r=null,n=null,e.t0=t.kind,e.next="video"===e.t0?9:"audio"===e.t0?14:15;break;case 9:return(r=this._streamObj.getVideoTracks())&&r.length>0&&(n=r[0],this._streamObj.removeTrack(n),this.videoTracks=t,this._videoSetting=t.getSettings(),this._setKeyResolution(t)),e.next=13,this._webcamProducer.replaceTrack(t);case 13:return e.abrupt("break",16);case 14:throw TypeError("Cannot support audio track replace now.");case 15:throw TypeError("track have no audio or video.");case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getVideoTrackSettings",value:function(){return this._videoSetting}},{key:"getAudioTrackSetting",value:function(){return this._audioSetting}},{key:"_setKeyResolution",value:function(e){if(!e)throw new TypeError("track");if("video"===e.kind){var t=e.getSettings();t.height<=80?this._keyResolution="80p":t.height>80&&t.height<=120?this._keyResolution="120p":t.height>120&&t.height<=160?this._keyResolution="160p":t.height>160&&t.height<=200?this._keyResolution="200p":t.height>200&&t.height<=240?this._keyResolution="240p":t.height>240&&t.height<=320?this._keyResolution="320p":t.height>320&&t.height<=360?this._keyResolution="360p":t.height>360&&t.height<=480?this._keyResolution="480p":t.height>480&&t.height<=540?this._keyResolution="540p":t.height>480&&t.height<=720?this._keyResolution="720p":t.height>720&&t.height<=1080||t.height>1080?this._keyResolution="1080p":this._keyResolution="480p"}}},{key:"_getResolutionByVideoProfile",value:function(e){var t={width:640,height:480};if(!e&&"string"!=typeof e)return t;var r=e.toLowerCase(),n=h.videoResolution.get(r);return n&&(t.width=n.width,t.height=n.height),t}},{key:"streamObj",set:function(e){if(this._streamObj=e,e){if(this._isLocalStream){var t=this.videoTracks;if(t&&t.length>0){var r=t[0];this._videoSetting=r.getSettings(),this._setKeyResolution(r)}if((t=this.audioTracks)&&t.length>0){var n=t[0];this._audioSetting=n.getSettings()}}e.getAudioTracks().length>0&&this._speechEvents(e)}},get:function(){return this._streamObj}},{key:"isLocalStream",get:function(){return this._isLocalStream}},{key:"streamType",get:function(){return this._streamType}},{key:"specialCameraId",get:function(){return this._specialCameraId}},{key:"specialMicId",get:function(){return this._specialMicId}},{key:"uuid",get:function(){return this._uuid}},{key:"streamID",set:function(e){this._customStreamID=e},get:function(){return this._isLocalStream?this._innerStreamID:this._customStreamID}},{key:"streamId",get:function(){return this._isLocalStream?this._innerStreamID:this._customStreamID}},{key:"userID",set:function(e){this._userId=e},get:function(){return this._userId}},{key:"userId",get:function(){return this._userId}},{key:"innerStreamID",get:function(){return""===this._innerStreamID&&(this._innerStreamID=t._getInnerStreamID(this._userId,this.streamID,0,this,this._isSubStream)),this._innerStreamID}},{key:"trackEnded",get:function(){return this._ended}},{key:"audioTracks",set:function(e){w.debug("API audioTracks() - this._userId: "+this._userId+" streamId: "+this.getId()),this.attachAudioTracks({track:e,autoPlay:!1})},get:function(){return this._streamObj?this._streamObj.getAudioTracks():null}},{key:"videoTracks",set:function(e){if(w.debug("API videoTracks() - this._userId: "+this._userId+" streamId: "+this.getId()),!e)return w.warn("API videoTracks() error - parameter track is NULL"),new TypeError("track");if("video"!==e.kind)return w.warn("API videoTracks() error - parameter track.kind is node video"),new TypeError("track is not video kind");if(null===this._streamObj)throw w.warn("API videoTracks() error - this._streamObj is NULL"),new Error("stream object is null.");var t=this._streamObj.getVideoTracks();if(t&&t.length>0){var r=t[0];r.stop(),this._streamObj.removeTrack(r)}this._streamObj.addTrack(e),this._video&&(this._video.srcObject=this._streamObj)},get:function(){return this._streamObj?this._streamObj.getVideoTracks():null}},{key:"audioTrackStatus",get:function(){if(!this._streamObj)return{};var e=this._streamObj.getAudioTracks();return e&&e.length>0?{id:e[0].id,label:e[0].label,enabled:e[0].enabled,muted:e[0].muted,readyState:e[0].readyState}:{}}},{key:"videoTrackStatus",get:function(){if(!this._streamObj)return{};var e=this._streamObj.getVideoTracks();return e&&e.length>0?{id:e[0].id,label:e[0].label,enabled:e[0].enabled,muted:e[0].muted,readyState:e[0].readyState}:{}}},{key:"tracks",get:function(){return this._streamObj.getTracks()}},{key:"trackNumber",get:function(){return this._streamObj?this._streamObj.getTracks().length:0}},{key:"subscribed",set:function(e){this._subscribed=e},get:function(){return this._subscribed}},{key:"type",get:function(){return 1===this.trackNumber&&this.audioTracks.length>0?"audio":"video"}},{key:"published",get:function(){return this._published},set:function(e){return this._published=e}},{key:"publishState",set:function(e){this._publishState=e}},{key:"videoType",set:function(e){this._videoType=+e},get:function(){return this._videoType}},{key:"isMicClosed",get:function(){return this._isMicClosed}},{key:"isVideoTrackClosed",get:function(){return this._isVideoTrackClosed}},{key:"idealBandwidth",get:function(){if(this._spec.codecOptions&&this._spec.codecOptions.startBitrate)return this._spec.codecOptions.startBitrate;var e=h.videoResolution.get(this._keyResolution),t=400;return e&&e.bps&&(t=e.bps.ideal/1e3),t>0?t:400}},{key:"minBandwidth",get:function(){if(this._spec.codecOptions&&this._spec.codecOptions.minBitrate)return this._spec.codecOptions.minBitrate;var e=h.videoResolution.get(this._keyResolution),t=300;return e&&e.bps&&(t=e.bps.min/1e3),t>0?t:300}},{key:"maxBandwidth",get:function(){if(this._spec.codecOptions&&this._spec.codecOptions.maxBitrate)return this._spec.codecOptions.maxBitrate;var e=h.videoResolution.get(this._keyResolution),t=500;return e&&e.bps&&(t=e.bps.max/1e3),t>0?t:500}}],[{key:"clearStreamIdMap",value:function(){P&&P.clear()}},{key:"_getInnerStreamID",value:function(e,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(""===e)return"";var o=P.get(""+r);return void 0===o?(P.set(""+r,a),r):i?0===n?t._getInnerStreamID(e,e+":"+e+"_low",n+1,a):t._getInnerStreamID(e,e+":"+e+"_"+n+"_low",n+1,a):t._getInnerStreamID(e,e+":"+e+"_"+(n+1),n+1,a)}}]),t}(m.EventEmitter);t.default=S}).call(this,r(37))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internals=t.Room=void 0;var n=u(r(6));t.setDeviceHandler=function(e,t){i.default.setHandler(e,t)},t.isDeviceSupported=function(){return i.default.isSupported()},t.getDeviceInfo=function(){return{flag:i.default.getFlag(),name:i.default.getName(),version:i.default.getVersion(),bowser:i.default.getBowser()}},t.checkCapabilitiesForRoom=function(e){return i.default.isSupported()?i.default.Handler.getNativeRtpCapabilities().then((function(t){var r=a.getExtendedRtpCapabilities(t,e);return{audio:a.canSend("audio",r),video:a.canSend("video",r)}})):n.default.reject(new Error("current browser/device not supported"))};var a=c(r(15)),i=u(r(81)),o=u(r(210)),s=c(r(216));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.Room=o.default,t.internals=s},function(e,t,r){"use strict";var n,a=r(41),i=(n=a)&&n.__esModule?n:{default:n};var o=e.exports={v:[{name:"version",reg:/^(\\d*)$/}],o:[{name:"origin",reg:/^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\\d*) (\\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\\d) (\\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\\d*) ([\\w\\-\\.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\\d+)(?:\\/(\\w+))? (\\S*)(?: (\\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\\S*) (\\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\\s?(\\w*) (\\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\\\d+|\\\\*)[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\\d+(?:$|\\.\\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\\d+)$/,format:"max-message-size:%s"},{push:"invalid",names:["value"]}]};(0,i.default)(o).forEach((function(e){o[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},function(e,t){!function(t){function r(e){var t=(e=e||{}).min,r=e.max,n=e.integer||!1;if(null==t&&null==r?(t=0,r=1):null==t?t=r-1:null==r&&(r=t+1),r<t)throw new Error("invalid options, max must be >= min");return{min:t,max:r,integer:n}}function n(e){if((e=r(e)).max===e.min)return e.min;var t=Math.random()*(e.max-e.min+Number(!!e.integer))+e.min;return e.integer?Math.floor(t):t}e.exports=n,e.exports.generator=function(e){return e=r(e),function(t,r,a){return e.min=null!=t?t:e.min,e.max=null!=r?r:e.max,e.integer=null!=a?a:e.integer,n(e)}},e.exports.defaults=r}()},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(192)),a=i(r(17));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=(0,a.default)(e);!(n=(s=c.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(26)),a=c(r(0)),i=c(r(1)),o=c(r(30)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(116));function c(e){return e&&e.__esModule?e:{default:e}}var u=new o.default("<protooMessage>"),d=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"parse",value:function(e){var t=void 0,r={};try{t=JSON.parse(e)}catch(e){return void u.error("parse() | invalid JSON: %s",e)}if("object"===(void 0===t?"undefined":(0,n.default)(t))&&!Array.isArray(t)){if(t.request){if(r.request=!0,"string"!=typeof t.method)return void u.error("parse() | missing/invalid method field");if("number"!=typeof t.id)return void u.error("parse() | missing/invalid id field");r.id=t.id,r.method=t.method,r.data=t.data||{}}else if(t.response){if(r.response=!0,"number"!=typeof t.id)return void u.error("parse() | missing/invalid id field");r.id=t.id,t.ok?(r.ok=!0,r.data=t.data||{}):(r.errorCode=t.errorCode,r.errorReason=t.errorReason)}else{if(!t.notification)return void u.error("parse() | missing request/response field");if(r.notification=!0,"string"!=typeof t.method)return void u.error("parse() | missing/invalid method field");r.method=t.method,r.data=t.data||{}}return r}u.error("parse() | not an object")}},{key:"requestFactory",value:function(e,t){return{request:!0,id:s.randomNumberGenerator(),method:e,data:t||{}}}},{key:"successResponseFactory",value:function(e,t){return{response:!0,id:e.id,ok:!0,data:t||{}}}},{key:"errorResponseFactory",value:function(e,t,r){return{response:!0,id:e.id,errorCode:t,errorReason:r}}},{key:"notificationFactory",value:function(e,t){return{notification:!0,method:e,data:t||{}}}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(113);t.randomNumberGenerator=n.generator({min:1e6,max:9999999,integer:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(6)),a=f(r(2)),i=f(r(24)),o=f(r(0)),s=f(r(1)),c=f(r(3)),u=f(r(4)),d=r(29),l=f(r(30)),p=f(r(115));function f(e){return e&&e.__esModule?e:{default:e}}var m=r(221).w3cwebsocket,h=r(109),v=new l.default("<protooWebSocketTransport>"),_={retries:10,factor:2,minTimeout:1e3,maxTimeout:4e3},g=function(e){function t(e,r){(0,o.default)(this,t),v.debug("constructor() - url: "+e+" options: "+(0,i.default)(r));var n=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this));n.setMaxListeners(1/0);var s=Date.parse(new Date),u=Math.round(1e9*Math.random());return n._origUrl=e+"&sid="+s+"-"+u,n._url=n._origUrl,n._options=r||{},n._ws=null,n._xNeedReInit=!1,n._closed=!1,n._connected=!1,n._setWebSocket(),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"send",value:function(e){if(this._closed)return n.default.reject(new Error("transport closed"));try{return this._ws.send((0,i.default)(e)),n.default.resolve()}catch(t){return v.warn("send() messge: "+(0,i.default)(e)+" error - "+t.toString()),n.default.reject(t)}}},{key:"close",value:function(){if(v.debug("close()"),!this._closed){this._xNeedReInit=!1,this._closed=!0,this.emit("close",{code:3e3,reason:"active close"});try{this._ws.onopen=null,this._ws.onclose=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.close()}catch(e){v.error("close() error - closing the WebSocket: "+e.toString())}}}},{key:"_setWebSocket",value:function(){var e=this,t=this._options,r=h.operation(this._options.retry||_);this._connected=!1,r.attempt((function(n){e._closed?r.stop():(null!=e._ws&&(e._ws.close(),e._ws=null),v.debug("_setWebSocket() - currentAttempt: "+n),e._ws=new m(e._url,"protoo",t.origin,t.headers,t.requestOptions,t.clientConfig),e.emit("connecting",n),e._ws.onopen=function(t){if(!e._closed){e._connected=!0;if(-1!==e._url.indexOf("retry=true",e._url.length-"retry=true".length))v.debug("WebSocket event - [conn-reconn] - this._url: "+e._url),e.emit("conn-reconn");else{var r=e._xNeedReInit?"reinit":"open";v.debug("WebSocket event - ["+r+"] - this._url: "+e._url),e._xNeedReInit=!1,e.emit(r)}}},e._ws.onclose=function(t){if(!e._closed)if(e.emit("conn-interrupt",t),v.warn("WebSocket event - [close] wasClean: "+t.wasClean+" code: "+t.code+" reason: "+t.reason),4e3!==t.code){if(e._xNeedReInit=3003===t.code,e._connected||e._xNeedReInit){if(r.stop(),e._closed)return;return e._url=e._xNeedReInit?e._origUrl+"&timestamp="+ +new Date:e._origUrl+"&timestamp="+ +new Date+"&retry=true",v.debug("WebSocket event - [close] event.code !== 4000 - retry websocket transport: "+e._url),void e._setWebSocket()}if(e._closed)return;if(r.retry(!0))return;v.debug("WebSocket event - [close] event.code === 4000 - Emit [close]"),e.emit("close",t)}else e._xNeedReInit=!1,e._url=e._origUrl+"&timestamp="+ +new Date,e._closed=!0,v.debug("WebSocket event - [close] event.code === 4000 - Emit [close]"),e.emit("close",t)},e._ws.onerror=function(t){e._closed||v.error("WebSocket event [error] - "+t.toString()+" - nothing todo.")},e._ws.onmessage=function(t){if(!e._closed){var r=p.default.parse(t.data);r&&(0!==e.listenerCount("message")?e.emit("message",r):v.warn("no listeners for WebSocket event [message] - ignoring received message"))}})}))}},{key:"connected",get:function(){return this._connected}},{key:"closed",get:function(){return this._closed}}]),t}(d.EventEmitter);t.default=g},function(e){e.exports=JSON.parse(\'{"name":"tttwebsdk","version":"3.4.30","description":"webrtc of 3ttech.cn","buildDate":"Apr_10_2020-1","main":"lib/TTTRtcWeb.js","scripts":{"test":"jest","start":"webpack-dev-server --open","build:app":"webpack","build:demo":"webpack --config webpack.config/webpack.config.demo.js","build:dev":"webpack --config webpack.config/webpack.config.dev.js --mode development","build:prod":"webpack --config webpack.config/webpack.config.js","build:proddemo":"webpack --config webpack.config/webpack.config.proddemo.js","build:test":"webpack --config tests/webpack.config.js","build:demo-multistream":"webpack --config webpack.config/webpack.config.demo_multistream.js","lint":"eslint -c .eslintrc.js lib/protoo lib/client.js lib/index.js lib/stats.js lib/config.js lib/utils.js lib/stream.js lib/TTTRtcWeb.js","3.1:test":"webpack --config ./tests/3.1.test.pages/webpack.config.js"},"author":"3ttech.cn","license":"ISC","dependencies":{"babel-runtime":"^6.26.0","bowser":"^1.9.3","debug":"^4.1.1","hark":"^1.2.3","random-number":"^0.0.9","retry":"^0.12.0","websocket":"^1.0.28"},"devDependencies":{"babel-core":"^6.26.3","babel-loader":"^7.1.1","babel-plugin-transform-runtime":"^6.23.0","babel-polyfill":"^6.26.0","babel-preset-env":"^1.7.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-0":"^6.24.1","copy-webpack-plugin":"^5.0.4","eslint":"^5.16.0","eslint-plugin-react":"^7.13.0","html-webpack-plugin":"^3.2.0","http-server":"^0.11.1","jest":"^24.9.0","jest-websocket-mock":"^1.5.0","mock-socket":"^9.0.0","sweetalert2":"^8.11.4","webpack":"^4.41.0","webpack-cli":"^3.2.3","webpack-dev-server":"^3.1.14","webpack-jquery-ui":"^2.0.1"},"files":["lib/","screen/","docs/","README.md","CHANGELOG.md"]}\')},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(24)),a=h(r(2)),i=h(r(0)),o=h(r(1)),s=h(r(3)),c=h(r(4)),u=r(29),d=h(r(149)),l=h(r(110)),p=h(r(30)),f=h(r(108)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(111));function h(e){return e&&e.__esModule?e:{default:e}}var v=r(80),_=r(118),g=new p.default("<TTTRtcWeb>");e.g_client=null;var y=function(t){function r(){(0,i.default)(this,r);var t=(0,s.default)(this,(r.__proto__||(0,a.default)(r)).call(this));g.debug("constructor() - browser: "+v.name+"-"+v.version+" os: "+v.osname+"-"+v.osversion+" bowser.mobile: "+!!v.mobile+" "),l.default.clearStreamIdMap();try{navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){r.listDevices((function(e){g.debug("TTTRtcWeb.listDevices - devices: "+(0,n.default)(e))}),(function(e){var t=e.name+e.message+"\\n";g.warn("TTTRtcWeb.listDevices error - "+t)})),g.debug("constructor succ.")})).catch((function(e){g.warn("constructor fail - "+e.toString())}))}catch(e){g.warn("constructor() fail - "+e.toString())}return e.g_tttRtcWeb=t,t._client=null,t}return(0,c.default)(r,t),(0,o.default)(r,[{key:"checkSystemRequirements",value:function(){var e=m.isDeviceSupported();return!!RTCPeerConnection&&!!navigator.mediaDevices.getUserMedia&&!!e}},{key:"getDevices",value:function(e,t){"function"==typeof e?"function"==typeof t?navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((function(t){e(t)})).catch((function(e){t(e)})):g.error("enumerateDevices() not supported."):g.error("API getDevices() error - parameter: onFailure invalid"):g.error("API getDevices() error - parameter: onSuccess invalid")}},{key:"createStream",value:function(e){if(!r.isSystemSupported())return g.warn("createStream() - isSystemSupported not supported."),null;if(!this._client||this._client.isLocalStreamAllowed){g.debug("createStream() - spec: "+(0,n.default)(e));var t=new l.default(e);return t||null}g.warn("createStream() - Client.isLocalStreamAllowed is false")}},{key:"createClient",value:function(t){return r.isSystemSupported()?(e.g_client&&(e.g_client.close(),e.g_client=null),g.debug("createClient() - config: "+(0,n.default)(t)),this._client=new d.default(t),e.g_client=this._client,this._client):(g.error("createClient() - isSystemSupported not supported."),null)}},{key:"getStats",value:function(){return null==this._client?{}:this._client.getNetState()}},{key:"version",get:function(){return _.version+"-"+_.buildDate}}],[{key:"isSystemSupported",value:function(){var e=m.isDeviceSupported();return!!RTCPeerConnection&&!!navigator.mediaDevices.getUserMedia&&!!e}},{key:"listDevices",value:function(e,t){"function"==typeof e?"function"==typeof t?navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((function(t){e(t)})).catch((function(e){t(e)})):g.error("enumerateDevices() not supported."):g.error("API getDevices() error - parameter: onFailure invalid"):g.error("API getDevices() error - parameter: onSuccess invalid")}},{key:"setLogLevel",value:function(e){p.default.logLevel=e}},{key:"setLogSubmit",value:function(e){p.default.logSubmit=Boolean(e)}},{key:"setPrivate",value:function(e){p.default.privateCloud=e,f.default.privateCloud=e}},{key:"getVersion",value:function(){return _.version+"-"+_.buildDate}},{key:"setServerUrl",value:function(e){e&&""!==e.trim()&&(g.debug("setServerUrl() - rootUrl: "+e),f.default.MediaServerAddress=e.trim())}},{key:"setIpLocationAddress",value:function(e){e&&""!==e.trim()&&(g.debug("setIpLocationAddress() - iplocation: "+e),f.default.IplocationAddress=e)}},{key:"setIpLocationPort",value:function(e){g.debug("setIpLocationPort() - port: "+e),f.default.IplocationPort=e}},{key:"setTurnConf",value:function(e){d.default.TurnConf=e}}]),r}(u.EventEmitter);t.default=y}).call(this,r(37))},function(e,t,r){var n=r(7),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,r){r(122),e.exports=r(7).Object.getPrototypeOf},function(e,t,r){var n=r(31),a=r(83);r(65)("getPrototypeOf",(function(){return function(e){return a(n(e))}}))},function(e,t,r){e.exports={default:r(124),__esModule:!0}},function(e,t,r){r(125);var n=r(7).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(11);n(n.S+n.F*!r(22),"Object",{defineProperty:r(21).f})},function(e,t,r){e.exports={default:r(127),__esModule:!0}},function(e,t,r){r(34),r(40),e.exports=r(72).f("iterator")},function(e,t,r){var n=r(68),a=r(62);e.exports=function(e){return function(t,r){var i,o,s=String(a(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(54),a=r(46),i=r(49),o={};r(28)(o,r(14)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(21),a=r(25),i=r(47);e.exports=r(22)?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),s=o.length,c=0;s>c;)n.f(e,r=o[c++],t[r]);return e}},function(e,t,r){var n=r(39),a=r(55),i=r(132);e.exports=function(e){return function(t,r,o){var s,c=n(t),u=a(c.length),d=i(o,u);if(e&&r!=r){for(;u>d;)if((s=c[d++])!=s)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}}},function(e,t,r){var n=r(68),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){"use strict";var n=r(134),a=r(88),i=r(38),o=r(39);e.exports=r(69)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t,r){e.exports={default:r(136),__esModule:!0}},function(e,t,r){r(137),r(58),r(140),r(141),e.exports=r(7).Symbol},function(e,t,r){"use strict";var n=r(13),a=r(32),i=r(22),o=r(11),s=r(85),c=r(56).KEY,u=r(33),d=r(64),l=r(49),p=r(53),f=r(14),m=r(72),h=r(73),v=r(138),_=r(89),g=r(25),y=r(18),b=r(31),k=r(39),w=r(67),P=r(46),S=r(54),I=r(139),T=r(91),C=r(74),R=r(21),x=r(47),A=T.f,E=R.f,D=I.f,O=n.Symbol,L=n.JSON,M=L&&L.stringify,j=f("_hidden"),B=f("toPrimitive"),V={}.propertyIsEnumerable,N=d("symbol-registry"),F=d("symbols"),U=d("op-symbols"),G=Object.prototype,W="function"==typeof O&&!!C.f,K=n.QObject,z=!K||!K.prototype||!K.prototype.findChild,q=i&&u((function(){return 7!=S(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=A(G,t);n&&delete G[t],E(e,t,r),n&&e!==G&&E(G,t,n)}:E,H=function(e){var t=F[e]=S(O.prototype);return t._k=e,t},J=W&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},Q=function(e,t,r){return e===G&&Q(U,t,r),g(e),t=w(t,!0),g(r),a(F,t)?(r.enumerable?(a(e,j)&&e[j][t]&&(e[j][t]=!1),r=S(r,{enumerable:P(0,!1)})):(a(e,j)||E(e,j,P(1,{})),e[j][t]=!0),q(e,t,r)):E(e,t,r)},Y=function(e,t){g(e);for(var r,n=v(t=k(t)),a=0,i=n.length;i>a;)Q(e,r=n[a++],t[r]);return e},$=function(e){var t=V.call(this,e=w(e,!0));return!(this===G&&a(F,e)&&!a(U,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,j)&&this[j][e])||t)},X=function(e,t){if(e=k(e),t=w(t,!0),e!==G||!a(F,t)||a(U,t)){var r=A(e,t);return!r||!a(F,t)||a(e,j)&&e[j][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=D(k(e)),n=[],i=0;r.length>i;)a(F,t=r[i++])||t==j||t==c||n.push(t);return n},ee=function(e){for(var t,r=e===G,n=D(r?U:k(e)),i=[],o=0;n.length>o;)!a(F,t=n[o++])||r&&!a(G,t)||i.push(F[t]);return i};W||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===G&&t.call(U,r),a(this,j)&&a(this[j],e)&&(this[j][e]=!1),q(this,e,P(1,r))};return i&&z&&q(G,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",(function(){return this._k})),T.f=X,R.f=Q,r(90).f=I.f=Z,r(57).f=$,C.f=ee,i&&!r(44)&&s(G,"propertyIsEnumerable",$,!0),m.f=function(e){return H(f(e))}),o(o.G+o.W+o.F*!W,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var ne=x(f.store),ae=0;ne.length>ae;)h(ne[ae++]);o(o.S+o.F*!W,"Symbol",{for:function(e){return a(N,e+="")?N[e]:N[e]=O(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!W,"Object",{create:function(e,t){return void 0===t?S(e):Y(S(e),t)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=u((function(){C.f(1)}));o(o.S+o.F*ie,"Object",{getOwnPropertySymbols:function(e){return C.f(b(e))}}),L&&o(o.S+o.F*(!W||u((function(){var e=O();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(y(t)||void 0!==e)&&!J(e))return _(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,M.apply(L,n)}}),O.prototype[B]||r(28)(O.prototype,B,O.prototype.valueOf),l(O,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,r){var n=r(47),a=r(74),i=r(57);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,s=r(e),c=i.f,u=0;s.length>u;)c.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,r){var n=r(39),a=r(90).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t,r){r(73)("asyncIterator")},function(e,t,r){r(73)("observable")},function(e,t,r){e.exports={default:r(143),__esModule:!0}},function(e,t,r){r(144),e.exports=r(7).Object.setPrototypeOf},function(e,t,r){var n=r(11);n(n.S,"Object",{setPrototypeOf:r(145).set})},function(e,t,r){var n=r(18),a=r(25),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can\'t set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(27)(Function.call,r(91).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){e.exports={default:r(147),__esModule:!0}},function(e,t,r){r(148);var n=r(7).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(11);n(n.S,"Object",{create:r(54)})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=C(r(41)),a=C(r(26)),i=C(r(6)),o=C(r(100)),s=C(r(101)),c=C(r(17)),u=C(r(24)),d=C(r(8)),l=C(r(2)),p=C(r(0)),f=C(r(1)),m=C(r(3)),h=C(r(4)),v=C(r(30)),_=C(r(108)),g=T(r(60)),y=C(r(110)),b=T(r(111)),k=r(29),w=T(r(51)),P=T(r(219)),S=T(r(116)),I=C(r(225));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var R=r(229),x=new v.default("<Client>"),A={},E="DISCONNECTED",D="CONNECTING",O="CONNECTED",L=function(t){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.default)(this,r);var n=(0,m.default)(this,(r.__proto__||(0,l.default)(r)).call(this));n._spy=!1,n._devices=null,n._mapWebcamProducers=new d.default,n._mapMicProducers=new d.default,n._mapVideoSendTransports=new d.default,n._publishStreams=new d.default,n._remoteStreams=new d.default,n._remoteAudios=new d.default,n._remoteVideos=new d.default,n._publishs=new d.default,n._subscribes=new d.default,n._protooTransportStat=!1,n._sendTransport=null,n._recvTransport=null,n._protooSessionId="",n._protoo=null,n._room=null,n._screenProducer=null,n._screenTransport=null,n._iceSendDisconnectedCnt=0,n._iceRecvDisconnectedCnt=0,n._peers=new d.default,n._stats=new I.default,n._interval=3e3,n._hostPath="",n._ip="",n._port=3443,n._path="",n._token="",n._spec=t,n._useSimulcast=!1,n._tryJoin=0,n._joinTimer=null,n._hasInit=!1,n._closed=!1,n._connState=E,n._joined=!1,n._appId="",n._uid="",n._roomId="",e.g_appid="",e.g_userid="",e.g_roomid="",e.g_server="";var a=/mobile/i.test(navigator.userAgent),i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=/Firefox/i.test(navigator.userAgent),s=t.audioCodec&&""!==t.audioCodec.trim()?t.audioCodec:"isac";if(n._audioCodec=i||a||o?"opus":s,n._disableRtmpVideo=Boolean(t.disableRtmpVideo),n._liveMixerLayout=null,n._timesOfLinkGW=1,n._linkGWTime=0,n._sendGWTime=void 0,n._sendEnterTime=void 0,"string"==typeof t.rtmpUrl&&""!==t.rtmpUrl.trim()?n._valid_rtmp_url=t.rtmpUrl.trim():n._valid_rtmp_url="","string"==typeof t.videoMixerBGIUrl&&""!==t.videoMixerBGIUrl.trim()?n._videoMixerBGIUrl=t.videoMixerBGIUrl.trim():(t.videoMixerBGIUrl="http://3ttech.cn/res/tpl/default/images/bk.png",n._videoMixerBGIUrl=t.videoMixerBGIUrl),!/^[123]$/.test(t.role))throw x.warn("API createClient() error - spec: role must be set as 1: master, 2: vice 3: audience."),new TypeError("role must be set as 1: master, 2: vice 3: audience");return n._role=t.role+"",x.debug("API createClient() success - "+(0,u.default)(t)),n._statsInterval=null,n}var v,k,T,C,L,M,j,B,V,N,F,U,G,W;return(0,h.default)(r,t),(0,f.default)(r,[{key:"_startStatInterval",value:function(){var e=this;this._statsInterval=setInterval((function(){var t=[];e._publishs.forEach((function(e,r){if(e){var n=e.stream?e.stream.audioTrackStatus:{},a=e.stream?e.stream.videoTrackStatus:{},i={streamId:e.streamId,audioTrackStatus:n,videoTrackStatus:a,status:e.status};t.push(i)}}));var r=[];e._subscribes.forEach((function(e,t){if(e){var n=e.stream?e.stream.audioTrackStatus:{},a=e.stream?e.stream.videoTrackStatus:{},i={userId:e.userId,streamId:e.streamId,audioTrackStatus:n,videoTrackStatus:a,status:e.status};r.push(i)}}));var n=[];e._remoteAudios.forEach((function(e,t){n.push(e)}));var a=[];e._remoteVideos.forEach((function(e,t){a.push(e)}));var i={host:e._ip,appId:e._appId,userId:e._uid,role:e._role,roomId:e._roomId,connState:e._connState,joined:e._joined,iceSendTransport:{state:e._sendTransport?e._sendTransport.connectionState:"idle",retryTimes:e._sendTransport?e._sendTransport.retryTimes:0,disconnCnt:e._iceSendDisconnectedCnt},iceRecvTransport:{state:e._recvTransport?e._recvTransport.connectionState:"idle",retryTimes:e._recvTransport?e._recvTransport.retryTimes:0,disconnCnt:e._iceRecvDisconnectedCnt},audioCodec:e._audioCodec,publishs:t,subscribes:r,remoteAudios:n,remoteVideos:a};x.debug("<CLIENT_STAT> "+(0,u.default)(i))}),15e3)}},{key:"_stopStatInterval",value:function(){null!==this._statsInterval&&(clearInterval(this._statsInterval),this._statsInterval=null)}},{key:"init",value:function(t,r,n,a){var i=this;if("function"!=typeof n)throw x.error("API init() error - parameter: onSuccess invalid"),new TypeError("onSuccess parameter must be a function.");if("function"!=typeof a)throw x.error("API init() error - parameter: onFailure invalid"),new TypeError("onFailure parameter must be a function.");if(this._hasInit)return x.error("API init() error - Client has Already initialized"),a("Client has Already initialized - please client.close() at first");if(!t||""===(""+t).trim())return x.warn("API init() error - parameter: appId invalid"),a("must be set appid");if(!/^[1-9][0-9]{0,18}$/.test(r))return x.warn("API init() error - parameter: userId invalid"),a("userId must be number");this._uid=""+r,e.g_appid=t,e.g_userid=this._uid,this._appId=t,this._stats.setAppid(t),x.debug("API init() appId: "+t+" uid: "+r+" this._spec: "+(0,u.default)(this._spec)),this._startStatInterval();var o=_.default.MediaServerAddress;if(o&&""!==o.trim())return o=o.trim(),this._hostPath=o,this._parseMsHost(o),this._ip&&""!==this._ip?(this._stats.setDomain(this._ip),x.debug("API init() success - special media server: "+this._hostPath),this._watchDeviceChange(),this._hasInit=!0,n()):a("iplocation error - msHost: "+o);this._ipLocation=new _.default(t,+r,(function(e,t){return x.debug("API init() success - iplocation alloc server: "+e.domain),i._hostPath=e.domain,i._parseMsHost(e.domain),i._stats.setDomain(i._ip),i._stats.setGWInfo(t),i._stats.setIPlocationInfo(i._ipLocation),i._watchDeviceChange(),i._hasInit=!0,n()}),(function(e){return i._stopStatInterval(),x.warn("API init() fail - iplocation error: "+e.toString()),a("iplocation error: "+e.toString())}))}},{key:"_parseMsHost",value:function(e){var t=/^(wss?:\\/\\/)?([0-9a-z.\\-_]+)(:[0-9]+)?([/0-9a-z.\\-_]+)?(\\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/i.exec(e);if(t&&t[2]){var r=t[2];this._ip=r.trim()}if(t&&t[3]){var n=t[3],a=parseInt(n.slice(1));a&&(this._port=a)}else this._port=3443;if(t&&t[4]){var i=t[4];this._path=i.trim()}}},{key:"_watchDeviceChange",value:function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.mediaDevices.enumerateDevices().then((function(t){e._devices=t,x.debug("init() -- devices: "+(0,u.default)(e._devices))})).catch((function(e){x.warn("init() enumerateDevices fail - "+e.toString())})),navigator.mediaDevices.ondevicechange=function(t){x.debug("mediaDevices.ondevicechange - "+t),x.debug("ondevicechange -- this._devices: "+(0,u.default)(e._devices)),navigator.mediaDevices.enumerateDevices().then((function(t){x.debug("ondevicechange -- curr-devices: "+(0,u.default)(t));var r=[];e._devices.forEach((function(e,n){var a=!1;t.forEach((function(t,r){e.deviceId==t.deviceId&&e.kind==t.kind&&e.label==t.label&&e.groupId==t.groupId&&(a=!0)})),a||"communications"!==e.deviceId&&"default"!==e.deviceId&&r.push(e)}));var n=[];t.forEach((function(t,r){var a=!1;e._devices.forEach((function(e,r){t.deviceId==e.deviceId&&t.kind==e.kind&&t.label==e.label&&t.groupId==e.groupId&&(a=!0)})),a||"communications"!==t.deviceId&&"default"!==t.deviceId&&n.push(t)})),e._devices=t,(n.length<=0||r<=0)&&e.emit("device-hot-plug",{plugDevices:n,pullDevices:r})})).catch((function(e){x.warn("init() enumerateDevices fail - "+e.toString())}))})}},{key:"_onClientClose",value:function(e){this._protooTransportStat=!1,x.warn("_onClientClose() "+e.code+" "+e.reason+" -- call this.close()"),this.close({code:e.code,data:e.reason})}},{key:"join",value:function(t,r,n,a){if("function"!=typeof n)throw x.error("API join() error - parameter: onSuccess invalid"),new TypeError("onSuccess parameter must be a function.");if("function"!=typeof a)throw x.error("API join() error - parameter: onFailure invalid"),new TypeError("onFailure parameter must be a function.");if(this._connState===D)return x.warn("clientConnState.CONNECTING - join is running..."),a("clientConnState.CONNECTING - join is running...");if(!/^[1-9][0-9]{0,18}$/.test(r))return x.warn("API join() error - parameter: roomId invalid"),a("roomId must be number");e.g_roomid=r,e.g_server=this._hostPath,x.debug("API join() this._hostPath: "+this._hostPath+" - params roomId: "+r+" role: "+this._role+" - tryJoin: "+this._tryJoin);this._token=t,r+="",this._roomId=r,this._stats.setRoomId(r),this._stats.setUserId(this._uid),this._stats.setRoleType(+this._role);var i=b.getDeviceInfo();this._stats.setDeviceInfo(i);var o=g.getProtooUrl(this._uid,r,this._appId,this._ip,this._port,this._path);if(this._linkGWTime=Date.now(),this._protooSessionId=S.randomNumberGenerator(),this._protoo=new P.Peer(o,this._protooSessionId,this._spec.retries),!this._protoo)return this._innerClose(),x.warn("API join() error - new protooClient.Peer failed."),void a("fail to create protooClient.Peer");var s=this._connState;this._connState=D,this.emit("connection-state-change",{prevState:s,curState:D}),A.urls=A.urls||"turn:"+this._ip+":3478",A.credential=A.credential||w.clientConfig.turnServer.password,A.username=A.username||w.clientConfig.turnServer.username,A.iceTransportPolicy=A.iceTransportPolicy||w.clientConfig.turnServer.iceTransportPolicy,this._room=new b.Room({requestTimeout:3e4,transportOptions:{udp:!0,tcp:Boolean(!1)},spy:this._spy,iceTransportPolicy:A.iceTransportPolicy,turnServers:[{urls:A.urls,credential:A.credential,username:A.username}]}),this._join({displayName:this._uid,device:"webcam"},n,a)}},{key:"_join",value:function(e,t,r){var n=e.displayName,a=e.device,i=this;this._protoo.on("open",(function(e){e.sid===i._protooSessionId?(x.debug("protooPeer event -- [open] - will _joinRoom..."),i._stats.setWsState("open"),i._protooTransportStat=!0,i._sendGWTime=Date.now(),i._linkGWTime=i._sendGWTime-i._linkGWTime,i._joinRoom({displayName:n,device:a},t,r)):x.debug("protooPeer event -- [open] - invalid protooSessionId - ignore")})),this._protoo.on("conn-reconn",(function(e){if(e.sid===i._protooSessionId){x.debug("protooPeer event -- [conn-reconn]"),i._stats.setWsState("open"),i._protooTransportStat=!0;var t=i._connState;i._connState=O,i.emit("connection-state-change",{prevState:t,curState:O})}else x.debug("protooPeer event -- [conn-reconn] - invalid protooSessionId - ignore")})),this._protoo.on("conn-interrupt",(function(e){e.sid===i._protooSessionId?(x.debug("protooPeer event -- [conn-interrupt]"),i._stats.setWsState("close"),i._protooTransportStat=!1):x.debug("protooPeer event -- [conn-interrupt] - invalid protooSessionId - ignore")})),this._protoo.on("reinit",(function(e){e.sid===i._protooSessionId?i._onClientClose({code:4001,reason:"protoo event [reinit]"}):x.debug("protooPeer event -- [reinit] - invalid protooSessionId - ignore")})),this._protoo.on("connecting",(function(e){if(e.sid===i._protooSessionId){var t=i._connState;i._connState=D,i.emit("connection-state-change",{prevState:t,curState:D})}else x.debug("protooPeer event -- [connecting] - invalid protooSessionId - ignore")})),this._protoo.on("close",(function(e){e.sid===i._protooSessionId?i._onClientClose({code:4001,reason:"protoo event [close]"}):x.debug("protooPeer event -- [close] - invalid protooSessionId - ignore")})),this._protoo.on("request",(function(e,t,r,n){if(e.sid===i._protooSessionId)switch(t.method){case"mediasoup-notification":r();var a=t.data;null!==i._room&&i._room.receiveNotification(a);break;case"display-name-changed":r();var o=t.data,s=o.peerName,c=o.displayName;o.oldDisplayName;if(null!==i._room){var u=i._room.getPeerByName(s);if(!u){x.warn("display-name-changed peer not found");break}u.appData.displayName=c,x.debug("display-name-changed displayName: "+c+" peerName: "+s)}break;case"3T_applySpeak":r(),i._protoo.send("approveSpeak",t.data);break;case"active-speaker":r();t.data.peerName;break;default:x.warn("protoo.requst event -- ["+t.method+"] unknown protoo method"),n(404,"unknown method")}else x.debug("protooPeer event -- [request] - invalid protooSessionId - ignore")})),this._protoo.on("notification",(function(e,r){if(e.sid===i._protooSessionId)switch(r.method){case"3T_sessionid":var n=r.data.sessionId;x.debug("protooPeer event -- [notification:3T_sessionid] - "+n),i._stats.setSessionId(n);break;case"3T_connectid":var a=r.data.connectId;i._stats.setConnectionId(a),x.debug("protooPeer event -- [notification:3T_connectid] - "+a),i._joined=!0,i._joinTimer&&(clearTimeout(i._joinTimer),i._joinTimer=null);var o=i._connState;i._connState=O,i.emit("connection-state-change",{prevState:o,curState:O}),x.debug("API protooPeer event -- [notification:3T_connectid] -- Emit [enter] to APP"),x.debug("API join() success - connectId: "+a),t("You are join the room");break;case"3T_kickout":x.debug("API protooPeer event -- [notification:3T_kickout] - Emit [kickout] to APP - "+(0,u.default)(r.data)),i.close({code:3001,data:(0,u.default)(r.data)});break;case"3T_CDN_URL":var s=r.data.CDN_url;x.debug("API protooPeer event -- [notification:3T_CDN_URL] url: "+s+" - Emit [CDN_url] to APP"),i.emit({CDN_url:s});break;case"active-speaker":r.data.peerName;break;case"3T_audiencevisible":var c=r.data.peerId;x.debug("API protooPeer event -- [notification:3T_audiencevisible] peerId: "+c+" - Emit [peer-join] to APP");var d=i._peers.get(""+c);d&&i.emit("peer-join",{userID:c,peer:d});break;case"3T_changerole":var l=r.data,p=l.peerId,f=l.role;x.debug("API protooPeer event -- [notification:3T_changerole] peerId: "+p+" - role: "+f);var m=i._peers.get(""+p);m.appData.role=f.toString(),m&&("2"===m.appData.role?(x.debug("API protooPeer event -- [notification:3T_changerole] peerId: "+p+" role: "+f+" - Emit [peer-join] to APP"),i.emit("peer-join",{userID:p,peer:m})):"3"===m.appData.role&&(x.debug("API protooPeer event -- [notification:3T_changerole] peerId: "+p+" role: "+f+" - Emit [peer-leave] to APP"),i._subscribes.forEach((function(e,t){e&&e.userId==p&&i._subscribes.delete(t)})),i._remoteStreams.forEach((function(e,t){e&&e.userId==p&&i._remoteStreams.delete(t)})),i._remoteVideos.forEach((function(e,t){e&&e.userId==p&&i._remoteVideos.delete(t)})),i._remoteAudios.forEach((function(e,t){e&&e.userId==p&&i._remoteAudios.delete(t)})),i.emit("peer-leave",{userID:p,streams:[]})));break;case"3T_rtmpfailure":var h=r.data,v=h.roomId,_=h.url;x.debug("API protooPeer event -- [notification:3T_rtmpfailure] url: "+_+" - Emit [rtmp-failure] to APP"),i.emit("rtmp-failure",{url:_,channelId:v});break;case"3T_rtmpsuccess":var g=r.data,y=g.roomId,b=g.url;x.debug("API protooPeer event -- [notification:3T_rtmpsuccess] url: "+b+" - Emit [rtmp-success] to APP"),i.emit("rtmp-success",{url:b,channelId:y});break;case"3T_updatevideostatus":var k=r.data,w=k.peerId,P=k.devId,S=k.videoType;x.debug("API protooPeer event -- [notification:3T_updatevideostatus] peerId: "+w+" devId: "+P+" videoType: "+S+" - Emit [video-update] to APP"),i.emit("video-update",{userId:w,streamId:P,videoType:S});break;case"3T_needrefreshtoken":x.debug("API protooPeer event -- [notification:3T_needrefreshtoken] - Emit [onTokenPrivilegeWillExpire] to APP"),i.emit("onTokenPrivilegeWillExpire");break;default:x.warn("protoo.requst event -- ["+r.method+"] unknown protoo method")}else x.debug("protooPeer event -- [notification] - invalid protooSessionId - ignore")}))}},{key:"_joinRoom",value:function(e,t,n){var a=e.displayName,i=e.device,o=this;x.debug("_joinRoom() try to join room..."),this._room.removeAllListeners(),this._room.on("close",(function(e,t){"remote"===e&&(x.warn("room event -- mediasoup Peer/Room remotely closed -- appData: "+(0,u.default)(t)),o._stats.stopHeartBeat())})),this._room.on("request",(function(e,t,r){x.debug("room event -- [request:"+e.method+"] sending to mediasoup "),o._protoo.send("mediasoup-request",e).then(t).catch(r)})),this._room.on("notify",(function(e){x.debug("room event -- [notification:"+e.method+"] sending to mediasoup"),o._closed||o._protoo.send("mediasoup-notification",e).catch((function(e){x.warn("Send mediasoup notification failed - "+e.toString())}))})),this._room.on("newpeer",(function(e){x.debug("room event -- [newpeer] peerName: "+e.name),o._peers.set(""+e.name,e),o._handlePeer(e)})),this._tryJoin=0,this._joinTimer=setTimeout((function(){if(o._joined)return o._joinTimer&&clearTimeout(o._joinTimer),void(o._joinTimer=null);o._tryJoin++,+o._tryJoin<3?(o._innerClose(),o._room=null,o._protoo&&(o._protoo.close(),o._protoo=null),setTimeout((function(){o.join(o._token,o._roomId,t,n)}))):(x.warn("timeout -- join room timeout"),o._joinTimer=null,o.close({code:5e3,data:"join-timeout"}),o._stats.sendTimeOutLog(o._timesOfLinkGW,3*+r.JOIN_ROOM_TIME_OUT),n("join room timeout"))}),r.JOIN_ROOM_TIME_OUT);var s={displayName:a,device:i,role:this._role,audioCodec:this._audioCodec,token:this._token||""};"1"===this._role&&(""===this._valid_rtmp_url&&(this._valid_rtmp_url="rtmp://"+this._ip+":11936/sdk/"+this._appId+"-"+this._roomId+"-"+this._uid+"-"+g.uuid()),""!==this._valid_rtmp_url&&(s.rtmpUrl=this._valid_rtmp_url,s.disableRtmpVideo=this._disableRtmpVideo),s.videoMixerBGIUrl=this._videoMixerBGIUrl),x.debug("_joinRoom() - _room.join: "+(0,u.default)(s)),this._room.join(this._uid,s).then((function(){o._spy||(o._sendTransport=o._room.createTransport("send",{media:"SEND_MIC_WEBCAM"}),o._sendTransport.on("close",(function(e){x.debug("_sendTransport event -- [close] originator: "+(0,u.default)(e))})),o._sendTransport.on("restart-ice-trying",(function(e){x.debug("_sendTransport event -- [restart-ice-trying] "+(0,u.default)(e))})),o._sendTransport.on("restart-ice-fail",(function(e){x.debug("_sendTransport event -- [restart-ice-fail] "+(0,u.default)(e)),o._onClientClose({code:4003,reason:"_sendTransport event [restart-ice-fail]"})})),o._sendTransport.on("connectionstatechange",(function(e){x.debug("_sendTransport event -- [connectionstatechange] connectionstat: "+e),"disconnected"===e&&(o._iceSendDisconnectedCnt++,x.debug("_sendTransport event -- [connectionstatechange:disconnected] - will restart ice after 500ms"),setTimeout((function(){o._sendTransport.attemptRestartIce()}),500)),"failed"===e&&(x.debug("_sendTransport event -- [connectionstatechange:failed] - will restart ice"),o._sendTransport.attemptRestartIce()),"connected"===e&&(x.debug("_sendTransport event -- [connectionstatechange:connected]"),R(o._sendTransport._handler._pc,(function(e){o._stats.setWebrtcInternalSendStats(e)}),1e3)),o._stats.setSendIceState(e)}))),o._recvTransport=o._room.createTransport("recv",{media:"RECV"}),o._recvTransport.on("close",(function(e){x.debug("_recvTransport event -- [close] originator: "+(0,u.default)(e))})),o._recvTransport.on("restart-ice-trying",(function(e){x.debug("_recvTransport event -- [restart-ice-trying] "+(0,u.default)(e))})),o._recvTransport.on("restart-ice-fail",(function(e){x.debug("_recvTransport event -- [restart-ice-fail] "+(0,u.default)(e)),o._onClientClose({code:4004,reason:"recvTransport event [restart-ice-fail]"})})),o._recvTransport.on("connectionstatechange",(function(e){x.debug("_recvTransport event -- [connectionstatechange] connectionstate: "+e),"disconnected"===e&&(o._iceRecvDisconnectedCnt++,x.debug("_recvTransport event -- [connectionstatechange:disconnected] - will restart ice after 500ms"),setTimeout((function(){o._recvTransport.attemptRestartIce()}),500)),"failed"===e&&(x.debug("_recvTransport event -- [connectionstatechange:failed] - will restart ice"),o._recvTransport.attemptRestartIce()),"connected"===e&&(x.debug("_recvTransport event -- [connectionstatechange:connected]"),R(o._recvTransport._handler._pc,(function(e){o._stats.setWebrtcInternalRecvStats(e)}),1e3)),o._stats.setRecvIceState(e)}))})).then((function(){o._spy})).then((function(){x.debug("_room.join() mediasoup response.");var e=o._room.peers,t=!0,r=!1,n=void 0;try{for(var a,i=(0,c.default)(e);!(t=(a=i.next()).done);t=!0){var s=a.value;o._handlePeer(s,{notify:!1})}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}o._stats.startHeartBeat()})).catch((function(e){}))}},{key:"leave",value:(W=(0,s.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof t){e.next=3;break}throw x.error("API leave() error - parameter: onSuccess invalid"),TypeError("onSuccess is not a fucntion.");case 3:if("function"==typeof r){e.next=6;break}throw x.error("API leave() error - parameter: onFailure invalid"),TypeError("onFailure is not a fucntion.");case 6:this._protooTransportStat||x.warn("API leave() error - protooTransport broken");try{this.close({code:1e3,data:"Normal exit"}),x.debug("API leave() success")}catch(e){x.warn("API leave() error - "+e.toString())}finally{x.debug("API leave() finish."),t()}case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return W.apply(this,arguments)})},{key:"publish",value:(G=(0,s.default)(o.default.mark((function e(t,r,n){var a,c,u,d,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof r){e.next=3;break}throw x.error("API publish() error - parameter: onSuccess invalid"),new TypeError("onSuccess parameter must be a function.");case 3:if("function"==typeof n){e.next=6;break}throw x.error("API publish() error - parameter: onFailure invalid"),new TypeError("onFailure parameter must be a function.");case 6:if(t&&t.streamObj){e.next=10;break}return x.warn("API publish() error - stream is null"),n("stream param error"),e.abrupt("return");case 10:if(x.debug("API publish() - streamId: "+t.getId()),this._protooTransportStat){e.next=15;break}return x.warn("API publish() error - protooTransport is broken"),n("protooTransport is broken"),e.abrupt("return");case 15:if(this._joined){e.next=19;break}return x.warn("API publish() error - non-joined"),n("non-joined"),e.abrupt("return");case 19:if(!this._spy){e.next=23;break}return x.warn("API publish() error - forbidden: user is _spy"),n("Permission denied - spy Not allowed publish"),e.abrupt("return");case 23:if("3"!==this._role){e.next=27;break}return x.warn("API publish() error - forbidden: Audience No permission"),n("Permission denied - Audience Not allowed publish"),e.abrupt("return");case 27:if(t.publishState!==w.PUBLISH_STATE.PUBLISHING){e.next=31;break}return x.warn("API publish() error - config.PUBLISH_STATE.PUBLISHING - publish is running..."),n("config.PUBLISH_STATE.PUBLISHING - publish is running..."),e.abrupt("return");case 31:if(t.publishState=w.PUBLISH_STATE.PUBLISHING,t.userID=this._uid,(a=this._mapMicProducers.get(t._innerStreamID))&&this._resumeProducer(a),!(c=this._mapWebcamProducers.get(t._innerStreamID))){e.next=50;break}return this._resumeProducer(c),e.prev=40,e.next=43,t._openVideo();case 43:e.next=49;break;case 45:e.prev=45,e.t0=e.catch(40),x.warn("API publish() stream._openVideo error - "+e.t0.toString());case 49:t._needUpdateVideoStreamBitrate&&(this._updateVideoTrack(t,t.videoTracks,t._updateConstraints),t._needUpdateVideoStreamBitrate=!1);case 50:if(t.removeAllListeners("pause-video"),t.removeAllListeners("pause-audio"),t.removeAllListeners("resume-audio"),t.removeAllListeners("resume-video"),t.on("pause-video",(function(e){if(e){var t=e.stream;l.pauseWebcam(t)}})),t.on("pause-audio",(function(e){if(e){var t=e.stream;l.pauseMic(t)}})),t.on("resume-audio",(function(e){if(e){var t=e.stream;l.resumeMic(t)}})),t.on("resume-video",(function(e){if(e){var t=e.stream;l.resumeWebcam(t)}})),!c&&!a){e.next=66;break}return x.debug("API publish() success - streamId: "+t.innerStreamID+" - Emit [stream-published] to APP"),t._published=!0,t.publishState=w.PUBLISH_STATE.PUBLISHED,this._publishs.set(t.uuid,{streamId:t.innerStreamID,stream:t}),this.emit("stream-published",{stream:t}),r(),e.abrupt("return");case 66:if(t.streamObj.getAudioTracks()[0]||t.streamObj.getVideoTracks()[0]){e.next=71;break}return t.publishState=w.PUBLISH_STATE.IDLE,x.debug("API publish() error - audioTrack or videoTrack non-exist."),n("no audio or video kind track"),e.abrupt("return");case 71:u=!1,d=!1,i.default.resolve().then((0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l._room.canSend("audio")){e.next=3;break}return x.warn("API publish() error - audio cannot Send."),e.abrupt("return");case 3:if(t.streamObj.getAudioTracks()[0]){e.next=6;break}return x.debug("API publish() error - audioTrack non-exist."),e.abrupt("return");case 6:return e.prev=6,e.next=9,l._setMicProducer(t);case 9:u=!0,l._stats.audioOpen=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),x.warn("API publish() error - "+e.t0.toString());case 16:case"end":return e.stop()}}),e,l,[[6,13]])})))).then((0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l._room.canSend("video")){e.next=3;break}return x.warn("API publish() error - video cannot Send."),e.abrupt("return");case 3:if(t.streamObj.getVideoTracks()[0]){e.next=6;break}return x.debug("API publish() error - videoTrack non-exist."),e.abrupt("return");case 6:return e.prev=6,e.next=9,l._setWebcamProducer(t);case 9:d=!0,l._stats.videoOpen=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),x.warn("API publish() error - "+e.t0.toString());case 16:case"end":return e.stop()}}),e,l,[[6,13]])})))).then((function(){u||d?(t._published=!0,t.publishState=w.PUBLISH_STATE.PUBLISHED,x.debug("API publish() success - streamId: "+t.innerStreamID+" - Emit [stream-published] to APP"),l._publishs.set(t.uuid,{streamId:t.innerStreamID,stream:t}),l.emit("stream-published",{stream:t}),r()):(t.publishState=w.PUBLISH_STATE.IDLE,n("no audio or video to be sent"))})).catch((function(e){t.publishState=w.PUBLISH_STATE.IDLE,x.warn("API publish() fail - "+e.toString()),n(e)}));case 74:case"end":return e.stop()}}),e,this,[[40,45]])}))),function(e,t,r){return G.apply(this,arguments)})},{key:"unpublish",value:(U=(0,s.default)(o.default.mark((function e(t,r,n,a){var i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof r){e.next=3;break}throw x.error("API unpublish() error - parameter: onSuccess invalid"),new TypeError("onSuccess parameter must be a function.");case 3:if("function"==typeof n){e.next=6;break}throw x.error("API unpublish() error - parameter: onFailure invalid"),new TypeError("onFailure parameter must be a function.");case 6:if(t){e.next=10;break}return x.warn("API unpublish() error - stream is null"),n("Param error - stream"),e.abrupt("return");case 10:if(this._protooTransportStat){e.next=14;break}return x.warn("API unpublish() error - protooTransport is broken"),n("protooTransport is broken"),e.abrupt("return");case 14:if(t.removeAllListeners("pause-video"),t.removeAllListeners("pause-audio"),t.removeAllListeners("resume-audio"),t.removeAllListeners("resume-video"),(i=this._mapMicProducers.get(t._innerStreamID))&&this._pauseProducer(i),!(s=this._mapWebcamProducers.get(t._innerStreamID))){e.next=26;break}if(this._pauseProducer(s),!a){e.next=26;break}return e.next=26,t._closeVideo();case 26:this._stats.audioOpen=!1,this._stats.videoOpen=!1,t._published=!1,t.publishState=w.PUBLISH_STATE.IDLE,this._publishs.delete(t.uuid),x.debug("API unpublish() success - streamId: "+t.innerStreamID+" - Emit [stream-unpublished] to APP"),this.emit("stream-unpublished",{stream:t}),r();case 34:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return U.apply(this,arguments)})},{key:"publishScreen",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API publishScreen() error - parameter: onSuccess invalid"),new TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API publishScreen() error - parameter: onFailure invalid"),new TypeError("onFailure is not function.");return e&&e.streamObj?this._protooTransportStat?this._joined?this._spy?(x.warn("API publishScreen() error - user is _spy"),void r("Permission denied - spy Not allowed publish")):"3"===this._role?(x.warn("API publishScreen() error - forbidden: Audience"),void r("Permission denied - Audience Not allowed publish")):(e.userID=this._uid,null!==this._screenProducer?(this.resumeScreen(),x.debug("API publishScreen() success streamId: "+e.innerStreamID+" - Emit [stream-published] to APP"),void this.emit("screen-published",{stream:e})):void i.default.resolve().then((function(){n._room.canSend("video")?(n._setScreenProducer(e).catch((function(e){x.warn("API publishScreen() error - "+e.toString()+".")})),n._publishs.set(e.uuid,{streamId:e.innerStreamID,stream:e}),x.debug("API publishScreen() success - streamId: "+e.innerStreamID+" - Emit [stream-published] to APP"),n.emit("screen-published",{stream:e}),t()):x.warn("API publishScreen() error - video cannot Send.")}))):(x.warn("API publishScreen() error - non-joined"),void r("non-joined")):(x.warn("API publishScreen() error - protooTransport broken"),void r("protooTransport is broken")):(x.warn("API publishScreen() error - parameter: stream is invalid"),void r("Param error - stream is invalid"))}},{key:"unpublishScreen",value:function(e,t,r){if("function"!=typeof t)throw x.error("API unpublishScreen() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API unpublishScreen() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");return e&&e.streamObj?this._protooTransportStat?(this._screenProducer&&this._screenProducer.close(),this._screenProducer=null,this._publishs.delete(e.uuid),x.debug("API unpublishScreen() success - streamId: "+e.innerStreamID+" - Emit [stream-unpublished] to APP"),this.emit("screen-unpublished",{stream:e}),t()):(x.warn("API unpublishScreen() error - protooTransport broken"),void r("protooTransport is broken")):(x.warn("API unpublishScreen() error - parameter: stream is invalid"),void r("Param error - stream is invalid"))}},{key:"subscribeAudio",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API subscribeAudio() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API subscribeAudio() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API subscribeAudio() error - parameter: stream is invalid"),void r("param error - stream is invalid");if(!this._protooTransportStat)return x.warn("API subscribeAudio() error - protooTransport broken"),void r("protooTransport is broken");if(!this._joined)return x.warn("API subscribeAudio() error - non-joined"),void r("non-joined");x.debug("API subscribeAudio() - streamId: "+e.getId()+" stream.userID: "+e.userID);var a=this._peers.get(""+e.userID);if(!a)return x.warn("API subscribeAudio() error - non-peer: "+e.userID),void r("Can not found this peer");a.consumers.forEach((function(r){r.appData&&r.appData.streamID===e.streamID&&"audio"===r.kind&&n._consumerAct(e,r,"resume","audio",t)}))}},{key:"unsubscribeAudio",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API unsubscribeAudio() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API unsubscribeAudio() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API unsubscribeAudio() error - parameter: stream is invalid"),void r("Param error - stream is invalid");if(!this._protooTransportStat)return x.warn("API unsubscribeAudio() error - protooTransport broken"),void r("protooTransport is broken");x.debug("API unsubscribeAudio() - streamId: "+e.getId()+" stream.userID: "+e.userID);var a=this._peers.get(""+e.userID);if(!a)return x.warn("API unsubscribeAudio() error - non-peer: "+e.userID),r("Can not found this peer");a.consumers.forEach((function(r){r.appData&&r.appData.streamID===e.streamID&&"audio"===r.kind&&n._consumerAct(e,r,"pause","audio",t)}))}},{key:"subscribeVideo",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API subscribeVideo() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API subscribeVideo() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API subscribeVideo() error - parameter: stream is invalid"),void r("Param error - stream is invalid");if(!this._protooTransportStat)return x.warn("API subscribeVideo() error - protooTransport broken"),void r("protooTransport is broken");if(!this._joined)return x.warn("API subscribeVideo() error - non-joined"),void r("non-joined");x.debug("API subscribeVideo() - streamId: "+e.getId()+" stream.userID: "+e.userID);var a=this._peers.get(""+e.userID);if(!a)return x.warn("API subscribeVideo() error - non-peer: "+e.userID),r("Can not found this peer");a.consumers.forEach((function(r){r.appData&&r.appData.streamID===e.streamID&&"video"===r.kind&&n._consumerAct(e,r,"resume","video",t)}))}},{key:"unsubscribeVideo",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API unsubscribeVideo() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API unsubscribeVideo() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API unsubscribeVideo() error - parameter: stream is invalid"),void r("parameter - stream is invalid");if(!this._protooTransportStat)return x.warn("API unsubscribeVideo() error - protooTransport broken"),void r("protooTransport is broken");x.debug("API unsubscribeVideo() streamId: "+e.getId()+" stream.userID: "+e.userID);var a=this._peers.get(""+e.userID);if(!a)return x.warn("API unsubscribeVideo() error - non-peer: "+e.userID),r("Can not found this peer");a.consumers.forEach((function(r){r.appData&&r.appData.streamID===e.streamID&&"video"===r.kind&&n._consumerAct(e,r,"pause","video",t)}))}},{key:"_consumerAct",value:function(e,t,r,n,a){t||x.warn("API _consumerAct() error - invalid consumer");var i={stream:e};return"pause"===r?(t.pause(),x.debug("API _consumerAct() success - streamId: "+e.getId()+" - Emit [stream-"+n+"-unsubscribed] to APP"),a(e),void this.emit("stream-"+n+"-unsubscribed",i)):"resume"===r?(t.resume(),x.debug("API _consumerAct() success - streamId: "+e.getId()+" - Emit [stream-"+n+"-subscribed] to APP"),a(e),void this.emit("stream-"+n+"-subscribed",i)):void x.warn("API _consumerAct() error - invalid type - should be [resume|pause]")}},{key:"subscribe",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API subscribe() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API subscribe() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API subscribe() error - parameter: stream is invalid"),void r("Param error - stream is invalid");if(!this._protooTransportStat)return x.warn("API subscribe() error - protooTransport broken"),void r("protooTransport is broken");if(!this._joined)return x.warn("API subscribe() error - non-joined"),void r("non-joined");var a=this._peers.get(""+e.userID);if(!a)return x.warn("API subscribe() error - non-peer: "+e.userID),r("Can not found this peer");var i=[];a.consumers.forEach((function(t){t.appData.streamID===e.streamID&&(i.push(t),n._subscribes.set(e.uuid,{userId:e.userID,streamId:e.getId(),stream:e,status:"active"}))})),i.forEach((function(e){e.resume()})),e.subscribed=!0,x.debug("API subscribe() success - streamId: "+e.getId()+" - Emit [stream-subscribed] to APP");var o={stream:e};t(e),this.emit("stream-subscribed",o)}},{key:"unsubscribe",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API unsubscribe() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API unsubscribe() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API unsubscribe() error - parameter: stream is invalid"),void r("Param error - stream is invalid");if(!this._protooTransportStat)return x.warn("API unsubscribe() error - protooTransport broken"),void r("protooTransport is broken");var a=this._peers.get(""+e.userID);if(!a)return x.warn("API unsubscribe() error - non-peer: "+e.userID),r("Can not found this peer");var i=[];a.consumers.forEach((function(t){t.appData.streamID===e.streamID&&(i.push(t),n._subscribes.delete(e.uuid))})),i.forEach((function(e){e.pause()})),e.subscribed=!1,x.debug("API unsubscribe() success - streamId: "+e.getId()+" - Emit [stream-unsubscribed] to APP");var o={stream:e};t(e),this.emit("stream-unsubscribed",o)}},{key:"pauseMic",value:function(e,t,r){if(e)if(e._published){var n=void 0;if(!(n=e?this._mapMicProducers.get(e._innerStreamID):this._mapMicProducers.values().next().value))return x.warn("API pauseMic() error - non mic producer."),void("function"==typeof r&&r("non mic producer"));x.debug("API pauseMic() sucess - streamId: "+e.getId()),this._pauseProducer(n),"function"==typeof t&&t()}else x.warn("API pauseMic() error - no-published");else x.warn("API pauseMic() error - Param: invalid stream")}},{key:"resumeMic",value:function(e,t,r){if(e)if(e._published){var n=void 0;if(!(n=e?this._mapMicProducers.get(e._innerStreamID):this._mapMicProducers.values().next().value))return x.warn("API resumeMic() error - non mic producer."),void("function"==typeof r&&r("non mic producer"));x.debug("API resumeMic() sucess - streamId: "+e.getId()),this._resumeProducer(n),"function"==typeof t&&t()}else x.warn("API resumeMic() error - no-published");else x.warn("API resumeMic() error - Param: invalid stream")}},{key:"pauseWebcam",value:(F=(0,s.default)(o.default.mark((function e(t,r,n,a){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return x.warn("API pauseWebcam() error - Param: invalid stream"),e.abrupt("return");case 3:if(t._published){e.next=6;break}return x.warn("API pauseWebcam() error - no-published"),e.abrupt("return");case 6:if(i=void 0,i=t?this._mapWebcamProducers.get(t._innerStreamID):this._mapWebcamProducers.values().next().value){e.next=14;break}return x.warn("API pauseWebcam() error - non webcam producer."),"function"==typeof a&&a("non webcam producer"),e.abrupt("return");case 14:if(x.debug("API pauseWebcam() sucess - streamId: "+t.getId()),this._pauseProducer(i),!r){e.next=19;break}return e.next=19,t._closeVideo();case 19:"function"==typeof n&&n();case 20:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return F.apply(this,arguments)})},{key:"resumeWebcam",value:function(e,t,r){var n=this;if(e)if(e._published){var a=void 0;if(!(a=e?this._mapWebcamProducers.get(e._innerStreamID):this._mapWebcamProducers.values().next().value))return x.warn("API resumeWebcam() error - non webcam producer."),void("function"==typeof r&&r("non webcam producer"));e._openVideo().then((function(){x.debug("API resumeWebcam() success - stream._openVideo() - streamId: "+e.getId()),n._resumeProducer(a),"function"==typeof t&&t()})).catch((function(e){x.warn("API resumeWebcam() fail - stream._openVideo() error - "+e.toString()),"function"==typeof r&&r("stream._openVideo fail - "+e.toString())}))}else x.warn("API resumeWebcam() error - no-published");else x.warn("API resumeWebcam() error - Param: invalid stream")}},{key:"_updateVideoTrack",value:(N=(0,s.default)(o.default.mark((function e(t,r,n){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return x.warn("_setVideoStreamBitrate() error - parameter [stream] is INVALID."),e.abrupt("return");case 3:if(x.debug("_setVideoStreamBitrate() - streamId: "+t.innerStreamID),a=this._mapWebcamProducers.get(t._innerStreamID)){e.next=8;break}return x.debug("_setVideoStreamBitrate() error - client update track(kind video of webcam) can not found producer "+t.innerStreamID+"."),e.abrupt("return");case 8:return e.prev=8,e.next=11,a.updateTrack(r,n,{idealBandwidth:t.idealBandwidth,maxBandwidth:t.maxBandwidth,minBandwidth:t.minBandwidth});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),x.warn("_updateVideoTrack() fail - producer.updateTrack error - "+e.t0.toString());case 16:case"end":return e.stop()}}),e,this,[[8,13]])}))),function(e,t,r){return N.apply(this,arguments)})},{key:"_replaceTrack",value:function(e,t){if(e){x.debug("_replaceTrack() - stream.streamID: "+e.innerStreamID);var r=this._mapWebcamProducers.get(e._innerStreamID);r?i.default.resolve().then((function(){return r.replaceTrack(t)})).then((function(){})).catch((function(e){throw x.warn("_replaceTrack() error - replace track failed - "+e.toString()),e})):x.debug("_replaceTrack() error - client replace track(kind video of webcam) can not found producer "+e._innerStreamID+".")}else x.warn("_replaceTrack() error - parameter [stream] is INVALID.")}},{key:"_resumeProducer",value:function(e){e?e.resume():x.warn("_resumeProducer() error - parameter [producer] is INVALID.")}},{key:"_pauseProducer",value:function(e){e?e.pause():x.warn("_pauseProducer() error - parameter [producer] is INVALID.")}},{key:"pauseScreen",value:function(){x.debug("API pauseScreen()"),null!==this._screenProducer&&this._screenProducer.pause()}},{key:"resumeScreen",value:function(){x.debug("API resumeScreen()"),null!==this._screenProducer&&this._screenProducer.resume()}},{key:"renewChannelKey",value:function(e,t,r){}},{key:"enableDualStream",value:function(){}},{key:"setRemoteVideoStreamType",value:function(e,t){}},{key:"setLowStreamParameter",value:function(){}},{key:"disableDualStream",value:function(e,t){}},{key:"setProxyServer",value:function(e){}},{key:"setEncryptionSecret",value:function(){}},{key:"setEncryptionMode",value:function(){}},{key:"closeStream",value:(V=(0,s.default)(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return x.warn("API closeStream() error - parameter [stream] is INVALID."),e.abrupt("return");case 3:if(x.debug("API closeStream() - streamId: "+t.getId()),!(r=this._mapMicProducers.get(t._innerStreamID))){e.next=14;break}return e.prev=6,e.next=9,r.close();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),x.warn("API closeStream() error - close micProducer error - "+e.t0.toString());case 14:if(!(n=this._mapWebcamProducers.get(t._innerStreamID))){e.next=24;break}return e.prev=16,e.next=19,n.close();case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(16),x.warn("API closeStream() error - close webcamProducer error - "+e.t1.toString());case 24:case"end":return e.stop()}}),e,this,[[6,11],[16,21]])}))),function(e){return V.apply(this,arguments)})},{key:"_innerClose",value:(B=(0,s.default)(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joined=!1,t=this._connState,this._connState=E,!this._room){e.next=7;break}return this._room.removeAllListeners(),e.next=7,this._room.leave();case 7:this._joinTimer&&(clearTimeout(this._joinTimer),this._joinTimer=null),this._stopStatInterval(),this._remoteAudios.clear(),this._remoteVideos.clear(),this._publishs.clear(),this._subscribes.clear(),this._mapMicProducers.forEach((function(e,t){e.close()})),this._mapWebcamProducers.forEach((function(e,t){e.close()})),this._mapMicProducers.clear(),this._mapWebcamProducers.clear(),null!=this._sendTransport&&(this._sendTransport.close(),this._sendTransport=null),this._screenTransport&&(this._screenTransport.close(),this._screenTransport=null),this._screenProducer&&(this._screenProducer.close(),this._screenProducer=null),this._mapVideoSendTransports.forEach((function(e,t){e.close()})),this._mapVideoSendTransports.clear(),this._recvTransport&&(this._recvTransport.close(),this._recvTransport=null),this._peers.clear(),r={prevState:t,curState:E},x.debug("_innerClose() - Emit [connection-state-change] - "+(0,u.default)(r)),this.emit("connection-state-change",r);case 27:case"end":return e.stop()}}),e,this)}))),function(){return B.apply(this,arguments)})},{key:"close",value:function(e){this._closed||(x.debug("API close()"),this._hasInit=!1,this._closed=!0,this._innerClose(),this._liveMixerLayout=null,this._room=null,this._connState=E,this._joined=!1,this._protoo&&(this._protoo.close(),this._protoo=null),navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=null),this._stats.stopHeartBeat(),e&&3001===e.code&&this.emit("kickout",e.data),this.emit("disconnected",{code:e?e.code:1e3}),this.removeAllListeners())}},{key:"_handlePeer",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.notify,e.appData.displayName;x.debug("_handlePeer() userID: "+e.name+" - Emit [peer-join] to APP"),"3"!==e.appData.role.toString()&&this.emit("peer-join",{userID:e.name,peer:e}),this._peers.set(""+e.name,e);var n=!0,a=!1,i=void 0;try{for(var o,s=(0,c.default)(e.consumers);!(n=(o=s.next()).done);n=!0){var u=o.value;this._handleConsumer(u)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}e.on("close",(function(r){x.debug("peer event -- [close] - userID: "+e.name+" originator: "+r),t._peers.delete(""+e.name),t._closed||(x.debug("_handlePeer() event -- [close] - userID: "+e.name+" - Emit [peer-leave] to APP"),t._subscribes.forEach((function(r,n){r&&r.userId==e.name&&t._subscribes.delete(n)})),t._remoteStreams.forEach((function(r,n){r&&r.userId==e.name&&t._remoteStreams.delete(n)})),t._remoteVideos.forEach((function(r,n){r&&r.userId==e.name&&t._remoteVideos.delete(n)})),t._remoteAudios.forEach((function(r,n){r&&r.userId==e.name&&t._remoteAudios.delete(n)})),t.emit("peer-leave",{userID:e.name,streams:e.streams||[],peer:e}))})),e.on("newconsumer",(function(r){x.debug("_handlePeer() peer event -- [newconsumer] - peer.name: "+e.name+" consumer.id: "+r.id),t._handleConsumer(r)}))}},{key:"_handleConsumer",value:(j=(0,s.default)(o.default.mark((function e(t){var r,n,a,i,s=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.rtpParameters.codecs[0],n={id:t.id,peerName:t.peer.name,source:t.appData.source,supported:t.supported,locallyPaused:t.locallyPaused,remotelyPaused:t.remotelyPaused,track:null,codec:r?r.name:null},x.debug("_handleConsumer() consumerPeerName: "+t.peer.name+" consumerInfo: "+(0,u.default)(n)+" "),t.on("close",(function(e){s._stats.removeStreamById("consumer_"+t.id),x.debug("consumer event -- [close] - consumer.id: "+t.id+" originator: "+e),t.disableStats()})),t.on("pause",(function(e){s._stats.actStreamSSRCPairs("consumer_"+t.id,!1),x.debug("consumer event -- [pause] - consumer.id: "+t.id+" originator: "+e);var r="audio-mute";if("audio"===t.kind&&(r="audio-mute"),"video"===t.kind&&(r="video-mute"),"remote"===e)if(t.peer&&t.peer.streams&&t.appData){x.debug("_handleConsumer() consumer event -- [pause] - streamId: "+t.appData.streamID+" userID: "+t.peer.name+" - Emit ["+r+"] to APP");var n=t.peer.streams.get(t.appData.streamID);s.emit(r,{stream:n}),s._subscribes.set(n.uuid,{userId:n.userID,streamId:n.getId(),stream:n,status:"inactive"})}else x.warn("_handleConsumer() consumer event -- [pause] error - invalid consumer.peer or consumer.appData")})),t.on("resume",(function(e){s._stats.actStreamSSRCPairs("consumer_"+t.id,!0),x.debug("consumer event -- [resume] - consumer.id: "+t.id+" originator: "+e);var r="audio-unmute";if("audio"===t.kind&&(r="audio-unmute"),"video"===t.kind&&(r="video-unmute"),"remote"===e)if(t.peer&&t.peer.streams&&t.appData){var n=t.peer.streams.get(t.appData.streamID);"video-unmute"===r&&(s._remoteVideos.has(n.uuid)||(s.emit("video-added",{stream:n}),s._remoteVideos.set(n.uuid,{userId:t.peer.name,streamId:n.getId()}))),"audio-unmute"===r&&(s._remoteAudios.has(n.uuid)||(s.emit("audio-added",{stream:n}),s._remoteAudios.set(n.uuid,{userId:t.peer.name,streamId:n.getId()}))),x.debug("_handleConsumer() consumer event -- [resume] - streamId: "+t.appData.streamID+" userID: "+t.peer.name+" - Emit ["+r+"] to APP"),s.emit(r,{stream:n}),s._subscribes.set(n.uuid,{userId:n.userID,streamId:n.getId(),stream:n,status:"active"})}else x.warn("_handleConsumer() consumer event -- [resume] - error - invalid consumer.peer or consumer.appData")})),t.on("effectiveprofilechange",(function(e){x.debug("consumer event -- [effectiveprofilechange] - consumer.id: "+t.id+" profile: "+e)})),t.on("stats",(function(e){t.getStats().then((function(r){var n={};if(t.track&&"video"===t.track.kind&&(n=s._extractResolution(r)),t.peer){var a=t.peer.name;t.appData&&(a=t.appData.streamID),s._stats.setConsumeStats(e,n,t.peer.name,t.id,a)}})).catch((function(e){x.warn("consumer event -- [stats] error - "+e.toString())}))})),t.on("internalStats",(function(e){if(t.peer){var r=s._internalStats("receiverStats",e,t.peer.name,t.id);s._stats.pushLoggerToServer(null,r)}})),t.supported?(t.peer.streams||(t.peer.streams=new d.default),(a=t.peer.streams.get(t.appData.streamID))||(i=t.appData.streamID?t.appData.streamID:t.peer.name,(a=new y.default({userID:t.peer.name,source:t.appData.source,streamID:i,videoType:t.appData.videoType,streamType:"consumer",openAudioCtx:!0})).streamObj=new MediaStream,t.peer.streams.set(a.streamID,a),this._remoteStreams.set(""+i,a)),a&&"video"===t.kind&&void 0!==t.appData.videoType&&(a.videoType=t.appData.videoType),t.receive(this._recvTransport).then((function(e){x.debug("_handleConsumer() consumer.receive - consumer.name: "+t.peer.name+" track.kind: "+e.kind),"audio"===e.kind&&(a.attachAudioTracks({track:e,autoPlay:!1}),setTimeout((function(){x.debug("_handleConsumer() consumer userID: "+t.peer.name+" streamId: "+a.getId()+" - Emit [audio-added] to APP"),s.emit("audio-added",{stream:a}),s._remoteAudios.set(a.uuid,{userId:t.peer.name,streamId:a.getId()})}),100)),"video"===e.kind&&(a.videoTracks=e,setTimeout((function(){x.debug("_handleConsumer() consumer userID: "+t.peer.name+" streamId: "+a.getId()+" - Emit [video-added] to APP"),t.remotelyPaused||(s.emit("video-added",{stream:a}),s.emit("video-update",{userId:t.peer.name,streamId:a.getId(),videoType:a.videoType}),s._remoteVideos.set(a.uuid,{userId:t.peer.name,streamId:a.getId()}))}),100)),1===a.trackNumber&&setTimeout((function(){x.debug("_handleConsumer() consumer userID: "+t.peer.name+" streamId: "+a.getId()+" - Emit [stream-added] to APP"),s.emit("stream-added",{stream:a,type:a.type})}),500),t.transport.handler._pc.getStats(e).then((function(e){e.forEach((function(e){if("inbound-rtp"===e.type){var r=s._stats.getStreamPropertyBySSRC(e.ssrc,"userID");r.id,""===r.value&&s._stats.setStreamSSRCPairs("consumer_"+t.id,e.ssrc,a,!1)}}))}))})).catch((function(e){x.warn("_handleConsumer() error - unexpected error while receiving a new Consumer: "+e.toString())})),a.subscribed||t.pause(),t.enableStats(this._interval)):x.warn("_handleConsumer() error - consumer.peer.name: "+t.peer.name+" consumer.supported: "+t.supported);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"_setMicProducer",value:function(e){var t=this;if(!e)return x.warn("_setMicProducer() error - parameter [stream] is INVALID."),i.default.reject(new Error("INVALID parameter [stream]"));if(x.debug("_setMicProducer() - stream.streamID: "+e.streamID),!this._room.canSend("audio"))return i.default.reject(new Error("cannot send audio"));if(this._mapMicProducers.get(e._innerStreamID))return i.default.reject(new Error("mic Producer already exists"));var r=void 0;return i.default.resolve().then((function(){var n=e.streamObj.getAudioTracks();if(n.length<=0)return i.default.reject("Audio track non-exist");var a=n[0],o=t._audioCodec.toLowerCase(),s=e.getAudioProfile();(s?s.codec.toLowerCase():"")!==o&&(x.debug("_setMicProducer() Stream.audioProfile is not match this._audioCodec - this._audioCodec: "+t._audioCodec),e.setAudioProfile("opus"===o?"music_standard":"isac32"));var c=e.getAudioProfile();return x.debug("_setMicProducer() will createProducer - streamId: "+e.streamID+" audioProfile: "+(0,u.default)(c)),(r=t._room.createProducer(a,{audioProfile:c},{source:"mic_"+e.streamID,streamID:e.innerStreamID,userID:e.userID})).send(t._sendTransport)})).then((function(){t._mapMicProducers.set(e._innerStreamID,r),e.attachMicProducer(r),r.enableStats(t._interval);var n={id:r.id,source:"mic",locallyPaused:r.locallyPaused,remotelyPaused:r.remotelyPaused,track:r.track,codec:r.rtpParameters.codecs[0].name};x.debug("_setMicProducer() - producerInfo: "+(0,u.default)(n)),r.on("close",(function(n){x.debug("_setMicProducer() micProducer event -- [close] - [originator:"+n+"]"),"remote"===n&&x.debug("producer close"),t._mapMicProducers.delete(e._innerStreamID),e.detachMicProducer(),r.disableStats()})),r.on("pause",(function(e){x.debug("_setMicProducer() micProducer event -- [pause] - [originator:"+e+"]")})),r.on("resume",(function(e){x.debug("_setMicProducer() micProducer event -- [resume] - [originator:"+e+"]")})),r.on("handled",(function(){x.debug("_setMicProducer() micProducer event -- [handled]")})),r.on("unhandled",(function(){x.debug("_setMicProducer() micProducer event -- [unhandled]")})),r.on("stats",(function(r){t._stats.setMicStats(r,e._innerStreamID)})),r.on("internalStats",(function(e){var r=t._internalStats("senderStats",e);t._stats.pushLoggerToServer(null,r)}))})).then((function(){x.debug("_setMicProducer() succeeded")})).catch((function(n){throw x.warn("_setMicProducer() failed - "+n.toString()),r&&(t._mapMicProducers.delete(e._innerStreamID),e.detachMicProducer(),r.close()),n}))}},{key:"_setWebcamProducer",value:function(e){var t=this;if(!e)return x.warn("_setWebcamProducer() error - parameter [stream] is INVALID."),i.default.reject(new Error("INVALID parameter [stream]"));if(x.debug("_setWebcamProducer() stream.streamID: "+e.streamID),!this._room.canSend("video"))return i.default.reject(new Error("cannot send video"));if(this._webcamProducer)return i.default.reject(new Error("webcam Producer already exists"));var r=void 0;return i.default.resolve().then((0,s.default)(o.default.mark((function n(){var a,s,c,d,l,p;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((a=e.streamObj.getVideoTracks()).length<=0)){n.next=5;break}return n.abrupt("return",i.default.reject("Video track non-exist"));case 5:if(s=a[0],c=t._audioCodec.toLowerCase(),d=e.getAudioProfile(),(d?d.codec.toLowerCase():"")!==c&&(x.debug("_setWebcamProducer() Stream.audioProfile is not match this._audioCodec - this._audioCodec: "+t._audioCodec),e.setAudioProfile("opus"===c?"music_standard":"isac32")),l=e.getAudioProfile(),x.debug("_setWebcamProducer() will createProducer - streamId: "+e.streamID+" audioProfile: "+(0,u.default)(l)),r=t._room.createProducer(s,{simulcast:t._useSimulcast,audioProfile:l,codecOptions:{videoGoogleStartBitrate:e.idealBandwidth,videoGoogleMaxBitrate:e.maxBandwidth,videoGoogleMinBitrate:e.minBandwidth}},{source:"webcam_"+e.streamID,streamID:e.innerStreamID,userID:e.userID,videoType:e.videoType})){n.next=17;break}return n.abrupt("return",i.default.reject("_setWebcamProducer() fail - createProducer fail"));case 17:if(p=void 0,!t._sendTransport.videoSent()){n.next=25;break}return n.next=21,t._newTransport("send","web_cam");case 21:p=n.sent,t._mapVideoSendTransports.set(e._innerStreamID,p),n.next=26;break;case 25:p=t._sendTransport;case 26:return x.debug("_setWebcamProducer() watching producer event"),n.abrupt("return",r.send(p));case 28:case"end":return n.stop()}}),n,t)})))).then((function(){t._mapWebcamProducers.set(e._innerStreamID,r),e.attachWebcamProducer(r),r.enableStats(t._interval);var n={id:r.id,source:"webcam",deviceLabel:"device.webcam",type:"front/rear",locallyPaused:r.locallyPaused,remotelyPaused:r.remotelyPaused,track:r.track,codec:r.rtpParameters.codecs[0].name};x.debug("_setWebcamProducer() - producerInfo: "+(0,u.default)(n)),r.on("close",(function(n){t._stats.removeStreamById("producer_"+r.id),x.debug("_setWebcamProducer() webcamProducer event -- [close] - [originator:"+n+"]"),r.disableStats(),t._mapWebcamProducers.delete(e._innerStreamID),e.detachWebcamProducer();var a=t._mapVideoSendTransports.get(e._innerStreamID);void 0!==a&&(a.close(),a.removeAllListeners(),t._mapVideoSendTransports.delete(e._innerStreamID))})),r.on("pause",(function(e){t._stats.actStreamSSRCPairs("producer_"+r.id,!1),x.debug("_setWebcamProducer() webcamProducer event -- [pause] - [originator:"+e+"]")})),r.on("resume",(function(e){t._stats.actStreamSSRCPairs("producer_"+r.id,!0),x.debug("_setWebcamProducer() webcamProducer event -- [resume] [originator:"+e+"]")})),r.on("handled",(function(){x.debug("_setWebcamProducer() webcamProducer event -- [handled]")})),r.on("unhandled",(function(){x.debug("_setWebcamProducer() webcamProducer event -- [unhandled]")})),r.on("stats",(function(r){t._stats.setWebcamStats(r,e._innerStreamID)})),r.on("internalStats",(function(e){var r=t._internalStats("senderStats",e);t._stats.pushLoggerToServer(null,r)}))})).then((function(){x.debug("_setWebcamProducer() succeeded"),r.transport.handler._pc.getStats(r.track).then((function(n){n.forEach((function(n){"outbound-rtp"===n.type&&t._stats.setStreamSSRCPairs("producer_"+r.id,n.ssrc,e,!0)}))}))})).catch((function(n){throw x.warn("_setWebcamProducer() failed: - "+n.toString()),r&&(t._mapWebcamProducers.delete(e._innerStreamID),e.detachWebcamProducer(),r.close()),n}))}},{key:"_setScreenProducer",value:function(e){var t=this;if(!e)return x.warn("_setScreenProducer() error - parameter [stream] is INVALID."),i.default.reject(new Error("INVALID parameter [stream]"));if(x.debug("_setScreenProducer() - streamId: "+e.innerStreamID),!this._room.canSend("video"))return i.default.reject(new Error("cannot send video"));if(this._screenProducer)return i.default.reject(new Error("screen Producer already exists"));var r=void 0;return i.default.resolve().then((0,s.default)(o.default.mark((function n(){var a;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.streamObj.getVideoTracks()[0],r=t._room.createProducer(a,{simulcast:t._useSimulcast},{source:"screen",streamID:e.innerStreamID}),n.next=4,t._newTransport("send","screen");case 4:return t._screenTransport=n.sent,n.abrupt("return",r.send(t._screenTransport));case 6:case"end":return n.stop()}}),n,t)})))).then((function(){t._screenProducer=r,t._screenProducer.enableStats(t._interval);var n={id:r.id,source:"screen",deviceLabel:"device.screen",type:"front",locallyPaused:r.locallyPaused,remotelyPaused:r.remotelyPaused,track:r.track,codec:r.rtpParameters.codecs[0].name};x.debug("_setScreenProducer() - streamId: "+e.innerStreamID+" producerInfo: "+n),r.on("close",(function(e){t._stats.removeStreamById("producer_"+r.id),x.debug("setScreenProducer() screenProducer event -- [close] - [originator:"+e+"]"),t._screenProducer=null,t._screenTransport.close(),t._screenTransport.removeAllListeners(),t._screenTransport=null,r.disableStats()})),r.on("pause",(function(e){t._stats.actStreamSSRCPairs("producer_"+r.id,!1),x.debug("_setScreenProducer() screenProducer event -- [pause] - [originator:"+e+"]")})),r.on("resume",(function(e){t._stats.actStreamSSRCPairs("producer_"+r.id,!0),x.debug("_setScreenProducer() screenProducer event -- [resume] - [originator:"+e+"]")})),r.on("handled",(function(){x.debug("_setScreenProducer() screenProducer event -- [handled]")})),r.on("unhandled",(function(){x.debug("screen Producer event -- [unhandled]")})),r.on("stats",(function(r){t._stats.setWebcamStats(r,e.innerStreamID)})),r.on("internalStats",(function(e){var r=t._internalStats("senderStats",e);t._stats.pushLoggerToServer(null,r)}))})).then((function(){x.debug("_setScreenProducer() succeeded"),r.transport.handler._pc.getStats(r.track).then((function(n){n.forEach((function(n){"outbound-rtp"===n.type&&t._stats.setStreamSSRCPairs("producer_"+r.id,n.ssrc,e,!0)}))}))})).catch((function(e){throw x.warn("_setScreenProducer() failed:%o",e),r&&(r.close(),t._screenProducer=null),e}))}},{key:"_delay",value:function(e){var t,r,n=new i.default((function(n,a){t=setTimeout(n,e),r=a}));return n.cancel=function(){clearTimeout(t),r(Error("Cancelled"))},n}},{key:"getStats",value:function(){return this.getNetState()}},{key:"getNetState",value:function(){return{iceSendTransport:this._sendTransport?this._sendTransport.connectionState:"fault",iceRecvTransport:this._recvTransport?this._recvTransport.connectionState:"fault",websocketTransport:this._protoo&&this._protoo._transport?this._protoo._transport.connected?"online":"offline":"fault",loginStatus:this._joined?"online":"offline",stats:this._stats?this._stats.summarize:{}}}},{key:"getRemoteAudioStats",value:function(e){if("function"!=typeof e)throw x.warn("API getRemoteAudioStats() error - parameter: callback invalid"),new TypeError("callback is not function.");e(this._stats.audioDownStat)}},{key:"remoteAudioStats",value:function(){return this._stats.audioDownStat}},{key:"getRemoteVideoStats",value:function(e){if("function"!=typeof e)throw x.warn("API getRemoteVideoStats() error - parameter: callback invalid"),new TypeError("callback is not function.");e(this._stats.videoDownStat)}},{key:"remoteVideoStats",value:function(){return this._stats.videoDownStat}},{key:"getLocalAudioStats",value:function(e){if("function"!=typeof e)throw x.warn("API getLocalAudioStats() error - parameter: callback invalid"),new TypeError("callback is not function.");e(this._stats.audioUpStat)}},{key:"localAudioStats",value:function(){return this._stats.audioUpStat}},{key:"getLocalVideoStats",value:function(e){if("function"!=typeof e)throw x.warn("API getLocalVideoStats() error - parameter: callback invalid"),new TypeError("callback is not function.");e(this._stats.videoUpStat)}},{key:"localVideoStats",value:function(){return this._stats.videoUpStat}},{key:"setLiveMixerLayout",value:(M=(0,s.default)(o.default.mark((function e(t,r,n){var i,s,c,d,l,p,f,m,h,v,_,y,b,k,w,P;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof r){e.next=3;break}throw x.error("API setLiveMixerLayout() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");case 3:if("function"==typeof n){e.next=6;break}throw x.error("API setLiveMixerLayout() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");case 6:if(t&&t.users){e.next=9;break}return n("API setLiveMixerLayout() error - parameter: liveMixerLayout invalid"),e.abrupt("return");case 9:if(this._protooTransportStat){e.next=13;break}return x.warn("API setLiveMixerLayout() error - protooTransport broken"),"function"==typeof n&&n("protooTransport broken"),e.abrupt("return");case 13:if(this._joined){e.next=17;break}return x.warn("API setLiveMixerLayout() error - non-joined"),"function"==typeof n&&n("non-joined"),e.abrupt("return");case 17:if("1"===this._role){e.next=21;break}return x.warn("API setLiveMixerLayout() error - Must be master - this._role: "+this._role),"function"==typeof n&&n("Must be master"),e.abrupt("return");case 21:if(i=[],this._liveMixerLayout&&this._liveMixerLayout.users)for(s=0;s<t.users.length;s++)for(c=0;c<this._liveMixerLayout.users.length;c++)this._liveMixerLayout.users[c].streamId===t.users[s].streamId&&i.push(this._liveMixerLayout.users[c]);d=[],this._liveMixerLayout&&this._liveMixerLayout.users&&(d=this._liveMixerLayout.users.filter((function(e){return!i.find((function(t){return e.streamId===t.streamId}))}))),l=t.users.filter((function(e){return!i.find((function(t){return e.streamId===t.streamId}))})),x.debug("API setLiveMixerLayout() - liveMixerLayout: "+(0,u.default)(t)+" - this._liveMixerLayout: "+(0,u.default)(this._liveMixerLayout)+" - addUser: "+(0,u.default)(l)+" delUser: "+(0,u.default)(d)),e.prev=27,p="",f=0,f=0;case 31:if(!(f<d.length)){e.next=40;break}if(!d[f]){e.next=37;break}return m={type:"del",peerId:""+d[f].userId,devId:""+d[f].streamId||""},p=p+" - "+(0,u.default)(m),e.next=37,this._protoo.send("setMixer",m);case 37:f++,e.next=31;break;case 40:""!==p&&x.debug("API setLiveMixerLayout() - type: del - setMixer: "+p),p="",f=0;case 43:if(!(f<l.length)){e.next=52;break}if(!l[f]){e.next=49;break}return h={type:"add",peerId:""+l[f].userId,devId:""+l[f].streamId||""},p=p+" - "+(0,u.default)(h),e.next=49,this._protoo.send("setMixer",h);case 49:f++,e.next=43;break;case 52:return""!==p&&x.debug("API setLiveMixerLayout() - type: add - setMixer: "+p),v=232,_=230,y=232,b=t.backgroundColor?t.backgroundColor.toString(16):"00000000",(k=b.length)<=2?y=parseInt("0x"+b.slice(0)):k<=4?(y=parseInt("0x"+b.slice(k-2)),_=parseInt("0x"+b.slice(0,k-2))):(y=parseInt("0x"+b.slice(k-2)),_=parseInt("0x"+b.slice(k-4,k-2)),v=parseInt("0x"+b.slice(0,k-4))),w=(new Date).getTime(),P={ts:""+w,ver:"20161227",canvas:{bgrad:[v,_,y],h:t.height?t.width:480,w:t.width?t.width:640},mid:""+this._uid,pos:[]},t.users.forEach((function(e){if(e&&"object"===(void 0===e?"undefined":(0,a.default)(e))){var t={};t.id=""+e.streamId,t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,t.z=e.z,P.pos.push(t)}})),e.next=64,this._protoo.send("setSEI",{sei:P});case 64:this._liveMixerLayout=g.clone(t),x.debug("API setLiveMixerLayout() success - sei: "+(0,u.default)(P)+" - this._liveMixerLayout: "+(0,u.default)(this._liveMixerLayout)),r(),e.next=73;break;case 69:e.prev=69,e.t0=e.catch(27),x.warn("API setLiveMixerLayout() fail - "+e.t0.toString()),n(""+e.t0.toString());case 73:case"end":return e.stop()}}),e,this,[[27,69]])}))),function(e,t,r){return M.apply(this,arguments)})},{key:"setSEI",value:function(e,t,r,n,a,o,s){var c=this;if(!this._protooTransportStat)return x.warn("API setSEI() error - protooTransport broken"),void("function"==typeof s&&s("protooTransport broken"));if(!this._joined)return x.warn("API setSEI() error - non-joined"),void("function"==typeof s&&s("non-joined"));if("1"!==this._role)return x.warn("API setSEI() error - Must be master - this._role: "+this._role),void("function"==typeof s&&s("Must be master"));var d="";if("add"===t.toLocaleLowerCase()?d="add":"del"===t.toLocaleLowerCase()&&(d="del"),""===d)return x.warn("setSEI() error - parameter [type] type: "+t+" is INVALID"),void("function"==typeof s&&s("parameter [type] is INVALID"));var l={type:d,peerId:""+e,devId:a||""};r&&(l.devId=e+":screen",n.pos=n.pos.map((function(t){return t.id===a&&(t.id=e+":screen"),t}))),x.debug("API setSEI() - uid: "+e+" type: "+t+" isScreen: "+r+" sei: "+(0,u.default)(n)+" devId: "+a),i.default.resolve().then((function(){x.debug("API setSEI() - setMixer sType: "+(0,u.default)(l)),c._protoo.send("setMixer",l)})).then((function(){c._protoo.send("setSEI",{sei:n}),"function"==typeof o&&o(),x.warn("API setSEI() success")})).catch((function(e){x.warn("API setSEI() error - "+e.toString()),"function"==typeof s&&s(""+e.toString())}))}},{key:"subscribeOtherRoom",value:function(e,t,r){if("function"!=typeof t)throw x.error("API subscribeOtherRoom() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API subscribeOtherRoom() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");return e?this._protooTransportStat?this._joined?"1"!==this._role?(x.warn("API subscribeOtherRoom() error - Must be master - this._role: "+this._role),void r("Must be master")):(x.warn("API subscribeOtherRoom() success - subscribeRoomId: "+e),void this._protoo.send("subscribeOtherRoom",{subscribeRoomId:e}).then(t).catch(r)):(x.warn("API subscribeOtherRoom() error - non-joined"),void r("non-joined")):(x.warn("API subscribeOtherRoom() error - protooTransport broken"),void r("protooTransport is broken")):(x.warn("API subscribeOtherRoom() error - parameter: subscribeRoomId invalid"),void r("Param error - subscribeRoomId is invalid"))}},{key:"unsubscribeOtherRoom",value:function(e,t,r){if("function"!=typeof t)throw x.error("API unsubscribeOtherRoom() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API unsubscribeOtherRoom() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");return e?this._protooTransportStat?this._joined?"1"!==this._role?(x.warn("API unsubscribeOtherRoom() error - Must be master - this._role: "+this._role),void r("Must be master")):(x.warn("API unsubscribeOtherRoom() success - subscribeRoomId: "+e),void this._protoo.send("unsubscribeOtherRoom",{unsubscribeRoomId:e}).then(t).catch(r)):(x.warn("API unsubscribeOtherRoom() error - non-joined"),void r("non-joined")):(x.warn("API unsubscribeOtherRoom() error - protooTransport broken"),void r("protooTransport is broken")):(x.warn("API unsubscribeOtherRoom() error - parameter: unsubscribeRoomId invalid"),void r("Param error - unsubscribeRoomId is invalid"))}},{key:"setUserRole",value:function(e,t,r){var n=this;if("function"!=typeof t)throw x.error("API setUserRole() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");if("function"!=typeof r)throw x.error("API setUserRole() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");if(!e)return x.warn("API setUserRole() error - parameter [role] is INVALID."),void r("Param error - role is invalid");var a=+e;if(this._joined){if(!this._protooTransportStat)return x.warn("API setUserRole() error - protooTransport broken"),void r("protooTransport is broken");if(3===a&&this.isPublish)return x.warn("API setUserRole() error - unpublish all the stream before setUserRole"),void r("Please unpublish all stream");if(+this._role===a)return void r("Role: no changed.");if(2!==a&&3!==a)return x.warn("API setUserRole() error - Role: Only allowed between 2 | 3"),void r("Role: Only allowed between 2 | 3");if(1==+this._role)return x.warn("API setUserRole() error - Role: Only allowed between 2 | 3"),void r("Role: Only allowed between 2 | 3");x.debug("API setUserRole() - role: "+a),this._protoo.send("changeRole",{role:a}).then((function(){x.debug("API setUserRole() success"),n._role=a+"",t()})).catch((function(e){x.debug("API setUserRole() fail - "+e.toString()),r(e.toString())}))}else{if(a>3||a<1)return x.warn("API setUserRole() error - parameter [role] is INVALID."),void r("Role: Only allowed between 1 | 2 | 3");x.warn("API setUserRole() - role: "+e),this._role=e+"",t()}}},{key:"setVideoMixerBGIUrl",value:(L=(0,s.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof r){e.next=3;break}throw x.error("API setVideoMixerBGIUrl() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");case 3:if("function"==typeof n){e.next=6;break}throw x.error("API setVideoMixerBGIUrl() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");case 6:if("string"==typeof t){e.next=10;break}return x.warn("API setVideoMixerBGIUrl() error - url: "+(void 0===t?"undefined":(0,a.default)(t))),n("parameter [url] is INVALID"),e.abrupt("return");case 10:if(this._videoMixerBGIUrl=t.trim(),!this._joined){e.next=16;break}return e.next=14,this._protoo.send("updateVideoMixerBGIUrl",{roomId:this._roomId,url:t});case 14:x.debug("API setVideoMixerBGIUrl() success - "+t),r();case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return L.apply(this,arguments)})},{key:"setRtmpUrl",value:(C=(0,s.default)(o.default.mark((function e(t,r,n){var i,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.url,s=t.avMode,c=0,c=void 0!==(void 0===s?"undefined":(0,a.default)(s))&&"audio"===s?1:2,"string"==typeof i){e.next=7;break}return x.warn("API setRtmpUrl() error - url: "+(void 0===i?"undefined":(0,a.default)(i))),"function"==typeof n&&n("parameter [url] is INVALID"),e.abrupt("return");case 7:if("1"===this._role){e.next=11;break}return x.warn("API setRtmpUrl() error - Must be master - this._role: "+this._role),"function"==typeof n&&n("Must be master"),e.abrupt("return");case 11:if(this._valid_rtmp_url=i.trim(),!this._joined){e.next=17;break}return e.next=15,this._protoo.send("updateRtmpUrl",{roomId:this._roomId,url:i,mediaType:c});case 15:x.debug("API setRtmpUrl() success - "+i+" mediaType: "+c),"function"==typeof r&&r();case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return C.apply(this,arguments)})},{key:"renewToken",value:(T=(0,s.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof r){e.next=3;break}throw x.error("API renewToken() error - parameter: onSuccess invalid"),TypeError("onSuccess is not function.");case 3:if("function"==typeof n){e.next=6;break}throw x.error("API renewToken() error - parameter: onFailure invalid"),TypeError("onFailure is not function.");case 6:if(this._joined){e.next=10;break}return x.warn("you should join room first."),n("non-joined"),e.abrupt("return");case 10:if("string"!=typeof t){e.next=16;break}return e.next=13,this._protoo.send("refreshToken",{token:t});case 13:x.debug("API renewToken() success"),e.next=19;break;case 16:return x.debug("API renewToken() error - Param error - token is invalid"),n("Param error - token is invalid"),e.abrupt("return");case 19:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return T.apply(this,arguments)})},{key:"kickOut",value:(k=(0,s.default)(o.default.mark((function e(t,r,n){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protooTransportStat){e.next=4;break}return x.warn("API kickOut() error - protooTransport broken"),"function"==typeof n&&n("protooTransport broken"),e.abrupt("return");case 4:if(this._joined){e.next=8;break}return x.warn("API kickOut() error - non-joined"),"function"==typeof n&&n("non-joined"),e.abrupt("return");case 8:if(t){e.next=12;break}return x.warn("API kickOut() error - parameter [userId] is INVALID."),"function"==typeof n&&n("parameter [userId] is INVALID"),e.abrupt("return");case 12:if(""!==(a=(a=t+"").trim())){e.next=18;break}return x.warn("API kickOut() error - parameter [userId] is INVALID."),"function"==typeof n&&n("parameter [userId] is INVALID"),e.abrupt("return");case 18:if("1"===this._role){e.next=22;break}return x.warn("API kickOut() error - Must be master - this._role: "+this._role),"function"==typeof n&&n("Must be master"),e.abrupt("return");case 22:if(this._peers.get(""+a)){e.next=26;break}return x.warn("API kickOut() error - userId: "+a+" not found."),"function"==typeof n&&n(a+" not found"),e.abrupt("return");case 26:return e.next=28,this._protoo.send("kickout",{peerId:a});case 28:x.debug("API kickOut() sucess - userId: "+a),"function"==typeof r&&r();case 30:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return k.apply(this,arguments)})},{key:"getTransportStatus",value:function(){return{iceSendTransport:this._sendTransport?this._sendTransport.connectionState:"fault",iceRecvTransport:this._recvTransport?this._recvTransport.connectionState:"fault",websocketTransport:this._protoo&&this._protoo._transport?this._protoo._transport.connected:"fault",loginStatus:this._joined?"online":"offline"}}},{key:"_extractResolution",value:function(e){var t={frameHeight:0,frameWidth:0},r={};return e.forEach((function(e){(0,n.default)(e).forEach((function(r){"frameheight"===r.toLocaleLowerCase()&&(t.frameHeight=e[r]),"framewidth"===r.toLocaleLowerCase()&&(t.frameWidth=e[r])}));try{if(0!==t.frameWidth)throw r}catch(e){if(e!==r)throw e}})),t}},{key:"_newTransport",value:(v=(0,s.default)(o.default.mark((function e(t,r){var n,a,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",t){e.next=3;break}return e.abrupt("return");case 3:if("send"===t||"recv"===t){e.next=5;break}return e.abrupt("return");case 5:n=r&&""!==r?r:"SEND_MIC_WEBCAM",a=null,e.prev=7,a=this._room.createTransport("send",{media:n}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(7),x.warn("_newTransport() this._room.createTransport fail - "+e.t0.toString()),e.abrupt("return");case 15:return a.on("close",(function(e){x.debug("sendTransport event -- [close] - [originator: "+e+"]")})),a.on("connectionstatechange",function(){var e=(0,s.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"disconnected"===t&&(i._iceSendDisconnectedCnt++,x.warn("sendTransport disconnected. will retryRestartIce after 500ms"),setTimeout((function(){a.attemptRestartIce()}),500)),"failed"===t&&(x.warn("sendTransport failed. will retryRestartIce..."),a.attemptRestartIce()),"connected"===t&&R(a._handler._pc,(function(e){i._stats.setWebrtcInternalSendStats(e)}),1e3),x.debug("sendTransport connectionstatechange: "+t);case 4:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this,[[7,11]])}))),function(e,t){return v.apply(this,arguments)})},{key:"_internalStats",value:function(e,t,r,n){var a={appId:this._appId,userId:this._uid,roomId:this._roomId,stats:"internalStats",direction:e,"media-source":[],certificate:[],codec:[],"candidate-pair":[],"local-candidate":[],"remote-candidate":[],"inbound-rtp":[],"outbound-rtp":[],"remote-inbound-rtp":[],track:[],stream:[],"peer-connection":[],transport:[]};return t.forEach((function(e){e.type,"codec"===e.type&&a.codec.push(e),"candidate-pair"===e.type&&a["candidate-pair"].push(e),"local-candidate"===e.type&&a["local-candidate"].push(e),"inbound-rtp"===e.type&&a["inbound-rtp"].push(e),"track"===e.type&&a.track.push(e),"stream"===e.type&&a.stream.push(e),"peer-connection"===e.type&&a["peer-connection"].push(e),"transport"===e.type&&a.transport.push(e),"media-source"===e.type&&a["media-source"].push(e),"transport"===e.type&&a.transport.push(e)})),"receiverStats"===e&&(a.consumerPeerId=r,a.consumer=n),a}},{key:"producerStreams",get:function(){var e=[];return this._publishStreams.forEach((function(t,r){if(t){var n={streamId:t.streamID,type:t.streamType,userId:t.userID,specialCameraId:t.specialCameraId,specialMicId:t.specialMicId,hasVideo:t.hasVideo(),hasAudio:t.hasAudio()};e.push(n)}})),e}},{key:"consumerStreams",get:function(){var e=[];return this._peers.forEach((function(t,r){t.streams&&t.streams.forEach((function(t,r){if(t){var n={streamId:t.streamID,type:t.streamType,userId:t.userID,specialCameraId:t.specialCameraId,specialMicId:t.specialMicId,hasVideo:t.hasVideo(),hasAudio:t.hasAudio()};e.push(n)}}))})),e}},{key:"micProducers",get:function(){var e=[];return this._mapMicProducers.forEach((function(t,r){var n={streamId:r,appData:t.appData};e.push(n)})),e}},{key:"webcamProducers",get:function(){var e=[];return this._mapWebcamProducers.forEach((function(t,r){var n={streamId:r,appData:t.appData};e.push(n)})),e}},{key:"screenProducers",get:function(){var e=[];if(null!=this._screenProducer){var t={streamId:"x_screen",appData:this._screenProducer.appData};e.push(t)}return e}},{key:"isLocalStreamAllowed",get:function(){var e=+this._role;return 1===e||2===e}},{key:"isPublish",get:function(){return!!this._publishs&&this._publishs.size>0}},{key:"closed",get:function(){return this._closed}}],[{key:"JOIN_ROOM_TIME_OUT",get:function(){return 4e3}},{key:"TurnConf",set:function(e){if(null==e)throw new TypeError("turn configure");try{A.urls=e.urls,A.credential=e.credential,A.username=e.username,A.iceTransportPolicy=e.iceTransportPolicy}catch(e){throw e}}}]),r}(k.EventEmitter);t.default=L}).call(this,r(37))},function(e,t,r){r(151),e.exports=r(7).Object.keys},function(e,t,r){var n=r(31),a=r(47);r(65)("keys",(function(){return function(e){return a(n(e))}}))},function(e,t,r){r(58),r(34),r(40),r(153),r(157),r(158),e.exports=r(7).Promise},function(e,t,r){"use strict";var n,a,i,o,s=r(44),c=r(13),u=r(27),d=r(59),l=r(11),p=r(18),f=r(45),m=r(75),h=r(50),v=r(94),_=r(95).set,g=r(155)(),y=r(77),b=r(96),k=r(156),w=r(97),P=c.TypeError,S=c.process,I=S&&S.versions,T=I&&I.v8||"",C=c.Promise,R="process"==d(S),x=function(){},A=a=y.f,E=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(14)("species")]=function(e){e(x,x)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==T.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},O=function(e,t){if(!e._n){e._n=!0;var r=e._c;g((function(){for(var n=e._v,a=1==e._s,i=0,o=function(t){var r,i,o,s=a?t.ok:t.fail,c=t.resolve,u=t.reject,d=t.domain;try{s?(a||(2==e._h&&j(e),e._h=1),!0===s?r=n:(d&&d.enter(),r=s(n),d&&(d.exit(),o=!0)),r===t.promise?u(P("Promise-chain cycle")):(i=D(r))?i.call(r,c,u):c(r)):u(n)}catch(e){d&&!o&&d.exit(),u(e)}};r.length>i;)o(r[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){_.call(c,(function(){var t,r,n,a=e._v,i=M(e);if(i&&(t=b((function(){R?S.emit("unhandledRejection",a,e):(r=c.onunhandledrejection)?r({promise:e,reason:a}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",a)})),e._h=R||M(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){_.call(c,(function(){var t;R?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},V=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw P("Promise can\'t be resolved itself");(t=D(e))?g((function(){var n={_w:r,_d:!1};try{t.call(e,u(V,n,1),u(B,n,1))}catch(e){B.call(n,e)}})):(r._v=e,r._s=1,O(r,!1))}catch(e){B.call({_w:r,_d:!1},e)}}};E||(C=function(e){m(this,C,"Promise","_h"),f(e),n.call(this);try{e(u(V,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(78)(C.prototype,{then:function(e,t){var r=A(v(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=R?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(V,e,1),this.reject=u(B,e,1)},y.f=A=function(e){return e===C||e===o?new i(e):a(e)}),l(l.G+l.W+l.F*!E,{Promise:C}),r(49)(C,"Promise"),r(98)("Promise"),o=r(7).Promise,l(l.S+l.F*!E,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!E),"Promise",{resolve:function(e){return w(s&&this===o?C:this,e)}}),l(l.S+l.F*!(E&&r(99)((function(e){C.all(e).catch(x)}))),"Promise",{all:function(e){var t=this,r=A(t),n=r.resolve,a=r.reject,i=b((function(){var r=[],i=0,o=1;h(e,!1,(function(e){var s=i++,c=!1;r.push(void 0),o++,t.resolve(e).then((function(e){c||(c=!0,r[s]=e,--o||n(r))}),a)})),--o||n(r)}));return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=A(t),n=r.reject,a=b((function(){h(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return a.e&&n(a.v),r.promise}})},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(13),a=r(95).set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,c="process"==r(48)(o);e.exports=function(){var e,t,r,u=function(){var n,a;for(c&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){o.nextTick(u)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);r=function(){d.then(u)}}else r=function(){a.call(n,u)};else{var l=!0,p=document.createTextNode("");new i(u).observe(p,{characterData:!0}),r=function(){p.data=l=!l}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},function(e,t,r){var n=r(13).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(11),a=r(7),i=r(13),o=r(94),s=r(97);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){"use strict";var n=r(11),a=r(77),i=r(96);n(n.S,"Promise",{try:function(e){var t=a.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(160),a)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=h;var d={},l={};l[i]=function(){return this};var p=Object.getPrototypeOf,f=p&&p(p(T([])));f&&f!==r&&n.call(f,i)&&(l=f);var m=y.prototype=_.prototype=Object.create(l);g.prototype=m.constructor=y,y.constructor=g,y[s]=g.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},u.awrap=function(e){return{__await:e}},b(k.prototype),k.prototype[o]=function(){return this},u.AsyncIterator=k,u.async=function(e,t,r,n){var a=new k(h(e,t,r,n));return u.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),m[s]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}}}function h(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),o=new I(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return C()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=w(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=v(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function v(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function _(){}function g(){}function y(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){var t;this._invoke=function(r,a){function i(){return new Promise((function(t,i){!function t(r,a,i,o){var s=v(e[r],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(u).then((function(e){c.value=e,i(c)}),o)}o(s.arg)}(r,a,t,i)}))}return t=t?t.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return d}var n=v(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,r){r(40),r(34),e.exports=r(162)},function(e,t,r){var n=r(25),a=r(76);e.exports=r(7).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){r(58),r(34),r(40),r(164),r(168),r(170),r(171),e.exports=r(7).Map},function(e,t,r){"use strict";var n=r(102),a=r(79);e.exports=r(103)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(a(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){var n=r(27),a=r(70),i=r(31),o=r(55),s=r(166);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,d=4==e,l=6==e,p=5==e||l,f=t||s;return function(t,s,m){for(var h,v,_=i(t),g=a(_),y=n(s,m,3),b=o(g.length),k=0,w=r?f(t,b):c?f(t,0):void 0;b>k;k++)if((p||k in g)&&(v=y(h=g[k],k,_),e))if(r)w[k]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return k;case 2:w.push(h)}else if(d)return!1;return l?-1:u||d?d:w}}},function(e,t,r){var n=r(167);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(18),a=r(89),i=r(14)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(11);n(n.P+n.R,"Map",{toJSON:r(104)("Map")})},function(e,t,r){var n=r(50);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t,r){r(105)("Map")},function(e,t,r){r(106)("Map")},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,u=[],d=!1,l=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!d){var e=s(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function o(...e){if(!o.enabled)return;const t=o,a=Number(new Date),i=a-(r||a);t.diff=i,t.prev=r,t.curr=a,r=a,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,a)=>{if("%%"===r)return r;s++;const i=n.formatters[a];if("function"==typeof i){const n=e[s];r=i.call(t,n),e.splice(s,1),s--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=t(e),o.destroy=a,o.extend=i,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function a(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\\s,]+/),a=r.length;for(t=0;t<a;t++)r[t]&&("-"===(e=r[t].replace(/\\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(174),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=1e3,n=6e4,a=36e5,i=24*a;function o(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*a;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return o(e,t,i,"day");if(t>=a)return o(e,t,a,"hour");if(t>=n)return o(e,t,n,"minute");if(t>=r)return o(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=a)return Math.round(e/a)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(176);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],a=0;a<t.retries;a++)n.push(this.createTimeout(a,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(a,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var a in n=[],e)"function"==typeof e[a]&&n.push(a);for(var i=0;i<n.length;i++){var o=n[i],s=e[o];e[o]=function(n){var a=t.operation(r),i=Array.prototype.slice.call(arguments,1),o=i.pop();i.push((function(e){a.retry(e)||(e&&(arguments[0]=a.mainError()),o.apply(this,arguments))})),a.attempt((function(){n.apply(e,i)}))}.bind(e,s),e[o].options=r}}},function(e,t){function r(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,a=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r);return this._options.unref&&a.unref(),!0},r.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},r.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var a=this._errors[n],i=a.message,o=(e[i]||0)+1;e[i]=o,o>=r&&(t=a,r=o)}return t}},function(e,t,r){"use strict";!function(){function e(e,t,r){var n={audio:!1,video:{mandatory:{chromeMediaSource:e?"screen":"desktop",maxWidth:window.screen.width>1920?window.screen.width:1920,maxHeight:window.screen.height>1080?window.screen.height:1080},optional:[]}};return r&&(n.audio={mandatory:{chromeMediaSource:e?"screen":"desktop"},optional:[]}),t&&(n.video.mandatory.chromeMediaSourceId=t,n.audio&&n.audio.mandatory&&(n.audio.mandatory.chromeMediaSourceId=t)),n}function t(e){r?r.isLoaded?e?e.forEach?r.contentWindow.postMessage({captureCustomSourceId:e},"*"):r.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):r.contentWindow.postMessage({captureSourceId:!0},"*"):setTimeout((function(){t(e)}),100):n((function(){t(e)}))}var r;function n(e){r?e():((r=document.createElement("iframe")).onload=function(){r.isLoaded=!0,e()},r.src="https://www.webrtc-experiment.com/getSourceId/",r.style.display="none",(document.body||document.documentElement).appendChild(r))}function a(){r?r.isLoaded?r.contentWindow.postMessage({getChromeExtensionStatus:!0},"*"):setTimeout(a,100):n(a)}window.getScreenId=function(r,n){-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob?navigator.mozGetUserMedia?r(null,"firefox",{video:{mozMediaSource:"window",mediaSource:"window"}}):(window.addEventListener("message",(function t(n){if(!n.data)return;n.data.chromeMediaSourceId&&("PermissionDeniedError"===n.data.chromeMediaSourceId?r("permission-denied"):r(null,n.data.chromeMediaSourceId,e(null,n.data.chromeMediaSourceId,n.data.canRequestAudioTrack)),window.removeEventListener("message",t));n.data.chromeExtensionStatus&&(r(n.data.chromeExtensionStatus,null,e(n.data.chromeExtensionStatus)),window.removeEventListener("message",t))})),n?setTimeout((function(){t(n)}),100):setTimeout(t,100)):r({video:!0})},window.getScreenConstraints=function(e){n((function(){getScreenId((function(t,r,n){n||(n={video:!0}),e(t,n.video)}))}))},window.getChromeExtensionStatus=function(e){navigator.mozGetUserMedia?e("installed-enabled"):(window.addEventListener("message",(function t(r){if(!r.data)return;r.data.chromeExtensionStatus&&(e(r.data.chromeExtensionStatus),window.removeEventListener("message",t))})),setTimeout(a,100))}}()},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,r){var n,a=r(180);"undefined"!=typeof window&&(n=window.AudioContext||window.webkitAudioContext);var i=null;e.exports=function(e,t){var r=new a;if(!n)return r;var o,s,c,u=(t=t||{}).smoothing||.1,d=t.interval||50,l=t.threshold,p=t.play,f=t.history||10,m=!0;i=t.audioContext||i||new n,(c=i.createAnalyser()).fftSize=512,c.smoothingTimeConstant=u,s=new Float32Array(c.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(o=i.createMediaElementSource(e),void 0===p&&(p=!0),l=l||-50):(o=i.createMediaStreamSource(e),l=l||-50),o.connect(c),p&&c.connect(i.destination),r.speaking=!1,r.suspend=function(){return i.suspend()},r.resume=function(){return i.resume()},Object.defineProperty(r,"state",{get:function(){return i.state}}),i.onstatechange=function(){r.emit("state_change",i.state)},r.setThreshold=function(e){l=e},r.setInterval=function(e){d=e},r.stop=function(){m=!1,r.emit("volume_change",-100,l),r.speaking&&(r.speaking=!1,r.emit("stopped_speaking")),c.disconnect(),o.disconnect()},r.speakingHistory=[];for(var h=0;h<f;h++)r.speakingHistory.push(0);var v=function(){setTimeout((function(){if(m){var e=function(e,t){var r=-1/0;e.getFloatFrequencyData(t);for(var n=4,a=t.length;n<a;n++)t[n]>r&&t[n]<0&&(r=t[n]);return r}(c,s);r.emit("volume_change",e,l);var t=0;if(e>l&&!r.speaking){for(var n=r.speakingHistory.length-3;n<r.speakingHistory.length;n++)t+=r.speakingHistory[n];t>=2&&(r.speaking=!0,r.emit("speaking"))}else if(e<l&&r.speaking){for(n=0;n<r.speakingHistory.length;n++)t+=r.speakingHistory[n];0==t&&(r.speaking=!1,r.emit("stopped_speaking"))}r.speakingHistory.shift(),r.speakingHistory.push(0+(e>l)),v()}}),d)};return v(),r}},function(e,t){function r(){}e.exports=r,r.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,r){this.callbacks=this.callbacks||{};var n=3===arguments.length,a=n?arguments[1]:void 0,i=n?arguments[2]:arguments[1];return i._groupName=a,(this.callbacks[e]=this.callbacks[e]||[]).push(i),this},t.once=function(e,t,r){var n=this,a=3===arguments.length,i=a?arguments[1]:void 0,o=a?arguments[2]:arguments[1];function s(){n.off(e,s),o.apply(this,arguments)}return this.on(e,i,s),this},t.releaseGroup=function(e){var t,r,n,a;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(r=0,n=(a=this.callbacks[t]).length;r<n;r++)a[r]._groupName===e&&(a.splice(r,1),r--,n--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var r,n=this.callbacks[e];return n?1===arguments.length?(delete this.callbacks[e],this):(-1!==(r=n.indexOf(t))&&(n.splice(r,1),0===n.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,r,n,a=[].slice.call(arguments,1),i=this.callbacks[e],o=this.getWildcardCallbacks(e);if(i)for(t=0,r=(n=i.slice()).length;t<r&&n[t];++t)n[t].apply(this,a);if(o)for(r=o.length,t=0,r=(n=o.slice()).length;t<r&&n[t];++t)n[t].apply(this,[e].concat(a));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,r,n=[];for(t in this.callbacks)r=t.split("*"),("*"===t||2===r.length&&e.slice(0,r[0].length)===r[0])&&(n=n.concat(this.callbacks[t]));return n}},r.mixin(r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(6)),o=w(r(19)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(35)),y=w(r(36)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Chrome70"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._trackIds=new o.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._trackIds.has(r.id))return i.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(P.debug("addProducer() [id:%s, kind:%s, trackId:%s] producer.audioProfile: %o",e.id,e.kind,r.id,e.audioProfile),n=e.audioProfile.codec.toLowerCase());var a=void 0,o=void 0;return this._trackIds.add(r.id),i.default.resolve().then((function(){if(a=t._pc.getTransceivers().find((function(e){return e.receiver.track.kind===r.kind&&"inactive"===e.direction})))return P.debug("addProducer() | reusing an inactive transceiver"),a.direction="sendonly",a.sender.replaceTrack(r);a=t._pc.addTransceiver(r,{direction:"sendonly"})})).then((function(){return t._pc.createOffer()})).then((function(i){if(i.sdp=b.default.setVideoBitrates(i.sdp,e.videoBitrateOptions),i.sdp=b.default.setOpusAttributes(i.sdp,e.audioProfile),i.sdp=b.default.setSpecialAudioCodec(i.sdp,n),e.simulcast){P.debug("addProducer() | enabling simulcast");var o=p.default.parse(i.sdp);g.addPlanBSimulcast(o,r,{mid:a.mid}),i={type:"offer",sdp:p.default.write(o)}}return P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",i),t._pc.setLocalDescription(i)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){o=p.default.parse(t._pc.localDescription.sdp),P.debug("addProducer() | this._pc.localDescription.sdp: ",o," - producer.videoBitrateOptions: ",e.videoBitrateOptions);var r=t._remoteSdp.createAnswerSdp(o);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var a={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};return P.debug("addProducer() | calling pc.setRemoteDescription() remoteSdp: ",r),t._pc.setRemoteDescription(a)})).then((function(){var i=h.clone(t._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&i.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,o,r,{mid:a.mid,planBSimulcast:!0}),i})).catch((function(e){try{a.direction="inactive"}catch(e){}throw t._trackIds.delete(r.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;if(!this._trackIds.has(r.id))return i.default.reject(new Error("track not found"));var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),i.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return i.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n,a=this;P.debug("update Track() [trackId:%s]",t.id);var o="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(o=e.audioProfile.codec.toLowerCase()),i.default.resolve().then((function(){n=a._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return a._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,o),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addPlanBSimulcast(i,t,{mid:n.mid}),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),a._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(a._pc.localDescription.sdp);var t=a._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var n={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,o)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",n),a._pc.setRemoteDescription(n)})).then((function(){var i=h.clone(a._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+o&&i.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",a._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,r,t,{mid:n.mid,planBSimulcast:!0}),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return i.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,o={mid:""+e.kind[0]+e.id,kind:e.kind,closed:e.closed,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),i.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var r={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() kind:%s [offer:%o]",e.kind,r),t._pc.setRemoteDescription(r)})).then((function(){return t._pc.createAnswer()})).then((function(r){return P.debug("addConsumer() | calling pc.setLocalDescription() kind:%s [answer:%o]",e.kind,r),t._pc.setLocalDescription(r)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getTransceivers().find((function(e){return e.mid===o.mid}));if(!e)throw new Error("remote track not found");return e.receiver.track}))}},{key:"removeConsumer",value:function(e){var t=this;P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):i.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Chrome70"}}]),e}();t.default=C},function(e,t,r){r(34),r(183),e.exports=r(7).Array.from},function(e,t,r){"use strict";var n=r(27),a=r(11),i=r(31),o=r(92),s=r(93),c=r(55),u=r(184),d=r(76);a(a.S+a.F*!r(99)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,a,l,p=i(e),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h,_=0,g=d(p);if(v&&(h=n(h,m>2?arguments[2]:void 0,2)),null==g||f==Array&&s(g))for(r=new f(t=c(p.length));t>_;_++)u(r,_,v?h(p[_],_):p[_]);else for(l=g.call(p),r=new f;!(a=l.next()).done;_++)u(r,_,v?o(l,h,[a.value,_],!0):a.value);return r.length=_,r}})},function(e,t,r){"use strict";var n=r(21),a=r(46);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},function(e,t,r){r(58),r(34),r(40),r(186),r(187),r(188),r(189),e.exports=r(7).Set},function(e,t,r){"use strict";var n=r(102),a=r(79);e.exports=r(103)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){var n=r(11);n(n.P+n.R,"Set",{toJSON:r(104)("Set")})},function(e,t,r){r(105)("Set")},function(e,t,r){r(106)("Set")},function(e,t,r){"use strict";var n=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,r){var a=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:a&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:a?t[e.name]:t;!function(e,t,r,a){if(a&&!r)t[a]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(112),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\\r\\n|\\r|\\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(o))return a(c,n,o)}})),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/\\;\\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),a=0;a<r.length;a+=3)t.push({component:r[a],ip:r[a+1],port:r[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},function(e,t,r){"use strict";var n=r(112),a=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(a,(function(e){if(t>=n)return e;var a=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}}))},o=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?n.push(r[t.name][o]):n.push(r[t.names[a]])}else n.push(r[t.name]);return i.apply(null,n)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||s,a=t.innerOrder||c,i=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))})),e.media.forEach((function(e){i.push(o("m",n.m[0],e)),a.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))}))})),i.join("\\r\\n")+"\\r\\n"}},function(e,t,r){e.exports={default:r(193),__esModule:!0}},function(e,t,r){r(40),r(34),e.exports=r(194)},function(e,t,r){var n=r(59),a=r(14)("iterator"),i=r(38);e.exports=r(7).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(19)),o=w(r(6)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(42)),y=w(r(43)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Chrome69"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._stream=new MediaStream,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._stream.getTrackById(r.id))return o.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0,i=void 0;return o.default.resolve().then((function(){return t._stream.addTrack(r),a=t._pc.addTrack(r,t._stream),t._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),a.sdp=b.default.setOpusAttributes(a.sdp,e.audioProfile),a.sdp=b.default.setSpecialAudioCodec(a.sdp,n),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addSimulcastForTrack(i,r),a={type:"offer",sdp:p.default.write(i)}}return P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",a),t._pc.setLocalDescription(a)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){i=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(i);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var a={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)})).then((function(){var a=h.clone(t._rtpParametersByKind[e.kind]);return a&&a.codecs&&(a.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&a.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],a)),g.fillRtpParametersForTrack(a,i,r),a})).catch((function(e){try{t._pc.removeTrack(a)}catch(e){}throw t._stream.removeTrack(r),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track,n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),o.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).catch((function(e){if(0!==t._stream.getTracks().length)throw e;P.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())})).then((function(){if("stable"!==t._pc.signalingState){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return o.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._stream.removeTrack(n),r._stream.addTrack(t)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n=this;P.debug("update Track() [trackId:%s]",t.id);var a="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(a=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){n._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return n._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,a),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addSimulcastForTrack(i,t),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),n._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(n._pc.localDescription.sdp);var t=n._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var i={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,a)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",i),n._pc.setRemoteDescription(i)})).then((function(){var i=h.clone(n._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+a&&i.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",n._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,r,t),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._kinds=new i.default,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={kind:e.kind,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),this._kinds.add(e.kind),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getReceivers().find((function(e){var t=e.track;return!!t&&t.id===i.trackId}));if(!e)throw new Error("remote track not found");return e.track}))}},{key:"removeConsumer",value:function(e){var t=this;return P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Chrome69"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(19)),o=w(r(6)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(42)),y=w(r(43)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Chrome67"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._stream=new MediaStream,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._stream.getTrackById(r.id))return o.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0;return o.default.resolve().then((function(){return t._stream.addTrack(r),t._pc.addStream(t._stream),t._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),a.sdp=b.default.setOpusAttributes(a.sdp,e.audioProfile),a.sdp=b.default.setSpecialAudioCodec(a.sdp,n),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addSimulcastForTrack(i,r),a={type:"offer",sdp:p.default.write(i)}}return P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",a),t._pc.setLocalDescription(a)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){a=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(a);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var i={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)})).then((function(){var i=h.clone(t._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&i.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,a,r),i})).catch((function(e){throw t._stream.removeTrack(r),t._pc.addStream(t._stream),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){return t._stream.removeTrack(r),t._pc.addStream(t._stream),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).catch((function(e){if(0!==t._stream.getTracks().length)throw e;P.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())})).then((function(){if("stable"!==t._pc.signalingState){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return o.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._stream.removeTrack(n),r._stream.addTrack(t)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n=this;P.debug("update Track() [trackId:%s]",t.id);var a="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(a=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){n._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return n._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,a),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addSimulcastForTrack(i,t),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),n._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(n._pc.localDescription.sdp);var t=n._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var i={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,a)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",i),n._pc.setRemoteDescription(i)})).then((function(){var i=h.clone(n._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+a&&i.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",n._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,r,t),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._kinds=new i.default,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={kind:e.kind,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),this._kinds.add(e.kind),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getRemoteStreams().find((function(e){return e.id===i.streamId})).getTrackById(i.trackId);if(!e)throw new Error("remote track not found");return e}))}},{key:"removeConsumer",value:function(e){var t=this;return P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Chrome67"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(19)),o=w(r(6)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(42)),y=w(r(43)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Chrome55"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._stream=new MediaStream,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._stream.getTrackById(r.id))return o.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0;return o.default.resolve().then((function(){return t._stream.addTrack(r),t._pc.addStream(t._stream),t._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),a.sdp=b.default.setOpusAttributes(a.sdp,e.audioProfile),a.sdp=b.default.setSpecialAudioCodec(a.sdp,n),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addSimulcastForTrack(i,r),a={type:"offer",sdp:p.default.write(i)}}return P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",a),t._pc.setLocalDescription(a)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){a=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(a);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var i={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)})).then((function(){var i=h.clone(t._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&i.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,a,r),i})).catch((function(e){throw t._stream.removeTrack(r),t._pc.addStream(t._stream),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){return t._stream.removeTrack(r),t._pc.addStream(t._stream),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).catch((function(e){if(0!==t._stream.getTracks().length)throw e;P.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())})).then((function(){if("stable"!==t._pc.signalingState){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=e.track,i=void 0;return o.default.resolve().then((function(){return r._stream.removeTrack(a),r._stream.addTrack(t),r._pc.addStream(r._stream),r._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),a.sdp=b.default.setOpusAttributes(a.sdp,e.audioProfile),a.sdp=b.default.setSpecialAudioCodec(a.sdp,n),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addSimulcastForTrack(i,t),a={type:"offer",sdp:p.default.write(i)}}return P.debug("replaceProducerTrack() | calling pc.setLocalDescription() [offer:%o]",a),r._pc.setLocalDescription(a)})).then((function(){i=p.default.parse(r._pc.localDescription.sdp);var t=r._remoteSdp.createAnswerSdp(i);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var a={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,n)};return P.debug("replaceProducerTrack() | calling pc.setRemoteDescription() [answer:%o]",a),r._pc.setRemoteDescription(a)})).then((function(){var a=h.clone(r._rtpParametersByKind[e.kind]);a&&a.codecs&&(a.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&a.codecs.splice(t,1)})),P.debug("replaceProducerTrack() _rtpParametersByKind: %o - rtpParameters: %o",r._rtpParametersByKind[e.kind],a)),g.fillRtpParametersForTrack(a,i,t),r.safeEmit("@needupdateproducer",e,a)})).catch((function(e){throw r._stream.removeTrack(t),r._stream.addTrack(a),r._pc.addStream(r._stream),e}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n=this;P.debug("update Track() [trackId:%s]",t.id);var a="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(a=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){n._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return n._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,a),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addSimulcastForTrack(i,t),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),n._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(n._pc.localDescription.sdp);var t=n._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var i={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,a)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",i),n._pc.setRemoteDescription(i)})).then((function(){var i=h.clone(n._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+a&&i.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",n._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,r,t),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._kinds=new i.default,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={kind:e.kind,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),this._kinds.add(e.kind),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getRemoteStreams().find((function(e){return e.id===i.streamId})).getTrackById(i.trackId);if(!e)throw new Error("remote track not found");return e}))}},{key:"removeConsumer",value:function(e){var t=this;return P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Chrome55"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(6)),o=w(r(19)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(35)),y=w(r(36)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Safari13"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._trackIds=new o.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._trackIds.has(r.id))return i.default.reject(new Error("track already added"));var n=void 0,a=void 0;return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),this._trackIds.add(r.id),i.default.resolve().then((function(){if(n=t._pc.getTransceivers().find((function(e){return e.receiver.track.kind===r.kind&&"inactive"===e.direction})))return P.debug("addProducer() | reusing an inactive transceiver"),n.direction="sendonly",n.sender.replaceTrack(r);n=t._pc.addTransceiver(r,{direction:"sendonly"})})).then((function(){return t._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addPlanBSimulcast(i,r,{mid:n.mid}),a={type:"offer",sdp:p.default.write(i)}}return P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",a),t._pc.setLocalDescription(a)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){a=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(a),n={type:"answer",sdp:r=b.default.setVideoBitrates(r,e.videoBitrateOptions)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",n),t._pc.setRemoteDescription(n)})).then((function(){var i=h.clone(t._rtpParametersByKind[e.kind]);return g.fillRtpParametersForTrack(i,a,r,{mid:n.mid,planBSimulcast:!0}),i})).catch((function(e){try{n.direction="inactive"}catch(e){}throw t._trackIds.delete(r.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;if(!this._trackIds.has(r.id))return i.default.reject(new Error("track not found"));P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),i.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){var r=p.default.parse(t._pc.localDescription.sdp),n=t._remoteSdp.createAnswerSdp(r),a={type:"answer",sdp:n=b.default.setVideoBitrates(n,e.videoBitrateOptions)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return i.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n,a=this;P.debug("update Track() [trackId:%s]",t.id);return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),i.default.resolve().then((function(){n=a._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return a._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addPlanBSimulcast(i,t,{mid:n.mid}),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),a._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(a._pc.localDescription.sdp);var t=a._remoteSdp.createAnswerSdp(r),n={type:"answer",sdp:t=b.default.setVideoBitrates(t,e.videoBitrateOptions)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",n),a._pc.setRemoteDescription(n)})).then((function(){var i=h.clone(a._rtpParametersByKind[e.kind]);return g.fillRtpParametersForTrack(i,r,t,{mid:n.mid,planBSimulcast:!0}),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return i.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,o={mid:""+e.kind[0]+e.id,kind:e.kind,closed:e.closed,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),i.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getTransceivers().find((function(e){return e.mid===o.mid}));if(!e)throw new Error("remote track not found");return e.receiver.track}))}},{key:"removeConsumer",value:function(e){var t=this;P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):i.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Safari13"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(6)),o=w(r(19)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(35)),y=w(r(36)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Safari12"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._trackIds=new o.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._trackIds.has(r.id))return i.default.reject(new Error("track already added"));var n=void 0,a=void 0;return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),this._trackIds.add(r.id),i.default.resolve().then((function(){if(n=t._pc.getTransceivers().find((function(e){return e.receiver.track.kind===r.kind&&"inactive"===e.direction})))return P.debug("addProducer() | reusing an inactive transceiver"),n.direction="sendonly",n.sender.replaceTrack(r);n=t._pc.addTransceiver(r,{direction:"sendonly"})})).then((function(){return t._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addPlanBSimulcast(i,r,{mid:n.mid}),a={type:"offer",sdp:p.default.write(i)}}return P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",a),t._pc.setLocalDescription(a)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){a=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(a),n={type:"answer",sdp:r=b.default.setVideoBitrates(r,e.videoBitrateOptions)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",n),t._pc.setRemoteDescription(n)})).then((function(){var i=h.clone(t._rtpParametersByKind[e.kind]);return g.fillRtpParametersForTrack(i,a,r,{mid:n.mid,planBSimulcast:!0}),i})).catch((function(e){try{n.direction="inactive"}catch(e){}throw t._trackIds.delete(r.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;if(!this._trackIds.has(r.id))return i.default.reject(new Error("track not found"));P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),i.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){var r=p.default.parse(t._pc.localDescription.sdp),n=t._remoteSdp.createAnswerSdp(r),a={type:"answer",sdp:n=b.default.setVideoBitrates(n,e.videoBitrateOptions)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return i.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n,a=this;P.debug("update Track() [trackId:%s]",t.id);return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),i.default.resolve().then((function(){n=a._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return a._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addPlanBSimulcast(i,t,{mid:n.mid}),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),a._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(a._pc.localDescription.sdp);var t=a._remoteSdp.createAnswerSdp(r),n={type:"answer",sdp:t=b.default.setVideoBitrates(t,e.videoBitrateOptions)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",n),a._pc.setRemoteDescription(n)})).then((function(){var i=h.clone(a._rtpParametersByKind[e.kind]);return g.fillRtpParametersForTrack(i,r,t,{mid:n.mid,planBSimulcast:!0}),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return i.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,o={mid:""+e.kind[0]+e.id,kind:e.kind,closed:e.closed,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),i.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getTransceivers().find((function(e){return e.mid===o.mid}));if(!e)throw new Error("remote track not found");return e.receiver.track}))}},{key:"removeConsumer",value:function(e){var t=this;P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):i.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Safari12"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(19)),o=w(r(6)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(42)),y=w(r(43)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Safari11"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._stream=new MediaStream,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._stream.getTrackById(r.id))return o.default.reject(new Error("track already added"));var n=void 0,a=void 0;return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),o.default.resolve().then((function(){return t._stream.addTrack(r),n=t._pc.addTrack(r,t._stream),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){a=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(a),n={type:"answer",sdp:r=b.default.setVideoBitrates(r,e.videoBitrateOptions)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",n),t._pc.setRemoteDescription(n)})).then((function(){var n=h.clone(t._rtpParametersByKind[e.kind]);return g.fillRtpParametersForTrack(n,a,r),n})).catch((function(e){try{t._pc.removeTrack(n)}catch(e){}throw t._stream.removeTrack(r),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),o.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).catch((function(e){if(0!==t._stream.getTracks().length)throw e;P.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())})).then((function(){if("stable"!==t._pc.signalingState){var r=p.default.parse(t._pc.localDescription.sdp),n=t._remoteSdp.createAnswerSdp(r),a={type:"answer",sdp:n=b.default.setVideoBitrates(n,e.videoBitrateOptions)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)}}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return o.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._stream.removeTrack(n),r._stream.addTrack(t)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}},{key:"updateTrack",value:function(e,t){var r,n=this;P.debug("update Track() [trackId:%s]",t.id);return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&e.audioProfile.codec.toLowerCase(),o.default.resolve().then((function(){n._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return n._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),e.simulcast){P.debug("updateTrack() | enabling simulcast");var a=p.default.parse(r.sdp);g.addSimulcastForTrack(a,t),r={type:"offer",sdp:p.default.write(a)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),n._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(n._pc.localDescription.sdp);var t=n._remoteSdp.createAnswerSdp(r),a={type:"answer",sdp:t=b.default.setVideoBitrates(t,e.videoBitrateOptions)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",a),n._pc.setRemoteDescription(a)})).then((function(){var a=h.clone(n._rtpParametersByKind[e.kind]);return g.fillRtpParametersForTrack(a,r,t),a})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._kinds=new i.default,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={kind:e.kind,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),this._kinds.add(e.kind),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getReceivers().find((function(e){var t=e.track;return!!t&&t.id===i.trackId}));if(!e)throw new Error("remote track not found");return e.track}))}},{key:"removeConsumer",value:function(e){var t=this;return P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}},{key:"getPCStats",value:function(e){return this._pc.getStats(e).then((function(e){return e})).catch((function(e){throw e}))}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"Safari11"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=P(r(16)),a=P(r(8)),i=P(r(82)),o=P(r(6)),s=P(r(19)),c=P(r(2)),u=P(r(0)),d=P(r(1)),l=P(r(3)),p=P(r(4)),f=P(r(12)),m=P(r(5)),h=P(r(10)),v=w(r(9)),_=w(r(15)),g=w(r(20)),y=w(r(35)),b=P(r(36)),k=P(r(23));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}var S=new m.default("Firefox65"),I=function(e){function t(e,r,n){(0,u.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,c.default)(t)).call(this,S));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new b.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"close",value:function(){S.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){S.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(h.default),T=function(e){function t(e,r){(0,u.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,c.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._trackIds=new s.default,n._nextRid=1,n}return(0,p.default)(t,e),(0,d.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(S.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._trackIds.has(r.id))return o.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0,s=void 0;return this._trackIds.add(r.id),o.default.resolve().then((function(){if(a=t._pc.getTransceivers().find((function(e){return e.receiver.track.kind===r.kind&&"inactive"===e.direction})))return S.debug("addProducer() | reusing an inactive transceiver"),a.direction="sendonly",a.sender.replaceTrack(r);a=t._pc.addTransceiver(r,{direction:"sendonly"})})).then((function(){var r=a.sender,n=[];e.simulcast&&(S.debug("addProducer() | enabling simulcast"),e.simulcast.high&&n.push({rid:"high"+t._nextRid,active:!0,priority:"low",maxBitrate:e.simulcast.high}),e.simulcast.medium&&n.push({rid:"medium"+t._nextRid,active:!0,priority:"medium",maxBitrate:e.simulcast.medium}),e.simulcast.low&&n.push({rid:"low"+t._nextRid,active:!0,priority:"high",maxBitrate:e.simulcast.low}),t._nextRid++);var o=r.getParameters();return r.setParameters((0,i.default)({},o,{encodings:n}))})).then((function(){return t._pc.createOffer()})).then((function(r){return r.sdp=k.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=k.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=k.default.setSpecialAudioCodec(r.sdp,n),S.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){s=f.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(s);r=k.default.setVideoBitrates(r,e.videoBitrateOptions),r=k.default.setOpusAttributes(r,e.audioProfile);var a={type:"answer",sdp:r=k.default.setSpecialAudioCodec(r,n)};return S.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)})).then((function(){var i=v.clone(t._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&i.codecs.splice(t,1)})),S.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],i)),y.fillRtpParametersForTrack(i,s,r,{mid:a.mid}),i})).catch((function(e){try{a.direction="inactive"}catch(e){}throw t._trackIds.delete(r.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;if(!this._trackIds.has(r.id))return o.default.reject(new Error("track not found"));S.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()})).then((function(r){return r.sdp=k.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=k.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=k.default.setSpecialAudioCodec(r.sdp,n),S.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){var r=f.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=k.default.setVideoBitrates(a,e.videoBitrateOptions),a=k.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=k.default.setSpecialAudioCodec(a,n)};return S.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;S.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return o.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)}))}},{key:"restartIce",value:function(e){var t=this;return S.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=f.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return S.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=f.default.parse(r),a=g.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"updateTrack",value:function(e,t){var r,n,a=this;S.debug("update Track() [trackId:%s]",t.id);var i="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(i=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){n=a._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return a._pc.createOffer()})).then((function(r){if(r.sdp=k.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=k.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=k.default.setSpecialAudioCodec(r.sdp,i),e.simulcast){S.debug("updateTrack() | enabling simulcast");var o=f.default.parse(r.sdp);y.addPlanBSimulcast(o,t,{mid:n.mid}),r={type:"offer",sdp:f.default.write(o)}}return S.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),a._pc.setLocalDescription(r)})).then((function(){r=f.default.parse(a._pc.localDescription.sdp);var t=a._remoteSdp.createAnswerSdp(r);t=k.default.setVideoBitrates(t,e.videoBitrateOptions),t=k.default.setOpusAttributes(t,e.audioProfile);var n={type:"answer",sdp:t=k.default.setSpecialAudioCodec(t,i)};return S.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",n),a._pc.setRemoteDescription(n)})).then((function(){var o=v.clone(a._rtpParametersByKind[e.kind]);return o&&o.codecs&&(o.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+i&&o.codecs.splice(t,1)})),S.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",a._rtpParametersByKind[e.kind],o)),y.fillRtpParametersForTrack(o,r,t,{mid:n.mid,planBSimulcast:!0}),o})).catch((function(e){throw e}))}}]),t}(I),C=function(e){function t(e,r){(0,u.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,c.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new a.default,n}return(0,p.default)(t,e),(0,d.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(S.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={mid:""+e.kind[0]+e.id,kind:e.kind,closed:e.closed,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return S.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return S.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getTransceivers().find((function(e){return e.mid===i.mid}));if(!e)throw new Error("remote track not found");return e.receiver.track}))}},{key:"removeConsumer",value:function(e){var t=this;S.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return S.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return S.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return S.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return S.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){S.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=f.default.parse(e),r={dtlsParameters:g.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(I),R=function(){function e(t,r,n){(0,u.default)(this,e),S.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:_.getSendingRtpParameters("audio",r),video:_.getSendingRtpParameters("video",r)},new T(a,n);case"recv":return a={audio:_.getReceivingFullRtpParameters("audio",r),video:_.getReceivingFullRtpParameters("video",r)},new C(a,n)}}return(0,d.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){S.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");var r=t.captureStream(),n=r.getVideoTracks()[0];return e.addTrack(n,r).setParameters({encodings:[{rid:"RID1",maxBitrate:4e4},{rid:"RID2",maxBitrate:1e4}]}),e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}var a=f.default.parse(r.sdp);return g.extractRtpCapabilities(a)})).catch((function(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}throw r}))}},{key:"tag",get:function(){return"Firefox65"}}]),e}();t.default=R},function(e,t,r){r(203),e.exports=r(7).Object.assign},function(e,t,r){var n=r(11);n(n.S+n.F,"Object",{assign:r(204)})},function(e,t,r){"use strict";var n=r(22),a=r(47),i=r(74),o=r(57),s=r(31),c=r(70),u=Object.assign;e.exports=!u||r(33)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=s(e),u=arguments.length,d=1,l=i.f,p=o.f;u>d;)for(var f,m=c(arguments[d++]),h=l?a(m).concat(l(m)):a(m),v=h.length,_=0;v>_;)f=h[_++],n&&!p.call(m,f)||(r[f]=m[f]);return r}:u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(82)),o=w(r(6)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(35)),y=w(r(36)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Firefox59"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._stream=new MediaStream,n._nextRid=1,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._stream.getTrackById(r.id))return o.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0,s=void 0;return o.default.resolve().then((function(){t._stream.addTrack(r),a=t._pc.addTrack(r,t._stream)})).then((function(){var r=[];e.simulcast&&(P.debug("addProducer() | enabling simulcast"),e.simulcast.high&&r.push({rid:"high"+t._nextRid,active:!0,priority:"low",maxBitrate:e.simulcast.high}),e.simulcast.medium&&r.push({rid:"medium"+t._nextRid,active:!0,priority:"medium",maxBitrate:e.simulcast.medium}),e.simulcast.low&&r.push({rid:"low"+t._nextRid,active:!0,priority:"high",maxBitrate:e.simulcast.low}),t._nextRid++);var n=a.getParameters();return a.setParameters((0,i.default)({},n,{encodings:r}))})).then((function(){return t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){s=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(s);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var a={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)})).then((function(){var a=h.clone(t._rtpParametersByKind[e.kind]);return a&&a.codecs&&(a.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&a.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],a)),g.fillRtpParametersForTrack(a,s,r),a})).catch((function(e){try{t._pc.removeTrack(a)}catch(e){}throw t._stream.removeTrack(r),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return o.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._stream.removeTrack(n),r._stream.addTrack(t)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"updateTrack",value:function(e,t){var r,n,a=this;P.debug("update Track() [trackId:%s]",t.id);var i="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(i=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){n=a._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return a._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,i),e.simulcast){P.debug("updateTrack() | enabling simulcast");var o=p.default.parse(r.sdp);g.addPlanBSimulcast(o,t,{mid:n.mid}),r={type:"offer",sdp:p.default.write(o)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),a._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(a._pc.localDescription.sdp);var t=a._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var n={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,i)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",n),a._pc.setRemoteDescription(n)})).then((function(){var o=h.clone(a._rtpParametersByKind[e.kind]);return o&&o.codecs&&(o.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+i&&o.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",a._rtpParametersByKind[e.kind],o)),g.fillRtpParametersForTrack(o,r,t,{mid:n.mid,planBSimulcast:!0}),o})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={mid:""+e.kind[0]+e.id,kind:e.kind,closed:e.closed,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getTransceivers().find((function(e){var t=e.receiver;return!!t&&(!!t.track&&e.mid===i.mid)}));if(!e)throw new Error("remote track not found");return e.receiver.track}))}},{key:"removeConsumer",value:function(e){var t=this;P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");var r=t.captureStream(),n=r.getVideoTracks()[0];return e.addTrack(n,r).setParameters({encodings:[{rid:"RID1",maxBitrate:4e4},{rid:"RID2",maxBitrate:1e4}]}),e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}var a=p.default.parse(r.sdp);return _.extractRtpCapabilities(a)})).catch((function(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}throw r}))}},{key:"tag",get:function(){return"Firefox59"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(82)),o=w(r(6)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(35)),y=w(r(36)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("Firefox50"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._stream=new MediaStream,n._nextRid=1,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._stream.getTrackById(r.id))return o.default.reject(new Error("track already added"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0,s=void 0;return o.default.resolve().then((function(){t._stream.addTrack(r),a=t._pc.addTrack(r,t._stream)})).then((function(){var r=[];e.simulcast&&(P.debug("addProducer() | enabling simulcast"),e.simulcast.high&&r.push({rid:"high"+t._nextRid,active:!0,priority:"low",maxBitrate:e.simulcast.high}),e.simulcast.medium&&r.push({rid:"medium"+t._nextRid,active:!0,priority:"medium",maxBitrate:e.simulcast.medium}),e.simulcast.low&&r.push({rid:"low"+t._nextRid,active:!0,priority:"high",maxBitrate:e.simulcast.low}),t._nextRid++);var n=a.getParameters();return a.setParameters((0,i.default)({},n,{encodings:r}))})).then((function(){return t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){s=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(s);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var a={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};return P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",a),t._pc.setRemoteDescription(a)})).then((function(){var a=h.clone(t._rtpParametersByKind[e.kind]);return a&&a.codecs&&(a.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&a.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],a)),g.fillRtpParametersForTrack(a,s,r),a})).catch((function(e){try{t._pc.removeTrack(a)}catch(e){}throw t._stream.removeTrack(r),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id);var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){var e=t._pc.getSenders().find((function(e){return e.track===r}));if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).then((function(){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};return P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i),t._pc.setRemoteDescription(i)}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return o.default.resolve().then((function(){var e=r._pc.getSenders().find((function(e){return e.track===n}));if(!e)throw new Error("local track not found");return e.replaceTrack(t)})).then((function(){r._stream.removeTrack(n),r._stream.addTrack(t)}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"updateTrack",value:function(e,t){var r,n,a=this;P.debug("update Track() [trackId:%s]",t.id);var i="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(i=e.audioProfile.codec.toLowerCase()),o.default.resolve().then((function(){n=a._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return a._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,i),e.simulcast){P.debug("updateTrack() | enabling simulcast");var o=p.default.parse(r.sdp);g.addPlanBSimulcast(o,t,{mid:n.mid}),r={type:"offer",sdp:p.default.write(o)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),a._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(a._pc.localDescription.sdp);var t=a._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var n={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,i)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",n),a._pc.setRemoteDescription(n)})).then((function(){var o=h.clone(a._rtpParametersByKind[e.kind]);return o&&o.codecs&&(o.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+i&&o.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",a._rtpParametersByKind[e.kind],o)),g.fillRtpParametersForTrack(o,r,t,{mid:n.mid,planBSimulcast:!0}),o})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));n._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new a.default;return n._consumerInfos.set(555,{mid:"fake-dc",kind:"application",closed:!1,cname:null}),n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return o.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,i={mid:""+e.kind[0]+e.id,kind:e.kind,closed:e.closed,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(i.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,i),o.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getReceivers().find((function(e){var t=e.track;return!!t&&t.id===i.trackId}));if(!e)throw new Error("remote track not found");return e.track}))}},{key:"removeConsumer",value:function(e){var t=this;P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):o.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),o.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._consumerInfos.values()))};return P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),o.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");var r=t.captureStream(),n=r.getVideoTracks()[0];return e.addTrack(n,r).setParameters({encodings:[{rid:"RID1",maxBitrate:4e4},{rid:"RID2",maxBitrate:1e4}]}),e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}var a=p.default.parse(r.sdp);return _.extractRtpCapabilities(a)})).catch((function(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}throw r}))}},{key:"tag",get:function(){return"Firefox50"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(r(17)),a=_(r(8)),i=_(r(2)),o=_(r(6)),s=_(r(0)),c=_(r(3)),u=_(r(1)),d=_(r(4)),l=_(r(5)),p=_(r(10)),f=v(r(9)),m=v(r(15)),h=v(r(208));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var g="CNAME-EDGE-"+f.randomNumber(),y=new l.default("Edge11"),b=function(e){function t(e,r,n){(0,s.default)(this,t);var o=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y));return y.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",e,r),o._rtpParametersByKind={audio:m.getSendingRtpParameters("audio",r),video:m.getSendingRtpParameters("video",r)},o._transportReady=!1,o._iceGatherer=null,o._iceTransport=null,o._dtlsTransport=null,o._rtpSenders=new a.default,o._rtpReceivers=new a.default,o._transportRemoteParameters=null,o._setIceGatherer(n),o._setIceTransport(),o._setDtlsTransport(),o}return(0,d.default)(t,e),(0,u.default)(t,null,[{key:"getNativeRtpCapabilities",value:function(){return y.debug("getNativeRtpCapabilities()"),o.default.resolve(h.getCapabilities())}},{key:"tag",get:function(){return"Edge11"}}]),(0,u.default)(t,[{key:"close",value:function(){y.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}var e=!0,t=!1,r=void 0;try{for(var a,i=(0,n.default)(this._rtpSenders.values());!(e=(a=i.next()).done);e=!0){var o=a.value;try{o.stop()}catch(e){}}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}var s=!0,c=!1,u=void 0;try{for(var d,l=(0,n.default)(this._rtpReceivers.values());!(s=(d=l.next()).done);s=!0){var p=d.value;try{p.stop()}catch(e){}}}catch(e){c=!0,u=e}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}}},{key:"remoteClosed",value:function(){y.debug("remoteClosed()"),this._transportReady=!1}},{key:"addProducer",value:function(e){var t=this,r=e.track;return y.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._rtpSenders.has(e.id)?o.default.reject(new Error("Producer already added")):o.default.resolve().then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){y.debug("addProducer() | calling new RTCRtpSender()");var n=new RTCRtpSender(r,t._dtlsTransport),a=f.clone(t._rtpParametersByKind[e.kind]),i={ssrc:f.randomNumber()};a.codecs.some((function(e){return"rtx"===e.name}))&&(i.rtx={ssrc:f.randomNumber()}),a.encodings.push(i),a.rtcp={cname:g,reducedSize:!0,mux:!0};var o=h.mangleRtpParameters(a);return y.debug("addProducer() | calling rtpSender.send() [params:%o]",o),n.send(o),t._rtpSenders.set(e.id,n),a}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return y.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),o.default.resolve().then((function(){var r=t._rtpSenders.get(e.id);if(!r)throw new Error("RTCRtpSender not found");t._rtpSenders.delete(e.id);try{y.debug("removeProducer() | calling rtpSender.stop()"),r.stop()}catch(e){y.warn("rtpSender.stop() failed:%o",e)}}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;return y.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id),o.default.resolve().then((function(){var n=r._rtpSenders.get(e.id);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(t)}))}},{key:"addConsumer",value:function(e){var t=this;return y.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._rtpReceivers.has(e.id)?o.default.reject(new Error("Consumer already added")):o.default.resolve().then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){y.debug("addConsumer() | calling new RTCRtpReceiver()");var r=new RTCRtpReceiver(t._dtlsTransport,e.kind);r.addEventListener("error",(function(e){y.error(\'iceGatherer "error" event [event:%o]\',e)}));var n=h.mangleRtpParameters(e.rtpParameters);return n.headerExtensions=n.headerExtensions.filter((function(e){return"urn:ietf:params:rtp-hdrext:sdes:mid"!==e.uri})),y.debug("addConsumer() | calling rtpReceiver.receive() [params:%o]",n),r.receive(n),t._rtpReceivers.set(e.id,r),r.track}))}},{key:"removeConsumer",value:function(e){var t=this;return y.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),o.default.resolve().then((function(){var r=t._rtpReceivers.get(e.id);if(!r)throw new Error("RTCRtpReceiver not found");t._rtpReceivers.delete(e.id);try{y.debug("removeConsumer() | calling rtpReceiver.stop()"),r.stop()}catch(e){y.warn("rtpReceiver.stop() failed:%o",e)}}))}},{key:"restartIce",value:function(e){var t=this;y.debug("restartIce()"),o.default.resolve().then((function(){t._transportRemoteParameters.iceParameters=e;var r=t._transportRemoteParameters.iceCandidates;y.debug("restartIce() | calling iceTransport.start()"),t._iceTransport.start(t._iceGatherer,e,"controlling");var a=!0,i=!1,o=void 0;try{for(var s,c=(0,n.default)(r);!(a=(s=c.next()).done);a=!0){var u=s.value;t._iceTransport.addRemoteCandidate(u)}}catch(e){i=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}t._iceTransport.addRemoteCandidate({})}))}},{key:"_setIceGatherer",value:function(e){var t=new RTCIceGatherer({iceServers:e.turnServers||[],gatherPolicy:e.iceTransportPolicy});t.addEventListener("error",(function(e){y.error(\'iceGatherer "error" event [event:%o]\',e)}));try{t.gather()}catch(e){y.debug("iceGatherer.gather() failed: %s",e.toString())}this._iceGatherer=t}},{key:"_setIceTransport",value:function(){var e=this,t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("icestatechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("candidatepairchange",(function(e){y.debug(\'iceTransport "candidatepairchange" event [pair:%o]\',e.pair)})),this._iceTransport=t}},{key:"_setDtlsTransport",value:function(){var e=this,t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",(function(){y.debug(\'dtlsTransport "statechange" event [state:%s]\',t.state)})),t.addEventListener("dtlsstatechange",(function(){y.debug(\'dtlsTransport "dtlsstatechange" event [state:%s]\',t.state),"closed"===t.state&&e.emit("@connectionstatechange","closed")})),t.addEventListener("error",(function(e){y.error(\'dtlsTransport "error" event [event:%o]\',e)})),this._dtlsTransport=t}},{key:"_setupTransport",value:function(){var e=this;return y.debug("_setupTransport()"),o.default.resolve().then((function(){var t={},r=e._dtlsTransport.getLocalParameters();return r.role="server",t.dtlsParameters=r,e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._transportRemoteParameters=t;var r=t.iceParameters,a=t.iceCandidates,i=t.dtlsParameters;e._iceTransport.start(e._iceGatherer,r,"controlling");var o=!0,s=!1,c=void 0;try{for(var u,d=(0,n.default)(a);!(o=(u=d.next()).done);o=!0){var l=u.value;e._iceTransport.addRemoteCandidate(l)}}catch(e){s=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}e._iceTransport.addRemoteCandidate({}),i.fingerprints=i.fingerprints.filter((function(e){return"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm})),e._dtlsTransport.start(i),e._transportReady=!0}))}}]),t}(p.default);t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(17),i=(n=a)&&n.__esModule?n:{default:n};t.getCapabilities=function(){var e=RTCRtpReceiver.getCapabilities(),t=o.clone(e),r=!0,n=!1,a=void 0;try{for(var s,c=(0,i.default)(t.codecs);!(r=(s=c.next()).done);r=!0){var u=s.value;if(u.channels=u.numChannels,delete u.numChannels,"audio"!==u.kind?delete u.channels:u.channels||(u.channels=1),u.mimeType=u.kind+"/"+u.name,u.parameters){var d=u.parameters;d.apt&&(d.apt=Number(d.apt)),d["packetization-mode"]&&(d["packetization-mode"]=Number(d["packetization-mode"]))}var l=!0,p=!1,f=void 0;try{for(var m,h=(0,i.default)(u.rtcpFeedback||[]);!(l=(m=h.next()).done);l=!0){var v=m.value;v.parameter||delete v.parameter}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}}}catch(e){n=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw a}}return t},t.mangleRtpParameters=function(e){var t=o.clone(e),r=!0,n=!1,a=void 0;try{for(var s,c=(0,i.default)(t.codecs);!(r=(s=c.next()).done);r=!0){var u=s.value;u.channels&&(u.numChannels=u.channels,delete u.channels),delete u.mimeType}}catch(e){n=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw a}}return t};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(r(16)),a=w(r(8)),i=w(r(6)),o=w(r(19)),s=w(r(2)),c=w(r(0)),u=w(r(1)),d=w(r(3)),l=w(r(4)),p=w(r(12)),f=w(r(5)),m=w(r(10)),h=k(r(9)),v=k(r(15)),_=k(r(20)),g=k(r(42)),y=w(r(43)),b=w(r(23));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=new f.default("ReactNative"),S=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,P));return a._pc=new RTCPeerConnection({iceServers:n.turnServers||[],iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),a._rtpParametersByKind=r,a._remoteSdp=new y.default(e,r),a._pc.addEventListener("iceconnectionstatechange",(function(){switch(a._pc.iceConnectionState){case"checking":a.emit("@connectionstatechange","connecting");break;case"connected":case"completed":a.emit("@connectionstatechange","connected");break;case"failed":a.emit("@connectionstatechange","failed");break;case"disconnected":a.emit("@connectionstatechange","disconnected");break;case"closed":a.emit("@connectionstatechange","closed")}})),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(){P.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){P.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}}]),t}(m.default),I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"send",e,r));return n._transportReady=!1,n._tracks=new o.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addProducer",value:function(e){var t=this,r=e.track;if(P.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._tracks.has(r))return i.default.reject(new Error("track already added"));if(!r.streamReactTag)return i.default.reject(new Error("no track.streamReactTag property"));var n="isac";e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase());var a=void 0,o=void 0;return i.default.resolve().then((function(){return t._tracks.add(r),(a=new MediaStream(r.streamReactTag)).addTrack(r),t._pc.addStream(a),t._pc.createOffer()})).then((function(a){if(a.sdp=b.default.setVideoBitrates(a.sdp,e.videoBitrateOptions),a.sdp=b.default.setOpusAttributes(a.sdp,e.audioProfile),a.sdp=b.default.setSpecialAudioCodec(a.sdp,n),e.simulcast){P.debug("addProducer() | enabling simulcast");var i=p.default.parse(a.sdp);g.addSimulcastForTrack(i,r),a={type:"offer",sdp:p.default.write(i)}}P.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",a);var o=new RTCSessionDescription(a);return t._pc.setLocalDescription(o)})).then((function(){if(!t._transportReady)return t._setupTransport()})).then((function(){o=p.default.parse(t._pc.localDescription.sdp);var r=t._remoteSdp.createAnswerSdp(o);r=b.default.setVideoBitrates(r,e.videoBitrateOptions),r=b.default.setOpusAttributes(r,e.audioProfile);var a={type:"answer",sdp:r=b.default.setSpecialAudioCodec(r,n)};P.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",a);var i=new RTCSessionDescription(a);return t._pc.setRemoteDescription(i)})).then((function(){var a=h.clone(t._rtpParametersByKind[e.kind]);return a&&a.codecs&&(a.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+n&&a.codecs.splice(t,1)})),P.debug("addProducer() _rtpParametersByKind: %o - rtpParameters: %o",t._rtpParametersByKind[e.kind],a)),g.fillRtpParametersForTrack(a,o,r),a})).catch((function(e){throw t._tracks.delete(r),a.removeTrack(r),t._pc.removeStream(a),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;if(P.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),!r.streamReactTag)return i.default.reject(new Error("no track.streamReactTag property"));var n="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(n=e.audioProfile.codec.toLowerCase()),i.default.resolve().then((function(){t._tracks.delete(r);var e=new MediaStream(r.streamReactTag);return e.addTrack(r),t._pc.removeStream(e),t._pc.createOffer()})).then((function(r){return r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,n),P.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",r),t._pc.setLocalDescription(r)})).catch((function(e){if(0!==t._tracks.size)throw e;P.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())})).then((function(){if("stable"!==t._pc.signalingState){var r=p.default.parse(t._pc.localDescription.sdp),a=t._remoteSdp.createAnswerSdp(r);a=b.default.setVideoBitrates(a,e.videoBitrateOptions),a=b.default.setOpusAttributes(a,e.audioProfile);var i={type:"answer",sdp:a=b.default.setSpecialAudioCodec(a,n)};P.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",i);var o=new RTCSessionDescription(i);return t._pc.setRemoteDescription(o)}}))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;if(P.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id),!t.streamReactTag)return i.default.reject(new Error("no track.streamReactTag property"));var n=e.track,a=void 0,o=void 0,s="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(s=e.audioProfile.codec.toLowerCase()),i.default.resolve().then((function(){return r._tracks.add(t),r._tracks.delete(n),(a=new MediaStream(t.streamReactTag)).addTrack(t),a.removeTrack(n),r._pc.addStream(a),r._pc.createOffer()})).then((function(n){if(n.sdp=b.default.setVideoBitrates(n.sdp,e.videoBitrateOptions),n.sdp=b.default.setOpusAttributes(n.sdp,e.audioProfile),n.sdp=b.default.setSpecialAudioCodec(n.sdp,s),e.simulcast){P.debug("addProducer() | enabling simulcast");var a=p.default.parse(n.sdp);g.addSimulcastForTrack(a,t),n={type:"offer",sdp:p.default.write(a)}}P.debug("replaceProducerTrack() | calling pc.setLocalDescription() [offer:%o]",n);var i=new RTCSessionDescription(n);return r._pc.setLocalDescription(i)})).then((function(){o=p.default.parse(r._pc.localDescription.sdp);var t=r._remoteSdp.createAnswerSdp(o);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var n={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,s)};P.debug("replaceProducerTrack() | calling pc.setRemoteDescription() [answer:%o]",n);var a=new RTCSessionDescription(n);return r._pc.setRemoteDescription(a)})).then((function(){var n=h.clone(r._rtpParametersByKind[e.kind]);n&&n.codecs&&(n.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+s&&n.codecs.splice(t,1)})),P.debug("replaceProducerTrack() _rtpParametersByKind: %o - rtpParameters: %o",r._rtpParametersByKind[e.kind],n)),g.fillRtpParametersForTrack(n,o,t),r.safeEmit("@needupdateproducer",e,n)})).catch((function(e){throw r._tracks.delete(t),a.removeTrack(t),r._pc.addStream(a),e}))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){return t._pc.createOffer({iceRestart:!0})})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){var e=p.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};P.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r);var n=new RTCSessionDescription(r);return t._pc.setRemoteDescription(n)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){var t={},r=e._pc.localDescription.sdp,n=p.default.parse(r),a=_.extractDtlsParameters(n);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0}))}},{key:"updateTrack",value:function(e,t){var r,n=this;P.debug("update Track() [trackId:%s]",t.id);var a="isac";return e.audioProfile&&e.audioProfile.codec&&""!==e.audioProfile.codec&&(a=e.audioProfile.codec.toLowerCase()),i.default.resolve().then((function(){n._pc.getTransceivers().find((function(e){return e.receiver.track.kind===t.kind}))})).then((function(){return n._pc.createOffer()})).then((function(r){if(r.sdp=b.default.setVideoBitrates(r.sdp,e.videoBitrateOptions),r.sdp=b.default.setOpusAttributes(r.sdp,e.audioProfile),r.sdp=b.default.setSpecialAudioCodec(r.sdp,a),e.simulcast){P.debug("updateTrack() | enabling simulcast");var i=p.default.parse(r.sdp);g.addSimulcastForTrack(i,t),r={type:"offer",sdp:p.default.write(i)}}return P.debug("updateTrack() | calling pc.setLocalDescription() [offer:%o]",r),n._pc.setLocalDescription(r)})).then((function(){r=p.default.parse(n._pc.localDescription.sdp);var t=n._remoteSdp.createAnswerSdp(r);t=b.default.setVideoBitrates(t,e.videoBitrateOptions),t=b.default.setOpusAttributes(t,e.audioProfile);var i={type:"answer",sdp:t=b.default.setSpecialAudioCodec(t,a)};return P.debug("updateTrack() | calling pc.setRemoteDescription() [answer:%o]",i),n._pc.setRemoteDescription(i)})).then((function(){var i=h.clone(n._rtpParametersByKind[e.kind]);return i&&i.codecs&&(i.codecs.forEach((function(e,t){0===e.mimeType.indexOf("audio")&&e.mimeType.toLowerCase()!=="audio/"+a&&i.codecs.splice(t,1)})),P.debug("updateTrack() _rtpParametersByKind: %o - rtpParameters: %o",n._rtpParametersByKind[e.kind],i)),g.fillRtpParametersForTrack(i,r,t),i})).catch((function(e){throw e}))}}]),t}(S),T=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,"recv",e,r));return n._transportCreated=!1,n._transportUpdated=!1,n._kinds=new o.default,n._consumerInfos=new a.default,n}return(0,l.default)(t,e),(0,u.default)(t,[{key:"addConsumer",value:function(e){var t=this;if(P.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return i.default.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],a=e.rtpParameters.rtcp.cname,o={kind:e.kind,streamId:"recv-stream-"+e.id,trackId:"consumer-"+e.kind+"-"+e.id,ssrc:r.ssrc,cname:a};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),this._kinds.add(e.kind),i.default.resolve().then((function(){if(!t._transportCreated)return t._setupTransport()})).then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};P.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e);var r=new RTCSessionDescription(e);return t._pc.setRemoteDescription(r)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})).then((function(){if(!t._transportUpdated)return t._updateTransport()})).then((function(){var e=t._pc.getRemoteStreams().find((function(e){return e.id===o.streamId})),r=e.getTrackById(o.trackId);if(r.streamReactTag=e.reactTag,!r)throw new Error("remote track not found");return r}))}},{key:"removeConsumer",value:function(e){var t=this;return P.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};P.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e);var r=new RTCSessionDescription(e);return t._pc.setRemoteDescription(r)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))):i.default.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return P.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),i.default.resolve().then((function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp((0,n.default)(t._kinds),(0,n.default)(t._consumerInfos.values()))};P.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e);var r=new RTCSessionDescription(e);return t._pc.setRemoteDescription(r)})).then((function(){return t._pc.createAnswer()})).then((function(e){return P.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}))}},{key:"_setupTransport",value:function(){var e=this;return P.debug("_setupTransport()"),i.default.resolve().then((function(){return e.safeEmitAsPromise("@needcreatetransport",null)})).then((function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0}))}},{key:"_updateTransport",value:function(){P.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=p.default.parse(e),r={dtlsParameters:_.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(S),C=function(){function e(t,r,n){(0,c.default)(this,e),P.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r);var a=void 0;switch(t){case"send":return a={audio:v.getSendingRtpParameters("audio",r),video:v.getSendingRtpParameters("video",r)},new I(a,n);case"recv":return a={audio:v.getReceivingFullRtpParameters("audio",r),video:v.getReceivingFullRtpParameters("video",r)},new T(a,n)}}return(0,u.default)(e,null,[{key:"getNativeRtpCapabilities",value:function(){P.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){try{e.close()}catch(e){}var r=p.default.parse(t.sdp);return _.extractRtpCapabilities(r)})).catch((function(t){try{e.close()}catch(e){}throw t}))}},{key:"tag",get:function(){return"ReactNative"}}]),e}();t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=P(r(16)),a=P(r(61)),i=P(r(26)),o=P(r(17)),s=P(r(6)),c=P(r(8)),u=P(r(2)),d=P(r(0)),l=P(r(1)),p=P(r(3)),f=P(r(4)),m=P(r(5)),h=P(r(10)),v=r(52),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(15)),g=P(r(81)),y=P(r(211)),b=P(r(213)),k=P(r(214)),w=P(r(215));function P(e){return e&&e.__esModule?e:{default:e}}var S=new m.default("<Room>"),I="new",T="joining",C="joined",R="closed",x=function(e){function t(e){(0,d.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,S));if(S.debug("constructor() [options:%o]",e),!g.default.isSupported())throw new Error("current browser/device not supported");return e=e||{},r._settings={roomSettings:e.roomSettings,requestTimeout:e.requestTimeout||3e4,transportOptions:e.transportOptions||{},turnServers:e.turnServers||[],iceTransportPolicy:e.iceTransportPolicy||"all",spy:Boolean(e.spy)},r._state=I,r._peerName=null,r._transports=new c.default,r._producers=new c.default,r._peers=new c.default,r._extendedRtpCapabilities=null,r._canSendByKind={audio:!1,video:!1},r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"getTransportById",value:function(e){return this._transports.get(e)}},{key:"getProducerById",value:function(e){return this._producers.get(e)}},{key:"getPeerByName",value:function(e){return this._peers.get(e)}},{key:"join",value:function(e,t){var r=this;if(S.debug(\'join() [peerName:"%s"]\',e),"string"!=typeof e)return s.default.reject(new TypeError("invalid peerName"));if(this._state!==I&&this._state!==R)return s.default.reject(new v.InvalidStateError(\'invalid state "\'+this._state+\'"\'));this._peerName=e,this._state=T;var n=void 0;return s.default.resolve().then((function(){return r._settings.roomSettings?void(n=r._settings.roomSettings):r._sendRequest("queryRoom",{target:"room"}).then((function(e){n=e,S.debug("join() | got Room settings:%o",n)}))})).then((function(){return g.default.Handler.getNativeRtpCapabilities()})).then((function(e){S.debug("join() | native RTP capabilities:%o",e),r._extendedRtpCapabilities=_.getExtendedRtpCapabilities(e,n.rtpCapabilities),S.debug("join() | extended RTP capabilities:%o",r._extendedRtpCapabilities);var a=_.getUnsupportedCodecs(n.rtpCapabilities,n.mandatoryCodecPayloadTypes,r._extendedRtpCapabilities);if(a.length>0)throw S.error("%s mandatory room codecs not supported:%o",a.length,a),new v.UnsupportedError("mandatory room codecs not supported",a);r._canSendByKind.audio=_.canSend("audio",r._extendedRtpCapabilities),r._canSendByKind.video=_.canSend("video",r._extendedRtpCapabilities);var i=_.getRtpCapabilities(r._extendedRtpCapabilities);S.debug("join() | effective local RTP capabilities for receiving:%o",i);var o={target:"room",peerName:r._peerName,rtpCapabilities:i,spy:r._settings.spy,appData:t};return r._sendRequest("join",o).then((function(e){return e.peers}))})).then((function(e){var t=!0,n=!1,a=void 0;try{for(var i,s=(0,o.default)(e||[]);!(t=(i=s.next()).done);t=!0){var c=i.value;try{r._handlePeerData(c)}catch(e){S.error("join() | error handling Peer:%o",e)}}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return r._state=C,S.debug("join() | joined the Room"),r.peers})).catch((function(e){throw r._state=I,e}))}},{key:"leave",value:function(e){if(S.debug("leave()"),!this.closed){this._sendNotification("leave",{appData:e}),this._state=R,this.safeEmit("close","local",e);var t=!0,r=!1,n=void 0;try{for(var a,i=(0,o.default)(this._transports.values());!(t=(a=i.next()).done);t=!0){a.value.close()}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}var s=!0,c=!1,u=void 0;try{for(var d,l=(0,o.default)(this._producers.values());!(s=(d=l.next()).done);s=!0){d.value.close()}}catch(e){c=!0,u=e}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}var p=!0,f=!1,m=void 0;try{for(var h,v=(0,o.default)(this._peers.values());!(p=(h=v.next()).done);p=!0){h.value.close()}}catch(e){f=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw m}}}}},{key:"remoteClose",value:function(e){if(S.debug("remoteClose()"),!this.closed){this._state=R,this.safeEmit("close","remote",e);var t=!0,r=!1,n=void 0;try{for(var a,i=(0,o.default)(this._transports.values());!(t=(a=i.next()).done);t=!0){a.value.remoteClose(null,{destroy:!0})}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}var s=!0,c=!1,u=void 0;try{for(var d,l=(0,o.default)(this._producers.values());!(s=(d=l.next()).done);s=!0){d.value.remoteClose()}}catch(e){c=!0,u=e}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}var p=!0,f=!1,m=void 0;try{for(var h,v=(0,o.default)(this._peers.values());!(p=(h=v.next()).done);p=!0){h.value.remoteClose()}}catch(e){f=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw m}}}}},{key:"canSend",value:function(e){if("audio"!==e&&"video"!==e)throw new TypeError(\'invalid kind "\'+e+\'"\');return!(!this.joined||this._settings.spy)&&this._canSendByKind[e]}},{key:"createTransport",value:function(e,t){var r=this;if(S.debug("createTransport() [direction:%s]",e),!this.joined)throw new v.InvalidStateError(\'invalid state "\'+this._state+\'"\');if("send"!==e&&"recv"!==e)throw new TypeError(\'invalid direction "\'+e+\'"\');if("send"===e&&this._settings.spy)throw new TypeError("a spy peer cannot send media to the room");var n=new y.default(e,this._extendedRtpCapabilities,this._settings,t);return this._transports.set(n.id,n),n.on("@request",(function(e,t,n,a){r._sendRequest(e,t).then(n).catch(a)})),n.on("@notify",(function(e,t){r._sendNotification(e,t)})),n.on("@close",(function(){r._transports.delete(n.id)})),n}},{key:"createProducer",value:function(e,t,r){var n=this;if(S.debug("createProducer() [track:%o, options:%o]",e,t),!this.joined)throw new v.InvalidStateError(\'invalid state "\'+this._state+\'"\');if(this._settings.spy)throw new Error("a spy peer cannot send media to the room");if(!e)throw new TypeError("no track given");if(!this._canSendByKind[e.kind])throw new Error("cannot send "+e.kind);if("ended"===e.readyState)throw new Error(\'track.readyState is "ended"\');t=t||{};var a=new b.default(e,t,r);return this._producers.set(a.id,a),a.on("@close",(function(){n._producers.delete(a.id)})),a}},{key:"restartIce",value:function(e,t){if(this.joined){var r=!0,n=!1,a=void 0;try{for(var i,s=(0,o.default)(this._transports.values());!(r=(i=s.next()).done);r=!0){i.value.restartIce(e,t)}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}}else S.warn(\'restartIce() | invalid state "\'+this._state+\'"\')}},{key:"receiveNotification",value:function(e){var t=this;if(this.closed)return s.default.reject(new v.InvalidStateError("Room closed"));if("object"!==(void 0===e?"undefined":(0,i.default)(e)))return s.default.reject(new TypeError("wrong notification Object"));if(!0!==e.notification)return s.default.reject(new TypeError("not a notification"));if("string"!=typeof e.method)return s.default.reject(new TypeError("wrong/missing notification method"));var r=e.method;return"producerStats"!==r&&"consumerStats"!==r&&S.debug("receiveNotification() [method:%s, notification:%o]",r,e),s.default.resolve().then((function(){switch(r){case"closed":var n=e.appData;t.remoteClose(n);break;case"transportClosed":var a=e.id,i=e.appData,o=t._transports.get(a);if(!o)throw new Error(\'Transport not found [id:"\'+a+\'"]\');o.remoteClose(i,{destroy:!1});break;case"transportStats":var s=e.id,c=e.stats,u=t._transports.get(s);if(!u)throw new Error("Transport not found [id:"+s+"]");u.remoteStats(c);break;case"newPeer":var d=e.name;if(t._peers.has(d))throw new Error(\'Peer already exists [name:"\'+d+\'"]\');var l=e;t._handlePeerData(l);break;case"peerClosed":var p=e.name,f=e.appData,m=t._peers.get(p);if(!m)throw new Error(\'no Peer found [name:"\'+p+\'"]\');m.remoteClose(f);break;case"producerPaused":var h=e.id,v=e.appData,_=t._producers.get(h);if(!_)throw new Error("Producer not found [id:"+h+"]");_.remotePause(v);break;case"producerResumed":var g=e.id,y=e.appData,b=t._producers.get(g);if(!b)throw new Error("Producer not found [id:"+g+"]");b.remoteResume(y);break;case"producerClosed":var k=e.id,w=e.appData,P=t._producers.get(k);if(!P)throw new Error("Producer not found [id:"+k+"]");P.remoteClose(w);break;case"producerStats":var S=e.id,I=e.stats,T=t._producers.get(S);if(!T)throw new Error("Producer not found [id:"+S+"]");T.remoteStats(I);break;case"newConsumer":var C=e.peerName,R=t._peers.get(C);if(!R)throw new Error(\'no Peer found [name:"\'+C+\'"]\');var x=e;t._handleConsumerData(x,R);break;case"consumerClosed":var A=e.id,E=e.peerName,D=e.appData,O=t._peers.get(E);if(!O)throw new Error(\'no Peer found [name:"\'+E+\'"]\');var L=O.getConsumerById(A);if(!L)throw new Error("Consumer not found [id:"+A+"]");L.remoteClose(D);break;case"consumerPaused":var M=e.id,j=e.peerName,B=e.appData,V=t._peers.get(j);if(!V)throw new Error(\'no Peer found [name:"\'+j+\'"]\');var N=V.getConsumerById(M);if(!N)throw new Error("Consumer not found [id:"+M+"]");N.remotePause(B);break;case"consumerResumed":var F=e.id,U=e.peerName,G=e.appData,W=t._peers.get(U);if(!W)throw new Error(\'no Peer found [name:"\'+U+\'"]\');var K=W.getConsumerById(F);if(!K)throw new Error("Consumer not found [id:"+F+"]");K.remoteResume(G);break;case"consumerPreferredProfileSet":var z=e.id,q=e.peerName,H=e.profile,J=t._peers.get(q);if(!J)throw new Error(\'no Peer found [name:"\'+q+\'"]\');var Q=J.getConsumerById(z);if(!Q)throw new Error("Consumer not found [id:"+z+"]");Q.remoteSetPreferredProfile(H);break;case"consumerEffectiveProfileChanged":var Y=e.id,$=e.peerName,X=e.profile,Z=t._peers.get($);if(!Z)throw new Error(\'no Peer found [name:"\'+$+\'"]\');var ee=Z.getConsumerById(Y);if(!ee)throw new Error("Consumer not found [id:"+Y+"]");ee.remoteEffectiveProfileChanged(X);break;case"consumerStats":var te=e.id,re=e.peerName,ne=e.stats,ae=t._peers.get(re);if(!ae)throw new Error(\'no Peer found [name:"\'+re+\'"]\');var ie=ae.getConsumerById(te);if(!ie)throw new Error("Consumer not found [id:"+te+"]");ie.remoteStats(ne);break;default:throw new Error(\'unknown notification method "\'+r+\'"\')}})).catch((function(t){S.error("receiveNotification() failed [notification:%o]: %s",e,t)}))}},{key:"_sendRequest",value:function(e,t){var r=this,n=(0,a.default)({method:e,target:"peer"},t);return this.closed?(S.error("_sendRequest() | Room closed [method:%s, request:%o]",e,n),s.default.reject(new v.InvalidStateError("Room closed"))):(S.debug("_sendRequest() [method:%s, request:%o]",e,n),new s.default((function(t,a){var i=!1,o=setTimeout((function(){S.error("request failed [method:%s]: timeout",e),i=!0,a(new v.TimeoutError("timeout"))}),r._settings.requestTimeout);r.safeEmit("request",n,(function(n){if(!i){if(i=!0,clearTimeout(o),r.closed)return S.error("request failed [method:%s]: Room closed",e),void a(new Error("Room closed"));S.debug("request succeeded [method:%s, response:%o]",e,n),t(n)}}),(function(t){if(!i){if(i=!0,clearTimeout(o),r.closed)return S.error("request failed [method:%s]: Room closed",e),void a(new Error("Room closed"));t instanceof Error||(t=new Error(String(t))),S.error("request failed [method:%s]:%o",e,t),a(t)}}))})))}},{key:"_sendNotification",value:function(e,t){if(!this.closed){var r=(0,a.default)({method:e,target:"peer",notification:!0},t);S.debug("_sendNotification() [method:%s, notification:%o]",e,r),this.safeEmit("notify",r)}}},{key:"_handlePeerData",value:function(e){var t=this,r=e.name,n=e.consumers,a=e.appData,i=new k.default(r,a);this._peers.set(i.name,i),i.on("@close",(function(){t._peers.delete(i.name)}));var s=!0,c=!1,u=void 0;try{for(var d,l=(0,o.default)(n);!(s=(d=l.next()).done);s=!0){var p=d.value;try{this._handleConsumerData(p,i)}catch(e){S.error("error handling existing Consumer in Peer:%o",e)}}}catch(e){c=!0,u=e}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}this.joined&&this.safeEmit("newpeer",i)}},{key:"_handleConsumerData",value:function(e,t){var r=e.id,n=e.kind,a=e.rtpParameters,i=e.paused,o=e.appData,s=new w.default(r,n,a,t,o);_.canReceive(s.rtpParameters,this._extendedRtpCapabilities)&&s.setSupported(!0),i&&s.remotePause(),t.addConsumer(s)}},{key:"joined",get:function(){return this._state===C}},{key:"closed",get:function(){return this._state===R}},{key:"peerName",get:function(){return this._peerName}},{key:"transports",get:function(){return(0,n.default)(this._transports.values())}},{key:"producers",get:function(){return(0,n.default)(this._producers.values())}},{key:"peers",get:function(){return(0,n.default)(this._peers.values())}}]),t}(h.default);t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(6)),a=h(r(2)),i=h(r(0)),o=h(r(1)),s=h(r(3)),c=h(r(4)),u=h(r(5)),d=h(r(10)),l=r(52),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(9)),f=h(r(81)),m=h(r(212));function h(e){return e&&e.__esModule?e:{default:e}}var v=new u.default("<Transport>"),_=function(e){function t(e,r,n,o){(0,i.default)(this,t);var c=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,v));return v.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",e,r),c._id=p.randomNumber(),c._closed=!1,c._direction=e,c._settings=n,c._appData=o,c._statsEnabled=!1,c._commandQueue=new m.default,c._handler=new f.default.Handler(e,r,n),c._retryTime=0,c._iceRestartInterval=null,c._connectionState="new",c._audioSent=!1,c._videoSent=!1,c._commandQueue.on("exec",c._execCommand.bind(c)),c._handleHandler(),c}return(0,c.default)(t,e),(0,o.default)(t,[{key:"close",value:function(e){v.debug("close()"),this._closed||(this._retryTime=0,this._closed=!0,this._audioSent=!1,this._videoSent=!1,this._statsEnabled&&(this._statsEnabled=!1,this.disableStats()),this.safeEmit("@notify","closeTransport",{id:this._id,appData:e}),this.emit("@close"),this.safeEmit("close","local",e),this._destroy())}},{key:"remoteClose",value:function(e,t){var r=t.destroy;v.debug("remoteClose() [destroy:%s]",r),this._closed||(r?(this._retryTime=0,this._closed=!0,this._audioSent=!1,this._videoSent=!1,this.emit("@close"),this.safeEmit("close","remote",e),this._destroy()):this._handler.remoteClosed())}},{key:"_destroy",value:function(){this.closeRestartIce(),this._commandQueue.close(),this._handler.close()}},{key:"closeRestartIce",value:function(){this._iceRestartInterval&&clearInterval(this._iceRestartInterval),this._iceRestartInterval=null}},{key:"attemptRestartIce",value:function(){var e=this;"connected"!==this.connectionState&&(this.closed||(this.closeRestartIce(),this._retryTime=0,this._iceRestartInterval=setInterval((function(){return e.closed||"connected"===e.connectionState?(e.closeRestartIce(),void v.debug("attemptRestartIce() - id: "+e.id+" [FIN-END] _retryTime: "+e._retryTime+" closed: "+e.closed+" connectionState: "+e.connectionState)):++e._retryTime>=15?(e.closeRestartIce(),v.debug("attemptRestartIce() - id: "+e.id+" [FIN-END] _retryTime: "+e._retryTime+" closed: "+e.closed+" connectionState: "+e.connectionState),void e.safeEmit("restart-ice-fail",{retryTime:e._retryTime})):(v.debug("attemptRestartIce() - retrying ... id: "+e.id+" _retryTime: "+e._retryTime),void e.restartIce(null,(function(t){v.warn("attemptRestartIce() fail - id: "+e.id+" error - "+t.toString())})))}),2e3)))}},{key:"restartIce",value:function(e,t){var r=this;v.debug("restartIce()"),this._closed||"new"!==this._connectionState&&n.default.resolve().then((function(){r.safeEmit("restart-ice-trying",{retryTime:r._retryTime});var e={id:r._id};return r.safeEmitAsPromise("@request","restartTransport",e)})).then((function(e){var t=e.iceParameters;return r._commandQueue.push("restartIce",{remoteIceParameters:t})})).catch((function(e){t&&t(e)}))}},{key:"enableStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;v.debug("enableStats() [interval:%s]",e),("number"!=typeof e||e<1e3)&&(e=1e3),this._statsEnabled=!0;var t={id:this._id,interval:e};this.safeEmit("@notify","enableTransportStats",t)}},{key:"disableStats",value:function(){v.debug("disableStats()"),this._statsEnabled=!1;var e={id:this._id};this.safeEmit("@notify","disableTransportStats",e)}},{key:"_handleHandler",value:function(){var e=this,t=this._handler;t.on("@connectionstatechange",(function(t){"connected"===t&&(e._retryTime=0),e._connectionState!==t&&(v.debug("Transport connection state changed to ["+t+"]"),e._connectionState=t,e._closed||e.safeEmit("connectionstatechange",t))})),t.on("@needcreatetransport",(function(t,r,n){var a={id:e._id,direction:e._direction,options:e._settings.transportOptions,appData:e._appData};t&&(t.dtlsParameters?a.dtlsParameters=t.dtlsParameters:t.plainRtpParameters&&(a.plainRtpParameters=t.plainRtpParameters)),e.safeEmit("@request","createTransport",a,r,n)})),t.on("@needupdatetransport",(function(t){var r={id:e._id};t&&(t.dtlsParameters?r.dtlsParameters=t.dtlsParameters:t.plainRtpParameters&&(r.plainRtpParameters=t.plainRtpParameters)),e.safeEmit("@notify","updateTransport",r)})),t.on("@needupdateproducer",(function(t,r){var n={id:t.id,rtpParameters:r};t.setRtpParameters(r),e.safeEmit("@notify","updateProducer",n)}))}},{key:"addProducer",value:function(e){return v.debug("addProducer() [producer:%o]",e),this._closed?n.default.reject(new l.InvalidStateError("Transport closed")):"send"!==this._direction?n.default.reject(new Error("not a sending Transport")):this._commandQueue.push("addProducer",{producer:e})}},{key:"removeProducer",value:function(e,t,r){v.debug("removeProducer() [producer:%o]",e),this._closed||this._commandQueue.push("removeProducer",{producer:e}).catch((function(){})),"local"===t&&this.safeEmit("@notify","closeProducer",{id:e.id,appData:r})}},{key:"pauseProducer",value:function(e,t){v.debug("pauseProducer() [producer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","pauseProducer",r)}},{key:"resumeProducer",value:function(e,t){v.debug("resumeProducer() [producer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","resumeProducer",r)}},{key:"replaceProducerTrack",value:function(e,t){return v.debug("replaceProducerTrack() [producer:%o]",e),this._commandQueue.push("replaceProducerTrack",{producer:e,track:t})}},{key:"enableProducerStats",value:function(e,t){v.debug("enableProducerStats() [producer:%o]",e);var r={id:e.id,interval:t};this.safeEmit("@notify","enableProducerStats",r)}},{key:"disableProducerStats",value:function(e){v.debug("disableProducerStats() [producer:%o]",e);var t={id:e.id};this.safeEmit("@notify","disableProducerStats",t)}},{key:"addConsumer",value:function(e){return v.debug("addConsumer() [consumer:%o]",e),this._closed?n.default.reject(new l.InvalidStateError("Transport closed")):"recv"!==this._direction?n.default.reject(new Error("not a receiving Transport")):this._commandQueue.push("addConsumer",{consumer:e})}},{key:"removeConsumer",value:function(e){v.debug("removeConsumer() [consumer:%o]",e),this._commandQueue.push("removeConsumer",{consumer:e}).catch((function(){}))}},{key:"pauseConsumer",value:function(e,t){v.debug("pauseConsumer() [consumer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","pauseConsumer",r)}},{key:"resumeConsumer",value:function(e,t){v.debug("resumeConsumer() [consumer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","resumeConsumer",r)}},{key:"setConsumerPreferredProfile",value:function(e,t){v.debug("setConsumerPreferredProfile() [consumer:%o]",e);var r={id:e.id,profile:t};this.safeEmit("@notify","setConsumerPreferredProfile",r)}},{key:"enableConsumerStats",value:function(e,t){v.debug("enableConsumerStats() [consumer:%o]",e);var r={id:e.id,interval:t};this.safeEmit("@notify","enableConsumerStats",r)}},{key:"disableConsumerStats",value:function(e){v.debug("disableConsumerStats() [consumer:%o]",e);var t={id:e.id};this.safeEmit("@notify","disableConsumerStats",t)}},{key:"remoteStats",value:function(e){this.safeEmit("stats",e)}},{key:"getStats",value:function(e){return this._handler.getPCStats(e)}},{key:"removeTrack",value:function(e){return this._handler.removeTrack(e)}},{key:"audioSent",value:function(){return this._audioSent}},{key:"videoSent",value:function(){return this._videoSent}},{key:"updateTrack",value:function(e,t){return this._handler.updateTrack(e,t)}},{key:"_execCommand",value:function(e,t){var r=void 0;try{switch(e.method){case"addProducer":var a=e.producer;r=this._execAddProducer(a);break;case"removeProducer":var i=e.producer;r=this._execRemoveProducer(i);break;case"replaceProducerTrack":var o=e.producer,s=e.track;r=this._execReplaceProducerTrack(o,s);break;case"addConsumer":var c=e.consumer;r=this._execAddConsumer(c);break;case"removeConsumer":var u=e.consumer;r=this._execRemoveConsumer(u);break;case"restartIce":var d=e.remoteIceParameters;r=this._execRestartIce(d);break;default:r=n.default.reject(new Error(\'unknown command method "\'+e.method+\'"\'))}}catch(e){r=n.default.reject(e)}t.promise=r}},{key:"_execAddProducer",value:function(e){var t=this;v.debug("_execAddProducer()");var r=void 0;return n.default.resolve().then((function(){return t._handler.addProducer(e)})).then((function(n){r=n;var a={id:e.id,kind:e.kind,transportId:t._id,rtpParameters:n,paused:e.locallyPaused,appData:e.appData};return t.safeEmitAsPromise("@request","createProducer",a)})).then((function(){e.setRtpParameters(r)}))}},{key:"_execRemoveProducer",value:function(e){return v.debug("_execRemoveProducer()"),this._handler.removeProducer(e)}},{key:"_execReplaceProducerTrack",value:function(e,t){return v.debug("_execReplaceProducerTrack()"),this._handler.replaceProducerTrack(e,t)}},{key:"_execAddConsumer",value:function(e){var t=this;v.debug("_execAddConsumer()");var r=void 0;return n.default.resolve().then((function(){return t._handler.addConsumer(e)})).then((function(n){r=n;var a={id:e.id,transportId:t.id,paused:e.locallyPaused,preferredProfile:e.preferredProfile};return t.safeEmitAsPromise("@request","enableConsumer",a)})).then((function(t){var n=t.paused,a=t.preferredProfile,i=t.effectiveProfile;return n&&e.remotePause(),a&&e.remoteSetPreferredProfile(a),i&&e.remoteEffectiveProfileChanged(i),r}))}},{key:"_execRemoveConsumer",value:function(e){return v.debug("_execRemoveConsumer()"),this._handler.removeConsumer(e)}},{key:"_execRestartIce",value:function(e){return v.debug("_execRestartIce()"),this._handler.restartIce(e)}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"direction",get:function(){return this._direction}},{key:"appData",get:function(){return this._appData}},{key:"connectionState",get:function(){return this._connectionState}},{key:"retryTimes",get:function(){return this._retryTime}},{key:"handler",get:function(){return this._handler}}]),t}(d.default);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(6)),a=f(r(61)),i=f(r(2)),o=f(r(0)),s=f(r(1)),c=f(r(3)),u=f(r(4)),d=r(29),l=f(r(5)),p=r(52);function f(e){return e&&e.__esModule?e:{default:e}}var m=new l.default("<CommandQueue>"),h=function(e){function t(){(0,o.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.setMaxListeners(1/0),e._closed=!1,e._busy=!1,e._queue=[],e}return(0,u.default)(t,e),(0,s.default)(t,[{key:"close",value:function(){this._closed=!0}},{key:"push",value:function(e,t){var r=this,i=(0,a.default)({method:e},t);return m.debug("push() [method:%s]",e),new n.default((function(e,t){var n=r._queue;i.resolve=e,i.reject=t,n.push(i),r._handlePendingCommands()}))}},{key:"_handlePendingCommands",value:function(){var e=this;if(!this._busy){var t=this._queue,r=t[0];r&&(this._busy=!0,this._handleCommand(r).then((function(){e._busy=!1,t.shift(),e._handlePendingCommands()})))}}},{key:"_handleCommand",value:function(e){var t=this;if(m.debug("_handleCommand() [method:%s]",e.method),this._closed)return e.reject(new p.InvalidStateError("closed")),n.default.resolve();var r={promise:null};return this.emit("exec",e,r),n.default.resolve().then((function(){return r.promise})).then((function(r){m.debug("_handleCommand() | command succeeded [method:%s]",e.method),t._closed?e.reject(new p.InvalidStateError("closed")):e.resolve(r)})).catch((function(t){m.error("_handleCommand() | command failed [method:%s]: %o",e.method,t),e.reject(t)}))}}]),t}(d.EventEmitter);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(r(24)),a=v(r(6)),i=v(r(61)),o=v(r(26)),s=v(r(2)),c=v(r(0)),u=v(r(1)),d=v(r(3)),l=v(r(4)),p=v(r(5)),f=v(r(10)),m=r(52),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(9));function v(e){return e&&e.__esModule?e:{default:e}}var _={low:1e5,medium:3e5,high:15e5},g=new p.default("<Producer>"),y=function(e){function t(e,r,n){(0,c.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,g));a._id=h.randomNumber(),a._closed=!1,a._originalTrack=e;try{a._track=e.clone()}catch(t){a._track=e}return a._appData=n,a._simulcast=!1,"object"===(0,o.default)(r.simulcast)?a._simulcast=(0,i.default)({},_,r.simulcast):!0===r.simulcast&&(a._simulcast=(0,i.default)({},_)),a._audioProfile=null,"object"==(0,o.default)(r.audioProfile)&&(a._audioProfile=r.audioProfile),a._videoBitrateOptions=null,"object"===(0,o.default)(r.codecOptions)&&(a._videoBitrateOptions=r.codecOptions),a._transport=null,a._rtpParameters=null,a._locallyPaused=!a._track.enabled,a._remotelyPaused=!1,a._statsEnabled=!1,a._statsInterval=1e3,a._handleTrack(),a}return(0,l.default)(t,e),(0,u.default)(t,[{key:"close",value:function(e){g.debug("close()"),this._closed||(this._closed=!0,this._statsEnabled&&(this._statsEnabled=!1,this.transport&&this.transport.disableProducerStats(this)),this._transport&&this._transport.removeProducer(this,"local",e),this._destroy(),this.emit("@close","local",e),this.safeEmit("close","local",e))}},{key:"remoteClose",value:function(e){g.debug("remoteClose()"),this._closed||(this._closed=!0,this._transport&&this._transport.removeProducer(this,"remote",e),this._destroy(),this.emit("@close","remote",e),this.safeEmit("close","remote",e))}},{key:"_destroy",value:function(){this._transport=!1,this._rtpParameters=null;try{this._track.stop()}catch(e){}}},{key:"send",value:function(e){var t=this;return g.debug("send() [transport:%o]",e),this._closed?a.default.reject(new m.InvalidStateError("Producer closed")):this._transport?a.default.reject(new Error("already handled by a Transport")):"object"!==(void 0===e?"undefined":(0,o.default)(e))?a.default.reject(new TypeError("invalid Transport")):("audio"===this._originalTrack.kind?e._audioSent=!0:"video"===this._originalTrack.kind&&(e._videoSent=!0),this._transport=e,e.addProducer(this).then((function(){e.once("@close",(function(){t._closed||t._transport!==e||(t._transport.removeProducer(t,"local"),t._transport=null,t._rtpParameters=null,t.safeEmit("unhandled"))})),t.safeEmit("handled"),t._statsEnabled&&e.enableProducerStats(t,t._statsInterval)})).catch((function(e){throw t._transport=null,e})))}},{key:"pause",value:function(e){return g.debug("pause()"),!this._closed&&(!!this._locallyPaused||(this._locallyPaused=!0,this._track.enabled=!1,this._transport&&this._transport.pauseProducer(this,e),this.safeEmit("pause","local",e),this.paused))}},{key:"remotePause",value:function(e){g.debug("remotePause()"),this._closed||this._remotelyPaused||(this._remotelyPaused=!0,this._track.enabled=!1,this.safeEmit("pause","remote",e))}},{key:"resume",value:function(e){return g.debug("resume()"),!this._closed&&(!this._locallyPaused||(this._locallyPaused=!1,this._remotelyPaused||(this._track.enabled=!0),this._transport&&this._transport.resumeProducer(this,e),this.safeEmit("resume","local",e),!this.paused))}},{key:"remoteResume",value:function(e){g.debug("remoteResume()"),!this._closed&&this._remotelyPaused&&(this._remotelyPaused=!1,this._locallyPaused||(this._track.enabled=!0),this.safeEmit("resume","remote",e))}},{key:"stopTrack",value:function(){g.debug("stopTrack() ");try{this._track.onended=null,this._track.stop()}catch(e){g.debug("stopTrack() fail - "+e.toString())}}},{key:"replaceTrack",value:function(e){var t=this;if(g.debug("replaceTrack() [track:%o]",e),this._closed)return a.default.reject(new m.InvalidStateError("Producer closed"));if(!e)return a.default.reject(new TypeError("no track given"));if("ended"===e.readyState)return a.default.reject(new Error("track.readyState is [ended]"));var r=void 0;try{r=e.clone()}catch(t){r=e}return a.default.resolve().then((function(){if(t._transport)return t._transport.replaceProducerTrack(t,r)})).then((function(){try{t._track.onended=null,t._track.stop()}catch(e){g.debug("replaceTrack() fail - "+e.toString())}return t.paused?r.enabled=!1:r.enabled=!0,t._originalTrack=e,t._track=r,t._handleTrack(),t._track}))}},{key:"updateTrack",value:function(e,t,r){var a=this;this._track.applyConstraints(t).then((function(){g.debug("updateTrack() track.applyConstraints ok -- constraints: "+(0,n.default)(t)),a.setCodecOption(r),a._transport.updateTrack(a,e)})).catch((function(e){g.warn("updateTrack() error - track.applyConstraints failed - "+e.toString())}))}},{key:"setCodecOption",value:function(e){this._videoBitrateOptions={videoGoogleStartBitrate:e.idealBandwidth,videoGoogleMaxBitrate:e.maxBandwidth,videoGoogleMinBitrate:e.minBandwidth}}},{key:"setRtpParameters",value:function(e){this._rtpParameters=e}},{key:"enableStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;g.debug("enableStats() [interval:%s]",e),this._closed||this._statsEnabled||(this._statsInterval="number"!=typeof e||e<1e3?1e3:e,this._statsEnabled=!0,this._transport&&this._transport.enableProducerStats(this,this._statsInterval))}},{key:"disableStats",value:function(){this._closed||this._statsEnabled&&(this._statsEnabled=!1,this._transport&&this._transport.disableProducerStats(this))}},{key:"enableInternalStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;g.debug("enableInternalStats() [interval:%s]",t),this._closed||this._internalStatsEnabled||("number"!=typeof t||t<1e3?this._interanlStatsInterval=1e3:this._statsInterval=t,this._internalStatsEnabled=!0,this._transport&&(this._internalTimer=setInterval((function(){return e.getStats().then((function(t){e.emit("internalStats",t)}))}),t)))}},{key:"disableInternalStats",value:function(){this._internalStatsEnabled&&clearInterval(this._internalTimer),this._internalTimer=null,this._internalStatsEnabled=!1}},{key:"remoteStats",value:function(e){this.safeEmit("stats",e)}},{key:"getStats",value:function(){return this.transport.getStats(this.track)}},{key:"_handleTrack",value:function(){var e=this;this._track.onended=function(){e._closed||(g.warn(\'track "ended" event\'),e.safeEmit("trackended"))}}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._track.kind}},{key:"track",get:function(){return this._track}},{key:"originalTrack",get:function(){return this._originalTrack}},{key:"simulcast",get:function(){return this._simulcast}},{key:"appData",get:function(){return this._appData}},{key:"transport",get:function(){return this._transport}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"locallyPaused",get:function(){return this._locallyPaused}},{key:"remotelyPaused",get:function(){return this._remotelyPaused}},{key:"paused",get:function(){return this._locallyPaused||this._remotelyPaused}},{key:"videoBitrateOptions",get:function(){return this._videoBitrateOptions}},{key:"audioProfile",get:function(){return this._audioProfile}}]),t}(f.default);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(16)),a=f(r(17)),i=f(r(8)),o=f(r(2)),s=f(r(0)),c=f(r(1)),u=f(r(3)),d=f(r(4)),l=f(r(5)),p=f(r(10));function f(e){return e&&e.__esModule?e:{default:e}}var m=new l.default("<Peer>"),h=function(e){function t(e,r){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,m));return n._name=e,n._closed=!1,n._appData=r,n._consumers=new i.default,n}return(0,d.default)(t,e),(0,c.default)(t,[{key:"close",value:function(){if(m.debug("close()"),!this._closed){this._closed=!0,this.emit("@close"),this.safeEmit("close","local");var e=!0,t=!1,r=void 0;try{for(var n,i=(0,a.default)(this._consumers.values());!(e=(n=i.next()).done);e=!0){n.value.close()}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}}}},{key:"remoteClose",value:function(e){if(m.debug("remoteClose()"),!this._closed){this._closed=!0,this.emit("@close"),this.safeEmit("close","remote",e);var t=!0,r=!1,n=void 0;try{for(var i,o=(0,a.default)(this._consumers.values());!(t=(i=o.next()).done);t=!0){i.value.remoteClose()}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}}}},{key:"getConsumerById",value:function(e){return this._consumers.get(e)}},{key:"addConsumer",value:function(e){var t=this;if(this._consumers.has(e.id))throw new Error("Consumer already exists [id:"+e.id+"]");this._consumers.set(e.id,e),e.on("@close",(function(){t._consumers.delete(e.id)})),this.safeEmit("newconsumer",e)}},{key:"name",get:function(){return this._name}},{key:"closed",get:function(){return this._closed}},{key:"appData",get:function(){return this._appData}},{key:"consumers",get:function(){return(0,n.default)(this._consumers.values())}}]),t}(p.default);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(26)),a=m(r(6)),i=m(r(2)),o=m(r(0)),s=m(r(1)),c=m(r(3)),u=m(r(4)),d=m(r(19)),l=m(r(5)),p=m(r(10)),f=r(52);function m(e){return e&&e.__esModule?e:{default:e}}var h=new d.default(["default","low","medium","high"]),v=new l.default("Consumer"),_=function(e){function t(e,r,n,a,s){(0,o.default)(this,t);var u=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,v));return u._id=e,u._closed=!1,u._kind=r,u._rtpParameters=n,u._peer=a,u._appData=s,u._supported=!1,u._transport=null,u._track=null,u._locallyPaused=!1,u._remotelyPaused=!1,u._statsEnabled=!1,u._statsInterval=1e3,u._preferredProfile="default",u._effectiveProfile=null,u}return(0,u.default)(t,e),(0,s.default)(t,[{key:"close",value:function(){v.debug("close()"),this._closed||(this._closed=!0,this._statsEnabled&&(this._statsEnabled=!1,this.transport&&this.transport.disableConsumerStats(this)),this.emit("@close"),this.safeEmit("close","local"),this._destroy())}},{key:"remoteClose",value:function(){v.debug("remoteClose()"),this._closed||(this._closed=!0,this._transport&&this._transport.removeConsumer(this),this._destroy(),this.emit("@close"),this.safeEmit("close","remote"))}},{key:"_destroy",value:function(){this._transport=null;try{this._track.stop()}catch(e){}this._track=null}},{key:"receive",value:function(e){var t=this;return v.debug("receive() [transport:%o]",e),this._closed?a.default.reject(new f.InvalidStateError("Consumer closed")):this._supported?this._transport?a.default.reject(new Error("already handled by a Transport")):"object"!==(void 0===e?"undefined":(0,n.default)(e))?a.default.reject(new TypeError("invalid Transport")):(this._transport=e,e.addConsumer(this).then((function(r){return t._track=r,t.paused&&(r.enabled=!1),e.once("@close",(function(){if(!t._closed&&t._transport===e){t._transport=null;try{t._track.stop()}catch(e){}t._track=null,t.safeEmit("unhandled")}})),t.safeEmit("handled"),t._statsEnabled&&e.enableConsumerStats(t,t._statsInterval),r})).catch((function(e){throw t._transport=null,e}))):a.default.reject(new Error("unsupported codecs"))}},{key:"pause",value:function(e){return v.debug("pause()"),!this._closed&&(!!this._locallyPaused||(this._locallyPaused=!0,this._track&&(this._track.enabled=!1),this._transport&&this._transport.pauseConsumer(this,e),this.safeEmit("pause","local",e),this.paused))}},{key:"remotePause",value:function(e){v.debug("remotePause()"),this._closed||this._remotelyPaused||(this._remotelyPaused=!0,this._track&&(this._track.enabled=!1),this.safeEmit("pause","remote",e))}},{key:"resume",value:function(e){return v.debug("resume()"),!this._closed&&(!this._locallyPaused||(this._locallyPaused=!1,this._track&&!this._remotelyPaused&&(this._track.enabled=!0),this._transport&&this._transport.resumeConsumer(this,e),this.safeEmit("resume","local",e),!this.paused))}},{key:"remoteResume",value:function(e){v.debug("remoteResume()"),!this._closed&&this._remotelyPaused&&(this._remotelyPaused=!1,this._track&&!this._locallyPaused&&(this._track.enabled=!0),this.safeEmit("resume","remote",e))}},{key:"setPreferredProfile",value:function(e){v.debug("setPreferredProfile() [profile:%s]",e),this._closed?v.warn("setPreferredProfile() | Consumer closed"):e!==this._preferredProfile&&(h.has(e)?(this._preferredProfile=e,this._transport&&this._transport.setConsumerPreferredProfile(this,this._preferredProfile)):v.error(\'setPreferredProfile() | invalid profile "%s"\',e))}},{key:"remoteSetPreferredProfile",value:function(e){v.debug("remoteSetPreferredProfile() [profile:%s]",e),this._closed||e===this._preferredProfile||(this._preferredProfile=e)}},{key:"remoteEffectiveProfileChanged",value:function(e){v.debug("remoteEffectiveProfileChanged() [profile:%s]",e),this._closed||e===this._effectiveProfile||(this._effectiveProfile=e,this.safeEmit("effectiveprofilechange",this._effectiveProfile))}},{key:"enableStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;v.debug("enableStats() [interval:%s]",e),this._closed||this._statsEnabled||(this._statsInterval="number"!=typeof e||e<1e3?1e3:e,this._statsEnabled=!0,this._transport&&this._transport.enableConsumerStats(this,this._statsInterval))}},{key:"disableStats",value:function(){this._closed||this._statsEnabled&&(this._statsEnabled=!1,this._transport&&this._transport.disableConsumerStats(this))}},{key:"setSupported",value:function(e){this._supported=e}},{key:"remoteStats",value:function(e){this.safeEmit("stats",e)}},{key:"getStats",value:function(e){return this.transport.getStats(e)}},{key:"enableInternalStats",value:function(e){var t=this,r=e>0&&void 0!==e?e:1e3;this._closed||this._internalStatsEnabled||(this._interanlStatsInterval="number"!=typeof r||r<1e3?1e3:r,this._internalStatsEnabled=!0,this._transport&&(this._internalTimer=setInterval((function(){return t.getStats().then((function(e){t.emit("internalStats",e)}))}),r)))}},{key:"disableInternalStats",value:function(){this._internalStatsEnabled&&clearInterval(this._internalTimer),this._internalTimer=null,this._internalStatsEnabled=!1}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._kind}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"peer",get:function(){return this._peer}},{key:"appData",get:function(){return this._appData}},{key:"supported",get:function(){return this._supported}},{key:"transport",get:function(){return this._transport}},{key:"track",get:function(){return this._track}},{key:"locallyPaused",get:function(){return this._locallyPaused}},{key:"remotelyPaused",get:function(){return this._remotelyPaused}},{key:"paused",get:function(){return this._locallyPaused||this._remotelyPaused}},{key:"preferredProfile",get:function(){return this._preferredProfile}},{key:"effectiveProfile",get:function(){return this._effectiveProfile}}]),t}(p.default);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemotePlainRtpSdp=t.RemotePlanBSdp=t.RemoteUnifiedPlanSdp=t.sdpPlainRtpUtils=t.sdpPlanBUtils=t.sdpUnifiedPlanUtils=t.sdpCommonUtils=t.ortc=t.utils=t.EnhancedEventEmitter=t.Logger=void 0;var n=h(r(5)),a=h(r(10)),i=m(r(9)),o=m(r(15)),s=m(r(20)),c=m(r(35)),u=m(r(42)),d=m(r(217)),l=h(r(36)),p=h(r(43)),f=h(r(218));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}t.Logger=n.default,t.EnhancedEventEmitter=a.default,t.utils=i,t.ortc=o,t.sdpCommonUtils=s,t.sdpUnifiedPlanUtils=c,t.sdpPlanBUtils=u,t.sdpPlainRtpUtils=d,t.RemoteUnifiedPlanSdp=l.default,t.RemotePlanBSdp=p.default,t.RemotePlainRtpSdp=f.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractPlainRtpParametersByKind=function(e,t){var r=(e.media||[]).find((function(e){return e.type===t}));if(!r)throw new Error("m="+t+" section not found");return{ip:e.connection.ip,port:r.port}},t.fillRtpParametersForKind=function(e,t,r){var n={cname:null,reducedSize:!0,mux:!0},a=(t.media||[]).find((function(e){return e.type===r}));if(!a)throw new Error("m="+r+" section not found");var i=(a.ssrcs||[]).find((function(e){return"cname"===e.attribute})),o=void 0;i&&(o=i.id,n.cname=i.value);e.rtcp=n,e.encodings=[];var s={ssrc:o};e.encodings.push(s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(41)),a=f(r(17)),i=f(r(2)),o=f(r(3)),s=f(r(4)),c=f(r(0)),u=f(r(1)),d=f(r(12)),l=f(r(5)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=new l.default("<RemotePlainRtpSdp>"),h=function(){function e(t){(0,c.default)(this,e),this._rtpParametersByKind=t,this._transportLocalParameters=null,this._transportRemoteParameters=null,this._sdpGlobalFields={id:p.randomNumber(),version:0}}return(0,u.default)(e,[{key:"setTransportLocalParameters",value:function(e){m.debug("setTransportLocalParameters() [transportLocalParameters:%o]",e),this._transportLocalParameters=e}},{key:"setTransportRemoteParameters",value:function(e){m.debug("setTransportRemoteParameters() [transportRemoteParameters:%o]",e),this._transportRemoteParameters=e}}]),e}(),v=function(e){function t(e){return(0,c.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"createAnswerSdp",value:function(e){if(m.debug("createAnswerSdp()"),!this._transportLocalParameters)throw new Error("no transport local parameters");if(!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.plainRtpParameters,r={},i=(e.media||[]).filter((function(e){return e.hasOwnProperty("mid")})).map((function(e){return String(e.mid)}));this._sdpGlobalFields.version++,r.version=0,r.origin={address:t.ip,ipVer:t.version,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},r.name="-",r.timing={start:0,stop:0},r.msidSemantic={semantic:"WMS",token:"*"},i.length>0&&(r.groups=[{type:"BUNDLE",mids:i.join(" ")}]),r.media=[];var o=!0,s=!1,c=void 0;try{for(var u,l=(0,a.default)(e.media||[]);!(o=(u=l.next()).done);o=!0){var p=u.value,f="inactive"===p.direction,h=p.type,v=this._rtpParametersByKind[h].codecs,_=this._rtpParametersByKind[h].headerExtensions,g={};switch(g.type=p.type,g.port=t.port,g.protocol="RTP/AVP",g.connection={ip:t.ip,version:t.version},g.mid=p.mid,p.direction){case"sendrecv":case"sendonly":g.direction="recvonly";break;case"recvonly":case"inactive":g.direction="inactive"}g.rtp=[],g.rtcpFb=[],g.fmtp=[];var y=!0,b=!1,k=void 0;try{for(var w,P=(0,a.default)(v);!(y=(w=P.next()).done);y=!0){var S=w.value,I={payload:S.payloadType,codec:S.name,rate:S.clockRate};if(S.channels>1&&(I.encoding=S.channels),g.rtp.push(I),S.parameters){var T={payload:S.payloadType,config:""},C=!0,R=!1,x=void 0;try{for(var A,E=(0,a.default)((0,n.default)(S.parameters));!(C=(A=E.next()).done);C=!0){var D=A.value;T.config&&(T.config+=";"),T.config+=D+"="+S.parameters[D]}}catch(e){R=!0,x=e}finally{try{!C&&E.return&&E.return()}finally{if(R)throw x}}T.config&&g.fmtp.push(T)}if(S.rtcpFeedback){var O=!0,L=!1,M=void 0;try{for(var j,B=(0,a.default)(S.rtcpFeedback);!(O=(j=B.next()).done);O=!0){var V=j.value;g.rtcpFb.push({payload:S.payloadType,type:V.type,subtype:V.parameter||""})}}catch(e){L=!0,M=e}finally{try{!O&&B.return&&B.return()}finally{if(L)throw M}}}}}catch(e){b=!0,k=e}finally{try{!y&&P.return&&P.return()}finally{if(b)throw k}}if(g.payloads=v.map((function(e){return e.payloadType})).join(" "),!f){g.ext=[];var N=!0,F=!1,U=void 0;try{for(var G,W=function(){var e=G.value;if(!(p.ext||[]).find((function(t){return t.uri===e.uri})))return"continue";g.ext.push({uri:e.uri,value:e.id})},K=(0,a.default)(_);!(N=(G=K.next()).done);N=!0)W()}catch(e){F=!0,U=e}finally{try{!N&&K.return&&K.return()}finally{if(F)throw U}}}if(p.simulcast_03){g.simulcast_03={value:p.simulcast_03.value.replace(/send/g,"recv")},g.rids=[];var z=!0,q=!1,H=void 0;try{for(var J,Q=(0,a.default)(p.rids||[]);!(z=(J=Q.next()).done);z=!0){var Y=J.value;"send"===Y.direction&&g.rids.push({id:Y.id,direction:"recv"})}}catch(e){q=!0,H=e}finally{try{!z&&Q.return&&Q.return()}finally{if(q)throw H}}}g.rtcpMux="rtcp-mux",g.rtcpRsize="rtcp-rsize",r.media.push(g)}}catch(e){s=!0,c=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw c}}return d.default.write(r)}}]),t}(h),_=function(e){function t(e){return(0,c.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"createOfferSdp",value:function(e){if(m.debug("createOfferSdp()"),!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.plainRtpParameters,r={},i=e.map((function(e){return String(e.mid)}));this._sdpGlobalFields.version++,r.version=0,r.origin={address:t.ip,ipVer:t.version,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},r.name="-",r.timing={start:0,stop:0},r.msidSemantic={semantic:"WMS",token:"*"},i.length>0&&(r.groups=[{type:"BUNDLE",mids:i.join(" ")}]),r.media=[];var o=!0,s=!1,c=void 0;try{for(var u,l=(0,a.default)(e);!(o=(u=l.next()).done);o=!0){var p=u.value,f=p.closed,h=p.kind,v=this._rtpParametersByKind[h].codecs,_=this._rtpParametersByKind[h].headerExtensions,g={};g.type=h,g.mid=p.mid,g.msid=p.streamId+" "+p.trackId,g.port=t.port,g.protocol="RTP/AVP",g.connection={ip:t.ip,version:t.version},g.direction=f?"inactive":"sendonly",g.rtp=[],g.rtcpFb=[],g.fmtp=[];var y=!0,b=!1,k=void 0;try{for(var w,P=(0,a.default)(v);!(y=(w=P.next()).done);y=!0){var S=w.value,I={payload:S.payloadType,codec:S.name,rate:S.clockRate};if(S.channels>1&&(I.encoding=S.channels),g.rtp.push(I),S.parameters){var T={payload:S.payloadType,config:""},C=!0,R=!1,x=void 0;try{for(var A,E=(0,a.default)((0,n.default)(S.parameters));!(C=(A=E.next()).done);C=!0){var D=A.value;T.config&&(T.config+=";"),T.config+=D+"="+S.parameters[D]}}catch(e){R=!0,x=e}finally{try{!C&&E.return&&E.return()}finally{if(R)throw x}}T.config&&g.fmtp.push(T)}if(S.rtcpFeedback){var O=!0,L=!1,M=void 0;try{for(var j,B=(0,a.default)(S.rtcpFeedback);!(O=(j=B.next()).done);O=!0){var V=j.value;g.rtcpFb.push({payload:S.payloadType,type:V.type,subtype:V.parameter||""})}}catch(e){L=!0,M=e}finally{try{!O&&B.return&&B.return()}finally{if(L)throw M}}}}}catch(e){b=!0,k=e}finally{try{!y&&P.return&&P.return()}finally{if(b)throw k}}if(g.payloads=v.map((function(e){return e.payloadType})).join(" "),!f){g.ext=[];var N=!0,F=!1,U=void 0;try{for(var G,W=(0,a.default)(_);!(N=(G=W.next()).done);N=!0){var K=G.value;"urn:ietf:params:rtp-hdrext:sdes:mid"!==K.uri&&g.ext.push({uri:K.uri,value:K.id})}}catch(e){F=!0,U=e}finally{try{!N&&W.return&&W.return()}finally{if(F)throw U}}}g.rtcpMux="rtcp-mux",g.rtcpRsize="rtcp-rsize",f||(g.ssrcs=[],g.ssrcGroups=[],g.ssrcs.push({id:p.ssrc,attribute:"cname",value:p.cname}),p.rtxSsrc&&(g.ssrcs.push({id:p.rtxSsrc,attribute:"cname",value:p.cname}),g.ssrcGroups.push({semantics:"FID",ssrcs:p.ssrc+" "+p.rtxSsrc}))),r.media.push(g)}}catch(e){s=!0,c=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw c}}return d.default.write(r)}}]),t}(h);t.default=function e(t,r){switch((0,c.default)(this,e),m.debug("constructor() [direction:%s, rtpParametersByKind:%o]",t,r),t){case"send":return new v(r);case"recv":return new _(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketTransport=t.Peer=void 0;var n=i(r(220)),a=i(r(117));function i(e){return e&&e.__esModule?e:{default:e}}t.Peer=n.default,t.WebSocketTransport=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(24)),a=h(r(6)),i=h(r(8)),o=h(r(2)),s=h(r(0)),c=h(r(1)),u=h(r(3)),d=h(r(4)),l=r(29),p=h(r(30)),f=h(r(115)),m=h(r(117));function h(e){return e&&e.__esModule?e:{default:e}}var v=new p.default("<protooPeer>"),_=function(e){function t(e,r,n){(0,s.default)(this,t),v.debug("constructor() protooUrl: "+e);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this));a.setMaxListeners(1/0),a._sessionId=r,a._protooUrl=e;var c={retries:n||10,factor:2,minTimeout:1e3,maxTimeout:4e3};return a._transport=new m.default(e,{retry:c}),a._closed=!1,a._connected=!1,a._data={},a._requestHandlers=new i.default,a._handleTransport(),a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"send",value:function(e,t){var r=this;if(this.connected){var n=f.default.requestFactory(e,t);return this._transport.send(n).then((function(){return new a.default((function(e,t){var a={resolve:function(t){r._requestHandlers.delete(n.id)&&(clearTimeout(a.timer),e(t))},reject:function(e){r._requestHandlers.delete(n.id)&&(clearTimeout(a.timer),t(e))},timer:setTimeout((function(){r._requestHandlers.delete(n.id)&&(r.closed||t(new Error("request timeout")))}),2e4),close:function(){clearTimeout(a.timer),t(new Error("peer closed"))}};r._requestHandlers.set(n.id,a)}))}))}}},{key:"notify",value:function(e,t){if(this.connected){var r=f.default.notificationFactory(e,t);return this._transport.send(r)}}},{key:"close",value:function(){v.debug("close()"),this._closed||(this._closed=!0,this._transport.close(),this._requestHandlers.forEach((function(e){return e.close()})),this.emit("close",{sid:this._sessionId}))}},{key:"_handleTransport",value:function(){var e=this;if(this._transport.closed)return this._closed=!0,void setTimeout((function(){return e.emit("close",{sid:e._sessionId})}));this._transport.on("connecting",(function(t){v.debug("_handleTransport() _transport event [connecting] - [currentAttempt: "+t+"]"),e.emit("connecting",{sid:e._sessionId,currentAttempt:t})})),this._transport.on("open",(function(){e._closed||(v.debug("_handleTransport() _transport event [open]"),e._connected=!0,e.emit("open",{sid:e._sessionId}))})),this._transport.on("conn-interrupt",(function(){e._closed||(v.debug("_handleTransport() _transport event [conn-interrupt]"),e._connected=!1,e.emit("conn-interrupt",{sid:e._sessionId}))})),this._transport.on("reinit",(function(){e._closed||(v.debug("_handleTransport(0 _transport event [reinit]"),e._connected=!0,e.emit("reinit",{sid:e._sessionId}))})),this._transport.on("conn-reconn",(function(){e._closed||(v.debug("_handleTransport() _transport event [conn-reconn]"),e._connected=!0,e.emit("conn-reconn",{sid:e._sessionId}))})),this._transport.on("disconnected",(function(){v.debug("_handleTransport() _transport [disconnected]"),e._connected=!1,e.emit("disconnected",{sid:e._sessionId})})),this._transport.on("failed",(function(t){v.debug("_handleTransport() _transport event [failed] - [currentAttempt: "+t+"]"),e._connected=!1,e.emit("failed",{sid:e._sessionId,currentAttempt:t})})),this._transport.on("close",(function(){e._closed||(e._closed=!0,e._connected=!1,v.debug("_handleTransport() _transport event [close]"),e.emit("close",{sid:e._sessionId}))})),this._transport.on("message",(function(t){e.closed||(t.request?e._handleRequest(t):t.response?e._handleResponse(t):t.notification&&e._handleNotification(t))}))}},{key:"_handleRequest",value:function(e){var t=this;this.emit("request",{sid:this._sessionId},e,(function(r){var a=f.default.successResponseFactory(e,r);t._transport.send(a).catch((function(e){v.warn("_handleRequest() accept() _transport.send error - "+(0,n.default)(e))}))}),(function(r,a){r instanceof Error?(a=r.toString(),r=500):"number"==typeof r&&a instanceof Error&&(a=a.toString());var i=f.default.errorResponseFactory(e,r,a);t._transport.send(i).catch((function(e){v.warn("_handleRequest() reject() error - "+(0,n.default)(e))}))}))}},{key:"_handleResponse",value:function(e){var t=this._requestHandlers.get(e.id);if(t)if(e.ok)t.resolve(e.data);else{var r=new Error(e.errorReason);r.code=e.errorCode,t.reject(r)}else v.error("_handleResponse() received response does not match any sent request")}},{key:"_handleNotification",value:function(e){this.emit("notification",{sid:this._sessionId},e)}},{key:"data",get:function(){return this._data},set:function(e){this._data=e||{}}},{key:"closed",get:function(){return this._closed}},{key:"connected",get:function(){return this._connected}}]),t}(l.EventEmitter);t.default=_},function(e,t,r){var n;try{n=r(222)}catch(e){}finally{if(n||"undefined"==typeof window||(n=window),!n)throw new Error("Could not determine global this")}var a=n.WebSocket||n.MozWebSocket,i=r(223);function o(e,t){return t?new a(e,t):new a(e)}a&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return a[e]}})})),e.exports={w3cwebsocket:a?o:null,version:i}},function(e,t){var r=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()},function(e,t,r){e.exports=r(224).version},function(e){e.exports=JSON.parse(\'{"name":"websocket","description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"author":"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)","contributors":["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],"version":"1.0.31","repository":{"type":"git","url":"https://github.com/theturtle32/WebSocket-Node.git"},"homepage":"https://github.com/theturtle32/WebSocket-Node","engines":{"node":">=0.10.0"},"dependencies":{"debug":"^2.2.0","es5-ext":"^0.10.50","nan":"^2.14.0","typedarray-to-buffer":"^3.1.5","yaeti":"^0.0.6"},"devDependencies":{"buffer-equal":"^1.0.0","faucet":"^0.0.1","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1","jshint":"^2.0.0","tape":"^4.9.1"},"config":{"verbose":false},"scripts":{"install":"(node-gyp rebuild 2> builderror.log) || (exit 0)","test":"faucet test/unit","gulp":"gulp"},"main":"index","directories":{"lib":"./lib"},"browser":"lib/browser.js","license":"Apache-2.0","__npminstall_done":"Fri Feb 28 2020 14:40:09 GMT+0800 (GMT+08:00)","_from":"websocket@1.0.31","_resolved":"https://registry.npm.taobao.org/websocket/download/websocket-1.0.31.tgz"}\')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(24)),a=p(r(8)),i=p(r(0)),o=p(r(1)),s=p(r(226)),c=p(r(30)),u=l(r(51)),d=l(r(60));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var f=r(118),m=(0,s.default)({HEART_BEAT:"event=sdkHeartbeat",ENTER_FAIL:"event=ENTER_FAIL",ENTER_TIMEOUT:"event=ENTER_TIMEOUT"}),h=new c.default("Stats"),v=function(){function e(){(0,i.default)(this,e),this._appId="",this._roomId="",this._sessionId="",this._userId="",this._connectionId="",this._roleType="",this._domain="",this._signalReconnectTimes=0,this._netType="",this._isMobile=/mobile/i.test(navigator.userAgent),this._outputAdjustVolume=1,this._micAdjustVolume=1,this._presetAudioBitrate=0,this._isAudioOpen=!1,this._isVideoOpen=!1,this._webrtcInternalSendStats=new Array,this._webrtcInternalRecvStats=new Array,this._reportInterval=null,this._webrtcStats=[],this._audioRecvStats=new a.default,this._videoRecvStats=new a.default,this._audioSendStats=new a.default,this._videoSendStats=new a.default,this._sendRTT=0,this._recvRTT=0,this._summarize={rtt:0,networkType:"",upSpeed:0,upFractionLost:0,downSpeed:0,downFractionLost:0},this._netstat={fractionLost:0,roundTripTime:0,quality:0,wsState:"",sendIceState:"",recvIceState:"",audioUp:{timestamp:0,bitrate:0,packetCount:0,packetsLost:0,nackCount:0,jitter:0,pliCount:0,sliCount:0,fractionLost:0,roundTripTime:0},audioDown:{timestamp:0,bitrate:0,packetCount:0,packetsLost:0,nackCount:0,pliCount:0,sliCount:0,fractionLost:0,roundTripTime:0},videoUp:{timestamp:0,bitrate:0,packetCount:0,packetsLost:0,nackCount:0,jitter:0,pliCount:0,sliCount:0,fractionLost:0,roundTripTime:0},videoDown:{timestamp:0,bitrate:0,packetCount:0,packetsLost:0,nackCount:0,pliCount:0,sliCount:0,fractionLost:0,roundTripTime:0}},this._cstat={peerId:"",appId:"",connectionId:"",roomId:"",consumer:"",stat:[]},this.streamSsrcPairs=new a.default,this.STATS_INTERVAL=4e3,this.STATS_INTERVAL_S=2e3,this._gwInfo={},this._iplocationInfo={},this.setNetworkType()}return(0,o.default)(e,[{key:"stop",value:function(){this._reportInterval&&(clearInterval(this._reportInterval),this._reportInterval=null),this._webrtcInternalSendStats.clear(),this._webrtcInternalRecvStats.clear()}},{key:"getAudioUpStat",value:function(e){return this._audioSendStats?this._audioSendStats.get(e):null}},{key:"getVideoUpStat",value:function(e){return this._videoSendStats?this._videoSendStats.get(e):null}},{key:"getAudioDownStat",value:function(e){return this._audioRecvStats?this._audioRecvStats.get(e):null}},{key:"getVideoDownStat",value:function(e){return this._videoRecvStats?this._videoRecvStats.get(e):null}},{key:"setStreamSSRCPairs",value:function(e,t,r,n){var a={ssrc:t,active:n,stream:r};this.streamSsrcPairs.set(e,a)}},{key:"actStreamSSRCPairs",value:function(e,t){var r=this.streamSsrcPairs.get(e);r&&(r.active=t)}},{key:"isActStreamSSRCPairs",value:function(e){var t=this.streamSsrcPairs.get(e);return!!t&&t.active}},{key:"getStreamPropertyBySSRC",value:function(e,t){var r="",n=!1,a="";return this.streamSsrcPairs.forEach((function(i,o){!n&&i&&""+i.ssrc==""+e&&(r=o,a=i.stream[t],n=!0)})),{id:r,value:a}}},{key:"removeStreamById",value:function(e){this.streamSsrcPairs.delete(e)}},{key:"setWsState",value:function(e){this._netstat.wsState=e}},{key:"setSendIceState",value:function(e){this._netstat.sendIceState=e}},{key:"setRecvIceState",value:function(e){this._netstat.recvIceState=e}},{key:"setAppid",value:function(e){this._appId=e,this._cstat.appId=e}},{key:"setRoomId",value:function(e){this._roomId=e,this._cstat.roomId=e}},{key:"setSessionId",value:function(e){this._sessionId=e}},{key:"setUserId",value:function(e){this._userId=e,this._cstat.peerId=e}},{key:"setConnectionId",value:function(e){this._connectionId=e,this._cstat.connectionId=e}},{key:"setRoleType",value:function(e){this._roleType=""+e}},{key:"setOutputAdjustVolume",value:function(e){this._outputAdjustVolume=e}},{key:"setMicAdjustVolume",value:function(e){this._micAdjustVolume=e}},{key:"setPresetAudioBitrate",value:function(e){this._presetAudioBitrate=e}},{key:"setSignalReconnectTimes",value:function(e){this._signalReconnectTimes=e}},{key:"setDeviceInfo",value:function(e){}},{key:"setDomain",value:function(e){this._domain=e}},{key:"setGWInfo",value:function(e){this._gwInfo=e[0]}},{key:"setIPlocationInfo",value:function(e){this._iplocationInfo=e}},{key:"setNetworkType",value:function(){try{switch((navigator.connection||navigator.mozConnection||navigator.webkitConnection).type){case"wifi":this._netType="0";break;case"ethernet":default:this._netType="4"}}catch(e){}}},{key:"_reportWebrtcStats",value:function(){var e=this;if(this._webrtcInternalSendStats||this._webrtcInternalRecvStats){var t=this._webrtcInternalSendStats.length,r=this._webrtcInternalRecvStats.length,n=Math.min(Math.max(t,r),10);this._webrtcStats=[];for(var a=function(t){var r={};r.appId=""+e._appId,r.roomId=""+e._roomId,r.sessionId=""+e._sessionId,r.userId=""+e._userId,r.connectionId=""+e._connectionId,r.roleType=""+e._roleType,r.signalReconnectTimes=e._signalReconnectTimes,r.equipInfo={sdkVersion:f.version+"_"+f.buildDate,netType:""+e._netType,equipModel:e._isMobile?"web_mobile":"web",inBackground:0,systemVersion:"web",publicVersion:"3T_Web_SDK_V"+f.version+"_"+f.buildDate},r.audioInfo={},r.audioInfo.A_SENT={},r.audioInfo.A_RECV=[],r.videoInfo={},r.videoInfo.V_SENT=[],r.videoInfo.V_RECV=[];var n=e._webrtcInternalSendStats.shift();if(n){r.logTime=n.statTimeTick;var a=0;n.results.forEach((function(t){if("VideoBwe"===t.type);else if("googCandidatePair"===t.type)"true"===t.googActiveConnection&&parseInt(t.googRtt,10);else if("ssrc"===t.type){var i=parseInt(t.ssrc,10);if("audio"===t.mediaType){var o=n.audio[i].upSpeedKBPS?n.audio[i].upSpeedKBPS:0;r.audioInfo.A_SENT.A_BR=parseInt(o,10),r.audioInfo.A_SENT.A_SSRC=i,r.audioInfo.A_SENT.A_RTT=parseInt(t.googRtt,10),r.audioInfo.A_SENT.A_MUTED=e._isAudioOpen?0:1;var s=parseInt(n.audio[i].packetsLost?n.audio[i].packetsLost:0,10),c=parseInt(n.audio[i].packetsSent?n.audio[i].packetsSent:0,10),u=c>0?s/c:0;r.audioInfo.A_SENT.A_FRACTIONLOST=parseFloat(u.toFixed(1)),r.audioInfo.A_SENT.A_RECV=0,r.audioInfo.A_SENT.A_SENT=parseInt(t.bytesSent,10),r.audioInfo.A_SENT.A_RECONNECT={},r.audioInfo.A_SENT.A_LEVELSUM=1,r.audioInfo.A_SENT.A_PRELEVELSUM=1,r.audioInfo.A_SENT.A_MIC_VOL=e._micAdjustVolume,r.audioInfo.A_SENT.A_CAP_STAT=1,r.audioInfo.A_SENT.A_SPEAKING=1,r.audioInfo.A_SENT.A_BITRATE=e._presetAudioBitrate}else if("video"===t.mediaType){var d,l=e.getStreamPropertyBySSRC(i,"innerStreamID"),p=l.id,f=l.value;if(!e.isActStreamSSRCPairs(p))return;d=f,r.videoInfo.V_SENT[a]={},r.videoInfo.V_SENT[a].DEVID=""+d,r.videoInfo.V_SENT[a].V_SSRC=+i;var m=n.video[i].upSpeedKBPS?n.video[i].upSpeedKBPS:0;r.videoInfo.V_SENT[a].V_VBR=parseInt(m,10),r.videoInfo.V_SENT[a].V_FPS=parseInt(t.googFrameRateInput,10),r.videoInfo.V_SENT[a].V_SENDBYTES=parseInt(t.bytesSent,10),r.videoInfo.V_SENT[a].V_SENDCOUNT=parseInt(t.packetsSent,10);var h=parseInt(n.video[i].packetsLost?n.video[i].packetsLost:0,10),v=parseInt(n.video[i].packetsSent?n.video[i].packetsSent:0,10),_=v>0?h/v:0;r.videoInfo.V_SENT[a].V_SENDFRACTIONLOST=parseFloat(_.toFixed(1)),r.videoInfo.V_SENT[a].V_RTT=parseInt(t.googRtt,10),r.videoInfo.V_SENT[a].V_RECV=0,r.videoInfo.V_SENT[a].V_SEND=parseInt(t.bytesSent,10),r.videoInfo.V_SENT[a].V_LOSS=0,r.videoInfo.V_SENT[a].V_RECONNECT={},r.videoInfo.V_SENT[a].V_MUTED=e._isVideoOpen?0:1,r.videoInfo.V_SENT[a].V_QP=36,r.videoInfo.V_SENT[a].V_SFPS=parseInt(t.googFrameRateSent,10),a++}}}))}var i=e._webrtcInternalRecvStats.shift();if(i){r.logTime=i.statTimeTick;var o=0,s=0,c=0;i.results.forEach((function(t){if("VideoBwe"===t.type);else if("googCandidatePair"===t.type)"true"===t.googActiveConnection&&(c=parseInt(t.googRtt,10));else if("ssrc"===t.type){var n=parseInt(t.ssrc,10);if("audio"===t.mediaType){var a=e.getStreamPropertyBySSRC(n,"userID"),u=a.id,d=a.value;if(!e.isActStreamSSRCPairs(u))return;var l=d;if(""===l)return;r.audioInfo.A_RECV[s]={},r.audioInfo.A_RECV[s].RECVUID=l,r.audioInfo.A_RECV[s].A_SSRC=n;var p=i.audio[n].downSpeedKBPS?i.audio[n].downSpeedKBPS:0;r.audioInfo.A_RECV[s].A_RECVBR=parseInt(p,10),r.audioInfo.A_RECV[s].A_RECVBYTES=parseInt(t.bytesReceived,10);var f=parseInt(i.audio[n].packetsLost?i.audio[n].packetsLost:0,10),m=parseInt(i.audio[n].packetsReceived?i.audio[n].packetsReceived:0,10),h=m>0?f/m:0;r.audioInfo.A_RECV[s].A_LOSTRATE=parseFloat(h.toFixed(1)),r.audioInfo.A_RECV[s].A_BUFFERDURATION=parseInt(t.googJitterBufferMs,10),r.audioInfo.A_RECV[s].A_RECVFRACTIONLOST=parseFloat(h.toFixed(1)),r.audioInfo.A_RECV[s].A_RTT=c,r.audioInfo.A_RECV[s].A_DELAY=parseInt(i.audio[n].latency?i.audio[n].latency:0,10),r.audioInfo.A_RECV[s].A_AVJMS=0,r.audioInfo.A_RECV[s].A_MAXJMS=0,r.audioInfo.A_RECV[s].A_DISCARDEDPKTS=parseInt(t.packetsLost,10),r.audioInfo.A_RECV[s].A_VOLUME=e._outputAdjustVolume,r.audioInfo.A_RECV[s].A_LEVELSUM=1,r.audioInfo.A_RECV[s].A_MUTE=0,s++}else if("video"===t.mediaType){var v,_=e.getStreamPropertyBySSRC(n,"userID"),g=_.id,y=_.value;if(!e.isActStreamSSRCPairs(g))return;if(""===(v=y))return;var b,k=e.getStreamPropertyBySSRC(n,"streamID");k.id;b=k.value,r.videoInfo.V_RECV[o]={},r.videoInfo.V_RECV[o].RECVUID=""+v,r.videoInfo.V_RECV[o].RECVID=""+b,r.videoInfo.V_RECV[o].V_SSRC=+n,r.videoInfo.V_RECV[o].V_FPS=parseInt(t.googFrameRateOutput,10),r.videoInfo.V_RECV[o].V_WIDTH=parseInt(t.googFrameWidthReceived,10),r.videoInfo.V_RECV[o].V_HEIGHT=parseInt(t.googFrameHeightReceived,10);var w=i.video[n].downSpeedKBPS?i.video[n].downSpeedKBPS:0;r.videoInfo.V_RECV[o].V_RECVBR=parseInt(w,10),r.videoInfo.V_RECV[o].V_RECVBYTES=parseInt(t.bytesReceived,10),r.videoInfo.V_RECV[o].V_RECVCOUNT=parseInt(t.packetsReceived,10);var P=parseInt(i.video[n].packetsLost?i.video[n].packetsLost:0,10),S=parseInt(i.video[n].packetsReceived?i.video[n].packetsReceived:0,10),I=S>0?P/S:0;r.videoInfo.V_RECV[o].V_LOSTRATE=parseFloat(I.toFixed(1)),r.videoInfo.V_RECV[o].V_RTT=c,r.videoInfo.V_RECV[o].V_JITTER=parseInt(t.googJitterBufferMs,10),r.videoInfo.V_RECV[o].V_RECVFRAMECOUNT=parseInt(t.framesDecoded,10);var T=i.video[n].latency?i.video[n].latency:0;r.videoInfo.V_RECV[o].V_DELAY=parseInt(T,10),r.videoInfo.V_RECV[o].V_FRACTIONLOST=parseFloat(I.toFixed(1)),r.videoInfo.V_RECV[o].V_MUTED=1,r.videoInfo.V_RECV[o].V_TARGETVBR=parseInt(w,10),o++}}}))}var u="",d=0;n&&n.connectionType&&n.connectionType.remote&&(u=n.connectionType.remote.ipAddress,d=n.connectionType.remote.portNumber),i&&i.connectionType&&i.connectionType.remote&&(u=i.connectionType.remote.ipAddress,d=i.connectionType.remote.portNumber),r.mediaServerInfo={aIp:u,audio_port:d,aSid:"",vIp:u,vPort:d,vSid:""},e._webrtcStats.push(r)},i=0;i<n;i++)a();n>0&&this.pushLoggerToServer(m.HEART_BEAT,this._webrtcStats),Math.max(t,r)>10&&this._reportWebrtcStats()}}},{key:"setWebrtcInternalSendStats",value:function(e){this._sendRTT=e.bandwidth.rtt,this._summarize.rtt=e.bandwidth.rtt;var t=e.bandwidth.upSpeed;if(this._summarize.upSpeed=parseInt(t,10),this._summarize.networkType=e.connectionType.local.networkType,this._webrtcInternalSendStats){var r=(new Date).getTime();e.statTimeTick=r,this._webrtcInternalSendStats.push(e)}}},{key:"setWebrtcInternalRecvStats",value:function(e){this._recvRTT=e.bandwidth.rtt,this._summarize.rtt=e.bandwidth.rtt;var t=e.bandwidth.downSpeed;if(this._summarize.downSpeed=parseInt(t,10),this._summarize.networkType=e.connectionType.local.networkType,this._webrtcInternalRecvStats){var r=(new Date).getTime();e.statTimeTick=r,this._webrtcInternalRecvStats.push(e)}}},{key:"setConsumeStats",value:function(e,t,r,n,a){var i=this;this._cstat.consumer=n,this._cstat.stat=e;var o=(new Date).getTime(),s=!1,c={},u=!1,d={},l=0;e.forEach((function(e){if("outbound-rtp"===e.type)if("video"===e.kind){c.statTS=o,c.streamId=a,c.ssrc=e.ssrc,c.timestamp=e.timestamp,i._netstat.videoDown.timestamp=e.timestamp;var t=e.bitrate;c.bitrate=parseInt(t/1024,10),i._netstat.videoDown.bitrate=e.bitrate,c.packetCount=e.packetCount,i._netstat.videoDown.packetCount=e.packetCount,c.packetLost=e.packetsLost,i._netstat.videoDown.packageLost=e.packetsLost,c.nackCount=e.nackCount,i._netstat.videoDown.nackCount=e.nackCount,c.pliCount=e.pliCount,i._netstat.videoDown.pliCount=e.pliCount,c.sliCount=e.sliCount,i._netstat.videoDown.sliCount=e.sliCount,c.fractionLost=e.fractionLost,+c.fractionLost>+l&&(l=+c.fractionLost),i._netstat.videoDown.fractionLost=e.fractionLost,void 0!==e.roundTripTime&&(i._netstat.videoDown.roundTripTime=e.roundTripTime,c.rtt=i._recvRTT),s=!0}else if("audio"===e.kind){d.statTS=o,d.streamId=a,d.ssrc=e.ssrc,i._netstat.audioDown.timestamp=e.timestamp,d.timestamp=e.timestamp,i._netstat.audioDown.bitrate=e.bitrate;var r=e.bitrate;d.bitrate=parseInt(r/1024,10),i._netstat.audioDown.packetCount=e.packetCount,d.packetCount=e.packetCount,i._netstat.audioDown.packetsLost=e.packetsLost,d.packetLost=e.packetsLost,i._netstat.audioDown.nackCount=e.nackCount,d.nackCount=e.nackCount,i._netstat.audioDown.pliCount=e.pliCount,d.pliCount=e.pliCount,i._netstat.audioDown.sliCount=e.sliCount,d.sliCount=e.sliCount,i._netstat.audioDown.fractionLost=e.fractionLost,d.fractionLost=e.fractionLost,+d.fractionLost>+l&&(l=+d.fractionLost),void 0!==e.roundTripTime&&(i._netstat.audioDown.roundTripTime=e.roundTripTime,d.rtt=i._recvRTT),u=!0}})),this._summarize.downFractionLost=l,this._setNetQulity(),u&&this._audioRecvStats.set(a,d),s&&this._videoRecvStats.set(a,c),this._cstat.stat.forEach((function(e){"video"===e.kind&&"outbound-rtp"===e.type&&(e.resolution=t)})),this.consumerState(this._cstat)}},{key:"setMicStats",value:function(e,t){var r=this,n=!1,a={},i=(new Date).getTime(),o=0;e.forEach((function(e){if("inbound-rtp"===e.type){a.statTS=i,a.streamId=t,a.ssrc=e.ssrc,r._netstat.audioUp.timestamp=e.timestamp,a.timestamp=e.timestamp,r._netstat.audioUp.bitrate=e.bitrate;var s=e.bitrate;a.bitrate=parseInt(s/1024,10),r._netstat.audioUp.packetCount=e.packetCount,a.packetCount=e.packetCount,r._netstat.audioUp.packetsLost=e.packetsLost,a.packetLost=e.packetsLost,r._netstat.audioUp.nackCount=e.nackCount,a.nackCount=e.nackCount,r._netstat.audioUp.jitter=e.jitter,a.jitter=e.jitter,r._netstat.audioUp.pliCount=e.pliCount,a.pliCount=e.pliCount,r._netstat.audioUp.fractionLost=e.fractionLost,a.fractionLost=e.fractionLost,+a.fractionLost>+o&&(o=+a.fractionLost),void 0!==e.roundTripTime&&(r._netstat.audioUp.roundTripTime=e.roundTripTime,a.rtt=r._sendRTT),n=!0}})),this._summarize.upFractionLost=o,this._setNetQulity(),n&&this._audioSendStats.set(t,a)}},{key:"setWebcamStats",value:function(e,t){var r=this,n=!1,a={},i=(new Date).getTime(),o=0;e.forEach((function(e){if("inbound-rtp"===e.type){a.statTS=i,a.streamId=t,a.ssrc=e.ssrc,r._netstat.videoUp.timestamp=e.timestamp,a.timestamp=e.timestamp,r._netstat.videoUp.bitrate=e.bitrate;var s=e.bitrate;a.bitrate=parseInt(s/1024,10),r._netstat.videoUp.packetCount=e.packetCount,a.packetCount=e.packetCount,r._netstat.videoUp.packetsLost=e.packetsLost,a.packetLost=e.packetsLost,r._netstat.videoUp.nackCount=e.nackCount,a.nackCount=e.nackCount,r._netstat.videoUp.jitter=e.jitter,a.jitter=e.jitter,r._netstat.videoUp.pliCount=e.pliCount,a.pliCount=e.pliCount,r._netstat.videoUp.fractionLost=e.fractionLost,a.fractionLost=e.fractionLost,+a.fractionLost>+o&&(o=+a.fractionLost),void 0!==e.roundTripTime&&(r._netstat.videoUp.roundTripTime=e.roundTripTime,a.rtt=r._sendRTT),n=!0}})),this._summarize.upFractionLost=o,this._setNetQulity(),n&&this._videoSendStats.set(t,a)}},{key:"startHeartBeat",value:function(){var e=this;this._reportInterval&&(clearInterval(this._reportInterval),this._reportInterval=null),this._reportInterval=setInterval((function(){e._reportWebrtcStats()}),1e4)}},{key:"stopHeartBeat",value:function(){this._reportInterval&&(clearInterval(this._reportInterval),this._reportInterval=null)}},{key:"pushLoggerToServer",value:function(e,t){if(c.default.logSubmit){var r="";r=e?e+" "+(0,n.default)(t):(0,n.default)(t),fetch(u.logserver_url,{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"text/plain; charset=utf-8"},redirect:"follow",referrer:"no-referrer",body:r}).catch((function(e){h.warn("pushLoggerToServer() error - "+e.toString())})).then((function(e){}))}}},{key:"consumerState",value:function(e){c.default.privateCloud||fetch("https://"+this._domain+"/stats/",{method:"POST",mode:"no-cors",cache:"no-cache",headers:{Accept:"application/json","Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:(0,n.default)(e)}).catch((function(e){h.warn("consumerState() error - "+e.toString())})).then((function(e){}))}},{key:"_setNetQulity",value:function(){var e=0,t=0,r=0;0!==this._netstat.audioUp.packetCount&&(t++,this._netstat.audioUp.roundTripTime,e+=this._netstat.audioUp.packetsLost/this._netstat.audioUp.packetCount),0!==this._netstat.audioDown.packetCount&&(t++,this._netstat.audioDown.roundTripTime,e+=this._netstat.audioDown.packetsLost/this._netstat.audioDown.packetCount),0!==this._netstat.videoUp.packetCount&&(t++,this._netstat.videoUp.roundTripTime,e+=this._netstat.videoUp.packetsLost/this._netstat.videoUp.packetCount),0!==this._netstat.videoDown.packetCount&&(t++,this._netstat.videoDown.roundTripTime,e+=this._netstat.videoDown.packetsLost/this._netstat.videoDown.packetCount),0!==t&&(r/=t,this._netstat.fractionLost=e/t,this._netstat.roundTripTime=r,this._netstat.quality=1-this._netstat.fractionLost)}},{key:"sendTimeOutLog",value:function(e){var t=e.timesOfLinkGW,r=e.linkGWTime,n=e.sendGWTime,a=e.sendEnterTime,i={glbId:d.uuid(),appId:this._appId,userId:this._userId,roomId:this._roomId,connectId:this._connectionId,os:"WEB",logTime:(new Date).toISOString().replace(/a-z/gi," "),timesOfLinkIplocal:this._iplocationInfo.reconnectTimes,timesOfLinkGW:t,linkIplocalTime:this._iplocationInfo.connectedTime-this._iplocationInfo.firstConnectTime,sendIplocalTime:this._iplocationInfo.connectedTime,linkGWTime:r,sendGWTime:n,sendEnterTime:a,gwIp:this._gwInfo.sIp};this.pushLoggerToServer(m.ENTER_TIMEOUT,i)}},{key:"sendFailLog",value:function(e){var t=e.timesOfLinkGW,r=e.linkGWTime,n=e.sendGWTime,a=e.sendEnterTime,i=e.role,o=e.result,s={glbId:d.uuid(),appId:this._appId,userId:this._userId,roomId:this._roomId,connectId:this._connectionId,os:"WEB",role:i,result:o,logTime:(new Date).toISOString().replace(/a-z/gi," "),timesOfLinkIplocal:this._iplocationInfo.reconnectTimes,timesOfLinkGW:t,linkIplocalTime:this._iplocationInfo.connectedTime-this._iplocationInfo.firstConnectTime,sendIplocalTime:this._iplocationInfo.connectedTime,linkGWTime:r,sendGWTime:n,sendEnterTime:a,innerDiff:0,totalDiff:0,gwIp:this._gwInfo.sIp};this.pushLoggerToServer(m.ENTER_FAIL,s)}},{key:"audioUpStat",get:function(){var e=this,t=(new Date).getTime();return this._audioSendStats.forEach((function(r,n){t-r.statTS>3e3&&e._audioSendStats.delete(n)})),this._audioSendStats}},{key:"videoUpStat",get:function(){var e=this,t=(new Date).getTime();return this._videoSendStats.forEach((function(r,n){t-r.statTS>3e3&&e._videoSendStats.delete(n)})),this._videoSendStats}},{key:"audioDownStat",get:function(){var e=this,t=(new Date).getTime();return this._audioRecvStats.forEach((function(r,n){t-r.statTS>3e3&&e._audioRecvStats.delete(n)})),this._audioRecvStats}},{key:"videoDownStat",get:function(){var e=this,t=(new Date).getTime();return this._videoRecvStats.forEach((function(r,n){t-r.statTS>3e3&&e._videoRecvStats.delete(n)})),this._videoRecvStats}},{key:"summarize",get:function(){return this._summarize}},{key:"netState",get:function(){return this._netstat}},{key:"audioOpen",set:function(e){this._isAudioOpen=e}},{key:"videoOpen",set:function(e){this._isVideoOpen=e}}]),e}();t.default=v},function(e,t,r){e.exports={default:r(227),__esModule:!0}},function(e,t,r){r(228),e.exports=r(7).Object.freeze},function(e,t,r){var n=r(18),a=r(56).onFreeze;r(65)("freeze",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},function(e,t,r){"use strict";(function(n){var a,i=s(r(26)),o=s(r(41));function s(e){return e&&e.__esModule?e:{default:e}}var c=0,u=function(e,t,r){var a,s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(a=void 0!==n?n:null)&&"undefined"==typeof window&&void 0!==n&&(n.navigator={userAgent:s,getUserMedia:function(){}},n.console||(n.console={}),void 0!==n.console.log&&void 0!==n.console.error||(n.console.error=n.console.log=n.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(a.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""}};return e},a.HTMLVideoElement=function(){}),"undefined"==typeof location&&(a.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(a.screen={width:0,height:0}),"undefined"==typeof URL&&(a.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),"undefined"==typeof MediaStreamTrack&&(a.MediaStreamTrack=function(){}),void 0===u&&(a.RTCPeerConnection=function(){}),a.window=n);var u=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;"undefined"==typeof MediaStreamTrack&&(MediaStreamTrack={});var d=((navigator.connection||{}).type||"unknown").toString().toLowerCase(),l={isSafari:!1,encryption:"sha-256",audio:{ssrc:[]},video:{ssrc:[]},bandwidth:{systemBandwidth:0,sentPerSecond:0,encodedPerSecond:0,helper:{prevBytesReceived:0,prevBytesSent:0},upSpeed:0,downSpeed:0,rtt:0},results:{},connectionType:{systemNetworkType:d,local:{candidateType:"",transport:"",ipAddress:"",portNumber:"",networkType:""},remote:{candidateType:"",transport:"",ipAddress:"",portNumber:""}},internal:{activeConnection:{localCandidate:"",remoteCandidate:""},audio:{},video:{},candidates:[]},nomore:function(){h=!0}},p={checkIfOfferer:function(e){"googLibjingleSession"===e.type&&(l.isOfferer=e.googInitiator)}},f=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);l.isSafari=f;var m=this;if(!(arguments[0]instanceof u))throw"1st argument is not instance of RTCPeerConnection.";m=arguments[0],arguments[1]instanceof MediaStreamTrack&&(e=arguments[1],t=arguments[2],r=arguments[3]),+r<1e3&&(r=1e3),c=r;var h=!1;function v(){_((function(e){if(e&&e.forEach){e.forEach((function(e){(0,o.default)(p).forEach((function(t){if("function"==typeof p[t])try{p[t](e)}catch(e){console.warn(e.message,e.stack,e)}}))}));try{-1!==m.iceConnectionState.search(/failed|closed|disconnected/gi)&&(h=!0)}catch(e){h=!0}!0===h&&(l.datachannel&&(l.datachannel.state="close"),l.ended=!0),l.internal.candidates.forEach((function(e){e&&(e.id===l.internal.activeConnection.localCandidate?(l.connectionType.local.candidateType=e.candidateType,l.connectionType.local.ipAddress=e.ipAddress,l.connectionType.local.portNumber=e.portNumber,l.connectionType.local.networkType=e.networkType,l.connectionType.local.transport=e.transport):e.id===l.internal.activeConnection.remoteCandidate&&(l.connectionType.remote.candidateType=e.candidateType,l.connectionType.remote.ipAddress=e.ipAddress,l.connectionType.remote.portNumber=e.portNumber,l.connectionType.remote.transport=e.transport))})),l.results=e,l.audio.ssrc.forEach((function(e){})),l.video.ssrc.forEach((function(e){})),t(l),h||null!=(void 0===r?"undefined":(0,i.default)(r))&&r&&setTimeout(v,r||1e3)}}))}function _(e){void 0!==window.InstallTrigger||f?m.getStats(window.mediaStreamTrack||null).then((function(t){var r=[];t.forEach((function(e){r.push(e)})),e(r)})).catch(e):m.getStats((function(t){var r=[];t.result().forEach((function(e){var t={};e.names().forEach((function(r){t[r]=e.stat(r)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,r.push(t)})),e(r)}))}p.datachannel=function(e){"datachannel"===e.type&&(l.datachannel={state:e.state})},p.googCertificate=function(e){"googCertificate"==e.type&&(l.encryption=e.googFingerprintAlgorithm),"certificate"==e.type&&(l.encryption=e.fingerprintAlgorithm)},p.checkAudioTracks=function(e){if("ssrc"===e.type&&"audio"===e.mediaType){var t=e.ssrc,r=e.id.split("_").pop();if(!0===e.isRemote&&(r="recv"),!1===e.isRemote&&(r="send"),r){-1===l.audio.ssrc.indexOf(t)&&l.audio.ssrc.push(t),l.audio[t]||(l.audio[t]={},l.audio[t][r]={},l.audio[t][r].codecs=[],l.audio[t][r].tracks=[]),e.googCodecName&&""!==e.googCodecName&&-1===l.audio[t][r].codecs.indexOf(e.googCodecName)&&l.audio[t][r].codecs.push(e.googCodecName),l.internal.audio[t]||(l.internal.audio[t]={}),l.internal.audio[t][r]||(l.internal.audio[t][r]={});var n=0,a=0;"send"===r&&void 0!==e.bytesSent&&(l.internal.audio[t][r].prevBytesSent||(l.internal.audio[t][r].prevBytesSent=0),n=e.bytesSent-l.internal.audio[t][r].prevBytesSent,l.internal.audio[t][r].prevBytesSent=e.bytesSent,a=8*n/1024,l.audio[t][r].availableBandwidth=parseInt(a,10),l.audio[t].upSpeedKBPS=parseInt(a,10)),"recv"===r&&void 0!==e.bytesReceived&&(l.internal.audio[t][r].prevBytesReceived||(l.internal.audio[t][r].prevBytesReceived=0),n=e.bytesReceived-l.internal.audio[t][r].prevBytesReceived,l.internal.audio[t][r].prevBytesReceived=e.bytesReceived,a=8*n/1024,l.audio[t].downSpeedKBPS=parseInt(a,10)),e.googTrackId&&-1===l.audio[t][r].tracks.indexOf(e.googTrackId)&&l.audio[t][r].tracks.push(e.googTrackId),void 0!==e.googCurrentDelayMs&&(l.internal.audio[t].googCurrentDelayMs=e.googCurrentDelayMs,l.audio[t].latency=parseInt(e.googCurrentDelayMs,10),l.audio[t].latency<0&&(l.audio[t].latency=0));var i=0;if("recv"===r&&void 0!==e.packetsReceived&&(l.internal.audio[t].prevPacketsReceived||(l.internal.audio[t].prevPacketsReceived=0),i=e.packetsReceived-l.internal.audio[t].prevPacketsReceived,l.internal.audio[t].prevPacketsReceived=e.packetsReceived,l.audio[t].packetsReceived=parseInt(i,10),l.audio[t].packetsReceived<0&&(l.audio[t].packetsReceived=0)),"send"===r&&void 0!==e.packetsSent&&(l.internal.audio[t].prevPacketsSent||(l.internal.audio[t].prevPacketsSent=0),i=e.packetsSent-l.internal.audio[t].prevPacketsSent,l.internal.audio[t].prevPacketsSent=e.packetsSent,l.audio[t].packetsSent=parseInt(i,10),l.audio[t].packetsSent<0&&(l.audio[t].packetsSent=0)),void 0!==e.packetsLost){l.internal.audio[t].prevPacketsLost||(l.internal.audio[t].prevPacketsLost=0);var o=e.packetsLost-l.internal.audio[t].prevPacketsLost;l.internal.audio[t].prevPacketsLost=e.packetsLost,l.audio[t].packetsLost=parseInt(o,10),l.audio[t].packetsLost<0&&(l.audio[t].packetsLost=0)}}}},p.checkVideoTracks=function(e){if("ssrc"===e.type&&"video"===e.mediaType){var t=e.ssrc,r=e.id.split("_").pop();if(!0===e.isRemote&&(r="recv"),!1===e.isRemote&&(r="send"),r){-1===l.video.ssrc.indexOf(t)&&l.video.ssrc.push(t),l.video[t]||(l.video[t]={},l.video[t][r]={},l.video[t][r].codecs=[],l.video[t][r].tracks=[],l.video[t][r].resolutions={}),-1===l.video[t][r].codecs.indexOf(e.googCodecName||"VP8")&&l.video[t][r].codecs.push(e.googCodecName||"VP8"),l.internal.video[t]||(l.internal.video[t]={},l.internal.video[t][r]={}),l.internal.video[t][r]||(l.internal.video[t][r]={});var n=0,a=0;"send"===r&&void 0!==e.bytesSent&&(l.internal.video[t][r].prevBytesSent||(l.internal.video[t][r].prevBytesSent=0),n=e.bytesSent-l.internal.video[t][r].prevBytesSent,l.internal.video[t][r].prevBytesSent=e.bytesSent,a=8*n/1024,l.video[t][r].availableBandwidth=parseInt(a,10),l.video[t].upSpeedKBPS=parseInt(a,10)),"recv"===r&&void 0!==e.bytesReceived&&(l.internal.video[t][r].prevBytesReceived||(l.internal.video[t][r].prevBytesReceived=0),n=e.bytesReceived-l.internal.video[t][r].prevBytesReceived,l.internal.video[t][r].prevBytesReceived=e.bytesReceived,a=8*n/1024,l.video[t].downSpeedKBPS=parseInt(a,10)),e.googFrameHeightReceived&&e.googFrameWidthReceived&&(l.video[t][r].resolutions.width=e.googFrameWidthReceived,l.video[t][r].resolutions.height=e.googFrameHeightReceived),e.googFrameHeightSent&&e.googFrameWidthSent&&(l.video[t][r].resolutions.width=e.googFrameWidthSent,l.video[t][r].resolutions.height=e.googFrameHeightSent),e.googTrackId&&-1===l.video[t][r].tracks.indexOf(e.googTrackId)&&l.video[t][r].tracks.push(e.googTrackId),void 0!==e.googCurrentDelayMs&&(l.internal.video[t].googCurrentDelayMs=e.googCurrentDelayMs,l.video[t].latency=parseInt(e.googCurrentDelayMs,10),l.video[t].latency<0&&(l.video[t].latency=0));var i=0;if("recv"===r&&void 0!==e.packetsReceived&&(l.internal.video[t].prevPacketsReceived||(l.internal.video[t].prevPacketsReceived=0),i=e.packetsReceived-l.internal.video[t].prevPacketsReceived,l.internal.video[t].prevPacketsReceived=e.packetsReceived,l.video[t].packetsReceived=parseInt(i,10),l.video[t].packetsReceived<0&&(l.video[t].packetsReceived=0)),"send"===r&&void 0!==e.packetsSent&&(l.internal.video[t].prevPacketsSent||(l.internal.video[t].prevPacketsSent=0),i=e.packetsSent-l.internal.video[t].prevPacketsSent,l.internal.video[t].prevPacketsSent=e.packetsSent,l.video[t].packetsSent=parseInt(i,10),l.video[t].packetsSent<0&&(l.video[t].packetsSent=0)),void 0!==e.packetsLost){l.internal.video[t].prevPacketsLost||(l.internal.video[t].prevPacketsLost=0);var o=e.packetsLost-l.internal.video[t].prevPacketsLost;l.internal.video[t].prevPacketsLost=e.packetsLost,l.video[t].packetsLost=parseInt(o,10),l.video[t].packetsLost<0&&(l.video[t].packetsLost=0)}}}},p.bweforvideo=function(e){"VideoBwe"===e.type&&(l.bandwidth.availableSendBandwidth=e.googAvailableSendBandwidth,l.bandwidth.googActualEncBitrate=e.googActualEncBitrate,l.bandwidth.googAvailableSendBandwidth=e.googAvailableSendBandwidth,l.bandwidth.googAvailableReceiveBandwidth=e.googAvailableReceiveBandwidth,l.bandwidth.googRetransmitBitrate=e.googRetransmitBitrate,l.bandwidth.googTargetEncBitrate=e.googTargetEncBitrate,l.bandwidth.googBucketDelay=e.googBucketDelay,l.bandwidth.googTransmitBitrate=e.googTransmitBitrate)},p.candidatePair=function(e){if("googCandidatePair"===e.type||"candidate-pair"===e.type||"local-candidate"===e.type||"remote-candidate"===e.type)if(f){if("candidate-pair"!==e.type||!0!==e.nominated||"succeeded"!==e.state)return;var t=void 0!==e.availableOutgoingBitrate?"send":"recv";if(l.internal.activeConnection.remoteCandidate=e.remoteCandidateId,l.internal.activeConnection.localCandidate=e.localCandidateId,l.bandwidth.rtt=1e3*e.currentRoundTripTime,"send"===t&&void 0!==e.bytesSent){var r=1e3*(e.bytesSent-l.bandwidth.helper.prevBytesSent)*8/c;l.bandwidth.helper.prevBytesSent=e.bytesSent,r=r>0?r/1024:0,l.bandwidth.upSpeed=parseInt(r,10)}if("recv"===t&&void 0!==e.bytesReceived){var n=1e3*(e.bytesReceived-l.bandwidth.helper.prevBytesReceived)*8/c;l.bandwidth.helper.prevBytesReceived=e.bytesReceived,n=n>0?n/1024:0,l.bandwidth.downSpeed=parseInt(n,10)}e.availableOutgoingBitrate,e.availableIncomingBitrate}else{if("true"==e.googActiveConnection){l.internal.activeConnection.remoteCandidate=e.remoteCandidateId,l.internal.activeConnection.localCandidate=e.localCandidateId,l.connectionType.transport=e.googTransportType,l.bandwidth.rtt=e.googRtt;var a=1e3*(e.bytesReceived-l.bandwidth.helper.prevBytesReceived)*8/c,i=1e3*(e.bytesSent-l.bandwidth.helper.prevBytesSent)*8/c;l.bandwidth.helper.prevBytesReceived=e.bytesReceived,l.bandwidth.helper.prevBytesSent=e.bytesSent,i=i>0?i/1024:0,a=a>0?a/1024:0,l.bandwidth.upSpeed=parseInt(i,10),l.bandwidth.downSpeed=parseInt(a,10)}if("candidate-pair"===e.type&&!0===e.selected&&!0===e.nominated&&"succeeded"===e.state)l.internal.candidates[e.remoteCandidateId],l.internal.candidates[e.remoteCandidateId]}},p.localcandidate=function(e){if(("localcandidate"===e.type||"local-candidate"===e.type)&&e.id){var t={candidateType:e.candidateType,ipAddress:e.ipAddress,portNumber:e.portNumber,networkType:e.networkType,priority:e.priority,transport:e.transport,timestamp:e.timestamp,id:e.id,type:e.type};l.internal.candidates.push(t)}},p.remotecandidate=function(e){if(("remotecandidate"===e.type||"remote-candidate"===e.type)&&e.id){var t={candidateType:e.candidateType,ipAddress:e.ipAddress,portNumber:e.portNumber,networkType:e.networkType,priority:e.priority,transport:e.transport,timestamp:e.timestamp,id:e.id,type:e.type};l.internal.candidates.push(t)}},p.inboundrtp=function(e){if(f&&"inbound-rtp"===e.type){var t=e.mediaType||"audio";0;var r=e.ssrc;if(l[t][r]||(l[t][r]={},l[t][r].recv={}),l.internal[t][r]||(l.internal[t][r]={},l.internal[t][r].recv={}),l.internal[t][r].recv||(l.internal[t][r].recv={}),void 0!==e.bytesReceived){var n;l.internal[t][r].recv.prevBytesReceived||(l.internal[t][r].recv.prevBytesReceived=0);var a=e.bytesReceived-l.internal[t][r].recv.prevBytesReceived;l.internal[t][r].recv.prevBytesReceived=e.bytesReceived,n=8*a/1024,l[t][r].downSpeedKBPS=parseInt(n,10)}void 0!==e.jitter&&(l.internal[t][r].jitter=e.jitter,l[t][r].latency=parseInt(e.jitter,10),l[t][r].latency<0&&(l[t][r].latency=0));var i=0;if(void 0!==e.packetsReceived&&(l.internal[t][r].prevPacketsReceived||(l.internal[t][r].prevPacketsReceived=0),i=e.packetsReceived-l.internal[t][r].prevPacketsReceived,l.internal[t][r].prevPacketsReceived=e.packetsReceived,l[t][r].packetsReceived=parseInt(i,10),l[t][r].packetsReceived<0&&(l[t][r].packetsReceived=0)),void 0!==e.packetsLost){l.internal[t][r].prevPacketsLost||(l.internal[t][r].prevPacketsLost=0);var o=e.packetsLost-l.internal[t][r].prevPacketsLost;l.internal[t][r].prevPacketsLost=e.packetsLost,l[t][r].packetsLost=parseInt(o,10),l[t][r].packetsLost<0&&(l[t][r].packetsLost=0)}}},p.outboundrtp=function(e){if(f&&"outbound-rtp"===e.type){var t=e.mediaType||"audio";0;var r=e.ssrc;if(l[t][r]||(l[t][r]={},l[t][r].send={}),l.internal[t][r]||(l.internal[t][r]={},l.internal[t][r].send={}),l.internal[t][r].send||(l.internal[t][r].send={}),void 0!==e.bytesSent){var n;l.internal[t][r].send.prevBytesSent||(l.internal[t][r].send.prevBytesSent=0);var a=e.bytesSent-l.internal[t][r].send.prevBytesSent;l.internal[t][r].send.prevBytesSent=e.bytesSent,n=8*a/1024,l[t][r].send.availableBandwidth=parseInt(n,10),l[t][r].upSpeedKBPS=parseInt(n,10)}var i=0;if(void 0!==e.packetsSent&&(l.internal[t][r].prevPacketsSent||(l.internal[t][r].prevPacketsSent=0),i=e.packetsSent-l.internal[t][r].prevPacketsSent,l.internal[t][r].prevPacketsSent=e.packetsSent,l[t][r].packetsSent=parseInt(i,10),l[t][r].packetsSent<0&&(l[t][r].packetsSent=0)),void 0!==e.packetsLost){l.internal[t][r].prevPacketsLost||(l.internal[t][r].prevPacketsLost=0);var o=e.packetsLost-l.internal[t][r].prevPacketsLost;l.internal[t][r].prevPacketsLost=e.packetsLost,l[t][r].packetsLost=parseInt(o,10),l[t][r].packetsLost<0&&(l[t][r].packetsLost=0)}}},p.track=function(e){if(f&&"track"===e.type){var t=!0===e.remoteSource?"send":"recv";l.resolutions||(l.resolutions={},l.resolutions[t]={}),l.resolutions[t]||(l.resolutions[t]={}),e.frameWidth&&e.frameHeight&&(l.resolutions[t].width=e.frameWidth,l.resolutions[t].height=e.frameHeight)}};var g={audio:{send:[],recv:[]},video:{send:[],recv:[]}};p.ssrc=function(e){if(e.googCodecName&&("video"===e.mediaType||"audio"===e.mediaType)&&"ssrc"===e.type){var t=e.id.split("_").pop();-1===g[e.mediaType][t].indexOf(e.ssrc)&&g[e.mediaType][t].push(e.ssrc)}},v()};e.exports=u,void 0===(a=function(){return u}.apply(t,[]))||(e.exports=a)}).call(this,r(37))}])}));\n//# sourceMappingURL=tttwebsdk.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vbm9kZV9tb2R1bGVzL3R0dHdlYnNkay90dHR3ZWJzZGsuanM/Yzk3YiJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcInR0dHdlYnNka1wiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMudHR0d2Vic2RrPXQoKTplLnR0dHdlYnNkaz10KCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIGE9dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsciksYS5sPSEwLGEuZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgYSBpbiBlKXIuZChuLGEsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxhKSk7cmV0dXJuIG59LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9XCJcIixyKHIucz0xMTkpfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMDt2YXIgbixhPXIoMTIzKSxpPShuPWEpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGkuZGVmYXVsdCkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cigxMjEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuLGE9cigyNiksaT0obj1hKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjooMCxpLmRlZmF1bHQpKHQpKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPW8ocigxNDIpKSxhPW8ocigxNDYpKSxpPW8ocigyNikpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiKyh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6KDAsaS5kZWZhdWx0KSh0KSkpO2UucHJvdG90eXBlPSgwLGEuZGVmYXVsdCkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihuLmRlZmF1bHQ/KDAsbi5kZWZhdWx0KShlLHQpOmUuX19wcm90b19fPXQpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPW8ocigwKSksYT1vKHIoMSkpLGk9byhyKDEwNykpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBzPVwibWVkaWFzb3VwLWNsaWVudFwiLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLG4uZGVmYXVsdCkodGhpcyxlKSx0Pyh0aGlzLl9kZWJ1Zz0oMCxpLmRlZmF1bHQpKHMrXCI6XCIrdCksdGhpcy5fd2Fybj0oMCxpLmRlZmF1bHQpKHMrXCI6V0FSTjpcIit0KSx0aGlzLl9lcnJvcj0oMCxpLmRlZmF1bHQpKHMrXCI6RVJST1I6XCIrdCkpOih0aGlzLl9kZWJ1Zz0oMCxpLmRlZmF1bHQpKHMpLHRoaXMuX3dhcm49KDAsaS5kZWZhdWx0KShzK1wiOldBUk5cIiksdGhpcy5fZXJyb3I9KDAsaS5kZWZhdWx0KShzK1wiOkVSUk9SXCIpKSx0aGlzLl9kZWJ1Zy5sb2c9Y29uc29sZS5pbmZvLmJpbmQoY29uc29sZSksdGhpcy5fd2Fybi5sb2c9Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSksdGhpcy5fZXJyb3IubG9nPWNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKX1yZXR1cm4oMCxhLmRlZmF1bHQpKGUsW3trZXk6XCJkZWJ1Z1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z319LHtrZXk6XCJ3YXJuXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhcm59fSx7a2V5OlwiZXJyb3JcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3J9fV0pLGV9KCk7dC5kZWZhdWx0PWN9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cigxNTIpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz17dmVyc2lvbjpcIjIuNi4xMVwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPXIpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoMTYzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWEocigyNCkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQucmFuZG9tTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkoKX0sdC5jbG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZSgoMCxuLmRlZmF1bHQpKGUpKX07dmFyIGk9YShyKDExMykpLmRlZmF1bHQuZ2VuZXJhdG9yKHttaW46MWU3LG1heDo5OTk5OTk5OSxpbnRlZ2VyOiEwfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1sKHIoNikpLGE9bChyKDIpKSxpPWwocigwKSksbz1sKHIoMSkpLHM9bChyKDMpKSxjPWwocig0KSksdT1yKDI5KSxkPWwocig1KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXsoMCxpLmRlZmF1bHQpKHRoaXMsdCk7dmFyIHI9KDAscy5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsYS5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIHIuc2V0TWF4TGlzdGVuZXJzKDEvMCksci5fbG9nZ2VyPWV8fG5ldyBkLmRlZmF1bHQoXCI8RW5oYW5jZWRFdmVudEVtaXR0ZXI+XCIpLHJ9cmV0dXJuKDAsYy5kZWZhdWx0KSh0LGUpLCgwLG8uZGVmYXVsdCkodCxbe2tleTpcInNhZmVFbWl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dHJ5e2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylyW24tMV09YXJndW1lbnRzW25dO3RoaXMuZW1pdC5hcHBseSh0aGlzLFtlXS5jb25jYXQocikpfWNhdGNoKHQpe3RoaXMuX2xvZ2dlci5lcnJvcihcInNhZmVFbWl0KCkgfCBldmVudCBsaXN0ZW5lciB0aHJldyBhbiBlcnJvciBbZXZlbnQ6JXNdOiVvXCIsZSx0KX19fSx7a2V5Olwic2FmZUVtaXRBc1Byb21pc2VcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGgsYT1BcnJheShyPjE/ci0xOjApLGk9MTtpPHI7aSsrKWFbaS0xXT1hcmd1bWVudHNbaV07cmV0dXJuIG5ldyBuLmRlZmF1bHQoKGZ1bmN0aW9uKHIsbil7dC5zYWZlRW1pdC5hcHBseSh0LFtlXS5jb25jYXQoYSxbZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24ocil7dC5fbG9nZ2VyLmVycm9yKFwic2FmZUVtaXRBc1Byb21pc2UoKSB8IGVycmJhY2sgY2FsbGVkIFtldmVudDolc106JW9cIixlLHIpLG4ocil9XSkpfSkpfX1dKSx0fSh1LkV2ZW50RW1pdHRlcik7dC5kZWZhdWx0PXB9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxhPXIoNyksaT1yKDI3KSxvPXIoMjgpLHM9cigzMiksYz1mdW5jdGlvbihlLHQscil7dmFyIHUsZCxsLHA9ZSZjLkYsZj1lJmMuRyxtPWUmYy5TLGg9ZSZjLlAsdj1lJmMuQixfPWUmYy5XLGc9Zj9hOmFbdF18fChhW3RdPXt9KSx5PWcucHJvdG90eXBlLGI9Zj9uOm0/blt0XTooblt0XXx8e30pLnByb3RvdHlwZTtmb3IodSBpbiBmJiYocj10KSxyKShkPSFwJiZiJiZ2b2lkIDAhPT1iW3VdKSYmcyhnLHUpfHwobD1kP2JbdV06clt1XSxnW3VdPWYmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJbdV0/clt1XTp2JiZkP2kobCxuKTpfJiZiW3VdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fShsKTpoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGgmJigoZy52aXJ0dWFsfHwoZy52aXJ0dWFsPXt9KSlbdV09bCxlJmMuUiYmeSYmIXlbdV0mJm8oeSx1LGwpKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsZS5leHBvcnRzPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDE5MCksYT1yKDE5MSk7dC53cml0ZT1hLHQucGFyc2U9bi5wYXJzZSx0LnBhcnNlRm10cENvbmZpZz1uLnBhcnNlRm10cENvbmZpZyx0LnBhcnNlUGFyYW1zPW4ucGFyc2VQYXJhbXMsdC5wYXJzZVBheWxvYWRzPW4ucGFyc2VQYXlsb2Fkcyx0LnBhcnNlUmVtb3RlQ2FuZGlkYXRlcz1uLnBhcnNlUmVtb3RlQ2FuZGlkYXRlcyx0LnBhcnNlSW1hZ2VBdHRyaWJ1dGVzPW4ucGFyc2VJbWFnZUF0dHJpYnV0ZXMsdC5wYXJzZVNpbXVsY2FzdFN0cmVhbUxpc3Q9bi5wYXJzZVNpbXVsY2FzdFN0cmVhbUxpc3R9LGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9cil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY0KShcIndrc1wiKSxhPXIoNTMpLGk9cigxMykuU3ltYm9sLG89XCJmdW5jdGlvblwiPT10eXBlb2YgaTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vJiZpW2VdfHwobz9pOmEpKFwiU3ltYm9sLlwiK2UpKX0pLnN0b3JlPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbixhPXIoMTcpLGk9KG49YSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O2Z1bmN0aW9uIG8oZSx0KXt2YXIgcj1bXSxuPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxjPWZ1bmN0aW9uKCl7dmFyIGU9cy52YWx1ZSxuPSh0LnJ0Y3BGZWVkYmFja3x8W10pLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lLnR5cGUmJnQucGFyYW1ldGVyPT09ZS5wYXJhbWV0ZXJ9KSk7biYmci5wdXNoKG4pfSx1PSgwLGkuZGVmYXVsdCkoZS5ydGNwRmVlZGJhY2t8fFtdKTshKG49KHM9dS5uZXh0KCkpLmRvbmUpO249ITApYygpfWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5eyFuJiZ1LnJldHVybiYmdS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319cmV0dXJuIHJ9dC5nZXRFeHRlbmRlZFJ0cENhcGFiaWxpdGllcz1mdW5jdGlvbihlLHQpe3ZhciByPXtjb2RlY3M6W10saGVhZGVyRXh0ZW5zaW9uczpbXSxmZWNNZWNoYW5pc21zOltdfSxuPSEwLGE9ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgYyx1PWZ1bmN0aW9uKCl7dmFyIHQ9Yy52YWx1ZTtpZihcInJ0eFwiPT09dC5uYW1lKXJldHVyblwiY29udGludWVcIjt2YXIgbj0oZS5jb2RlY3N8fFtdKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCksbj10Lm1pbWVUeXBlLnRvTG93ZXJDYXNlKCk7aWYociE9PW4pcmV0dXJuITE7aWYoZS5jbG9ja1JhdGUhPT10LmNsb2NrUmF0ZSlyZXR1cm4hMTtpZihlLmNoYW5uZWxzIT09dC5jaGFubmVscylyZXR1cm4hMTtpZihcInZpZGVvL2gyNjRcIj09PXIpe3ZhciBhPShlLnBhcmFtZXRlcnN8fHt9KVtcInBhY2tldGl6YXRpb24tbW9kZVwiXXx8MCxpPSh0LnBhcmFtZXRlcnN8fHt9KVtcInBhY2tldGl6YXRpb24tbW9kZVwiXXx8MDtpZihhIT09aSlyZXR1cm4hMX1yZXR1cm4hMH0oZSx0KX0pKTtpZihuKXt2YXIgYT17bmFtZTp0Lm5hbWUsbWltZVR5cGU6dC5taW1lVHlwZSxraW5kOnQua2luZCxjbG9ja1JhdGU6dC5jbG9ja1JhdGUsc2VuZFBheWxvYWRUeXBlOm4ucHJlZmVycmVkUGF5bG9hZFR5cGUsc2VuZFJ0eFBheWxvYWRUeXBlOm51bGwscmVjdlBheWxvYWRUeXBlOnQucHJlZmVycmVkUGF5bG9hZFR5cGUscmVjdlJ0eFBheWxvYWRUeXBlOm51bGwsY2hhbm5lbHM6dC5jaGFubmVscyxydGNwRmVlZGJhY2s6byhuLHQpLHBhcmFtZXRlcnM6dC5wYXJhbWV0ZXJzfTthLmNoYW5uZWxzfHxkZWxldGUgYS5jaGFubmVscyxyLmNvZGVjcy5wdXNoKGEpfX0sZD0oMCxpLmRlZmF1bHQpKHQuY29kZWNzfHxbXSk7IShuPShjPWQubmV4dCgpKS5kb25lKTtuPSEwKXUoKX1jYXRjaChlKXthPSEwLHM9ZX1maW5hbGx5e3RyeXshbiYmZC5yZXR1cm4mJmQucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHN9fXZhciBsPSEwLHA9ITEsZj12b2lkIDA7dHJ5e2Zvcih2YXIgbSxoPWZ1bmN0aW9uKCl7dmFyIHI9bS52YWx1ZSxuPShlLmNvZGVjc3x8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCI9PT1lLm5hbWUmJmUucGFyYW1ldGVycy5hcHQ9PT1yLnNlbmRQYXlsb2FkVHlwZX0pKSxhPSh0LmNvZGVjc3x8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCI9PT1lLm5hbWUmJmUucGFyYW1ldGVycy5hcHQ9PT1yLnJlY3ZQYXlsb2FkVHlwZX0pKTtuJiZhJiYoci5zZW5kUnR4UGF5bG9hZFR5cGU9bi5wcmVmZXJyZWRQYXlsb2FkVHlwZSxyLnJlY3ZSdHhQYXlsb2FkVHlwZT1hLnByZWZlcnJlZFBheWxvYWRUeXBlKX0sdj0oMCxpLmRlZmF1bHQpKHIuY29kZWNzfHxbXSk7IShsPShtPXYubmV4dCgpKS5kb25lKTtsPSEwKWgoKX1jYXRjaChlKXtwPSEwLGY9ZX1maW5hbGx5e3RyeXshbCYmdi5yZXR1cm4mJnYucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGZ9fXZhciBfPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgYixrPWZ1bmN0aW9uKCl7dmFyIHQ9Yi52YWx1ZSxuPShlLmhlYWRlckV4dGVuc2lvbnN8fFtdKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gbj10LCEoKHI9ZSkua2luZCYmbi5raW5kJiZyLmtpbmQhPT1uLmtpbmR8fHIudXJpIT09bi51cmkpO3ZhciByLG59KSk7aWYobil7dmFyIGE9e2tpbmQ6dC5raW5kLHVyaTp0LnVyaSxzZW5kSWQ6bi5wcmVmZXJyZWRJZCxyZWN2SWQ6dC5wcmVmZXJyZWRJZH07ci5oZWFkZXJFeHRlbnNpb25zLnB1c2goYSl9fSx3PSgwLGkuZGVmYXVsdCkodC5oZWFkZXJFeHRlbnNpb25zfHxbXSk7IShfPShiPXcubmV4dCgpKS5kb25lKTtfPSEwKWsoKX1jYXRjaChlKXtnPSEwLHk9ZX1maW5hbGx5e3RyeXshXyYmdy5yZXR1cm4mJncucmV0dXJuKCl9ZmluYWxseXtpZihnKXRocm93IHl9fXJldHVybiByfSx0LmdldFJ0cENhcGFiaWxpdGllcz1mdW5jdGlvbihlKXt2YXIgdD17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXX0scj0hMCxuPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz0oMCxpLmRlZmF1bHQpKGUuY29kZWNzKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciBjPW8udmFsdWUsdT17bmFtZTpjLm5hbWUsbWltZVR5cGU6Yy5taW1lVHlwZSxraW5kOmMua2luZCxjbG9ja1JhdGU6Yy5jbG9ja1JhdGUscHJlZmVycmVkUGF5bG9hZFR5cGU6Yy5yZWN2UGF5bG9hZFR5cGUsY2hhbm5lbHM6Yy5jaGFubmVscyxydGNwRmVlZGJhY2s6Yy5ydGNwRmVlZGJhY2sscGFyYW1ldGVyczpjLnBhcmFtZXRlcnN9O2lmKHUuY2hhbm5lbHN8fGRlbGV0ZSB1LmNoYW5uZWxzLHQuY29kZWNzLnB1c2godSksYy5yZWN2UnR4UGF5bG9hZFR5cGUpe3ZhciBkPXtuYW1lOlwicnR4XCIsbWltZVR5cGU6Yy5raW5kK1wiL3J0eFwiLGtpbmQ6Yy5raW5kLGNsb2NrUmF0ZTpjLmNsb2NrUmF0ZSxwcmVmZXJyZWRQYXlsb2FkVHlwZTpjLnJlY3ZSdHhQYXlsb2FkVHlwZSxwYXJhbWV0ZXJzOnthcHQ6Yy5yZWN2UGF5bG9hZFR5cGV9fTt0LmNvZGVjcy5wdXNoKGQpfX19Y2F0Y2goZSl7bj0hMCxhPWV9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBhfX12YXIgbD0hMCxwPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIG0saD0oMCxpLmRlZmF1bHQpKGUuaGVhZGVyRXh0ZW5zaW9ucyk7IShsPShtPWgubmV4dCgpKS5kb25lKTtsPSEwKXt2YXIgdj1tLnZhbHVlLF89e2tpbmQ6di5raW5kLHVyaTp2LnVyaSxwcmVmZXJyZWRJZDp2LnJlY3ZJZH07dC5oZWFkZXJFeHRlbnNpb25zLnB1c2goXyl9fWNhdGNoKGUpe3A9ITAsZj1lfWZpbmFsbHl7dHJ5eyFsJiZoLnJldHVybiYmaC5yZXR1cm4oKX1maW5hbGx5e2lmKHApdGhyb3cgZn19cmV0dXJuIHQuZmVjTWVjaGFuaXNtcz1lLmZlY01lY2hhbmlzbXMsdH0sdC5nZXRVbnN1cHBvcnRlZENvZGVjcz1mdW5jdGlvbihlLHQscil7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuW107dmFyIG49W10sYT1lLmNvZGVjcyxvPXIuY29kZWNzLHM9ITAsYz0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBkLGw9ZnVuY3Rpb24oKXt2YXIgZT1kLnZhbHVlO2lmKCFvLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlY3ZQYXlsb2FkVHlwZT09PWV9KSkpe3ZhciB0PWEuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucHJlZmVycmVkUGF5bG9hZFR5cGU9PT1lfSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1hbmRhdG9yeSBjb2RlYyBQVCBcIitlK1wiIG5vdCBmb3VuZCBpbiByZW1vdGUgY29kZWNzXCIpO24ucHVzaCh0KX19LHA9KDAsaS5kZWZhdWx0KSh0KTshKHM9KGQ9cC5uZXh0KCkpLmRvbmUpO3M9ITApbCgpfWNhdGNoKGUpe2M9ITAsdT1lfWZpbmFsbHl7dHJ5eyFzJiZwLnJldHVybiYmcC5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgdX19cmV0dXJuIG59LHQuY2FuU2VuZD1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvZGVjcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdC5raW5kPT09ZX0pKX0sdC5jYW5SZWNlaXZlPWZ1bmN0aW9uKGUsdCl7aWYoMD09PWUuY29kZWNzLmxlbmd0aClyZXR1cm4hMTt2YXIgcj1lLmNvZGVjc1swXTtyZXR1cm4gdC5jb2RlY3Muc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjdlBheWxvYWRUeXBlPT09ci5wYXlsb2FkVHlwZX0pKX0sdC5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3ZhciByPXttdXhJZDpudWxsLGNvZGVjczpbXSxoZWFkZXJFeHRlbnNpb25zOltdLGVuY29kaW5nczpbXSxydGNwOnt9fSxuPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxjPSgwLGkuZGVmYXVsdCkodC5jb2RlY3MpOyEobj0ocz1jLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHU9cy52YWx1ZTtpZih1LmtpbmQ9PT1lKXt2YXIgZD17bmFtZTp1Lm5hbWUsbWltZVR5cGU6dS5taW1lVHlwZSxjbG9ja1JhdGU6dS5jbG9ja1JhdGUscGF5bG9hZFR5cGU6dS5zZW5kUGF5bG9hZFR5cGUsY2hhbm5lbHM6dS5jaGFubmVscyxydGNwRmVlZGJhY2s6dS5ydGNwRmVlZGJhY2sscGFyYW1ldGVyczp1LnBhcmFtZXRlcnN9O2lmKGQuY2hhbm5lbHN8fGRlbGV0ZSBkLmNoYW5uZWxzLHIuY29kZWNzLnB1c2goZCksdS5zZW5kUnR4UGF5bG9hZFR5cGUpe3ZhciBsPXtuYW1lOlwicnR4XCIsbWltZVR5cGU6dS5raW5kK1wiL3J0eFwiLGNsb2NrUmF0ZTp1LmNsb2NrUmF0ZSxwYXlsb2FkVHlwZTp1LnNlbmRSdHhQYXlsb2FkVHlwZSxwYXJhbWV0ZXJzOnthcHQ6dS5zZW5kUGF5bG9hZFR5cGV9fTtyLmNvZGVjcy5wdXNoKGwpfX19fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5eyFuJiZjLnJldHVybiYmYy5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319dmFyIHA9ITAsZj0hMSxtPXZvaWQgMDt0cnl7Zm9yKHZhciBoLHY9KDAsaS5kZWZhdWx0KSh0LmhlYWRlckV4dGVuc2lvbnMpOyEocD0oaD12Lm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89aC52YWx1ZTtpZighXy5raW5kfHxfLmtpbmQ9PT1lKXt2YXIgZz17dXJpOl8udXJpLGlkOl8uc2VuZElkfTtyLmhlYWRlckV4dGVuc2lvbnMucHVzaChnKX19fWNhdGNoKGUpe2Y9ITAsbT1lfWZpbmFsbHl7dHJ5eyFwJiZ2LnJldHVybiYmdi5yZXR1cm4oKX1maW5hbGx5e2lmKGYpdGhyb3cgbX19cmV0dXJuIHJ9LHQuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17bXV4SWQ6bnVsbCxjb2RlY3M6W10saGVhZGVyRXh0ZW5zaW9uczpbXSxlbmNvZGluZ3M6W10scnRjcDp7fX0sbj0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsYz0oMCxpLmRlZmF1bHQpKHQuY29kZWNzKTshKG49KHM9Yy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciB1PXMudmFsdWU7aWYodS5raW5kPT09ZSl7dmFyIGQ9e25hbWU6dS5uYW1lLG1pbWVUeXBlOnUubWltZVR5cGUsY2xvY2tSYXRlOnUuY2xvY2tSYXRlLHBheWxvYWRUeXBlOnUucmVjdlBheWxvYWRUeXBlLGNoYW5uZWxzOnUuY2hhbm5lbHMscnRjcEZlZWRiYWNrOnUucnRjcEZlZWRiYWNrLHBhcmFtZXRlcnM6dS5wYXJhbWV0ZXJzfTtpZihkLmNoYW5uZWxzfHxkZWxldGUgZC5jaGFubmVscyxyLmNvZGVjcy5wdXNoKGQpLHUucmVjdlJ0eFBheWxvYWRUeXBlKXt2YXIgbD17bmFtZTpcInJ0eFwiLG1pbWVUeXBlOnUua2luZCtcIi9ydHhcIixjbG9ja1JhdGU6dS5jbG9ja1JhdGUscGF5bG9hZFR5cGU6dS5yZWN2UnR4UGF5bG9hZFR5cGUscGFyYW1ldGVyczp7YXB0OnUucmVjdlBheWxvYWRUeXBlfX07ci5jb2RlY3MucHVzaChsKX19fX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXshbiYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fXZhciBwPSEwLGY9ITEsbT12b2lkIDA7dHJ5e2Zvcih2YXIgaCx2PSgwLGkuZGVmYXVsdCkodC5oZWFkZXJFeHRlbnNpb25zKTshKHA9KGg9di5uZXh0KCkpLmRvbmUpO3A9ITApe3ZhciBfPWgudmFsdWU7aWYoIV8ua2luZHx8Xy5raW5kPT09ZSl7dmFyIGc9e3VyaTpfLnVyaSxpZDpfLnJlY3ZJZH07ci5oZWFkZXJFeHRlbnNpb25zLnB1c2goZyl9fX1jYXRjaChlKXtmPSEwLG09ZX1maW5hbGx5e3RyeXshcCYmdi5yZXR1cm4mJnYucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IG19fXJldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDE4MiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cigxNjEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDE4NSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1zKHIoMTcpKSxhPXMocigxNikpLGk9cyhyKDgpKTt0LmV4dHJhY3RSdHBDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkuZGVmYXVsdCxyPVtdLHM9ITEsYz0hMSx1PSEwLGQ9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgcCxmPSgwLG4uZGVmYXVsdCkoZS5tZWRpYSk7ISh1PShwPWYubmV4dCgpKS5kb25lKTt1PSEwKXt2YXIgbT1wLnZhbHVlLGg9bS50eXBlO3N3aXRjaChoKXtjYXNlXCJhdWRpb1wiOmlmKHMpY29udGludWU7cz0hMDticmVhaztjYXNlXCJ2aWRlb1wiOmlmKGMpY29udGludWU7Yz0hMDticmVhaztkZWZhdWx0OmNvbnRpbnVlfXZhciB2PSEwLF89ITEsZz12b2lkIDA7dHJ5e2Zvcih2YXIgeSxiPSgwLG4uZGVmYXVsdCkobS5ydHApOyEodj0oeT1iLm5leHQoKSkuZG9uZSk7dj0hMCl7dmFyIGs9eS52YWx1ZSx3PXtuYW1lOmsuY29kZWMsbWltZVR5cGU6aCtcIi9cIitrLmNvZGVjLGtpbmQ6aCxjbG9ja1JhdGU6ay5yYXRlLHByZWZlcnJlZFBheWxvYWRUeXBlOmsucGF5bG9hZCxjaGFubmVsczprLmVuY29kaW5nLHJ0Y3BGZWVkYmFjazpbXSxwYXJhbWV0ZXJzOnt9fTtcImF1ZGlvXCIhPT13LmtpbmQ/ZGVsZXRlIHcuY2hhbm5lbHM6dy5jaGFubmVsc3x8KHcuY2hhbm5lbHM9MSksdC5zZXQody5wcmVmZXJyZWRQYXlsb2FkVHlwZSx3KX19Y2F0Y2goZSl7Xz0hMCxnPWV9ZmluYWxseXt0cnl7IXYmJmIucmV0dXJuJiZiLnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBnfX12YXIgUD0hMCxTPSExLEk9dm9pZCAwO3RyeXtmb3IodmFyIFQsQz0oMCxuLmRlZmF1bHQpKG0uZm10cHx8W10pOyEoUD0oVD1DLm5leHQoKSkuZG9uZSk7UD0hMCl7dmFyIFI9VC52YWx1ZSx4PW8uZGVmYXVsdC5wYXJzZUZtdHBDb25maWcoUi5jb25maWcpLEE9dC5nZXQoUi5wYXlsb2FkKTtBJiYoQS5wYXJhbWV0ZXJzPXgpfX1jYXRjaChlKXtTPSEwLEk9ZX1maW5hbGx5e3RyeXshUCYmQy5yZXR1cm4mJkMucmV0dXJuKCl9ZmluYWxseXtpZihTKXRocm93IEl9fXZhciBFPSEwLEQ9ITEsTz12b2lkIDA7dHJ5e2Zvcih2YXIgTCxNPSgwLG4uZGVmYXVsdCkobS5ydGNwRmJ8fFtdKTshKEU9KEw9TS5uZXh0KCkpLmRvbmUpO0U9ITApe3ZhciBqPUwudmFsdWUsQj10LmdldChqLnBheWxvYWQpO2lmKEIpe3ZhciBWPXt0eXBlOmoudHlwZSxwYXJhbWV0ZXI6ai5zdWJ0eXBlfTtWLnBhcmFtZXRlcnx8ZGVsZXRlIFYucGFyYW1ldGVyLEIucnRjcEZlZWRiYWNrLnB1c2goVil9fX1jYXRjaChlKXtEPSEwLE89ZX1maW5hbGx5e3RyeXshRSYmTS5yZXR1cm4mJk0ucmV0dXJuKCl9ZmluYWxseXtpZihEKXRocm93IE99fXZhciBOPSEwLEY9ITEsVT12b2lkIDA7dHJ5e2Zvcih2YXIgRyxXPSgwLG4uZGVmYXVsdCkobS5leHR8fFtdKTshKE49KEc9Vy5uZXh0KCkpLmRvbmUpO049ITApe3ZhciBLPUcudmFsdWUsej17a2luZDpoLHVyaTpLLnVyaSxwcmVmZXJyZWRJZDpLLnZhbHVlfTtyLnB1c2goeil9fWNhdGNoKGUpe0Y9ITAsVT1lfWZpbmFsbHl7dHJ5eyFOJiZXLnJldHVybiYmVy5yZXR1cm4oKX1maW5hbGx5e2lmKEYpdGhyb3cgVX19fX1jYXRjaChlKXtkPSEwLGw9ZX1maW5hbGx5e3RyeXshdSYmZi5yZXR1cm4mJmYucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IGx9fXJldHVybntjb2RlY3M6KDAsYS5kZWZhdWx0KSh0LnZhbHVlcygpKSxoZWFkZXJFeHRlbnNpb25zOnIsZmVjTWVjaGFuaXNtczpbXX19LHQuZXh0cmFjdER0bHNQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybihlLm1lZGlhfHxbXSkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWNlVWZyYWcmJjAhPT1lLnBvcnR9KSl9KGUpLHI9dC5maW5nZXJwcmludHx8ZS5maW5nZXJwcmludCxuPXZvaWQgMDtzd2l0Y2godC5zZXR1cCl7Y2FzZVwiYWN0aXZlXCI6bj1cImNsaWVudFwiO2JyZWFrO2Nhc2VcInBhc3NpdmVcIjpuPVwic2VydmVyXCI7YnJlYWs7Y2FzZVwiYWN0cGFzc1wiOm49XCJhdXRvXCJ9cmV0dXJue3JvbGU6bixmaW5nZXJwcmludHM6W3thbGdvcml0aG06ci50eXBlLHZhbHVlOnIuaGFzaH1dfX07dmFyIG89cyhyKDEyKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNSksYT1yKDg0KSxpPXIoNjcpLG89T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yKDIyKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksYSl0cnl7cmV0dXJuIG8oZSx0LHIpfWNhdGNoKGUpe31pZihcImdldFwiaW4gcnx8XCJzZXRcImluIHIpdGhyb3cgVHlwZUVycm9yKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhXCIpO3JldHVyblwidmFsdWVcImluIHImJihlW3RdPXIudmFsdWUpLGV9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDMzKSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aShyKDUpKSxhPWkocigxMikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fW5ldyBuLmRlZmF1bHQoXCI8QmFuZHdpZHRoSGFuZGxlcj5cIik7ZnVuY3Rpb24gbyhlLHQscil7cmV0dXJuIHMoZSwwLC0xLHQscil9ZnVuY3Rpb24gcyhlLHQscixuLGEpe2Zvcih2YXIgaT0tMSE9PXI/cjplLmxlbmd0aCxvPXQ7bzxpOysrbylpZigwPT09ZVtvXS5pbmRleE9mKG4pJiYoIWF8fC0xIT09ZVtvXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYS50b0xvd2VyQ2FzZSgpKSkpcmV0dXJuIG87cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhlKXt2YXIgdD1uZXcgUmVnRXhwKFwiYT1ydHBtYXA6KFxcXFxkKykgXFxcXHcrXFxcXC9cXFxcZCtcIikscj1lLm1hdGNoKHQpO3JldHVybiByJiYyPT09ci5sZW5ndGg/clsxXTpudWxsfXQuZGVmYXVsdD17c2V0QkFTOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYXx8IXR8fChyJiYodC5zY3JlZW4/dC5zY3JlZW48MzAwJiZjb25zb2xlLndhcm4oXCJJdCBzZWVtcyB0aGF0IHlvdSBhcmUgdXNpbmcgd3JvbmcgYmFuZHdpZHRoIHZhbHVlIGZvciBzY3JlZW4uIFNjcmVlbiBzaGFyaW5nIGlzIGV4cGVjdGVkIHRvIGZhaWwuXCIpOmNvbnNvbGUud2FybihcIkl0IHNlZW1zIHRoYXQgeW91IGFyZSBub3QgdXNpbmcgYmFuZHdpZHRoIGZvciBzY3JlZW4uIFNjcmVlbiBzaGFyaW5nIGlzIGV4cGVjdGVkIHRvIGZhaWwuXCIpKSx0LnNjcmVlbiYmciYmKGU9KGU9ZS5yZXBsYWNlKC9iPUFTKFteXFxyXFxuXStcXHJcXG4pL2csXCJcIikpLnJlcGxhY2UoL2E9bWlkOnZpZGVvXFxyXFxuL2csXCJhPW1pZDp2aWRlb1xcclxcbmI9QVM6XCIrdC5zY3JlZW4rXCJcXHJcXG5cIikpLCh0LmF1ZGlvfHx0LnZpZGVvfHx0LmRhdGEpJiYoZT1lLnJlcGxhY2UoL2I9QVMoW15cXHJcXG5dK1xcclxcbikvZyxcIlwiKSksdC5hdWRpbyYmKGU9ZS5yZXBsYWNlKC9hPW1pZDphdWRpb1xcclxcbi9nLFwiYT1taWQ6YXVkaW9cXHJcXG5iPUFTOlwiK3QuYXVkaW8rXCJcXHJcXG5cIikpLHQudmlkZW8mJihlPWUucmVwbGFjZSgvYT1taWQ6dmlkZW9cXHJcXG4vZyxcImE9bWlkOnZpZGVvXFxyXFxuYj1BUzpcIisocj90LnNjcmVlbjp0LnZpZGVvKStcIlxcclxcblwiKSkpLGV9LHNldFZpZGVvQml0cmF0ZXM6ZnVuY3Rpb24oZSx0KXtpZihudWxsPT10KXJldHVybiBlO2lmKHZvaWQgMD09PXQudmlkZW9Hb29nbGVNaW5CaXRyYXRlfHx2b2lkIDA9PT10LnZpZGVvR29vZ2xlTWF4Qml0cmF0ZSlyZXR1cm4gZTt2YXIgcixuPSh0PXR8fHt9KS52aWRlb0dvb2dsZU1pbkJpdHJhdGUsYT10LnZpZGVvR29vZ2xlTWF4Qml0cmF0ZSxpPXQudmlkZW9Hb29nbGVTdGFydEJpdHJhdGUsdT1lLnNwbGl0KFwiXFxyXFxuXCIpLGQ9byh1LFwiYT1ydHBtYXBcIixcIkgyNjQvOTAwMDBcIik7aWYoZCYmKHI9Yyh1W2RdKSksIXIpcmV0dXJuIGU7Zm9yKHZhciBsPVwiXCIscD12b2lkIDAsZj0wO251bGwhPT1mJiYobnVsbCE9PShmPXModSxmLC0xLFwiYT1mbXRwXCIsXCJwcm9maWxlLWxldmVsLWlkPTQyMDAxZlwiKSkmJihsPVwiXCIsLTE9PT11W2ZdLmluZGV4T2YoXCJ4LWdvb2dsZS1taW4tYml0cmF0ZT1cIik/bCs9XCI7eC1nb29nbGUtbWluLWJpdHJhdGU9XCIrKG58fFwiMjI4XCIpOihwPW5ldyBSZWdFeHAoXCJ4LWdvb2dsZS1taW4tYml0cmF0ZT0oXFxcXGQrKVwiKSx1W2ZdPXVbZl0ucmVwbGFjZShwLFwieC1nb29nbGUtbWluLWJpdHJhdGU9XCIrKG58fFwiMjI4XCIpKSksLTE9PT11W2ZdLmluZGV4T2YoXCJ4LWdvb2dsZS1tYXgtYml0cmF0ZT1cIik/bCs9XCI7eC1nb29nbGUtbWF4LWJpdHJhdGU9XCIrKGF8fFwiMjI4XCIpOihwPW5ldyBSZWdFeHAoXCJ4LWdvb2dsZS1tYXgtYml0cmF0ZT0oXFxcXGQrKVwiKSx1W2ZdPXVbZl0ucmVwbGFjZShwLFwieC1nb29nbGUtbWF4LWJpdHJhdGU9XCIrKGF8fFwiMjI4XCIpKSksLTE9PT11W2ZdLmluZGV4T2YoXCJ4LWdvb2dsZS1zdGFydC1iaXRyYXRlPVwiKT9sKz1cIjt4LWdvb2dsZS1zdGFydC1iaXRyYXRlPVwiKyhpfHxcIjIyOFwiKToocD1uZXcgUmVnRXhwKFwieC1nb29nbGUtc3RhcnQtYml0cmF0ZT0oXFxcXGQrKVwiKSx1W2ZdPXVbZl0ucmVwbGFjZShwLFwieC1nb29nbGUtc3RhcnQtYml0cmF0ZT1cIisoaXx8XCIyMjhcIikpKSx1W2ZdPXVbZl0uY29uY2F0KGwpLGU9dS5qb2luKFwiXFxyXFxuXCIpKSxudWxsIT09Zik7KWYrPTE7Zm9yKGY9MDtudWxsIT09ZiYmKG51bGwhPT0oZj1zKHUsZiwtMSxcImE9Zm10cFwiLFwicHJvZmlsZS1sZXZlbC1pZD00MmUwMWZcIikpJiYobD1cIlwiLC0xPT09dVtmXS5pbmRleE9mKFwieC1nb29nbGUtbWluLWJpdHJhdGU9XCIpP2wrPVwiO3gtZ29vZ2xlLW1pbi1iaXRyYXRlPVwiKyhufHxcIjIyOFwiKToocD1uZXcgUmVnRXhwKFwieC1nb29nbGUtbWluLWJpdHJhdGU9KFxcXFxkKylcIiksdVtmXT11W2ZdLnJlcGxhY2UocCxcIngtZ29vZ2xlLW1pbi1iaXRyYXRlPVwiKyhufHxcIjIyOFwiKSkpLC0xPT09dVtmXS5pbmRleE9mKFwieC1nb29nbGUtbWF4LWJpdHJhdGU9XCIpP2wrPVwiO3gtZ29vZ2xlLW1heC1iaXRyYXRlPVwiKyhhfHxcIjIyOFwiKToocD1uZXcgUmVnRXhwKFwieC1nb29nbGUtbWF4LWJpdHJhdGU9KFxcXFxkKylcIiksdVtmXT11W2ZdLnJlcGxhY2UocCxcIngtZ29vZ2xlLW1heC1iaXRyYXRlPVwiKyhhfHxcIjIyOFwiKSkpLC0xPT09dVtmXS5pbmRleE9mKFwieC1nb29nbGUtc3RhcnQtYml0cmF0ZT1cIik/bCs9XCI7eC1nb29nbGUtc3RhcnQtYml0cmF0ZT1cIisoaXx8XCIyMjhcIik6KHA9bmV3IFJlZ0V4cChcIngtZ29vZ2xlLXN0YXJ0LWJpdHJhdGU9KFxcXFxkKylcIiksdVtmXT11W2ZdLnJlcGxhY2UocCxcIngtZ29vZ2xlLXN0YXJ0LWJpdHJhdGU9XCIrKGl8fFwiMjI4XCIpKSksdVtmXT11W2ZdLmNvbmNhdChsKSxlPXUuam9pbihcIlxcclxcblwiKSksbnVsbCE9PWYpOylmKz0xO3JldHVybiBlfSxzZXRPcHVzQXR0cmlidXRlczpmdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHIsbj1lLnNwbGl0KFwiXFxyXFxuXCIpLGE9byhuLFwiYT1ydHBtYXBcIixcIm9wdXMvNDgwMDBcIik7aWYoYSYmKHI9YyhuW2FdKSksIXIpcmV0dXJuIGU7dmFyIGk9byhuLFwiYT1mbXRwOlwiK3IudG9TdHJpbmcoKSk7aWYobnVsbD09PWkpcmV0dXJuIGU7dmFyIHM9XCJcIix1PXZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dC5zdGVyZW8mJigtMT09PW5baV0uaW5kZXhPZihcInN0ZXJlbz1cIik/cys9XCI7c3RlcmVvPVwiK3Quc3RlcmVvOih1PW5ldyBSZWdFeHAoXCJzdGVyZW89KFxcXFxkKVwiKSxuW2ldPW5baV0ucmVwbGFjZSh1LFwic3RlcmVvPVwiK3Quc3RlcmVvKSkpLHZvaWQgMCE9PXRbXCJzcHJvcC1zdGVyZW9cIl0mJigtMT09PW5baV0uaW5kZXhPZihcInNwcm9wLXN0ZXJlbz1cIik/cys9XCI7c3Byb3Atc3RlcmVvPVwiK3RbXCJzcHJvcC1zdGVyZW9cIl06KHU9bmV3IFJlZ0V4cChcInNwcm9wLXN0ZXJlbz0oXFxcXGQpXCIpLG5baV09bltpXS5yZXBsYWNlKHUsXCJzcHJvcC1zdGVyZW89XCIrdFtcInNwcm9wLXN0ZXJlb1wiXSkpKSx2b2lkIDAhPT10Lm1heGF2ZXJhZ2ViaXRyYXRlJiYoLTE9PW5baV0uaW5kZXhPZihcIm1heGF2ZXJhZ2ViaXRyYXRlPVwiKT9zKz1cIjttYXhhdmVyYWdlYml0cmF0ZT1cIisodC5tYXhhdmVyYWdlYml0cmF0ZXx8MTA0ODU3Nik6KHU9bmV3IFJlZ0V4cChcIm1heGF2ZXJhZ2ViaXRyYXRlPShcXFxcZCspXCIpLG5baV09bltpXS5yZXBsYWNlKHUsXCJtYXhhdmVyYWdlYml0cmF0ZT1cIisodC5tYXhhdmVyYWdlYml0cmF0ZXx8MTA0ODU3NikpKSksdm9pZCAwIT09dC5tYXhwbGF5YmFja3JhdGUmJigtMT09PW5baV0uaW5kZXhPZihcIm1heHBsYXliYWNrcmF0ZT1cIik/cys9XCI7bWF4cGxheWJhY2tyYXRlPVwiKyh0Lm1heHBsYXliYWNrcmF0ZXx8NDhlMyk6KHU9bmV3IFJlZ0V4cChcIm1heHBsYXliYWNrcmF0ZT0oXFxcXGQrKVwiKSxuW2ldPW5baV0ucmVwbGFjZSh1LFwibWF4cGxheWJhY2tyYXRlPVwiKyh0Lm1heHBsYXliYWNrcmF0ZXx8NDhlMykpKSksdm9pZCAwIT09dC5jYnImJigtMT09PW5baV0uaW5kZXhPZihcImNicj1cIik/cys9XCI7Y2JyPVwiK3QuY2JyOih1PW5ldyBSZWdFeHAoXCJjYnI9KFxcXFxkKylcIiksbltpXT1uW2ldLnJlcGxhY2UodSxcImNicj1cIit0LmNicikpKSx2b2lkIDAhPT10LnVzZWluYmFuZGZlYyYmKC0xPT09bltpXS5pbmRleE9mKFwidXNlaW5iYW5kZmVjPVwiKT9zKz1cIjt1c2VpbmJhbmRmZWM9XCIrdC51c2VpbmJhbmRmZWM6KHU9bmV3IFJlZ0V4cChcInVzZWluYmFuZGZlYz0oXFxcXGQpXCIpLG5baV09bltpXS5yZXBsYWNlKHUsXCJ1c2VpbmJhbmRmZWM9XCIrdC51c2VpbmJhbmRmZWMpKSksdm9pZCAwIT09dC51c2VkdHgmJigtMT09PW5baV0uaW5kZXhPZihcInVzZWR0eD1cIik/cys9XCI7dXNlZHR4PVwiK3QudXNlZHR4Oih1PW5ldyBSZWdFeHAoXCJ1c2VkdHg9KFxcXFxkKVwiKSxuW2ldPW5baV0ucmVwbGFjZSh1LFwidXNlZHR4PVwiK3QudXNlZHR4KSkpLHZvaWQgMCE9PXQubWF4cHRpbWUmJihzKz1cIlxcclxcbmE9bWF4cHRpbWU6XCIrdC5tYXhwdGltZSksbltpXT1uW2ldLmNvbmNhdChzKSxlPW4uam9pbihcIlxcclxcblwiKX0sc2V0U3BlY2lhbEF1ZGlvQ29kZWM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hLmRlZmF1bHQucGFyc2UoZSk7cmV0dXJuIHI/KHIubWVkaWEuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtpZihcImF1ZGlvXCI9PT1lLnR5cGUmJmUucnRwKXtyLm1lZGlhW25dLnJ0cD1lLnJ0cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGVjLnRvTG93ZXJDYXNlKCk9PXR8fFwiQ05cIj09ZS5jb2RlY3x8XCJ0ZWxlcGhvbmUtZXZlbnRcIj09ZS5jb2RlY30pKTt2YXIgYT0tMTtlLnJ0cC5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2UuY29kZWM9PXQmJihhPWUucGF5bG9hZCl9KSksci5tZWRpYVtuXS5wYXlsb2Fkcz1lLnJ0cC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBheWxvYWR9KSkuam9pbihcIiBcIiksZS5mbXRwJiYoci5tZWRpYVtuXS5mbXRwPWUuZm10cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBheWxvYWQ9PWF9KSkpLGUucnRjcEZiJiYoci5tZWRpYVtuXS5ydGNwRmI9ZS5ydGNwRmIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXlsb2FkPT1hfSkpKX19KSksZT1hLmRlZmF1bHQud3JpdGUocikpOmV9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDEyMCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPW8ocigxMjYpKSxhPW8ocigxMzUpKSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZGVmYXVsdCYmXCJzeW1ib2xcIj09dHlwZW9mIG4uZGVmYXVsdD9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1hLmRlZmF1bHQmJmUhPT1hLmRlZmF1bHQucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmRlZmF1bHQmJlwic3ltYm9sXCI9PT1pKG4uZGVmYXVsdCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5kZWZhdWx0JiZlLmNvbnN0cnVjdG9yPT09YS5kZWZhdWx0JiZlIT09YS5kZWZhdWx0LnByb3RvdHlwZT9cInN5bWJvbFwiOnZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixhKXtyZXR1cm4gZS5jYWxsKHQscixuLGEpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpLGE9cig0Nik7ZS5leHBvcnRzPXIoMjIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxhKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuLGE9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLGk9YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5hcHBseT9hLmFwcGx5OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LHIpfTtuPWEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEub3duS2V5cz9hLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSl9O3ZhciBvPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIHMoKXtzLmluaXQuY2FsbCh0aGlzKX1lLmV4cG9ydHM9cyxzLkV2ZW50RW1pdHRlcj1zLHMucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLHMucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLHMucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBjPTEwO2Z1bmN0aW9uIHUoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKX1mdW5jdGlvbiBkKGUpe3JldHVybiB2b2lkIDA9PT1lLl9tYXhMaXN0ZW5lcnM/cy5kZWZhdWx0TWF4TGlzdGVuZXJzOmUuX21heExpc3RlbmVyc31mdW5jdGlvbiBsKGUsdCxyLG4pe3ZhciBhLGksbyxzO2lmKHUociksdm9pZCAwPT09KGk9ZS5fZXZlbnRzKT8oaT1lLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSxlLl9ldmVudHNDb3VudD0wKToodm9pZCAwIT09aS5uZXdMaXN0ZW5lciYmKGUuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxyLmxpc3RlbmVyP3IubGlzdGVuZXI6ciksaT1lLl9ldmVudHMpLG89aVt0XSksdm9pZCAwPT09bylvPWlbdF09ciwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9vPWlbdF09bj9bcixvXTpbbyxyXTpuP28udW5zaGlmdChyKTpvLnB1c2gociksKGE9ZChlKSk+MCYmby5sZW5ndGg+YSYmIW8ud2FybmVkKXtvLndhcm5lZD0hMDt2YXIgYz1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK28ubGVuZ3RoK1wiIFwiK1N0cmluZyh0KStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO2MubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGMuZW1pdHRlcj1lLGMudHlwZT10LGMuY291bnQ9by5sZW5ndGgscz1jLGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKHMpfXJldHVybiBlfWZ1bmN0aW9uIHAoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoZSx0LHIpe3ZhciBuPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDplLHR5cGU6dCxsaXN0ZW5lcjpyfSxhPXAuYmluZChuKTtyZXR1cm4gYS5saXN0ZW5lcj1yLG4ud3JhcEZuPWEsYX1mdW5jdGlvbiBtKGUsdCxyKXt2YXIgbj1lLl9ldmVudHM7aWYodm9pZCAwPT09bilyZXR1cm5bXTt2YXIgYT1uW3RdO3JldHVybiB2b2lkIDA9PT1hP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIGE/cj9bYS5saXN0ZW5lcnx8YV06W2FdOnI/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCkscj0wO3I8dC5sZW5ndGg7KytyKXRbcl09ZVtyXS5saXN0ZW5lcnx8ZVtyXTtyZXR1cm4gdH0oYSk6dihhLGEubGVuZ3RoKX1mdW5jdGlvbiBoKGUpe3ZhciB0PXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT10KXt2YXIgcj10W2VdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpcmV0dXJuIDE7aWYodm9pZCAwIT09cilyZXR1cm4gci5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgcj1uZXcgQXJyYXkodCksbj0wO248dDsrK24pcltuXT1lW25dO3JldHVybiByfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8byhlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7Yz1lfX0pLHMuaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LHMucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxvKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30scy5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcyl9LHMucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQucHVzaChhcmd1bWVudHNbcl0pO3ZhciBuPVwiZXJyb3JcIj09PWUsYT10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09YSluPW4mJnZvaWQgMD09PWEuZXJyb3I7ZWxzZSBpZighbilyZXR1cm4hMTtpZihuKXt2YXIgbztpZih0Lmxlbmd0aD4wJiYobz10WzBdKSxvIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgbzt2YXIgcz1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKG8/XCIgKFwiK28ubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgcy5jb250ZXh0PW8sc312YXIgYz1hW2VdO2lmKHZvaWQgMD09PWMpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYylpKGMsdGhpcyx0KTtlbHNle3ZhciB1PWMubGVuZ3RoLGQ9dihjLHUpO2ZvcihyPTA7cjx1OysrcilpKGRbcl0sdGhpcyx0KX1yZXR1cm4hMH0scy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCh0aGlzLGUsdCwhMSl9LHMucHJvdG90eXBlLm9uPXMucHJvdG90eXBlLmFkZExpc3RlbmVyLHMucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBsKHRoaXMsZSx0LCEwKX0scy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiB1KHQpLHRoaXMub24oZSxmKHRoaXMsZSx0KSksdGhpc30scy5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB1KHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsZih0aGlzLGUsdCkpLHRoaXN9LHMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLGksbztpZih1KHQpLHZvaWQgMD09PShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KHI9bltlXSkpcmV0dXJuIHRoaXM7aWYocj09PXR8fHIubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBuW2VdLG4ucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxyLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXtmb3IoYT0tMSxpPXIubGVuZ3RoLTE7aT49MDtpLS0paWYocltpXT09PXR8fHJbaV0ubGlzdGVuZXI9PT10KXtvPXJbaV0ubGlzdGVuZXIsYT1pO2JyZWFrfWlmKGE8MClyZXR1cm4gdGhpczswPT09YT9yLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX0ocixhKSwxPT09ci5sZW5ndGgmJihuW2VdPXJbMF0pLHZvaWQgMCE9PW4ucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxvfHx0KX1yZXR1cm4gdGhpc30scy5wcm90b3R5cGUub2ZmPXMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLHMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxyLG47aWYodm9pZCAwPT09KHI9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1yLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09cltlXSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIHJbZV0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhLGk9T2JqZWN0LmtleXMocik7Zm9yKG49MDtuPGkubGVuZ3RoOysrbilcInJlbW92ZUxpc3RlbmVyXCIhPT0oYT1pW25dKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoYSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9cltlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodm9pZCAwIT09dClmb3Iobj10Lmxlbmd0aC0xO24+PTA7bi0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W25dKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBtKHRoaXMsZSwhMCl9LHMucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gbSh0aGlzLGUsITEpfSxzLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOmguY2FsbChlLHQpfSxzLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWgscy5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP24odGhpcy5fZXZlbnRzKTpbXX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49dShyKDI0KSksYT11KHIoMjYpKSxpPXUocigwKSksbz11KHIoMSkpLHM9dShyKDEwNykpLGM9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShyKDUxKSk7ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGQ9Yy5sb2dMZXZlbCxsPVwidHR0d2Vic2RrXCIscD1kLkxPR19UUkFDRSxmPSEwLG09ITEsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7KDAsaS5kZWZhdWx0KSh0aGlzLHQpLHRoaXMuX3VzZXJBZ2VudD1uYXZpZ2F0b3IudXNlckFnZW50LHRoaXMuX2lzTW9iaWxlPS9tb2JpbGUvaS50ZXN0KHRoaXMuX3VzZXJBZ2VudCksZT8odGhpcy5fcHJlZml4PVwidHR0d2Vic2RrIFwiK2UsdGhpcy5fZGVidWc9KDAscy5kZWZhdWx0KShcInR0dHdlYnNkazpcIitlKSx0aGlzLl93YXJuPSgwLHMuZGVmYXVsdCkoXCJ0dHR3ZWJzZGs6V0FSTjpcIitlKSx0aGlzLl9lcnJvcj0oMCxzLmRlZmF1bHQpKFwidHR0d2Vic2RrOkVSUk9SOlwiK2UpKToodGhpcy5fcHJlZml4PVwidHR0d2Vic2RrXCIsdGhpcy5fZGVidWc9KDAscy5kZWZhdWx0KShsKSx0aGlzLl93YXJuPSgwLHMuZGVmYXVsdCkoXCJ0dHR3ZWJzZGs6V0FSTlwiKSx0aGlzLl9lcnJvcj0oMCxzLmRlZmF1bHQpKFwidHR0d2Vic2RrOkVSUk9SXCIpKSx0aGlzLl9kZWJ1Zz10aGlzLl9sb2dfZGVidWcuYmluZCh0aGlzKSx0aGlzLl93YXJuPXRoaXMuX2xvZ193YXJuLmJpbmQodGhpcyksdGhpcy5fZXJyb3I9dGhpcy5fbG9nX2Vycm9yLmJpbmQodGhpcyl9cmV0dXJuKDAsby5kZWZhdWx0KSh0LFt7a2V5Olwic2V0TG9nZ2VyTGV2ZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt0LmxvZ0xldmVsPWV9fSx7a2V5OlwiX2xvZ19kZWJ1Z1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShlKSxpPTA7aTxlO2krKylyW2ldPWFyZ3VtZW50c1tpXTtpZih0LmxvZ0xldmVsPD1kLkxPR19JTkZPKXt2YXIgbz1cIltcIit0aGlzLl9wcmVmaXgrXCJdXCI7W10uc2xpY2UuYXBwbHkocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6KDAsYS5kZWZhdWx0KShlKSk/bys9XCIgXCIrKDAsbi5kZWZhdWx0KShlKTpvKz1cIiBcIitlfSkpLGNvbnNvbGUubG9nKG8pfXRoaXMuX2xvZy5hcHBseSh0aGlzLHIpfX0se2tleTpcIl9sb2dfZXJyb3JcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkoZSksaT0wO2k8ZTtpKyspcltpXT1hcmd1bWVudHNbaV07aWYodC5sb2dMZXZlbDw9ZC5MT0dfRVJST1Ipe3ZhciBvPVwiW1wiK3RoaXMuX3ByZWZpeCtcIl1cIjtbXS5zbGljZS5hcHBseShyKS5mb3JFYWNoKChmdW5jdGlvbihlKXtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjooMCxhLmRlZmF1bHQpKGUpKT9vKz1cIiBcIisoMCxuLmRlZmF1bHQpKGUpOm8rPVwiIFwiK2V9KSksY29uc29sZS5lcnJvcihvKX10aGlzLl9sb2cuYXBwbHkodGhpcyxyKX19LHtrZXk6XCJfbG9nX3dhcm5cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkoZSksaT0wO2k8ZTtpKyspcltpXT1hcmd1bWVudHNbaV07aWYodC5sb2dMZXZlbDw9ZC5MT0dfV0FSTil7dmFyIG89XCJbXCIrdGhpcy5fcHJlZml4K1wiXVwiO1tdLnNsaWNlLmFwcGx5KHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe1wib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOigwLGEuZGVmYXVsdCkoZSkpP28rPVwiIFwiKygwLG4uZGVmYXVsdCkoZSk6bys9XCIgXCIrZX0pKSxjb25zb2xlLndhcm4obyl9dGhpcy5fbG9nLmFwcGx5KHRoaXMscil9fSx7a2V5OlwiX2xvZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodC5sb2dTdWJtaXQpe2Zvcih2YXIgcj10aGlzLl9pc01vYmlsZT9cIndlYl9tb2JpbGVcIjpcIndlYlwiLGk9XCJhcHBpZD1cIitlLmdfYXBwaWQrXCIsIHJvb21pZD1cIitlLmdfcm9vbWlkK1wiLCB1c2VyaWQ9XCIrZS5nX3VzZXJpZCtcIiBzZXJ2ZXI9XCIrZS5nX3NlcnZlcitcIiBkZXY9XCIrcitcIiB1YT1cIit0aGlzLl91c2VyQWdlbnQrXCIgdGltZT1cIituZXcgRGF0ZSxvPWFyZ3VtZW50cy5sZW5ndGgscz1BcnJheShvKSx1PTA7dTxvO3UrKylzW3VdPWFyZ3VtZW50c1t1XTtbXS5zbGljZS5hcHBseShzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjooMCxhLmRlZmF1bHQpKGUpKT9pKz1cIiBcIisoMCxuLmRlZmF1bHQpKGUpOmkrPVwiIFwiK2V9KSksZmV0Y2goYy5sb2dzZXJ2ZXJfdXJsLHttZXRob2Q6XCJQT1NUXCIsbW9kZTpcIm5vLWNvcnNcIixjYWNoZTpcIm5vLWNhY2hlXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIn0scmVkaXJlY3Q6XCJmb2xsb3dcIixyZWZlcnJlcjpcIm5vLXJlZmVycmVyXCIsYm9keTpcImV2ZW50PVwiK3RoaXMuX3ByZWZpeCtcIiBcIitpfSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvcjpcIixlKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4oMCxuLmRlZmF1bHQpKGUpfSkpfX19LHtrZXk6XCJkZWJ1Z1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z319LHtrZXk6XCJ3YXJuXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhcm59fSx7a2V5OlwiZXJyb3JcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3J9fV0sW3trZXk6XCJwcml2YXRlQ2xvdWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX0sc2V0OmZ1bmN0aW9uKGUpe209Qm9vbGVhbihlKX19LHtrZXk6XCJsb2dTdWJtaXRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sc2V0OmZ1bmN0aW9uKGUpe2Y9Qm9vbGVhbihlKX19LHtrZXk6XCJsb2dMZXZlbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBwfSxzZXQ6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcIkxPR19OT05FXCI6cD1kLkxPR19OT05FO2JyZWFrO2Nhc2VcIkxPR19FUlJPUlwiOnA9ZC5MT0dfRVJST1I7YnJlYWs7Y2FzZVwiTE9HX1dBUk5cIjpwPWQuTE9HX1dBUk47YnJlYWs7Y2FzZVwiTE9HX0lORk9cIjpwPWQuTE9HX0lORk87YnJlYWs7Y2FzZVwiTE9HX0RFQlVHXCI6cD1kLkxPR19ERUJVRzticmVhaztjYXNlXCJMT0dfVFJBQ0VcIjpwPWQuTE9HX1RSQUNFO2JyZWFrO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwicGFyYW1ldGVyIGVycm9yLiBtdXN0IGJlOiBMT0dfTk9ORSwgTE9HX0VSUk9SLCBMT0dfV0FSTiwgTE9HX0lORk8sIExPR19ERUJVRywgTE9HX1RSQUNFXCIpfX19XSksdH0oKTt0LmRlZmF1bHQ9aH0pLmNhbGwodGhpcyxyKDM3KSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDEyOCkoITApO3IoNjkpKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1zKHIoMTE0KSksYT1zKHIoOCkpLGk9cyhyKDE5KSksbz1zKHIoMTcpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBjKGUsdCxyKXt2YXIgbj12b2lkIDA7aWYobnVsbCE9cil7aWYocj1TdHJpbmcociksIShuPShlLm1lZGlhfHxbXSkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlLm1pZCk9PT1yfSkpKSl0aHJvdyBuZXcgRXJyb3IoXCJTRFAgc2VjdGlvbiB3aXRoIG1pZD1cIityK1wiIG5vdCBmb3VuZFwiKX1lbHNlIGlmKCEobj0oZS5tZWRpYXx8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10LmtpbmQmJmUubXNpZCYmZS5tc2lkLnNwbGl0KFwiIFwiKVsxXT09PXQuaWR9KSkpKXRocm93IG5ldyBFcnJvcihcIlNEUCBzZWN0aW9uIHdpdGggYT1tc2lkIGNvbnRhaW5pbmcgdHJhY2suaWQ9XCIrdC5pZCtcIiBub3QgZm91bmRcIik7cmV0dXJuIG59dC5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sdT1zLm1pZCxkPXZvaWQgMD09PXU/bnVsbDp1LGw9cy5wbGFuQlNpbXVsY2FzdCxwPXZvaWQgMCE9PWwmJmwsZj1jKHQscixkKTtudWxsIT1kJiYoZS5tdXhJZD1TdHJpbmcoZCkpO2UucnRjcD17Y25hbWU6bnVsbCxyZWR1Y2VkU2l6ZTohMCxtdXg6ITB9O3ZhciBtPShmLnNzcmNzfHxbXSkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJjbmFtZVwiPT09ZS5hdHRyaWJ1dGV9KSk7aWYoIW0pdGhyb3cgbmV3IEVycm9yKFwiQ05BTUUgdmFsdWUgbm90IGZvdW5kXCIpO2lmKGUucnRjcC5jbmFtZT1tLnZhbHVlLHApe3ZhciBoPXZvaWQgMCx2PW5ldyBpLmRlZmF1bHQsXz0hMCxnPSExLHk9dm9pZCAwO3RyeXtmb3IodmFyIGIsaz0oMCxvLmRlZmF1bHQpKGYuc3NyY3N8fFtdKTshKF89KGI9ay5uZXh0KCkpLmRvbmUpO189ITApe3ZhciB3PWIudmFsdWU7aWYoXCJtc2lkXCI9PT13LmF0dHJpYnV0ZSl7dmFyIFA9dy5pZDt2LmFkZChQKSxofHwoaD1QKX19fWNhdGNoKGUpe2c9ITAseT1lfWZpbmFsbHl7dHJ5eyFfJiZrLnJldHVybiYmay5yZXR1cm4oKX1maW5hbGx5e2lmKGcpdGhyb3cgeX19aWYoMD09PXYuc2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJubyBhPXNzcmMgbGluZXMgZm91bmRcIik7dmFyIFM9bmV3IGEuZGVmYXVsdCxJPSEwLFQ9ITEsQz12b2lkIDA7dHJ5e2Zvcih2YXIgUix4PSgwLG8uZGVmYXVsdCkoZi5zc3JjR3JvdXBzfHxbXSk7IShJPShSPXgubmV4dCgpKS5kb25lKTtJPSEwKXt2YXIgQT1SLnZhbHVlO2lmKFwiRklEXCI9PT1BLnNlbWFudGljcyl7dmFyIEU9QS5zc3Jjcy5zcGxpdCgvXFxzKy8pLEQ9KDAsbi5kZWZhdWx0KShFLDIpLE89RFswXSxMPURbMV07Tz1OdW1iZXIoTyksTD1OdW1iZXIoTCksdi5oYXMoTykmJih2LmRlbGV0ZShPKSx2LmRlbGV0ZShMKSxTLnNldChPLEwpKX19fWNhdGNoKGUpe1Q9ITAsQz1lfWZpbmFsbHl7dHJ5eyFJJiZ4LnJldHVybiYmeC5yZXR1cm4oKX1maW5hbGx5e2lmKFQpdGhyb3cgQ319dmFyIE09ITAsaj0hMSxCPXZvaWQgMDt0cnl7Zm9yKHZhciBWLE49KDAsby5kZWZhdWx0KSh2KTshKE09KFY9Ti5uZXh0KCkpLmRvbmUpO009ITApe3ZhciBGPVYudmFsdWU7Uy5zZXQoRixudWxsKX19Y2F0Y2goZSl7aj0hMCxCPWV9ZmluYWxseXt0cnl7IU0mJk4ucmV0dXJuJiZOLnJldHVybigpfWZpbmFsbHl7aWYoail0aHJvdyBCfX1lLmVuY29kaW5ncz1bXTt2YXIgVT1TLnNpemU+MSxHPVtcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdLFc9ITAsSz0hMSx6PXZvaWQgMDt0cnl7Zm9yKHZhciBxLEg9KDAsby5kZWZhdWx0KShTKTshKFc9KHE9SC5uZXh0KCkpLmRvbmUpO1c9ITApe3ZhciBKPSgwLG4uZGVmYXVsdCkocS52YWx1ZSwyKSxRPUpbMF0sWT0oTD1KWzFdLHtzc3JjOlF9KTtMJiYoWS5ydHg9e3NzcmM6TH0pLFUmJihZLnByb2ZpbGU9Ry5zaGlmdCgpKSxlLmVuY29kaW5ncy5wdXNoKFkpfX1jYXRjaChlKXtLPSEwLHo9ZX1maW5hbGx5e3RyeXshVyYmSC5yZXR1cm4mJkgucmV0dXJuKCl9ZmluYWxseXtpZihLKXRocm93IHp9fX1lbHNle3ZhciAkPW0uaWQsWD1bXSxaPSEwLGVlPSExLHRlPXZvaWQgMDt0cnl7Zm9yKHZhciByZSxuZT0oMCxvLmRlZmF1bHQpKGYucmlkc3x8W10pOyEoWj0ocmU9bmUubmV4dCgpKS5kb25lKTtaPSEwKXt2YXIgYWU9cmUudmFsdWU7XCJzZW5kXCI9PT1hZS5kaXJlY3Rpb24mJigvXmxvdy8udGVzdChhZS5pZCk/WC5wdXNoKHtyaWQ6YWUuaWQscHJvZmlsZTpcImxvd1wifSk6L15tZWRpdW0vLnRlc3QoYWUuaWQpJiZYLnB1c2goe3JpZDphZS5pZCxwcm9maWxlOlwibWVkaXVtXCJ9KSwvXmhpZ2gvLnRlc3QoYWUuaWQpJiZYLnB1c2goe3JpZDphZS5pZCxwcm9maWxlOlwiaGlnaFwifSkpfX1jYXRjaChlKXtlZT0hMCx0ZT1lfWZpbmFsbHl7dHJ5eyFaJiZuZS5yZXR1cm4mJm5lLnJldHVybigpfWZpbmFsbHl7aWYoZWUpdGhyb3cgdGV9fWlmKGUuZW5jb2RpbmdzPVtdLDA9PT1YLmxlbmd0aCl7dmFyIGllPXtzc3JjOiR9O2UuZW5jb2RpbmdzLnB1c2goaWUpfWVsc2V7dmFyIG9lPSEwLHNlPSExLGNlPXZvaWQgMDt0cnl7Zm9yKHZhciB1ZSxkZT0oMCxvLmRlZmF1bHQpKFgpOyEob2U9KHVlPWRlLm5leHQoKSkuZG9uZSk7b2U9ITApe3ZhciBsZT11ZS52YWx1ZSxwZT17ZW5jb2RpbmdJZDpsZS5yaWQscHJvZmlsZTpsZS5wcm9maWxlfTtlLmVuY29kaW5ncy5wdXNoKHBlKX19Y2F0Y2goZSl7c2U9ITAsY2U9ZX1maW5hbGx5e3RyeXshb2UmJmRlLnJldHVybiYmZGUucmV0dXJuKCl9ZmluYWxseXtpZihzZSl0aHJvdyBjZX19fX19LHQuYWRkUGxhbkJTaW11bGNhc3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLm1pZCxhPXZvaWQgMD09PW4/bnVsbDpuLGk9YyhlLHQsYSksbz0oaS5zc3Jjc3x8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwibXNpZFwiPT09ZS5hdHRyaWJ1dGV9KSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiYT1zc3JjIGxpbmUgd2l0aCBtc2lkIGluZm9ybWF0aW9uIG5vdCBmb3VuZFwiKTt2YXIgcz1vLmlkLHU9by52YWx1ZS5zcGxpdChcIiBcIilbMF0sZD12b2lkIDA7KGkuc3NyY0dyb3Vwc3x8W10pLnNvbWUoKGZ1bmN0aW9uKGUpe2lmKFwiRklEXCI9PT1lLnNlbWFudGljcyl7dmFyIHQ9ZS5zc3Jjcy5zcGxpdCgvXFxzKy8pO3JldHVybiBOdW1iZXIodFswXSk9PT1zPyhkPU51bWJlcih0WzFdKSwhMCk6dm9pZCAwfX0pKTt2YXIgbD1pLnNzcmNzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuYXR0cmlidXRlJiZlLmlkPT09c30pKTtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJDTkFNRSBsaW5lIG5vdCBmb3VuZFwiKTt2YXIgcD1sLnZhbHVlLGY9cysxLG09cysyO2lmKGkuc3NyY0dyb3Vwcz1bXSxpLnNzcmNzPVtdLGkuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpY3M6XCJTSU1cIixzc3JjczpzK1wiIFwiK2YrXCIgXCIrbX0pLGkuc3NyY3MucHVzaCh7aWQ6cyxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOnB9KSxpLnNzcmNzLnB1c2goe2lkOnMsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOnUrXCIgXCIrdC5pZH0pLGkuc3NyY3MucHVzaCh7aWQ6ZixhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOnB9KSxpLnNzcmNzLnB1c2goe2lkOmYsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOnUrXCIgXCIrdC5pZH0pLGkuc3NyY3MucHVzaCh7aWQ6bSxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOnB9KSxpLnNzcmNzLnB1c2goe2lkOm0sYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOnUrXCIgXCIrdC5pZH0pLGQpe3ZhciBoPWQrMSx2PWQrMjtpLnNzcmNHcm91cHMucHVzaCh7c2VtYW50aWNzOlwiRklEXCIsc3NyY3M6cytcIiBcIitkfSksaS5zc3Jjcy5wdXNoKHtpZDpkLGF0dHJpYnV0ZTpcImNuYW1lXCIsdmFsdWU6cH0pLGkuc3NyY3MucHVzaCh7aWQ6ZCxhdHRyaWJ1dGU6XCJtc2lkXCIsdmFsdWU6dStcIiBcIit0LmlkfSksaS5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljczpcIkZJRFwiLHNzcmNzOmYrXCIgXCIraH0pLGkuc3NyY3MucHVzaCh7aWQ6aCxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOnB9KSxpLnNzcmNzLnB1c2goe2lkOmgsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOnUrXCIgXCIrdC5pZH0pLGkuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpY3M6XCJGSURcIixzc3JjczptK1wiIFwiK3Z9KSxpLnNzcmNzLnB1c2goe2lkOnYsYXR0cmlidXRlOlwiY25hbWVcIix2YWx1ZTpwfSksaS5zc3Jjcy5wdXNoKHtpZDp2LGF0dHJpYnV0ZTpcIm1zaWRcIix2YWx1ZTp1K1wiIFwiK3QuaWR9KX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZihyKDQxKSksYT1mKHIoMTcpKSxpPWYocigyKSksbz1mKHIoMykpLHM9ZihyKDQpKSxjPWYocigwKSksdT1mKHIoMSkpLGQ9ZihyKDEyKSksbD1mKHIoNSkpLHA9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShyKDkpKTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbT1uZXcgbC5kZWZhdWx0KFwiPFJlbW90ZVVuaWZpZWRQbGFuU2RwPlwiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjLmRlZmF1bHQpKHRoaXMsZSksdGhpcy5fcnRwUGFyYW1ldGVyc0J5S2luZD10LHRoaXMuX3RyYW5zcG9ydExvY2FsUGFyYW1ldGVycz1udWxsLHRoaXMuX3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnM9bnVsbCx0aGlzLl9zZHBHbG9iYWxGaWVsZHM9e2lkOnAucmFuZG9tTnVtYmVyKCksdmVyc2lvbjowfX1yZXR1cm4oMCx1LmRlZmF1bHQpKGUsW3trZXk6XCJzZXRUcmFuc3BvcnRMb2NhbFBhcmFtZXRlcnNcIix2YWx1ZTpmdW5jdGlvbihlKXttLmRlYnVnKFwic2V0VHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzKCkgW3RyYW5zcG9ydExvY2FsUGFyYW1ldGVyczolb11cIixlKSx0aGlzLl90cmFuc3BvcnRMb2NhbFBhcmFtZXRlcnM9ZX19LHtrZXk6XCJzZXRUcmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7bS5kZWJ1ZyhcInNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnMoKSBbdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVyczolb11cIixlKSx0aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzPWV9fSx7a2V5OlwidXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVyc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe20uZGVidWcoXCJ1cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKCkgW3JlbW90ZUljZVBhcmFtZXRlcnM6JW9dXCIsZSksdGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5pY2VQYXJhbWV0ZXJzPWV9fV0pLGV9KCksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybigwLGMuZGVmYXVsdCkodGhpcyx0KSwoMCxvLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxpLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsZSkpfXJldHVybigwLHMuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJjcmVhdGVBbnN3ZXJTZHBcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihtLmRlYnVnKFwiY3JlYXRlQW5zd2VyU2RwKClcIiksIXRoaXMuX3RyYW5zcG9ydExvY2FsUGFyYW1ldGVycyl0aHJvdyBuZXcgRXJyb3IoXCJubyB0cmFuc3BvcnQgbG9jYWwgcGFyYW1ldGVyc1wiKTtpZighdGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyl0aHJvdyBuZXcgRXJyb3IoXCJubyB0cmFuc3BvcnQgcmVtb3RlIHBhcmFtZXRlcnNcIik7dmFyIHQ9dGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5pY2VQYXJhbWV0ZXJzLHI9dGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5pY2VDYW5kaWRhdGVzLGk9dGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5kdGxzUGFyYW1ldGVycyxvPXt9LHM9KGUubWVkaWF8fFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KFwibWlkXCIpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlLm1pZCl9KSk7dGhpcy5fc2RwR2xvYmFsRmllbGRzLnZlcnNpb24rKyxvLnZlcnNpb249MCxvLm9yaWdpbj17YWRkcmVzczpcIjAuMC4wLjBcIixpcFZlcjo0LG5ldFR5cGU6XCJJTlwiLHNlc3Npb25JZDp0aGlzLl9zZHBHbG9iYWxGaWVsZHMuaWQsc2Vzc2lvblZlcnNpb246dGhpcy5fc2RwR2xvYmFsRmllbGRzLnZlcnNpb24sdXNlcm5hbWU6XCJtZWRpYXNvdXAtY2xpZW50XCJ9LG8ubmFtZT1cIi1cIixvLnRpbWluZz17c3RhcnQ6MCxzdG9wOjB9LG8uaWNlbGl0ZT10LmljZUxpdGU/XCJpY2UtbGl0ZVwiOm51bGwsby5tc2lkU2VtYW50aWM9e3NlbWFudGljOlwiV01TXCIsdG9rZW46XCIqXCJ9LHMubGVuZ3RoPjAmJihvLmdyb3Vwcz1be3R5cGU6XCJCVU5ETEVcIixtaWRzOnMuam9pbihcIiBcIil9XSksby5tZWRpYT1bXTt2YXIgYz1pLmZpbmdlcnByaW50cy5sZW5ndGg7by5maW5nZXJwcmludD17dHlwZTppLmZpbmdlcnByaW50c1tjLTFdLmFsZ29yaXRobSxoYXNoOmkuZmluZ2VycHJpbnRzW2MtMV0udmFsdWV9O3ZhciB1PSEwLGw9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgZixoPSgwLGEuZGVmYXVsdCkoZS5tZWRpYXx8W10pOyEodT0oZj1oLm5leHQoKSkuZG9uZSk7dT0hMCl7dmFyIHY9Zi52YWx1ZSxfPVwiaW5hY3RpdmVcIj09PXYuZGlyZWN0aW9uLGc9di50eXBlLHk9dGhpcy5fcnRwUGFyYW1ldGVyc0J5S2luZFtnXS5jb2RlY3MsYj10aGlzLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2ddLmhlYWRlckV4dGVuc2lvbnMsaz17fTtrLnR5cGU9di50eXBlLGsucG9ydD03LGsucHJvdG9jb2w9XCJSVFAvU0FWUEZcIixrLmNvbm5lY3Rpb249e2lwOlwiMTI3LjAuMC4xXCIsdmVyc2lvbjo0fSxrLm1pZD12Lm1pZCxrLmljZVVmcmFnPXQudXNlcm5hbWVGcmFnbWVudCxrLmljZVB3ZD10LnBhc3N3b3JkLGsuY2FuZGlkYXRlcz1bXTt2YXIgdz0hMCxQPSExLFM9dm9pZCAwO3RyeXtmb3IodmFyIEksVD0oMCxhLmRlZmF1bHQpKHIpOyEodz0oST1ULm5leHQoKSkuZG9uZSk7dz0hMCl7dmFyIEM9SS52YWx1ZSxSPXtjb21wb25lbnQ6MX07Ui5mb3VuZGF0aW9uPUMuZm91bmRhdGlvbixSLmlwPUMuaXAsUi5wb3J0PUMucG9ydCxSLnByaW9yaXR5PUMucHJpb3JpdHksUi50cmFuc3BvcnQ9Qy5wcm90b2NvbCxSLnR5cGU9Qy50eXBlLEMudGNwVHlwZSYmKFIudGNwdHlwZT1DLnRjcFR5cGUpLGsuY2FuZGlkYXRlcy5wdXNoKFIpfX1jYXRjaChlKXtQPSEwLFM9ZX1maW5hbGx5e3RyeXshdyYmVC5yZXR1cm4mJlQucmV0dXJuKCl9ZmluYWxseXtpZihQKXRocm93IFN9fXN3aXRjaChrLmVuZE9mQ2FuZGlkYXRlcz1cImVuZC1vZi1jYW5kaWRhdGVzXCIsay5pY2VPcHRpb25zPVwicmVub21pbmF0aW9uXCIsaS5yb2xlKXtjYXNlXCJjbGllbnRcIjprLnNldHVwPVwiYWN0aXZlXCI7YnJlYWs7Y2FzZVwic2VydmVyXCI6ay5zZXR1cD1cInBhc3NpdmVcIn1zd2l0Y2godi5kaXJlY3Rpb24pe2Nhc2VcInNlbmRyZWN2XCI6Y2FzZVwic2VuZG9ubHlcIjprLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCI7YnJlYWs7Y2FzZVwicmVjdm9ubHlcIjpjYXNlXCJpbmFjdGl2ZVwiOmsuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn1rLnJ0cD1bXSxrLnJ0Y3BGYj1bXSxrLmZtdHA9W107dmFyIHg9ITAsQT0hMSxFPXZvaWQgMDt0cnl7Zm9yKHZhciBELE89KDAsYS5kZWZhdWx0KSh5KTshKHg9KEQ9Ty5uZXh0KCkpLmRvbmUpO3g9ITApe3ZhciBMPUQudmFsdWUsTT17cGF5bG9hZDpMLnBheWxvYWRUeXBlLGNvZGVjOkwubmFtZSxyYXRlOkwuY2xvY2tSYXRlfTtpZihMLmNoYW5uZWxzPjEmJihNLmVuY29kaW5nPUwuY2hhbm5lbHMpLGsucnRwLnB1c2goTSksTC5wYXJhbWV0ZXJzKXt2YXIgaj17cGF5bG9hZDpMLnBheWxvYWRUeXBlLGNvbmZpZzpcIlwifSxCPSEwLFY9ITEsTj12b2lkIDA7dHJ5e2Zvcih2YXIgRixVPSgwLGEuZGVmYXVsdCkoKDAsbi5kZWZhdWx0KShMLnBhcmFtZXRlcnMpKTshKEI9KEY9VS5uZXh0KCkpLmRvbmUpO0I9ITApe3ZhciBHPUYudmFsdWU7ai5jb25maWcmJihqLmNvbmZpZys9XCI7XCIpLGouY29uZmlnKz1HK1wiPVwiK0wucGFyYW1ldGVyc1tHXX19Y2F0Y2goZSl7Vj0hMCxOPWV9ZmluYWxseXt0cnl7IUImJlUucmV0dXJuJiZVLnJldHVybigpfWZpbmFsbHl7aWYoVil0aHJvdyBOfX1qLmNvbmZpZyYmay5mbXRwLnB1c2goail9aWYoTC5ydGNwRmVlZGJhY2spe3ZhciBXPSEwLEs9ITEsej12b2lkIDA7dHJ5e2Zvcih2YXIgcSxIPSgwLGEuZGVmYXVsdCkoTC5ydGNwRmVlZGJhY2spOyEoVz0ocT1ILm5leHQoKSkuZG9uZSk7Vz0hMCl7dmFyIEo9cS52YWx1ZTtrLnJ0Y3BGYi5wdXNoKHtwYXlsb2FkOkwucGF5bG9hZFR5cGUsdHlwZTpKLnR5cGUsc3VidHlwZTpKLnBhcmFtZXRlcnx8XCJcIn0pfX1jYXRjaChlKXtLPSEwLHo9ZX1maW5hbGx5e3RyeXshVyYmSC5yZXR1cm4mJkgucmV0dXJuKCl9ZmluYWxseXtpZihLKXRocm93IHp9fX19fWNhdGNoKGUpe0E9ITAsRT1lfWZpbmFsbHl7dHJ5eyF4JiZPLnJldHVybiYmTy5yZXR1cm4oKX1maW5hbGx5e2lmKEEpdGhyb3cgRX19aWYoay5wYXlsb2Fkcz15Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF5bG9hZFR5cGV9KSkuam9pbihcIiBcIiksIV8pe2suZXh0PVtdO3ZhciBRPSEwLFk9ITEsJD12b2lkIDA7dHJ5e2Zvcih2YXIgWCxaPWZ1bmN0aW9uKCl7dmFyIGU9WC52YWx1ZTtpZighKHYuZXh0fHxbXSkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXJpPT09ZS51cml9KSkpcmV0dXJuXCJjb250aW51ZVwiO2suZXh0LnB1c2goe3VyaTplLnVyaSx2YWx1ZTplLmlkfSl9LGVlPSgwLGEuZGVmYXVsdCkoYik7IShRPShYPWVlLm5leHQoKSkuZG9uZSk7UT0hMClaKCl9Y2F0Y2goZSl7WT0hMCwkPWV9ZmluYWxseXt0cnl7IVEmJmVlLnJldHVybiYmZWUucmV0dXJuKCl9ZmluYWxseXtpZihZKXRocm93ICR9fX1pZih2LnNpbXVsY2FzdCl7ay5zaW11bGNhc3Q9e2RpcjE6XCJyZWN2XCIsbGlzdDE6di5zaW11bGNhc3QubGlzdDF9LGsucmlkcz1bXTt2YXIgdGU9ITAscmU9ITEsbmU9dm9pZCAwO3RyeXtmb3IodmFyIGFlLGllPSgwLGEuZGVmYXVsdCkodi5yaWRzfHxbXSk7ISh0ZT0oYWU9aWUubmV4dCgpKS5kb25lKTt0ZT0hMCl7dmFyIG9lPWFlLnZhbHVlO1wic2VuZFwiPT09b2UuZGlyZWN0aW9uJiZrLnJpZHMucHVzaCh7aWQ6b2UuaWQsZGlyZWN0aW9uOlwicmVjdlwifSl9fWNhdGNoKGUpe3JlPSEwLG5lPWV9ZmluYWxseXt0cnl7IXRlJiZpZS5yZXR1cm4mJmllLnJldHVybigpfWZpbmFsbHl7aWYocmUpdGhyb3cgbmV9fX1lbHNlIGlmKHYuc2ltdWxjYXN0XzAzKXtrLnNpbXVsY2FzdF8wMz17dmFsdWU6di5zaW11bGNhc3RfMDMudmFsdWUucmVwbGFjZSgvc2VuZC9nLFwicmVjdlwiKX0say5yaWRzPVtdO3ZhciBzZT0hMCxjZT0hMSx1ZT12b2lkIDA7dHJ5e2Zvcih2YXIgZGUsbGU9KDAsYS5kZWZhdWx0KSh2LnJpZHN8fFtdKTshKHNlPShkZT1sZS5uZXh0KCkpLmRvbmUpO3NlPSEwKXt2YXIgcGU9ZGUudmFsdWU7XCJzZW5kXCI9PT1wZS5kaXJlY3Rpb24mJmsucmlkcy5wdXNoKHtpZDpwZS5pZCxkaXJlY3Rpb246XCJyZWN2XCJ9KX19Y2F0Y2goZSl7Y2U9ITAsdWU9ZX1maW5hbGx5e3RyeXshc2UmJmxlLnJldHVybiYmbGUucmV0dXJuKCl9ZmluYWxseXtpZihjZSl0aHJvdyB1ZX19fWsucnRjcE11eD1cInJ0Y3AtbXV4XCIsay5ydGNwUnNpemU9XCJydGNwLXJzaXplXCIsby5tZWRpYS5wdXNoKGspfX1jYXRjaChlKXtsPSEwLHA9ZX1maW5hbGx5e3RyeXshdSYmaC5yZXR1cm4mJmgucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IHB9fXJldHVybiBkLmRlZmF1bHQud3JpdGUobyl9fV0pLHR9KGgpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4oMCxjLmRlZmF1bHQpKHRoaXMsdCksKDAsby5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsaS5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLGUpKX1yZXR1cm4oMCxzLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiY3JlYXRlT2ZmZXJTZHBcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihtLmRlYnVnKFwiY3JlYXRlT2ZmZXJTZHAoKVwiKSwhdGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyl0aHJvdyBuZXcgRXJyb3IoXCJubyB0cmFuc3BvcnQgcmVtb3RlIHBhcmFtZXRlcnNcIik7dmFyIHQ9dGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5pY2VQYXJhbWV0ZXJzLHI9dGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5pY2VDYW5kaWRhdGVzLGk9dGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycy5kdGxzUGFyYW1ldGVycyxvPXt9LHM9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZS5taWQpfSkpO3RoaXMuX3NkcEdsb2JhbEZpZWxkcy52ZXJzaW9uKyssby52ZXJzaW9uPTAsby5vcmlnaW49e2FkZHJlc3M6XCIwLjAuMC4wXCIsaXBWZXI6NCxuZXRUeXBlOlwiSU5cIixzZXNzaW9uSWQ6dGhpcy5fc2RwR2xvYmFsRmllbGRzLmlkLHNlc3Npb25WZXJzaW9uOnRoaXMuX3NkcEdsb2JhbEZpZWxkcy52ZXJzaW9uLHVzZXJuYW1lOlwibWVkaWFzb3VwLWNsaWVudFwifSxvLm5hbWU9XCItXCIsby50aW1pbmc9e3N0YXJ0OjAsc3RvcDowfSxvLmljZWxpdGU9dC5pY2VMaXRlP1wiaWNlLWxpdGVcIjpudWxsLG8ubXNpZFNlbWFudGljPXtzZW1hbnRpYzpcIldNU1wiLHRva2VuOlwiKlwifSxzLmxlbmd0aD4wJiYoby5ncm91cHM9W3t0eXBlOlwiQlVORExFXCIsbWlkczpzLmpvaW4oXCIgXCIpfV0pLG8ubWVkaWE9W107dmFyIGM9aS5maW5nZXJwcmludHMubGVuZ3RoO28uZmluZ2VycHJpbnQ9e3R5cGU6aS5maW5nZXJwcmludHNbYy0xXS5hbGdvcml0aG0saGFzaDppLmZpbmdlcnByaW50c1tjLTFdLnZhbHVlfTt2YXIgdT0hMCxsPSExLHA9dm9pZCAwO3RyeXtmb3IodmFyIGYsaD0oMCxhLmRlZmF1bHQpKGUpOyEodT0oZj1oLm5leHQoKSkuZG9uZSk7dT0hMCl7dmFyIHY9Zi52YWx1ZSxfPXYuY2xvc2VkLGc9di5raW5kLHk9dm9pZCAwLGI9dm9pZCAwO1wiYXBwbGljYXRpb25cIiE9PXYua2luZCYmKHk9dGhpcy5fcnRwUGFyYW1ldGVyc0J5S2luZFtnXS5jb2RlY3MsYj10aGlzLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2ddLmhlYWRlckV4dGVuc2lvbnMpO3ZhciBrPXt9O1wiYXBwbGljYXRpb25cIiE9PXYua2luZD8oay50eXBlPWcsay5wb3J0PTcsay5wcm90b2NvbD1cIlJUUC9TQVZQRlwiLGsuY29ubmVjdGlvbj17aXA6XCIxMjcuMC4wLjFcIix2ZXJzaW9uOjR9LGsubWlkPXYubWlkLGsubXNpZD12LnN0cmVhbUlkK1wiIFwiK3YudHJhY2tJZCk6KGsudHlwZT1nLGsucG9ydD05LGsucHJvdG9jb2w9XCJEVExTL1NDVFBcIixrLmNvbm5lY3Rpb249e2lwOlwiMTI3LjAuMC4xXCIsdmVyc2lvbjo0fSxrLm1pZD12Lm1pZCksay5pY2VVZnJhZz10LnVzZXJuYW1lRnJhZ21lbnQsay5pY2VQd2Q9dC5wYXNzd29yZCxrLmNhbmRpZGF0ZXM9W107dmFyIHc9ITAsUD0hMSxTPXZvaWQgMDt0cnl7Zm9yKHZhciBJLFQ9KDAsYS5kZWZhdWx0KShyKTshKHc9KEk9VC5uZXh0KCkpLmRvbmUpO3c9ITApe3ZhciBDPUkudmFsdWUsUj17Y29tcG9uZW50OjF9O1IuZm91bmRhdGlvbj1DLmZvdW5kYXRpb24sUi5pcD1DLmlwLFIucG9ydD1DLnBvcnQsUi5wcmlvcml0eT1DLnByaW9yaXR5LFIudHJhbnNwb3J0PUMucHJvdG9jb2wsUi50eXBlPUMudHlwZSxDLnRjcFR5cGUmJihSLnRjcHR5cGU9Qy50Y3BUeXBlKSxrLmNhbmRpZGF0ZXMucHVzaChSKX19Y2F0Y2goZSl7UD0hMCxTPWV9ZmluYWxseXt0cnl7IXcmJlQucmV0dXJuJiZULnJldHVybigpfWZpbmFsbHl7aWYoUCl0aHJvdyBTfX1pZihrLmVuZE9mQ2FuZGlkYXRlcz1cImVuZC1vZi1jYW5kaWRhdGVzXCIsay5pY2VPcHRpb25zPVwicmVub21pbmF0aW9uXCIsay5zZXR1cD1cImFjdHBhc3NcIixcImFwcGxpY2F0aW9uXCIhPT12LmtpbmQpe2suZGlyZWN0aW9uPV8/XCJpbmFjdGl2ZVwiOlwic2VuZG9ubHlcIixrLnJ0cD1bXSxrLnJ0Y3BGYj1bXSxrLmZtdHA9W107dmFyIHg9ITAsQT0hMSxFPXZvaWQgMDt0cnl7Zm9yKHZhciBELE89KDAsYS5kZWZhdWx0KSh5KTshKHg9KEQ9Ty5uZXh0KCkpLmRvbmUpO3g9ITApe3ZhciBMPUQudmFsdWUsTT17cGF5bG9hZDpMLnBheWxvYWRUeXBlLGNvZGVjOkwubmFtZSxyYXRlOkwuY2xvY2tSYXRlfTtpZihMLmNoYW5uZWxzPjEmJihNLmVuY29kaW5nPUwuY2hhbm5lbHMpLGsucnRwLnB1c2goTSksTC5wYXJhbWV0ZXJzKXt2YXIgaj17cGF5bG9hZDpMLnBheWxvYWRUeXBlLGNvbmZpZzpcIlwifSxCPSEwLFY9ITEsTj12b2lkIDA7dHJ5e2Zvcih2YXIgRixVPSgwLGEuZGVmYXVsdCkoKDAsbi5kZWZhdWx0KShMLnBhcmFtZXRlcnMpKTshKEI9KEY9VS5uZXh0KCkpLmRvbmUpO0I9ITApe3ZhciBHPUYudmFsdWU7ai5jb25maWcmJihqLmNvbmZpZys9XCI7XCIpLGouY29uZmlnKz1HK1wiPVwiK0wucGFyYW1ldGVyc1tHXX19Y2F0Y2goZSl7Vj0hMCxOPWV9ZmluYWxseXt0cnl7IUImJlUucmV0dXJuJiZVLnJldHVybigpfWZpbmFsbHl7aWYoVil0aHJvdyBOfX1qLmNvbmZpZyYmay5mbXRwLnB1c2goail9aWYoTC5ydGNwRmVlZGJhY2spe3ZhciBXPSEwLEs9ITEsej12b2lkIDA7dHJ5e2Zvcih2YXIgcSxIPSgwLGEuZGVmYXVsdCkoTC5ydGNwRmVlZGJhY2spOyEoVz0ocT1ILm5leHQoKSkuZG9uZSk7Vz0hMCl7dmFyIEo9cS52YWx1ZTtrLnJ0Y3BGYi5wdXNoKHtwYXlsb2FkOkwucGF5bG9hZFR5cGUsdHlwZTpKLnR5cGUsc3VidHlwZTpKLnBhcmFtZXRlcnx8XCJcIn0pfX1jYXRjaChlKXtLPSEwLHo9ZX1maW5hbGx5e3RyeXshVyYmSC5yZXR1cm4mJkgucmV0dXJuKCl9ZmluYWxseXtpZihLKXRocm93IHp9fX19fWNhdGNoKGUpe0E9ITAsRT1lfWZpbmFsbHl7dHJ5eyF4JiZPLnJldHVybiYmTy5yZXR1cm4oKX1maW5hbGx5e2lmKEEpdGhyb3cgRX19aWYoay5wYXlsb2Fkcz15Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF5bG9hZFR5cGV9KSkuam9pbihcIiBcIiksIV8pe2suZXh0PVtdO3ZhciBRPSEwLFk9ITEsJD12b2lkIDA7dHJ5e2Zvcih2YXIgWCxaPSgwLGEuZGVmYXVsdCkoYik7IShRPShYPVoubmV4dCgpKS5kb25lKTtRPSEwKXt2YXIgZWU9WC52YWx1ZTtcInVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6bWlkXCIhPT1lZS51cmkmJmsuZXh0LnB1c2goe3VyaTplZS51cmksdmFsdWU6ZWUuaWR9KX19Y2F0Y2goZSl7WT0hMCwkPWV9ZmluYWxseXt0cnl7IVEmJloucmV0dXJuJiZaLnJldHVybigpfWZpbmFsbHl7aWYoWSl0aHJvdyAkfX19ay5ydGNwTXV4PVwicnRjcC1tdXhcIixrLnJ0Y3BSc2l6ZT1cInJ0Y3AtcnNpemVcIixffHwoay5zc3Jjcz1bXSxrLnNzcmNHcm91cHM9W10say5zc3Jjcy5wdXNoKHtpZDp2LnNzcmMsYXR0cmlidXRlOlwiY25hbWVcIix2YWx1ZTp2LmNuYW1lfSksdi5ydHhTc3JjJiYoay5zc3Jjcy5wdXNoKHtpZDp2LnJ0eFNzcmMsYXR0cmlidXRlOlwiY25hbWVcIix2YWx1ZTp2LmNuYW1lfSksay5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljczpcIkZJRFwiLHNzcmNzOnYuc3NyYytcIiBcIit2LnJ0eFNzcmN9KSkpfWVsc2Ugay5wYXlsb2Fkcz01ZTMsay5zY3RwbWFwPXthcHA6XCJ3ZWJydGMtZGF0YWNoYW5uZWxcIixtYXhNZXNzYWdlU2l6ZToyNTYsc2N0cG1hcE51bWJlcjo1ZTN9O28ubWVkaWEucHVzaChrKX19Y2F0Y2goZSl7bD0hMCxwPWV9ZmluYWxseXt0cnl7IXUmJmgucmV0dXJuJiZoLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBwfX1yZXR1cm4gZC5kZWZhdWx0LndyaXRlKG8pfX1dKSx0fShoKTt0LmRlZmF1bHQ9ZnVuY3Rpb24gZSh0LHIpe3N3aXRjaCgoMCxjLmRlZmF1bHQpKHRoaXMsZSksbS5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgW2RpcmVjdGlvbjolcywgcnRwUGFyYW1ldGVyc0J5S2luZDolb11cIix0LHIpLHQpe2Nhc2VcInNlbmRcIjpyZXR1cm4gbmV3IHYocik7Y2FzZVwicmVjdlwiOnJldHVybiBuZXcgXyhyKX19fSxmdW5jdGlvbihlLHQpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3MCksYT1yKDYyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oYShlKSl9fSxmdW5jdGlvbihlLHQscil7cigxMzMpO2Zvcih2YXIgbj1yKDEzKSxhPXIoMjgpLGk9cigzOCksbz1yKDE0KShcInRvU3RyaW5nVGFnXCIpLHM9XCJDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LERPTVRva2VuTGlzdCxEYXRhVHJhbnNmZXJJdGVtTGlzdCxGaWxlTGlzdCxIVE1MQWxsQ29sbGVjdGlvbixIVE1MQ29sbGVjdGlvbixIVE1MRm9ybUVsZW1lbnQsSFRNTFNlbGVjdEVsZW1lbnQsTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCxTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCxUZXh0VHJhY2tMaXN0LFRvdWNoTGlzdFwiLnNwbGl0KFwiLFwiKSxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciB1PXNbY10sZD1uW3VdLGw9ZCYmZC5wcm90b3R5cGU7bCYmIWxbb10mJmEobCxvLHUpLGlbdV09aS5BcnJheX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cigxNTApLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49cyhyKDExNCkpLGE9cyhyKDE3KSksaT1zKHIoOCkpLG89cyhyKDE5KSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1yLmtpbmQsYz17Y25hbWU6bnVsbCxyZWR1Y2VkU2l6ZTohMCxtdXg6ITB9LHU9KHQubWVkaWF8fFtdKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09c30pKTtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJtPVwiK3MrXCIgc2VjdGlvbiBub3QgZm91bmRcIik7dmFyIGQ9dm9pZCAwLGw9bmV3IG8uZGVmYXVsdCxwPSEwLGY9ITEsbT12b2lkIDA7dHJ5e2Zvcih2YXIgaCx2PSgwLGEuZGVmYXVsdCkodS5zc3Jjc3x8W10pOyEocD0oaD12Lm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89aC52YWx1ZTtpZihcIm1zaWRcIj09PV8uYXR0cmlidXRlKWlmKF8udmFsdWUuc3BsaXQoXCIgXCIpWzFdPT09ci5pZCl7dmFyIGc9Xy5pZDtsLmFkZChnKSxkfHwoZD1nKX19fWNhdGNoKGUpe2Y9ITAsbT1lfWZpbmFsbHl7dHJ5eyFwJiZ2LnJldHVybiYmdi5yZXR1cm4oKX1maW5hbGx5e2lmKGYpdGhyb3cgbX19aWYoMD09PWwuc2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJhPXNzcmMgbGluZSBub3QgZm91bmQgZm9yIGxvY2FsIHRyYWNrIFt0cmFjay5pZDpcIityLmlkK1wiXVwiKTt2YXIgeT1uZXcgaS5kZWZhdWx0LGI9ITAsaz0hMSx3PXZvaWQgMDt0cnl7Zm9yKHZhciBQLFM9KDAsYS5kZWZhdWx0KSh1LnNzcmNHcm91cHN8fFtdKTshKGI9KFA9Uy5uZXh0KCkpLmRvbmUpO2I9ITApe3ZhciBJPVAudmFsdWU7aWYoXCJGSURcIj09PUkuc2VtYW50aWNzKXt2YXIgVD1JLnNzcmNzLnNwbGl0KC9cXHMrLyksQz0oMCxuLmRlZmF1bHQpKFQsMiksUj1DWzBdLHg9Q1sxXTtSPU51bWJlcihSKSx4PU51bWJlcih4KSxsLmhhcyhSKSYmKGwuZGVsZXRlKFIpLGwuZGVsZXRlKHgpLHkuc2V0KFIseCkpfX19Y2F0Y2goZSl7az0hMCx3PWV9ZmluYWxseXt0cnl7IWImJlMucmV0dXJuJiZTLnJldHVybigpfWZpbmFsbHl7aWYoayl0aHJvdyB3fX12YXIgQT0hMCxFPSExLEQ9dm9pZCAwO3RyeXtmb3IodmFyIE8sTD0oMCxhLmRlZmF1bHQpKGwpOyEoQT0oTz1MLm5leHQoKSkuZG9uZSk7QT0hMCl7dmFyIE09Ty52YWx1ZTt5LnNldChNLG51bGwpfX1jYXRjaChlKXtFPSEwLEQ9ZX1maW5hbGx5e3RyeXshQSYmTC5yZXR1cm4mJkwucmV0dXJuKCl9ZmluYWxseXtpZihFKXRocm93IER9fXZhciBqPXUuc3NyY3MuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJjbmFtZVwiPT09ZS5hdHRyaWJ1dGUmJmUuaWQ9PT1kfSkpO2omJihjLmNuYW1lPWoudmFsdWUpO2UucnRjcD1jLGUuZW5jb2RpbmdzPVtdO3ZhciBCPXkuc2l6ZT4xLFY9W1wibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0sTj0hMCxGPSExLFU9dm9pZCAwO3RyeXtmb3IodmFyIEcsVz0oMCxhLmRlZmF1bHQpKHkpOyEoTj0oRz1XLm5leHQoKSkuZG9uZSk7Tj0hMCl7dmFyIEs9KDAsbi5kZWZhdWx0KShHLnZhbHVlLDIpLHo9S1swXSxxPSh4PUtbMV0se3NzcmM6en0pO3gmJihxLnJ0eD17c3NyYzp4fSksQiYmKHEucHJvZmlsZT1WLnNoaWZ0KCkpLGUuZW5jb2RpbmdzLnB1c2gocSl9fWNhdGNoKGUpe0Y9ITAsVT1lfWZpbmFsbHl7dHJ5eyFOJiZXLnJldHVybiYmVy5yZXR1cm4oKX1maW5hbGx5e2lmKEYpdGhyb3cgVX19fSx0LmFkZFNpbXVsY2FzdEZvclRyYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5raW5kLG49KGUubWVkaWF8fFtdKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09cn0pKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJtPVwiK3IrXCIgc2VjdGlvbiBub3QgZm91bmRcIik7dmFyIGE9dm9pZCAwLGk9dm9pZCAwLG89dm9pZCAwO2lmKCEobi5zc3Jjc3x8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwibXNpZFwiPT09ZS5hdHRyaWJ1dGUmJihlLnZhbHVlLnNwbGl0KFwiIFwiKVsxXT09PXQuaWQ/KGE9ZS5pZCxvPWUudmFsdWUuc3BsaXQoXCIgXCIpWzBdLCEwKTp2b2lkIDApfSkpKXRocm93IG5ldyBFcnJvcihcImE9c3NyYyBsaW5lIG5vdCBmb3VuZCBmb3IgbG9jYWwgdHJhY2sgW3RyYWNrLmlkOlwiK3QuaWQrXCJdXCIpOyhuLnNzcmNHcm91cHN8fFtdKS5zb21lKChmdW5jdGlvbihlKXtpZihcIkZJRFwiPT09ZS5zZW1hbnRpY3Mpe3ZhciB0PWUuc3NyY3Muc3BsaXQoL1xccysvKTtyZXR1cm4gTnVtYmVyKHRbMF0pPT09YT8oaT1OdW1iZXIodFsxXSksITApOnZvaWQgMH19KSk7dmFyIHM9bi5zc3Jjcy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm5cImNuYW1lXCI9PT1lLmF0dHJpYnV0ZSYmZS5pZD09PWF9KSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwiQ05BTUUgbGluZSBub3QgZm91bmQgZm9yIGxvY2FsIHRyYWNrIFt0cmFjay5pZDpcIit0LmlkK1wiXVwiKTt2YXIgYz1zLnZhbHVlLHU9YSsxLGQ9YSsyO2lmKG4uc3NyY0dyb3Vwcz1uLnNzcmNHcm91cHN8fFtdLG4uc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpY3M6XCJTSU1cIixzc3JjczphK1wiIFwiK3UrXCIgXCIrZH0pLG4uc3NyY3MucHVzaCh7aWQ6dSxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOmN9KSxuLnNzcmNzLnB1c2goe2lkOnUsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOm8rXCIgXCIrdC5pZH0pLG4uc3NyY3MucHVzaCh7aWQ6ZCxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOmN9KSxuLnNzcmNzLnB1c2goe2lkOmQsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOm8rXCIgXCIrdC5pZH0pLGkpe3ZhciBsPWkrMSxwPWkrMjtuLnNzcmNHcm91cHMucHVzaCh7c2VtYW50aWNzOlwiRklEXCIsc3NyY3M6dStcIiBcIitsfSksbi5zc3Jjcy5wdXNoKHtpZDpsLGF0dHJpYnV0ZTpcImNuYW1lXCIsdmFsdWU6Y30pLG4uc3NyY3MucHVzaCh7aWQ6bCxhdHRyaWJ1dGU6XCJtc2lkXCIsdmFsdWU6bytcIiBcIit0LmlkfSksbi5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljczpcIkZJRFwiLHNzcmNzOmQrXCIgXCIrcH0pLG4uc3NyY3MucHVzaCh7aWQ6cCxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOmN9KSxuLnNzcmNzLnB1c2goe2lkOnAsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOm8rXCIgXCIrdC5pZH0pfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mKHIoNDEpKSxhPWYocigxNykpLGk9ZihyKDIpKSxvPWYocigzKSkscz1mKHIoNCkpLGM9ZihyKDApKSx1PWYocigxKSksZD1mKHIoMTIpKSxsPWYocig1KSkscD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoOSkpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBtPW5ldyBsLmRlZmF1bHQoXCI8UmVtb3RlUGxhbkJTZHA+XCIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGMuZGVmYXVsdCkodGhpcyxlKSx0aGlzLl9ydHBQYXJhbWV0ZXJzQnlLaW5kPXQsdGhpcy5fdHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzPW51bGwsdGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycz1udWxsLHRoaXMuX3NkcEdsb2JhbEZpZWxkcz17aWQ6cC5yYW5kb21OdW1iZXIoKSx2ZXJzaW9uOjB9fXJldHVybigwLHUuZGVmYXVsdCkoZSxbe2tleTpcInNldFRyYW5zcG9ydExvY2FsUGFyYW1ldGVyc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe20uZGVidWcoXCJzZXRUcmFuc3BvcnRMb2NhbFBhcmFtZXRlcnMoKSBbdHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzOiVvXVwiLGUpLHRoaXMuX3RyYW5zcG9ydExvY2FsUGFyYW1ldGVycz1lfX0se2tleTpcInNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnNcIix2YWx1ZTpmdW5jdGlvbihlKXttLmRlYnVnKFwic2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycygpIFt0cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzOiVvXVwiLGUpLHRoaXMuX3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnM9ZX19LHtrZXk6XCJ1cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7bS5kZWJ1ZyhcInVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoKSBbcmVtb3RlSWNlUGFyYW1ldGVyczolb11cIixlKSx0aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZVBhcmFtZXRlcnM9ZX19XSksZX0oKSx2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuKDAsYy5kZWZhdWx0KSh0aGlzLHQpLCgwLG8uZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxlKSl9cmV0dXJuKDAscy5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImNyZWF0ZUFuc3dlclNkcFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKG0uZGVidWcoXCJjcmVhdGVBbnN3ZXJTZHAoKVwiKSwhdGhpcy5fdHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzKXRocm93IG5ldyBFcnJvcihcIm5vIHRyYW5zcG9ydCBsb2NhbCBwYXJhbWV0ZXJzXCIpO2lmKCF0aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKXRocm93IG5ldyBFcnJvcihcIm5vIHRyYW5zcG9ydCByZW1vdGUgcGFyYW1ldGVyc1wiKTt2YXIgdD10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZVBhcmFtZXRlcnMscj10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZUNhbmRpZGF0ZXMsaT10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmR0bHNQYXJhbWV0ZXJzLG89e30scz0oZS5tZWRpYXx8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlLm1pZCl9KSk7dGhpcy5fc2RwR2xvYmFsRmllbGRzLnZlcnNpb24rKyxvLnZlcnNpb249MCxvLm9yaWdpbj17YWRkcmVzczpcIjAuMC4wLjBcIixpcFZlcjo0LG5ldFR5cGU6XCJJTlwiLHNlc3Npb25JZDp0aGlzLl9zZHBHbG9iYWxGaWVsZHMuaWQsc2Vzc2lvblZlcnNpb246dGhpcy5fc2RwR2xvYmFsRmllbGRzLnZlcnNpb24sdXNlcm5hbWU6XCJtZWRpYXNvdXAtY2xpZW50XCJ9LG8ubmFtZT1cIi1cIixvLnRpbWluZz17c3RhcnQ6MCxzdG9wOjB9LG8uaWNlbGl0ZT10LmljZUxpdGU/XCJpY2UtbGl0ZVwiOm51bGwsby5tc2lkU2VtYW50aWM9e3NlbWFudGljOlwiV01TXCIsdG9rZW46XCIqXCJ9LG8uZ3JvdXBzPVt7dHlwZTpcIkJVTkRMRVwiLG1pZHM6cy5qb2luKFwiIFwiKX1dLG8ubWVkaWE9W107dmFyIGM9aS5maW5nZXJwcmludHMubGVuZ3RoO28uZmluZ2VycHJpbnQ9e3R5cGU6aS5maW5nZXJwcmludHNbYy0xXS5hbGdvcml0aG0saGFzaDppLmZpbmdlcnByaW50c1tjLTFdLnZhbHVlfTt2YXIgdT0hMCxsPSExLHA9dm9pZCAwO3RyeXtmb3IodmFyIGYsaD0oMCxhLmRlZmF1bHQpKGUubWVkaWF8fFtdKTshKHU9KGY9aC5uZXh0KCkpLmRvbmUpO3U9ITApe3ZhciB2PWYudmFsdWUsXz12LnR5cGUsZz10aGlzLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW19dLmNvZGVjcyx5PXRoaXMuX3J0cFBhcmFtZXRlcnNCeUtpbmRbX10uaGVhZGVyRXh0ZW5zaW9ucyxiPXt9O2IudHlwZT12LnR5cGUsYi5wb3J0PTcsYi5wcm90b2NvbD1cIlJUUC9TQVZQRlwiLGIuY29ubmVjdGlvbj17aXA6XCIxMjcuMC4wLjFcIix2ZXJzaW9uOjR9LGIubWlkPXYubWlkLGIuaWNlVWZyYWc9dC51c2VybmFtZUZyYWdtZW50LGIuaWNlUHdkPXQucGFzc3dvcmQsYi5jYW5kaWRhdGVzPVtdO3ZhciBrPSEwLHc9ITEsUD12b2lkIDA7dHJ5e2Zvcih2YXIgUyxJPSgwLGEuZGVmYXVsdCkocik7IShrPShTPUkubmV4dCgpKS5kb25lKTtrPSEwKXt2YXIgVD1TLnZhbHVlLEM9e2NvbXBvbmVudDoxfTtDLmZvdW5kYXRpb249VC5mb3VuZGF0aW9uLEMuaXA9VC5pcCxDLnBvcnQ9VC5wb3J0LEMucHJpb3JpdHk9VC5wcmlvcml0eSxDLnRyYW5zcG9ydD1ULnByb3RvY29sLEMudHlwZT1ULnR5cGUsVC50Y3BUeXBlJiYoQy50Y3B0eXBlPVQudGNwVHlwZSksYi5jYW5kaWRhdGVzLnB1c2goQyl9fWNhdGNoKGUpe3c9ITAsUD1lfWZpbmFsbHl7dHJ5eyFrJiZJLnJldHVybiYmSS5yZXR1cm4oKX1maW5hbGx5e2lmKHcpdGhyb3cgUH19c3dpdGNoKGIuZW5kT2ZDYW5kaWRhdGVzPVwiZW5kLW9mLWNhbmRpZGF0ZXNcIixiLmljZU9wdGlvbnM9XCJyZW5vbWluYXRpb25cIixpLnJvbGUpe2Nhc2VcImNsaWVudFwiOmIuc2V0dXA9XCJhY3RpdmVcIjticmVhaztjYXNlXCJzZXJ2ZXJcIjpiLnNldHVwPVwicGFzc2l2ZVwifXN3aXRjaCh2LmRpcmVjdGlvbil7Y2FzZVwic2VuZHJlY3ZcIjpjYXNlXCJzZW5kb25seVwiOmIuZGlyZWN0aW9uPVwicmVjdm9ubHlcIjticmVhaztjYXNlXCJyZWN2b25seVwiOmNhc2VcImluYWN0aXZlXCI6Yi5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifVwidmlkZW9cIj09PV8mJihiLnhHb29nbGVGbGFnPVwiY29uZmVyZW5jZVwiKSxiLnJ0cD1bXSxiLnJ0Y3BGYj1bXSxiLmZtdHA9W107dmFyIFI9ITAseD0hMSxBPXZvaWQgMDt0cnl7Zm9yKHZhciBFLEQ9KDAsYS5kZWZhdWx0KShnKTshKFI9KEU9RC5uZXh0KCkpLmRvbmUpO1I9ITApe3ZhciBPPUUudmFsdWUsTD17cGF5bG9hZDpPLnBheWxvYWRUeXBlLGNvZGVjOk8ubmFtZSxyYXRlOk8uY2xvY2tSYXRlfTtpZihPLmNoYW5uZWxzPjEmJihMLmVuY29kaW5nPU8uY2hhbm5lbHMpLGIucnRwLnB1c2goTCksTy5wYXJhbWV0ZXJzKXt2YXIgTT17cGF5bG9hZDpPLnBheWxvYWRUeXBlLGNvbmZpZzpcIlwifSxqPSEwLEI9ITEsVj12b2lkIDA7dHJ5e2Zvcih2YXIgTixGPSgwLGEuZGVmYXVsdCkoKDAsbi5kZWZhdWx0KShPLnBhcmFtZXRlcnMpKTshKGo9KE49Ri5uZXh0KCkpLmRvbmUpO2o9ITApe3ZhciBVPU4udmFsdWU7TS5jb25maWcmJihNLmNvbmZpZys9XCI7XCIpLE0uY29uZmlnKz1VK1wiPVwiK08ucGFyYW1ldGVyc1tVXX19Y2F0Y2goZSl7Qj0hMCxWPWV9ZmluYWxseXt0cnl7IWomJkYucmV0dXJuJiZGLnJldHVybigpfWZpbmFsbHl7aWYoQil0aHJvdyBWfX1NLmNvbmZpZyYmYi5mbXRwLnB1c2goTSl9aWYoTy5ydGNwRmVlZGJhY2spe3ZhciBHPSEwLFc9ITEsSz12b2lkIDA7dHJ5e2Zvcih2YXIgeixxPSgwLGEuZGVmYXVsdCkoTy5ydGNwRmVlZGJhY2spOyEoRz0oej1xLm5leHQoKSkuZG9uZSk7Rz0hMCl7dmFyIEg9ei52YWx1ZTtiLnJ0Y3BGYi5wdXNoKHtwYXlsb2FkOk8ucGF5bG9hZFR5cGUsdHlwZTpILnR5cGUsc3VidHlwZTpILnBhcmFtZXRlcnx8XCJcIn0pfX1jYXRjaChlKXtXPSEwLEs9ZX1maW5hbGx5e3RyeXshRyYmcS5yZXR1cm4mJnEucmV0dXJuKCl9ZmluYWxseXtpZihXKXRocm93IEt9fX19fWNhdGNoKGUpe3g9ITAsQT1lfWZpbmFsbHl7dHJ5eyFSJiZELnJldHVybiYmRC5yZXR1cm4oKX1maW5hbGx5e2lmKHgpdGhyb3cgQX19Yi5wYXlsb2Fkcz1nLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF5bG9hZFR5cGV9KSkuam9pbihcIiBcIiksYi5leHQ9W107dmFyIEo9ITAsUT0hMSxZPXZvaWQgMDt0cnl7Zm9yKHZhciAkLFg9ZnVuY3Rpb24oKXt2YXIgZT0kLnZhbHVlO2lmKCEodi5leHR8fFtdKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmk9PT1lLnVyaX0pKSlyZXR1cm5cImNvbnRpbnVlXCI7Yi5leHQucHVzaCh7dXJpOmUudXJpLHZhbHVlOmUuaWR9KX0sWj0oMCxhLmRlZmF1bHQpKHkpOyEoSj0oJD1aLm5leHQoKSkuZG9uZSk7Sj0hMClYKCl9Y2F0Y2goZSl7UT0hMCxZPWV9ZmluYWxseXt0cnl7IUomJloucmV0dXJuJiZaLnJldHVybigpfWZpbmFsbHl7aWYoUSl0aHJvdyBZfX1iLnJ0Y3BNdXg9XCJydGNwLW11eFwiLGIucnRjcFJzaXplPVwicnRjcC1yc2l6ZVwiLG8ubWVkaWEucHVzaChiKX19Y2F0Y2goZSl7bD0hMCxwPWV9ZmluYWxseXt0cnl7IXUmJmgucmV0dXJuJiZoLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBwfX1yZXR1cm4gZC5kZWZhdWx0LndyaXRlKG8pfX1dKSx0fShoKSxfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuKDAsYy5kZWZhdWx0KSh0aGlzLHQpLCgwLG8uZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxlKSl9cmV0dXJuKDAscy5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImNyZWF0ZU9mZmVyU2RwXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKG0uZGVidWcoXCJjcmVhdGVPZmZlclNkcCgpXCIpLCF0aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKXRocm93IG5ldyBFcnJvcihcIm5vIHRyYW5zcG9ydCByZW1vdGUgcGFyYW1ldGVyc1wiKTt2YXIgaT10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZVBhcmFtZXRlcnMsbz10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZUNhbmRpZGF0ZXMscz10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmR0bHNQYXJhbWV0ZXJzLGM9e30sdT1lO3RoaXMuX3NkcEdsb2JhbEZpZWxkcy52ZXJzaW9uKyssYy52ZXJzaW9uPTAsYy5vcmlnaW49e2FkZHJlc3M6XCIwLjAuMC4wXCIsaXBWZXI6NCxuZXRUeXBlOlwiSU5cIixzZXNzaW9uSWQ6dGhpcy5fc2RwR2xvYmFsRmllbGRzLmlkLHNlc3Npb25WZXJzaW9uOnRoaXMuX3NkcEdsb2JhbEZpZWxkcy52ZXJzaW9uLHVzZXJuYW1lOlwibWVkaWFzb3VwLWNsaWVudFwifSxjLm5hbWU9XCItXCIsYy50aW1pbmc9e3N0YXJ0OjAsc3RvcDowfSxjLmljZWxpdGU9aS5pY2VMaXRlP1wiaWNlLWxpdGVcIjpudWxsLGMubXNpZFNlbWFudGljPXtzZW1hbnRpYzpcIldNU1wiLHRva2VuOlwiKlwifSxjLmdyb3Vwcz1be3R5cGU6XCJCVU5ETEVcIixtaWRzOnUuam9pbihcIiBcIil9XSxjLm1lZGlhPVtdO3ZhciBsPXMuZmluZ2VycHJpbnRzLmxlbmd0aDtjLmZpbmdlcnByaW50PXt0eXBlOnMuZmluZ2VycHJpbnRzW2wtMV0uYWxnb3JpdGhtLGhhc2g6cy5maW5nZXJwcmludHNbbC0xXS52YWx1ZX07dmFyIHA9ITAsZj0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciB2LF89ZnVuY3Rpb24oKXt2YXIgZT12LnZhbHVlLHM9ci5fcnRwUGFyYW1ldGVyc0J5S2luZFtlXS5jb2RlY3MsdT1yLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2VdLmhlYWRlckV4dGVuc2lvbnMsZD17fTtkLnR5cGU9ZSxkLnBvcnQ9NyxkLnByb3RvY29sPVwiUlRQL1NBVlBGXCIsZC5jb25uZWN0aW9uPXtpcDpcIjEyNy4wLjAuMVwiLHZlcnNpb246NH0sZC5taWQ9ZSxkLmljZVVmcmFnPWkudXNlcm5hbWVGcmFnbWVudCxkLmljZVB3ZD1pLnBhc3N3b3JkLGQuY2FuZGlkYXRlcz1bXTt2YXIgbD0hMCxwPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIG0saD0oMCxhLmRlZmF1bHQpKG8pOyEobD0obT1oLm5leHQoKSkuZG9uZSk7bD0hMCl7dmFyIF89bS52YWx1ZSxnPXtjb21wb25lbnQ6MX07Zy5mb3VuZGF0aW9uPV8uZm91bmRhdGlvbixnLmlwPV8uaXAsZy5wb3J0PV8ucG9ydCxnLnByaW9yaXR5PV8ucHJpb3JpdHksZy50cmFuc3BvcnQ9Xy5wcm90b2NvbCxnLnR5cGU9Xy50eXBlLF8udGNwVHlwZSYmKGcudGNwdHlwZT1fLnRjcFR5cGUpLGQuY2FuZGlkYXRlcy5wdXNoKGcpfX1jYXRjaChlKXtwPSEwLGY9ZX1maW5hbGx5e3RyeXshbCYmaC5yZXR1cm4mJmgucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGZ9fWQuZW5kT2ZDYW5kaWRhdGVzPVwiZW5kLW9mLWNhbmRpZGF0ZXNcIixkLmljZU9wdGlvbnM9XCJyZW5vbWluYXRpb25cIixkLnNldHVwPVwiYWN0cGFzc1wiLHQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2luZD09PWV9KSk/ZC5kaXJlY3Rpb249XCJzZW5kb25seVwiOmQuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixkLnJ0cD1bXSxkLnJ0Y3BGYj1bXSxkLmZtdHA9W107dmFyIHk9ITAsYj0hMSxrPXZvaWQgMDt0cnl7Zm9yKHZhciB3LFA9KDAsYS5kZWZhdWx0KShzKTshKHk9KHc9UC5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciBTPXcudmFsdWUsST17cGF5bG9hZDpTLnBheWxvYWRUeXBlLGNvZGVjOlMubmFtZSxyYXRlOlMuY2xvY2tSYXRlfTtpZihTLmNoYW5uZWxzPjEmJihJLmVuY29kaW5nPVMuY2hhbm5lbHMpLGQucnRwLnB1c2goSSksUy5wYXJhbWV0ZXJzKXt2YXIgVD17cGF5bG9hZDpTLnBheWxvYWRUeXBlLGNvbmZpZzpcIlwifSxDPSEwLFI9ITEseD12b2lkIDA7dHJ5e2Zvcih2YXIgQSxFPSgwLGEuZGVmYXVsdCkoKDAsbi5kZWZhdWx0KShTLnBhcmFtZXRlcnMpKTshKEM9KEE9RS5uZXh0KCkpLmRvbmUpO0M9ITApe3ZhciBEPUEudmFsdWU7VC5jb25maWcmJihULmNvbmZpZys9XCI7XCIpLFQuY29uZmlnKz1EK1wiPVwiK1MucGFyYW1ldGVyc1tEXX19Y2F0Y2goZSl7Uj0hMCx4PWV9ZmluYWxseXt0cnl7IUMmJkUucmV0dXJuJiZFLnJldHVybigpfWZpbmFsbHl7aWYoUil0aHJvdyB4fX1ULmNvbmZpZyYmZC5mbXRwLnB1c2goVCl9aWYoUy5ydGNwRmVlZGJhY2spe3ZhciBPPSEwLEw9ITEsTT12b2lkIDA7dHJ5e2Zvcih2YXIgaixCPSgwLGEuZGVmYXVsdCkoUy5ydGNwRmVlZGJhY2spOyEoTz0oaj1CLm5leHQoKSkuZG9uZSk7Tz0hMCl7dmFyIFY9ai52YWx1ZTtkLnJ0Y3BGYi5wdXNoKHtwYXlsb2FkOlMucGF5bG9hZFR5cGUsdHlwZTpWLnR5cGUsc3VidHlwZTpWLnBhcmFtZXRlcnx8XCJcIn0pfX1jYXRjaChlKXtMPSEwLE09ZX1maW5hbGx5e3RyeXshTyYmQi5yZXR1cm4mJkIucmV0dXJuKCl9ZmluYWxseXtpZihMKXRocm93IE19fX19fWNhdGNoKGUpe2I9ITAsaz1lfWZpbmFsbHl7dHJ5eyF5JiZQLnJldHVybiYmUC5yZXR1cm4oKX1maW5hbGx5e2lmKGIpdGhyb3cga319ZC5wYXlsb2Fkcz1zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF5bG9hZFR5cGV9KSkuam9pbihcIiBcIiksZC5leHQ9W107dmFyIE49ITAsRj0hMSxVPXZvaWQgMDt0cnl7Zm9yKHZhciBHLFc9KDAsYS5kZWZhdWx0KSh1KTshKE49KEc9Vy5uZXh0KCkpLmRvbmUpO049ITApe3ZhciBLPUcudmFsdWU7XCJ1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzZGVzOm1pZFwiIT09Sy51cmkmJmQuZXh0LnB1c2goe3VyaTpLLnVyaSx2YWx1ZTpLLmlkfSl9fWNhdGNoKGUpe0Y9ITAsVT1lfWZpbmFsbHl7dHJ5eyFOJiZXLnJldHVybiYmVy5yZXR1cm4oKX1maW5hbGx5e2lmKEYpdGhyb3cgVX19ZC5ydGNwTXV4PVwicnRjcC1tdXhcIixkLnJ0Y3BSc2l6ZT1cInJ0Y3AtcnNpemVcIixkLnNzcmNzPVtdLGQuc3NyY0dyb3Vwcz1bXTt2YXIgej0hMCxxPSExLEg9dm9pZCAwO3RyeXtmb3IodmFyIEosUT0oMCxhLmRlZmF1bHQpKHQpOyEoej0oSj1RLm5leHQoKSkuZG9uZSk7ej0hMCl7dmFyIFk9Si52YWx1ZTtZLmtpbmQ9PT1lJiYoZC5zc3Jjcy5wdXNoKHtpZDpZLnNzcmMsYXR0cmlidXRlOlwibXNpZFwiLHZhbHVlOlkuc3RyZWFtSWQrXCIgXCIrWS50cmFja0lkfSksZC5zc3Jjcy5wdXNoKHtpZDpZLnNzcmMsYXR0cmlidXRlOlwibXNsYWJlbFwiLHZhbHVlOlkuc3RyZWFtSWR9KSxkLnNzcmNzLnB1c2goe2lkOlkuc3NyYyxhdHRyaWJ1dGU6XCJsYWJlbFwiLHZhbHVlOlkudHJhY2tJZH0pLGQuc3NyY3MucHVzaCh7aWQ6WS5zc3JjLGF0dHJpYnV0ZTpcImNuYW1lXCIsdmFsdWU6WS5jbmFtZX0pLFkucnR4U3NyYyYmKGQuc3NyY3MucHVzaCh7aWQ6WS5ydHhTc3JjLGF0dHJpYnV0ZTpcIm1zaWRcIix2YWx1ZTpZLnN0cmVhbUlkK1wiIFwiK1kudHJhY2tJZH0pLGQuc3NyY3MucHVzaCh7aWQ6WS5ydHhTc3JjLGF0dHJpYnV0ZTpcIm1zbGFiZWxcIix2YWx1ZTpZLnN0cmVhbUlkfSksZC5zc3Jjcy5wdXNoKHtpZDpZLnJ0eFNzcmMsYXR0cmlidXRlOlwibGFiZWxcIix2YWx1ZTpZLnRyYWNrSWR9KSxkLnNzcmNzLnB1c2goe2lkOlkucnR4U3NyYyxhdHRyaWJ1dGU6XCJjbmFtZVwiLHZhbHVlOlkuY25hbWV9KSxkLnNzcmNHcm91cHMucHVzaCh7c2VtYW50aWNzOlwiRklEXCIsc3NyY3M6WS5zc3JjK1wiIFwiK1kucnR4U3NyY30pKSl9fWNhdGNoKGUpe3E9ITAsSD1lfWZpbmFsbHl7dHJ5eyF6JiZRLnJldHVybiYmUS5yZXR1cm4oKX1maW5hbGx5e2lmKHEpdGhyb3cgSH19Yy5tZWRpYS5wdXNoKGQpfSxnPSgwLGEuZGVmYXVsdCkoZSk7IShwPSh2PWcubmV4dCgpKS5kb25lKTtwPSEwKV8oKX1jYXRjaChlKXtmPSEwLGg9ZX1maW5hbGx5e3RyeXshcCYmZy5yZXR1cm4mJmcucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IGh9fXJldHVybiBkLmRlZmF1bHQud3JpdGUoYyl9fV0pLHR9KGgpO3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQscil7c3dpdGNoKCgwLGMuZGVmYXVsdCkodGhpcyxlKSxtLmRlYnVnKFwiY29uc3RydWN0b3IoKSBbZGlyZWN0aW9uOiVzLCBydHBQYXJhbWV0ZXJzQnlLaW5kOiVvXVwiLHQsciksdCl7Y2FzZVwic2VuZFwiOnJldHVybiBuZXcgdihyKTtjYXNlXCJyZWN2XCI6cmV0dXJuIG5ldyBfKHIpfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSEwfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlK1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoODYpLGE9cig3MSk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLGEpfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKS5mLGE9cigzMiksaT1yKDE0KShcInRvU3RyaW5nVGFnXCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIWEoZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjcpLGE9cig5MiksaT1yKDkzKSxvPXIoMjUpLHM9cig1NSksYz1yKDc2KSx1PXt9LGQ9e307KHQ9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGwscCl7dmFyIGYsbSxoLHYsXz1wP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmMoZSksZz1uKHIsbCx0PzI6MSkseT0wO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIF8pdGhyb3cgVHlwZUVycm9yKGUrXCIgaXMgbm90IGl0ZXJhYmxlIVwiKTtpZihpKF8pKXtmb3IoZj1zKGUubGVuZ3RoKTtmPnk7eSsrKWlmKCh2PXQ/ZyhvKG09ZVt5XSlbMF0sbVsxXSk6ZyhlW3ldKSk9PT11fHx2PT09ZClyZXR1cm4gdn1lbHNlIGZvcihoPV8uY2FsbChlKTshKG09aC5uZXh0KCkpLmRvbmU7KWlmKCh2PWEoaCxnLG0udmFsdWUsdCkpPT09dXx8dj09PWQpcmV0dXJuIHZ9KS5CUkVBSz11LHQuUkVUVVJOPWR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixhPXIoOCksaT0obj1hKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIG89bmV3IGkuZGVmYXVsdChbWzEse3JlYXNvbjpcInN1Y2Nlc3NcIn1dLFsyLHtyZWFzb246XCJhdXRoIGxvY2sgZG9nIC0gbm9yZXNvdXJjZVwifV0sWzQse3JlYXNvbjpcImFscmVhZHkgaW4gY2hhbm5lbFwifV0sWzUse3JlYXNvbjpcInBhcmFtIGludmFsaWRcIn1dLFs2LHtyZWFzb246XCJubyBzZXJ2ZXIgYXZhaWxhYmxlXCJ9XSxbOSx7cmVhc29uOlwiYWxyZWFkeSBsb2dpblwifV0sWzEwLHtyZWFzb246XCJvdmVybWF4XCJ9XSxbMTEse3JlYXNvbjpcImF1ZGlvIHRpbWVvdXRcIn1dLFsxMix7cmVhc29uOlwidmlkZW8gdGltZW91dFwifV0sWzEzLHtyZWFzb246XCJsaXZlIG5vdCBzdGFydFwifV0sWzE0LHtyZWFzb246XCJ0aW1lb3V0XCJ9XSxbMTUse3JlYXNvbjpcInVwZGF0ZSB1c2VyIG1lZGlhIG1lc3NhZ2VcIn1dLFsxNix7cmVhc29uOlwibm8tY2hhaXJcIn1dLFsxNyx7cmVhc29uOlwidXNlciBub24tZXhpc3RcIn1dLFsxOCx7cmVhc29uOlwicmVjb3JkIGVycm9yXCJ9XSxbMTkse3JlYXNvbjpcImF1ZGlvbWl4ZXIgZXJyb3JcIn1dLFsyMCx7cmVhc29uOlwiZGJvcGVyIGVycm9yXCJ9XSxbMjEse3JlYXNvbjpcImNoYWlyIHBhc3N3b3JkIGVycm9yXCJ9XSxbMjIse3JlYXNvbjpcInBhc3N3b3JkIGVycm9yXCJ9XSxbMjMse3JlYXNvbjpcIm5vIHBhc3N3b3JkXCJ9XSxbMjQse3JlYXNvbjpcImNoYW5uZWwgaXMgbm90IGV4aXN0XCJ9XSxbMjUse3JlYXNvbjpcImludmFsaWQgYXBwaWRcIn1dLFsyNix7cmVhc29uOlwicnRtcCBjb25uZWN0XCJ9XSxbMjcse3JlYXNvbjpcImF1dGhlbnRpY2F0aW9uXCJ9XSxbMzAse3JlYXNvbjpcImNvbm5lY3QgdGltZW91dFwifV1dKSxzPW5ldyBpLmRlZmF1bHQoW1tcIjgwcFwiLHt3aWR0aDoxMTAsaGVpZ2h0OjgwLGJwczp7aWRlYWw6NTVlMyxtaW46M2U0LG1heDo2ZTR9fV0sW1wiMTIwcFwiLHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxicHM6e2lkZWFsOjY1ZTMsbWluOjRlNCxtYXg6N2U0fX1dLFtcIjE2MHBcIix7d2lkdGg6MjEwLGhlaWdodDoxNjAsYnBzOntpZGVhbDoxMmU0LG1pbjo1ZTQsbWF4OjE1ZTR9fV0sW1wiMjAwcFwiLHt3aWR0aDoyNzAsaGVpZ2h0OjIwMCxicHM6e2lkZWFsOjE0ZTQsbWluOjZlNCxtYXg6MmU1fX1dLFtcIjI0MHBcIix7d2lkdGg6MzIwLGhlaWdodDoyNDAsYnBzOntpZGVhbDoyZTUsbWluOjZlNCxtYXg6MjZlNH19XSxbXCIzMjBwXCIse3dpZHRoOjQyMCxoZWlnaHQ6MzIwLGJwczp7aWRlYWw6MjVlNCxtaW46OGU0LG1heDozZTV9fV0sW1wiMzYwcFwiLHt3aWR0aDo0ODAsaGVpZ2h0OjM2MCxicHM6e2lkZWFsOjI1ZTQsbWluOjhlNCxtYXg6MzZlNH19XSxbXCI0ODBwXCIse3dpZHRoOjY0MCxoZWlnaHQ6NDgwLGJwczp7aWRlYWw6M2U1LG1pbjo4ZTQsbWF4OjQ1ZTR9fV0sW1wiNTQwcFwiLHt3aWR0aDo3MjAsaGVpZ2h0OjU0MCxicHM6e2lkZWFsOjZlNSxtaW46MmU1LG1heDo3ZTV9fV0sW1wiNzIwcFwiLHt3aWR0aDoxMjgwLGhlaWdodDo3MjAsYnBzOntpZGVhbDoxMTNlNCxtaW46NWU1LG1heDoxNGU1fX1dLFtcIjEwODBwXCIse3dpZHRoOjE5MjAsaGVpZ2h0OjEwODAsYnBzOntpZGVhbDoyZTYsbWluOjFlNixtYXg6MjRlNX19XSxbXCIzODQwcFwiLHt3aWR0aDozODQwLGhlaWdodDoyMTYwLGJwczp7aWRlYWw6OGU2LG1pbjo3ZTYsbWF4OjE1ZTZ9fV0sW1wiNzY4MHBcIix7d2lkdGg6NzY4MCxoZWlnaHQ6NDMyMCxicHM6e2lkZWFsOjJlNyxtaW46MTVlNixtYXg6MjVlNn19XV0pLGM9bmV3IGkuZGVmYXVsdChbWzcyMCx7d2lkdGg6MTI4MCxoZWlnaHQ6NzIwLGJwczp7aWRlYWw6MWU2LG1pbjo4ZTUsbWF4OjE1ZTV9fV0sWzEwODAse3dpZHRoOjE5MjAsaGVpZ2h0OjEwODAsYnBzOntpZGVhbDoxOGU1LG1pbjoxNWU1LG1heDoyZTZ9fV0sWzIxNjAse3dpZHRoOjM4NDAsaGVpZ2h0OjIxNjAsYnBzOntpZGVhbDoyNWU1LG1pbjoyZTYsbWF4OjNlNn19XSxbNDMyMCx7d2lkdGg6NzY4MCxoZWlnaHQ6NDMyMCxicHM6e2lkZWFsOjNlNixtaW46MjVlNSxtYXg6NGU2fX1dXSksdT1uZXcgaS5kZWZhdWx0KFtbXCJpc2FjMzJcIix7Y29kZWM6XCJpc2FjXCIsbWF4cGxheWJhY2tyYXRlOjMyZTMsc3RlcmVvOjAsbWF4YXZlcmFnZWJpdHJhdGU6NDA5NjB9XSxbXCJzcGVlY2hfbG93X3F1YWxpdHlcIix7Y29kZWM6XCJvcHVzXCIsbWF4cGxheWJhY2tyYXRlOjE2ZTMsc3RlcmVvOjAsbWF4YXZlcmFnZWJpdHJhdGU6MjQ1NzZ9XSxbXCJzcGVlY2hfc3RhbmRhcmRcIix7Y29kZWM6XCJvcHVzXCIsbWF4cGxheWJhY2tyYXRlOjMyZTMsc3RlcmVvOjAsbWF4YXZlcmFnZWJpdHJhdGU6MjQ1NzZ9XSxbXCJtdXNpY19zdGFuZGFyZFwiLHtjb2RlYzpcIm9wdXNcIixtYXhwbGF5YmFja3JhdGU6NDhlMyxzdGVyZW86MCxtYXhhdmVyYWdlYml0cmF0ZTo0MDk2MH1dLFtcInN0YW5kYXJkX3N0ZXJlb1wiLHtjb2RlYzpcIm9wdXNcIixtYXhwbGF5YmFja3JhdGU6NDhlMyxzdGVyZW86MSxtYXhhdmVyYWdlYml0cmF0ZTo2NTUzNn1dLFtcImhpZ2hfcXVhbGl0eVwiLHtjb2RlYzpcIm9wdXNcIixtYXhwbGF5YmFja3JhdGU6NDhlMyxzdGVyZW86MCxtYXhhdmVyYWdlYml0cmF0ZToxMzEwNzJ9XSxbXCJoaWdoX3F1YWxpdHlfc3RlcmVvXCIse2NvZGVjOlwib3B1c1wiLG1heHBsYXliYWNrcmF0ZTo0OGUzLHN0ZXJlbzoxLG1heGF2ZXJhZ2ViaXRyYXRlOjE5NjYwOH1dXSk7ZS5leHBvcnRzPXtjbGllbnRDb25maWc6e21vZGU6XCJsaXZlXCIsY29kZWM6XCJ2cDhcIixwcm94eVNlcnZlcjpcIllPVVIgTkdJTlggUFJPWFkgU0VSVkVSIElQXCIsdHVyblNlcnZlcjp7dHVyblNlcnZlclVSTDpcInR1cm46MTE0LjExNi44NC4yNDFcIix1c2VybmFtZTpcInR0dFwiLHBhc3N3b3JkOlwiMTIzNDU2XCIsdWRwcG9ydDpcIlRIRSBVRFAgUE9SVCBZT1UgV0FOVCBUTyBBRERcIix0Y3Bwb3J0OlwiVEhFIFRDUCBQT1JUIFlPVSBXQU5UIFRPIEFERFwiLGljZVRyYW5zcG9ydFBvbGljeTpcImFsbFwifSxzdmNSb290VXJsOlwiMTE5XzNfMjQ1XzExNy4zdHRlY2guY25cIixyb2xlOlwiMlwiLHB1Ymxpc2hfcnRtcF91cmw6XCJydG1wOi8vcHVzaC4zdHRlY2guY24vc2RrLz9cIixzdWJjcmliZV9ydG1wX3VybDpcInJ0bXA6Ly9wdWxsLjN0dGVjaC5jbi9zZGsvP1wifSxsb2dMZXZlbDp7TE9HX05PTkU6NixMT0dfRVJST1I6NSxMT0dfV0FSTjo0LExPR19JTkZPOjMsTE9HX0RFQlVHOjIsTE9HX1RSQUNFOjF9LGF1ZGlvUHJvZmlsZVNwZWM6dSx2aWRlb1Byb2ZpbGU6e1Byb2ZpbGVfODBwOlwiODBwXCIsUHJvZmlsZV8xMjBwOlwiMTIwcFwiLFByb2ZpbGVfMTYwcDpcIjE2MHBcIixQcm9maWxlXzIwMHA6XCIyMDBwXCIsUHJvZmlsZV8yNDBwOlwiMjQwcFwiLFByb2ZpbGVfMzIwcDpcIjMyMHBcIixQcm9maWxlXzM2MHA6XCIzNjBwXCIsUHJvZmlsZV80ODBwOlwiNDgwcFwiLFByb2ZpbGVfNTQwcDpcIjU0MHBcIixQcm9maWxlXzcyMHA6XCI3MjBwXCIsUHJvZmlsZV8xMDgwcDpcIjEwODBwXCIsUHJvZmlsZV8zODQwcDpcIjM4NDBwXCIsUHJvZmlsZV83NjgwcDpcIjc2ODBwXCJ9LGF1ZGlvU3BlYzp7c2FtcGxlUmF0ZTp7bWluOjRlMyxtYXg6NDhlMyxpZGVhbDo4ZTN9LGNoYW5uZWxDb3VudDp7bWluOjEsbWF4OjIsaWRlYWw6MX19LHZpZGVvU3BlYzp7d2lkdGg6e21pbjo4MCxpZGVhbDo2NDAsbWF4OjE5MjB9LGhlaWdodDp7bWluOjYwLGlkZWFsOjQ4MCxtYXg6MTA4MH0sYml0cmF0ZTp7bWluOjgwLGlkZWFsOjQwMCxtYXg6MmUzfSxmcmFtZVJhdGU6e21pbjoxMCxpZGVhbDoxNSxtYXg6MzB9LGFzcGVjdFJhdGlvOjQvM30sbWVkaWFTZXJ2ZXJBZGRyZXNzOlwiXCIsUFVCTElTSF9TVEFURTp7SURMRTowLFBVQkxJU0hJTkc6MSxQVUJMSVNIRUQ6Mn0sdHR0RXJyTXNnOm8sbG9nc2VydmVyX3VybDpcImh0dHBzOi8vbG9nc3QuM3R0ZWNoLmNuOjE1MjAwXCIsaXBsb2NhdGlvbkFkZHJlc3M6XCJ3ZWJkaXNwYXRjaC4zdHRlY2guY25cIixpcGxvY2F0aW9uUG9ydDo0NDMsdmlkZW9SZXNvbHV0aW9uOnMsc2NyZWVuUmVzb2x1dGlvbjpjLHZpZGVvQXR0cmlidXRlczp7c2lmOlszMjAsMjQwXSx2Z2E6WzY0MCw0ODBdLGhkNzIwcDpbMTI4MCw3MjBdfSxzY3JlZW5TcGVjOntzX2ZyYW1lUmF0ZToxNSxzXzcyMHA6e21heFdpZHRoOjEyODAsbWF4SGVpZ2h0OjcyMCxtYXhBc3BlY3RSYXRpbzoxLjc3fSxzXzEwODBwOnttYXhXaWR0aDoxOTIwLG1heEhlaWdodDoxMDgwLG1heEFzcGVjdFJhdGlvOjEuNzd9LHNfMms6e21heFdpZHRoOjIwNDgsbWF4SGVpZ2h0OjEwODAsbWF4QXNwZWN0UmF0aW86MS43N30sc180azp7bWF4V2lkdGg6Mzg0MCxtYXhIZWlnaHQ6MjE2MCxtYXhBc3BlY3RSYXRpbzoxLjc3fSxzXzhrOnttYXhXaWR0aDo3NjgwLG1heEhlaWdodDo0MzIwLG1heEFzcGVjdFJhdGlvOjEuNzd9fX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlVuc3VwcG9ydGVkRXJyb3I9dC5UaW1lb3V0RXJyb3I9dC5JbnZhbGlkU3RhdGVFcnJvcj12b2lkIDA7dmFyIG49cyhyKDIpKSxhPXMocigwKSksaT1zKHIoMykpLG89cyhyKDQpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LkludmFsaWRTdGF0ZUVycm9yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7KDAsYS5kZWZhdWx0KSh0aGlzLHQpO3ZhciByPSgwLGkuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLG4uZGVmYXVsdCkodCkpLmNhbGwodGhpcyxlKSk7cmV0dXJuIHIubmFtZT1cIkludmFsaWRTdGF0ZUVycm9yXCIsRXJyb3IuaGFzT3duUHJvcGVydHkoXCJjYXB0dXJlU3RhY2tUcmFjZVwiKT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZShyLHQpOnIuc3RhY2s9bmV3IEVycm9yKGUpLnN0YWNrLHJ9cmV0dXJuKDAsby5kZWZhdWx0KSh0LGUpLHR9KEVycm9yKSx0LlRpbWVvdXRFcnJvcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpeygwLGEuZGVmYXVsdCkodGhpcyx0KTt2YXIgcj0oMCxpLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxuLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsZSkpO3JldHVybiByLm5hbWU9XCJUaW1lb3V0RXJyb3JcIixFcnJvci5oYXNPd25Qcm9wZXJ0eShcImNhcHR1cmVTdGFja1RyYWNlXCIpP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHIsdCk6ci5zdGFjaz1uZXcgRXJyb3IoZSkuc3RhY2sscn1yZXR1cm4oMCxvLmRlZmF1bHQpKHQsZSksdH0oRXJyb3IpLHQuVW5zdXBwb3J0ZWRFcnJvcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYS5kZWZhdWx0KSh0aGlzLHQpO3ZhciBvPSgwLGkuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLG4uZGVmYXVsdCkodCkpLmNhbGwodGhpcyxlKSk7cmV0dXJuIG8ubmFtZT1cIlVuc3VwcG9ydGVkRXJyb3JcIixFcnJvci5oYXNPd25Qcm9wZXJ0eShcImNhcHR1cmVTdGFja1RyYWNlXCIpP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKG8sdCk6by5zdGFjaz1uZXcgRXJyb3IoZSkuc3RhY2ssby5kYXRhPXIsb31yZXR1cm4oMCxvLmRlZmF1bHQpKHQsZSksdH0oRXJyb3IpfSxmdW5jdGlvbihlLHQpe3ZhciByPTAsbj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09ZT9cIlwiOmUsXCIpX1wiLCgrK3IrbikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI1KSxhPXIoMTMwKSxpPXIoNzEpLG89cig2MykoXCJJRV9QUk9UT1wiKSxzPWZ1bmN0aW9uKCl7fSxjPWZ1bmN0aW9uKCl7dmFyIGUsdD1yKDY2KShcImlmcmFtZVwiKSxuPWkubGVuZ3RoO2Zvcih0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIscig4NykuYXBwZW5kQ2hpbGQodCksdC5zcmM9XCJqYXZhc2NyaXB0OlwiLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUoXCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFxcL3NjcmlwdD5cIiksZS5jbG9zZSgpLGM9ZS5GO24tLTspZGVsZXRlIGMucHJvdG90eXBlW2lbbl1dO3JldHVybiBjKCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8ocy5wcm90b3R5cGU9bihlKSxyPW5ldyBzLHMucHJvdG90eXBlPW51bGwscltvXT1lKTpyPWMoKSx2b2lkIDA9PT10P3I6YShyLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjgpLGE9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/YShuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1MykoXCJtZXRhXCIpLGE9cigxOCksaT1yKDMyKSxvPXIoMjEpLmYscz0wLGM9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hcigzMykoKGZ1bmN0aW9uKCl7cmV0dXJuIGMoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSksZD1mdW5jdGlvbihlKXtvKGUsbix7dmFsdWU6e2k6XCJPXCIrICsrcyx3Ont9fX0pfSxsPWUuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmZ1bmN0aW9uKGUsdCl7aWYoIWEoZSkpcmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGU/ZTooXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJTXCI6XCJQXCIpK2U7aWYoIWkoZSxuKSl7aWYoIWMoZSkpcmV0dXJuXCJGXCI7aWYoIXQpcmV0dXJuXCJFXCI7ZChlKX1yZXR1cm4gZVtuXS5pfSxnZXRXZWFrOmZ1bmN0aW9uKGUsdCl7aWYoIWkoZSxuKSl7aWYoIWMoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7ZChlKX1yZXR1cm4gZVtuXS53fSxvbkZyZWV6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdSYmbC5ORUVEJiZjKGUpJiYhaShlLG4pJiZkKGUpLGV9fX0sZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0OCksYT1yKDE0KShcInRvU3RyaW5nVGFnXCIpLGk9XCJBcmd1bWVudHNcIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLG87cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpudWxsPT09ZT9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yocj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxhKSk/cjppP24odCk6XCJPYmplY3RcIj09KG89bih0KSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY2FsbGVlP1wiQXJndW1lbnRzXCI6b319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbixhPXIoMjYpLGk9KG49YSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3QuZ2V0UHJvdG9vVXJsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiXCIsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106XCJcIixhPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTozNDQzLGk9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOlwiXCIsbz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06XCJpc2FjMzJcIixzPVwiXCI7cz1cIlwiPT09aS5sZW5ndGg/XCJ3c3M6Ly9cIituK1wiOlwiK2ErXCIvP3BlZXJOYW1lPVwiK2UrXCImcm9vbUlkPVwiK3QrXCJfXCIrcitcIiZhdWRpb1B0PVwiK286XCJ3c3M6Ly9cIituK1wiOlwiK2EraStcIi8/cGVlck5hbWU9XCIrZStcIiZyb29tSWQ9XCIrdCtcIl9cIityK1wiJmF1ZGlvUHQ9XCIrbztyZXR1cm4gc30sdC51dWlkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PDM2O3QrKyllW3RdPVwiMDEyMzQ1Njc4OWFiY2RlZlwiLnN1YnN0cihNYXRoLmZsb29yKDE2Kk1hdGgucmFuZG9tKCkpLDEpO3JldHVybiBlWzE0XT1cIjRcIixlWzE5XT1cIjAxMjM0NTY3ODlhYmNkZWZcIi5zdWJzdHIoMyZlWzE5XXw4LDEpLGVbOF09ZVsxM109ZVsxOF09ZVsyM109XCItXCIsZS5qb2luKFwiXCIpfSx0LmNsb25lPWZ1bmN0aW9uIGUodCl7aWYobnVsbD09dHx8XCJvYmplY3RcIiE9PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6KDAsaS5kZWZhdWx0KSh0KSkpcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIERhdGUpe3ZhciByPW5ldyBEYXRlO3JldHVybiByLnNldFRpbWUodC5nZXRUaW1lKCkpLHJ9aWYodCBpbnN0YW5jZW9mIEFycmF5KXtmb3IodmFyIG49W10sYT10Lmxlbmd0aCxvPTA7bzxhOysrbyluW29dPWUodFtvXSk7cmV0dXJuIG59aWYodCBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIHM9e307Zm9yKHZhciBjIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShjKSYmKHNbY109ZSh0W2NdKSk7cmV0dXJuIHN9dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNvcHkgb2JqISBJdHMgdHlwZSBpc24ndCBzdXBwb3J0ZWQuXCIpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDIwMiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK2UpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjQpKFwia2V5c1wiKSxhPXIoNTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YShlKSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3KSxhPXIoMTMpLGk9YVtcIl9fY29yZS1qc19zaGFyZWRfX1wiXXx8KGFbXCJfX2NvcmUtanNfc2hhcmVkX19cIl09e30pOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpuLnZlcnNpb24sbW9kZTpyKDQ0KT9cInB1cmVcIjpcImdsb2JhbFwiLGNvcHlyaWdodDpcIsKpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIn0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMSksYT1yKDcpLGk9cigzMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KGEuT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxvPXt9O29bZV09dChyKSxuKG4uUytuLkYqaSgoZnVuY3Rpb24oKXtyKDEpfSkpLFwiT2JqZWN0XCIsbyl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOCksYT1yKDEzKS5kb2N1bWVudCxpPW4oYSkmJm4oYS5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/YS5jcmVhdGVFbGVtZW50KGUpOnt9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGE7aWYodCYmXCJmdW5jdGlvblwiPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4oYT1yLmNhbGwoZSkpKXJldHVybiBhO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW4oYT1yLmNhbGwoZSkpKXJldHVybiBhO2lmKCF0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihhPXIuY2FsbChlKSkpcmV0dXJuIGE7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig0NCksYT1yKDExKSxpPXIoODUpLG89cigyOCkscz1yKDM4KSxjPXIoMTI5KSx1PXIoNDkpLGQ9cig4MyksbD1yKDE0KShcIml0ZXJhdG9yXCIpLHA9IShbXS5rZXlzJiZcIm5leHRcImluW10ua2V5cygpKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixtLGgsdixfKXtjKHIsdCxtKTt2YXIgZyx5LGIsaz1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBJKXJldHVybiBJW2VdO3N3aXRjaChlKXtjYXNlXCJrZXlzXCI6Y2FzZVwidmFsdWVzXCI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sdz10K1wiIEl0ZXJhdG9yXCIsUD1cInZhbHVlc1wiPT1oLFM9ITEsST1lLnByb3RvdHlwZSxUPUlbbF18fElbXCJAQGl0ZXJhdG9yXCJdfHxoJiZJW2hdLEM9VHx8ayhoKSxSPWg/UD9rKFwiZW50cmllc1wiKTpDOnZvaWQgMCx4PVwiQXJyYXlcIj09dCYmSS5lbnRyaWVzfHxUO2lmKHgmJihiPWQoeC5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmYi5uZXh0JiYodShiLHcsITApLG58fFwiZnVuY3Rpb25cIj09dHlwZW9mIGJbbF18fG8oYixsLGYpKSxQJiZUJiZcInZhbHVlc1wiIT09VC5uYW1lJiYoUz0hMCxDPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG4mJiFffHwhcCYmIVMmJklbbF18fG8oSSxsLEMpLHNbdF09QyxzW3ddPWYsaClpZihnPXt2YWx1ZXM6UD9DOmsoXCJ2YWx1ZXNcIiksa2V5czp2P0M6ayhcImtleXNcIiksZW50cmllczpSfSxfKWZvcih5IGluIGcpeSBpbiBJfHxpKEkseSxnW3ldKTtlbHNlIGEoYS5QK2EuRioocHx8UyksdCxnKTtyZXR1cm4gZ319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ4KTtlLmV4cG9ydHM9T2JqZWN0KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJTdHJpbmdcIj09bihlKT9lLnNwbGl0KFwiXCIpOk9iamVjdChlKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mXCIuc3BsaXQoXCIsXCIpfSxmdW5jdGlvbihlLHQscil7dC5mPXIoMTQpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMyksYT1yKDcpLGk9cig0NCksbz1yKDcyKSxzPXIoMjEpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWEuU3ltYm9sfHwoYS5TeW1ib2w9aT97fTpuLlN5bWJvbHx8e30pO1wiX1wiPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxzKHQsZSx7dmFsdWU6by5mKGUpfSl9fSxmdW5jdGlvbihlLHQpe3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09biYmbiBpbiBlKXRocm93IFR5cGVFcnJvcihyK1wiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiFcIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1OSksYT1yKDE0KShcIml0ZXJhdG9yXCIpLGk9cigzOCk7ZS5leHBvcnRzPXIoNykuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVthXXx8ZVtcIkBAaXRlcmF0b3JcIl18fGlbbihlKV19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig0NSk7ZnVuY3Rpb24gYShlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZSgoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcihcIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yXCIpO3Q9ZSxyPW59KSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX1lLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGEgaW4gdClyJiZlW2FdP2VbYV09dFthXTpuKGUsYSx0W2FdKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbihlKXx8ZS5fdCE9PXQpdGhyb3cgVHlwZUVycm9yKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIit0K1wiIHJlcXVpcmVkIVwiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtuPWZ1bmN0aW9uKCl7dmFyIGU9ITA7ZnVuY3Rpb24gdCh0KXtmdW5jdGlvbiByKGUpe3ZhciByPXQubWF0Y2goZSk7cmV0dXJuIHImJnIubGVuZ3RoPjEmJnJbMV18fFwiXCJ9ZnVuY3Rpb24gbihlKXt2YXIgcj10Lm1hdGNoKGUpO3JldHVybiByJiZyLmxlbmd0aD4xJiZyWzJdfHxcIlwifXZhciBhLG89cigvKGlwb2R8aXBob25lfGlwYWQpL2kpLnRvTG93ZXJDYXNlKCkscz0hL2xpa2UgYW5kcm9pZC9pLnRlc3QodCkmJi9hbmRyb2lkL2kudGVzdCh0KSxjPS9uZXh1c1xccypbMC02XVxccyovaS50ZXN0KHQpLHU9IWMmJi9uZXh1c1xccypbMC05XSsvaS50ZXN0KHQpLGQ9L0NyT1MvLnRlc3QodCksbD0vc2lsay9pLnRlc3QodCkscD0vc2FpbGZpc2gvaS50ZXN0KHQpLGY9L3RpemVuL2kudGVzdCh0KSxtPS8od2VifGhwdykob3wwKXMvaS50ZXN0KHQpLGg9L3dpbmRvd3MgcGhvbmUvaS50ZXN0KHQpLHY9KC9TYW1zdW5nQnJvd3Nlci9pLnRlc3QodCksIWgmJi93aW5kb3dzL2kudGVzdCh0KSksXz0hbyYmIWwmJi9tYWNpbnRvc2gvaS50ZXN0KHQpLGc9IXMmJiFwJiYhZiYmIW0mJi9saW51eC9pLnRlc3QodCkseT1uKC9lZGcoW2VhXXxpb3MpXFwvKFxcZCsoXFwuXFxkKyk/KS9pKSxiPXIoL3ZlcnNpb25cXC8oXFxkKyhcXC5cXGQrKT8pL2kpLGs9L3RhYmxldC9pLnRlc3QodCkmJiEvdGFibGV0IHBjL2kudGVzdCh0KSx3PSFrJiYvW14tXW1vYmkvaS50ZXN0KHQpLFA9L3hib3gvaS50ZXN0KHQpOy9vcGVyYS9pLnRlc3QodCk/YT17bmFtZTpcIk9wZXJhXCIsb3BlcmE6ZSx2ZXJzaW9uOmJ8fHIoLyg/Om9wZXJhfG9wcnxvcGlvcylbXFxzXFwvXShcXGQrKFxcLlxcZCspPykvaSl9Oi9vcHJcXC98b3Bpb3MvaS50ZXN0KHQpP2E9e25hbWU6XCJPcGVyYVwiLG9wZXJhOmUsdmVyc2lvbjpyKC8oPzpvcHJ8b3Bpb3MpW1xcc1xcL10oXFxkKyhcXC5cXGQrKT8pL2kpfHxifTovU2Ftc3VuZ0Jyb3dzZXIvaS50ZXN0KHQpP2E9e25hbWU6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCIsc2Ftc3VuZ0Jyb3dzZXI6ZSx2ZXJzaW9uOmJ8fHIoLyg/OlNhbXN1bmdCcm93c2VyKVtcXHNcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKX06L1doYWxlL2kudGVzdCh0KT9hPXtuYW1lOlwiTkFWRVIgV2hhbGUgYnJvd3NlclwiLHdoYWxlOmUsdmVyc2lvbjpyKC8oPzp3aGFsZSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06L01aQnJvd3Nlci9pLnRlc3QodCk/YT17bmFtZTpcIk1aIEJyb3dzZXJcIixtemJyb3dzZXI6ZSx2ZXJzaW9uOnIoLyg/Ok1aQnJvd3NlcilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06L2NvYXN0L2kudGVzdCh0KT9hPXtuYW1lOlwiT3BlcmEgQ29hc3RcIixjb2FzdDplLHZlcnNpb246Ynx8cigvKD86Y29hc3QpW1xcc1xcL10oXFxkKyhcXC5cXGQrKT8pL2kpfTovZm9jdXMvaS50ZXN0KHQpP2E9e25hbWU6XCJGb2N1c1wiLGZvY3VzOmUsdmVyc2lvbjpyKC8oPzpmb2N1cylbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06L3lhYnJvd3Nlci9pLnRlc3QodCk/YT17bmFtZTpcIllhbmRleCBCcm93c2VyXCIseWFuZGV4YnJvd3NlcjplLHZlcnNpb246Ynx8cigvKD86eWFicm93c2VyKVtcXHNcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKX06L3VjYnJvd3Nlci9pLnRlc3QodCk/YT17bmFtZTpcIlVDIEJyb3dzZXJcIix1Y2Jyb3dzZXI6ZSx2ZXJzaW9uOnIoLyg/OnVjYnJvd3NlcilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06L214aW9zL2kudGVzdCh0KT9hPXtuYW1lOlwiTWF4dGhvblwiLG1heHRob246ZSx2ZXJzaW9uOnIoLyg/Om14aW9zKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKSspL2kpfTovZXBpcGhhbnkvaS50ZXN0KHQpP2E9e25hbWU6XCJFcGlwaGFueVwiLGVwaXBoYW55OmUsdmVyc2lvbjpyKC8oPzplcGlwaGFueSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06L3B1ZmZpbi9pLnRlc3QodCk/YT17bmFtZTpcIlB1ZmZpblwiLHB1ZmZpbjplLHZlcnNpb246cigvKD86cHVmZmluKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKT8pL2kpfTovc2xlaXBuaXIvaS50ZXN0KHQpP2E9e25hbWU6XCJTbGVpcG5pclwiLHNsZWlwbmlyOmUsdmVyc2lvbjpyKC8oPzpzbGVpcG5pcilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06L2stbWVsZW9uL2kudGVzdCh0KT9hPXtuYW1lOlwiSy1NZWxlb25cIixrTWVsZW9uOmUsdmVyc2lvbjpyKC8oPzprLW1lbGVvbilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKX06aD8oYT17bmFtZTpcIldpbmRvd3MgUGhvbmVcIixvc25hbWU6XCJXaW5kb3dzIFBob25lXCIsd2luZG93c3Bob25lOmV9LHk/KGEubXNlZGdlPWUsYS52ZXJzaW9uPXkpOihhLm1zaWU9ZSxhLnZlcnNpb249cigvaWVtb2JpbGVcXC8oXFxkKyhcXC5cXGQrKT8pL2kpKSk6L21zaWV8dHJpZGVudC9pLnRlc3QodCk/YT17bmFtZTpcIkludGVybmV0IEV4cGxvcmVyXCIsbXNpZTplLHZlcnNpb246cigvKD86bXNpZSB8cnY6KShcXGQrKFxcLlxcZCspPykvaSl9OmQ/YT17bmFtZTpcIkNocm9tZVwiLG9zbmFtZTpcIkNocm9tZSBPU1wiLGNocm9tZW9zOmUsY2hyb21lQm9vazplLGNocm9tZTplLHZlcnNpb246cigvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuXFxkKyk/KS9pKX06L2VkZyhbZWFdfGlvcykvaS50ZXN0KHQpP2E9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwiLG1zZWRnZTplLHZlcnNpb246eX06L3ZpdmFsZGkvaS50ZXN0KHQpP2E9e25hbWU6XCJWaXZhbGRpXCIsdml2YWxkaTplLHZlcnNpb246cigvdml2YWxkaVxcLyhcXGQrKFxcLlxcZCspPykvaSl8fGJ9OnA/YT17bmFtZTpcIlNhaWxmaXNoXCIsb3NuYW1lOlwiU2FpbGZpc2ggT1NcIixzYWlsZmlzaDplLHZlcnNpb246cigvc2FpbGZpc2hcXHM/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSl9Oi9zZWFtb25rZXlcXC8vaS50ZXN0KHQpP2E9e25hbWU6XCJTZWFNb25rZXlcIixzZWFtb25rZXk6ZSx2ZXJzaW9uOnIoL3NlYW1vbmtleVxcLyhcXGQrKFxcLlxcZCspPykvaSl9Oi9maXJlZm94fGljZXdlYXNlbHxmeGlvcy9pLnRlc3QodCk/KGE9e25hbWU6XCJGaXJlZm94XCIsZmlyZWZveDplLHZlcnNpb246cigvKD86ZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MpWyBcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKX0sL1xcKChtb2JpbGV8dGFibGV0KTtbXlxcKV0qcnY6W1xcZFxcLl0rXFwpL2kudGVzdCh0KSYmKGEuZmlyZWZveG9zPWUsYS5vc25hbWU9XCJGaXJlZm94IE9TXCIpKTpsP2E9e25hbWU6XCJBbWF6b24gU2lsa1wiLHNpbGs6ZSx2ZXJzaW9uOnIoL3NpbGtcXC8oXFxkKyhcXC5cXGQrKT8pL2kpfTovcGhhbnRvbS9pLnRlc3QodCk/YT17bmFtZTpcIlBoYW50b21KU1wiLHBoYW50b206ZSx2ZXJzaW9uOnIoL3BoYW50b21qc1xcLyhcXGQrKFxcLlxcZCspPykvaSl9Oi9zbGltZXJqcy9pLnRlc3QodCk/YT17bmFtZTpcIlNsaW1lckpTXCIsc2xpbWVyOmUsdmVyc2lvbjpyKC9zbGltZXJqc1xcLyhcXGQrKFxcLlxcZCspPykvaSl9Oi9ibGFja2JlcnJ5fFxcYmJiXFxkKy9pLnRlc3QodCl8fC9yaW1cXHN0YWJsZXQvaS50ZXN0KHQpP2E9e25hbWU6XCJCbGFja0JlcnJ5XCIsb3NuYW1lOlwiQmxhY2tCZXJyeSBPU1wiLGJsYWNrYmVycnk6ZSx2ZXJzaW9uOmJ8fHIoL2JsYWNrYmVycnlbXFxkXStcXC8oXFxkKyhcXC5cXGQrKT8pL2kpfTptPyhhPXtuYW1lOlwiV2ViT1NcIixvc25hbWU6XCJXZWJPU1wiLHdlYm9zOmUsdmVyc2lvbjpifHxyKC93KD86ZWIpP29zYnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSl9LC90b3VjaHBhZFxcLy9pLnRlc3QodCkmJihhLnRvdWNocGFkPWUpKTovYmFkYS9pLnRlc3QodCk/YT17bmFtZTpcIkJhZGFcIixvc25hbWU6XCJCYWRhXCIsYmFkYTplLHZlcnNpb246cigvZG9sZmluXFwvKFxcZCsoXFwuXFxkKyk/KS9pKX06Zj9hPXtuYW1lOlwiVGl6ZW5cIixvc25hbWU6XCJUaXplblwiLHRpemVuOmUsdmVyc2lvbjpyKC8oPzp0aXplblxccz8pP2Jyb3dzZXJcXC8oXFxkKyhcXC5cXGQrKT8pL2kpfHxifTovcXVwemlsbGEvaS50ZXN0KHQpP2E9e25hbWU6XCJRdXBaaWxsYVwiLHF1cHppbGxhOmUsdmVyc2lvbjpyKC8oPzpxdXB6aWxsYSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKXx8Yn06L2Nocm9taXVtL2kudGVzdCh0KT9hPXtuYW1lOlwiQ2hyb21pdW1cIixjaHJvbWl1bTplLHZlcnNpb246cigvKD86Y2hyb21pdW0pW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspPykvaSl8fGJ9Oi9jaHJvbWV8Y3Jpb3N8Y3Jtby9pLnRlc3QodCk/YT17bmFtZTpcIkNocm9tZVwiLGNocm9tZTplLHZlcnNpb246cigvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuXFxkKyk/KS9pKX06cz9hPXtuYW1lOlwiQW5kcm9pZFwiLHZlcnNpb246Yn06L3NhZmFyaXxhcHBsZXdlYmtpdC9pLnRlc3QodCk/KGE9e25hbWU6XCJTYWZhcmlcIixzYWZhcmk6ZX0sYiYmKGEudmVyc2lvbj1iKSk6bz8oYT17bmFtZTpcImlwaG9uZVwiPT1vP1wiaVBob25lXCI6XCJpcGFkXCI9PW8/XCJpUGFkXCI6XCJpUG9kXCJ9LGImJihhLnZlcnNpb249YikpOmE9L2dvb2dsZWJvdC9pLnRlc3QodCk/e25hbWU6XCJHb29nbGVib3RcIixnb29nbGVib3Q6ZSx2ZXJzaW9uOnIoL2dvb2dsZWJvdFxcLyhcXGQrKFxcLlxcZCspKS9pKXx8Yn06e25hbWU6cigvXiguKilcXC8oLiopIC8pLHZlcnNpb246bigvXiguKilcXC8oLiopIC8pfSwhYS5tc2VkZ2UmJi8oYXBwbGUpP3dlYmtpdC9pLnRlc3QodCk/KC8oYXBwbGUpP3dlYmtpdFxcLzUzN1xcLjM2L2kudGVzdCh0KT8oYS5uYW1lPWEubmFtZXx8XCJCbGlua1wiLGEuYmxpbms9ZSk6KGEubmFtZT1hLm5hbWV8fFwiV2Via2l0XCIsYS53ZWJraXQ9ZSksIWEudmVyc2lvbiYmYiYmKGEudmVyc2lvbj1iKSk6IWEub3BlcmEmJi9nZWNrb1xcLy9pLnRlc3QodCkmJihhLm5hbWU9YS5uYW1lfHxcIkdlY2tvXCIsYS5nZWNrbz1lLGEudmVyc2lvbj1hLnZlcnNpb258fHIoL2dlY2tvXFwvKFxcZCsoXFwuXFxkKyk/KS9pKSksYS53aW5kb3dzcGhvbmV8fCFzJiYhYS5zaWxrPyFhLndpbmRvd3NwaG9uZSYmbz8oYVtvXT1lLGEuaW9zPWUsYS5vc25hbWU9XCJpT1NcIik6Xz8oYS5tYWM9ZSxhLm9zbmFtZT1cIm1hY09TXCIpOlA/KGEueGJveD1lLGEub3NuYW1lPVwiWGJveFwiKTp2PyhhLndpbmRvd3M9ZSxhLm9zbmFtZT1cIldpbmRvd3NcIik6ZyYmKGEubGludXg9ZSxhLm9zbmFtZT1cIkxpbnV4XCIpOihhLmFuZHJvaWQ9ZSxhLm9zbmFtZT1cIkFuZHJvaWRcIik7dmFyIFM9XCJcIjthLndpbmRvd3M/Uz1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwiTlRcIjpyZXR1cm5cIk5UXCI7Y2FzZVwiWFBcIjpyZXR1cm5cIlhQXCI7Y2FzZVwiTlQgNS4wXCI6cmV0dXJuXCIyMDAwXCI7Y2FzZVwiTlQgNS4xXCI6cmV0dXJuXCJYUFwiO2Nhc2VcIk5UIDUuMlwiOnJldHVyblwiMjAwM1wiO2Nhc2VcIk5UIDYuMFwiOnJldHVyblwiVmlzdGFcIjtjYXNlXCJOVCA2LjFcIjpyZXR1cm5cIjdcIjtjYXNlXCJOVCA2LjJcIjpyZXR1cm5cIjhcIjtjYXNlXCJOVCA2LjNcIjpyZXR1cm5cIjguMVwiO2Nhc2VcIk5UIDEwLjBcIjpyZXR1cm5cIjEwXCI7ZGVmYXVsdDpyZXR1cm59fShyKC9XaW5kb3dzICgoTlR8WFApKCBcXGRcXGQ/LlxcZCk/KS9pKSk6YS53aW5kb3dzcGhvbmU/Uz1yKC93aW5kb3dzIHBob25lICg/Om9zKT9cXHM/KFxcZCsoXFwuXFxkKykqKS9pKTphLm1hYz9TPShTPXIoL01hYyBPUyBYIChcXGQrKFtfXFwuXFxzXVxcZCspKikvaSkpLnJlcGxhY2UoL1tfXFxzXS9nLFwiLlwiKTpvP1M9KFM9cigvb3MgKFxcZCsoW19cXHNdXFxkKykqKSBsaWtlIG1hYyBvcyB4L2kpKS5yZXBsYWNlKC9bX1xcc10vZyxcIi5cIik6cz9TPXIoL2FuZHJvaWRbIFxcLy1dKFxcZCsoXFwuXFxkKykqKS9pKTphLndlYm9zP1M9cigvKD86d2VifGhwdylvc1xcLyhcXGQrKFxcLlxcZCspKikvaSk6YS5ibGFja2JlcnJ5P1M9cigvcmltXFxzdGFibGV0XFxzb3NcXHMoXFxkKyhcXC5cXGQrKSopL2kpOmEuYmFkYT9TPXIoL2JhZGFcXC8oXFxkKyhcXC5cXGQrKSopL2kpOmEudGl6ZW4mJihTPXIoL3RpemVuW1xcL1xcc10oXFxkKyhcXC5cXGQrKSopL2kpKSxTJiYoYS5vc3ZlcnNpb249Uyk7dmFyIEk9IWEud2luZG93cyYmUy5zcGxpdChcIi5cIilbMF07cmV0dXJuIGt8fHV8fFwiaXBhZFwiPT1vfHxzJiYoMz09SXx8ST49NCYmIXcpfHxhLnNpbGs/YS50YWJsZXQ9ZTood3x8XCJpcGhvbmVcIj09b3x8XCJpcG9kXCI9PW98fHN8fGN8fGEuYmxhY2tiZXJyeXx8YS53ZWJvc3x8YS5iYWRhKSYmKGEubW9iaWxlPWUpLGEubXNlZGdlfHxhLm1zaWUmJmEudmVyc2lvbj49MTB8fGEueWFuZGV4YnJvd3NlciYmYS52ZXJzaW9uPj0xNXx8YS52aXZhbGRpJiZhLnZlcnNpb24+PTF8fGEuY2hyb21lJiZhLnZlcnNpb24+PTIwfHxhLnNhbXN1bmdCcm93c2VyJiZhLnZlcnNpb24+PTR8fGEud2hhbGUmJjE9PT1pKFthLnZlcnNpb24sXCIxLjBcIl0pfHxhLm16YnJvd3NlciYmMT09PWkoW2EudmVyc2lvbixcIjYuMFwiXSl8fGEuZm9jdXMmJjE9PT1pKFthLnZlcnNpb24sXCIxLjBcIl0pfHxhLmZpcmVmb3gmJmEudmVyc2lvbj49MjB8fGEuc2FmYXJpJiZhLnZlcnNpb24+PTZ8fGEub3BlcmEmJmEudmVyc2lvbj49MTB8fGEuaW9zJiZhLm9zdmVyc2lvbiYmYS5vc3ZlcnNpb24uc3BsaXQoXCIuXCIpWzBdPj02fHxhLmJsYWNrYmVycnkmJmEudmVyc2lvbj49MTAuMXx8YS5jaHJvbWl1bSYmYS52ZXJzaW9uPj0yMD9hLmE9ZTphLm1zaWUmJmEudmVyc2lvbjwxMHx8YS5jaHJvbWUmJmEudmVyc2lvbjwyMHx8YS5maXJlZm94JiZhLnZlcnNpb248MjB8fGEuc2FmYXJpJiZhLnZlcnNpb248Nnx8YS5vcGVyYSYmYS52ZXJzaW9uPDEwfHxhLmlvcyYmYS5vc3ZlcnNpb24mJmEub3N2ZXJzaW9uLnNwbGl0KFwiLlwiKVswXTw2fHxhLmNocm9taXVtJiZhLnZlcnNpb248MjA/YS5jPWU6YS54PWUsYX12YXIgcj10KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIpO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUuc3BsaXQoXCIuXCIpLmxlbmd0aH1mdW5jdGlvbiBhKGUsdCl7dmFyIHIsbj1bXTtpZihBcnJheS5wcm90b3R5cGUubWFwKXJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZSx0KTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKW4ucHVzaCh0KGVbcl0pKTtyZXR1cm4gbn1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD1NYXRoLm1heChuKGVbMF0pLG4oZVsxXSkpLHI9YShlLChmdW5jdGlvbihlKXt2YXIgcj10LW4oZSk7cmV0dXJuIGEoKGUrPW5ldyBBcnJheShyKzEpLmpvaW4oXCIuMFwiKSkuc3BsaXQoXCIuXCIpLChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEFycmF5KDIwLWUubGVuZ3RoKS5qb2luKFwiMFwiKStlfSkpLnJldmVyc2UoKX0pKTstLXQ+PTA7KXtpZihyWzBdW3RdPnJbMV1bdF0pcmV0dXJuIDE7aWYoclswXVt0XSE9PXJbMV1bdF0pcmV0dXJuLTE7aWYoMD09PXQpcmV0dXJuIDB9fWZ1bmN0aW9uIG8oZSxuLGEpe3ZhciBvPXI7XCJzdHJpbmdcIj09dHlwZW9mIG4mJihhPW4sbj12b2lkIDApLHZvaWQgMD09PW4mJihuPSExKSxhJiYobz10KGEpKTt2YXIgcz1cIlwiK28udmVyc2lvbjtmb3IodmFyIGMgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGMpJiZvW2NdKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZVtjXSl0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyIHZlcnNpb24gaW4gdGhlIG1pblZlcnNpb24gbWFwIHNob3VsZCBiZSBhIHN0cmluZzogXCIrYytcIjogXCIrU3RyaW5nKGUpKTtyZXR1cm4gaShbcyxlW2NdXSk8MH1yZXR1cm4gbn1yZXR1cm4gci50ZXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXt2YXIgbj1lW3RdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuJiZuIGluIHIpcmV0dXJuITB9cmV0dXJuITF9LHIuaXNVbnN1cHBvcnRlZEJyb3dzZXI9byxyLmNvbXBhcmVWZXJzaW9ucz1pLHIuY2hlY2s9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiFvKGUsdCxyKX0sci5fZGV0ZWN0PXQsci5kZXRlY3Q9dCxyfSxlLmV4cG9ydHM/ZS5leHBvcnRzPW4oKTpyKDE3OCkoXCJib3dzZXJcIixuKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1nKHIoMCkpLGE9ZyhyKDEpKSxpPWcocig4MCkpLG89ZyhyKDUpKSxzPWcocigxODEpKSxjPWcocigxOTUpKSx1PWcocigxOTYpKSxkPWcocigxOTcpKSxsPShnKHIoMTk4KSksZyhyKDE5OSkpKSxwPWcocigyMDApKSxmPWcocigyMDEpKSxtPWcocigyMDUpKSxoPWcocigyMDYpKSx2PWcocigyMDcpKSxfPWcocigyMDkpKTtmdW5jdGlvbiBnKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgeT1uZXcgby5kZWZhdWx0KFwiRGV2aWNlXCIpLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7KDAsbi5kZWZhdWx0KSh0aGlzLHQpfXJldHVybigwLGEuZGVmYXVsdCkodCxudWxsLFt7a2V5Olwic2V0SGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0Ll9kZXRlY3RlZD0hMCx0Ll9oYW5kbGVyQ2xhc3M9ZSx0Ll9mbGFnPXIuZmxhZyx0Ll9uYW1lPXIubmFtZSx0Ll92ZXJzaW9uPXIudmVyc2lvbix0Ll9ib3dzZXI9ci5ib3dzZXJ8fHt9fX0se2tleTpcImdldEZsYWdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0Ll9kZXRlY3RlZHx8dC5fZGV0ZWN0KCksdC5fZmxhZ319LHtrZXk6XCJnZXROYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fZGV0ZWN0ZWR8fHQuX2RldGVjdCgpLHQuX25hbWV9fSx7a2V5OlwiZ2V0VmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX2RldGVjdGVkfHx0Ll9kZXRlY3QoKSx0Ll92ZXJzaW9ufX0se2tleTpcImdldEJvd3NlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX2RldGVjdGVkfHx0Ll9kZXRlY3QoKSx0Ll9ib3dzZXJ9fSx7a2V5OlwiaXNTdXBwb3J0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0Ll9kZXRlY3RlZHx8dC5fZGV0ZWN0KCksQm9vbGVhbih0Ll9oYW5kbGVyQ2xhc3MpfX0se2tleTpcIl9kZXRlY3RcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHQuX2RldGVjdGVkPSEwLGUubmF2aWdhdG9yJiZcIlJlYWN0TmF0aXZlXCI9PT1lLm5hdmlnYXRvci5wcm9kdWN0KXQuX2ZsYWc9XCJyZWFjdC1uYXRpdmVcIix0Ll9uYW1lPVwiUmVhY3ROYXRpdmVcIix0Ll92ZXJzaW9uPXZvaWQgMCx0Ll9ib3dzZXI9e30sdC5faGFuZGxlckNsYXNzPV8uZGVmYXVsdDtlbHNlIGlmKGUubmF2aWdhdG9yJiZcInN0cmluZ1wiPT10eXBlb2YgZS5uYXZpZ2F0b3IudXNlckFnZW50KXt2YXIgcj1lLm5hdmlnYXRvci51c2VyQWdlbnQsbj1pLmRlZmF1bHQuZGV0ZWN0KHIpO2lmKHQuX2ZsYWc9dm9pZCAwLHQuX25hbWU9bi5uYW1lfHx2b2lkIDAsdC5fdmVyc2lvbj1uLnZlcnNpb258fHZvaWQgMCx0Ll9ib3dzZXI9bix0Ll9oYW5kbGVyQ2xhc3M9bnVsbCxpLmRlZmF1bHQuY2hlY2soe2Nocm9tZTpcIjcwXCIsY2hyb21pdW06XCI3MFwifSwhMCxyKSl0Ll9mbGFnPVwiY2hyb21lXCIsdC5faGFuZGxlckNsYXNzPXMuZGVmYXVsdDtlbHNlIGlmKGkuZGVmYXVsdC5jaGVjayh7Y2hyb21lOlwiNjlcIixjaHJvbWl1bTpcIjY5XCJ9LCEwLHIpKXQuX2ZsYWc9XCJjaHJvbWVcIix0Ll9oYW5kbGVyQ2xhc3M9Yy5kZWZhdWx0O2Vsc2UgaWYoaS5kZWZhdWx0LmNoZWNrKHtjaHJvbWU6XCI2N1wiLGNocm9taXVtOlwiNjdcIn0sITAscikpdC5fZmxhZz1cImNocm9tZVwiLHQuX2hhbmRsZXJDbGFzcz11LmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe2Nocm9tZTpcIjU1XCIsY2hyb21pdW06XCI1NVwifSwhMCxyKSl0Ll9mbGFnPVwiY2hyb21lXCIsdC5faGFuZGxlckNsYXNzPWQuZGVmYXVsdDtlbHNlIGlmKGkuZGVmYXVsdC5jaGVjayh7Y2hyb21lOlwiNDlcIixjaHJvbWl1bTpcIjQ5XCJ9LCEwLHIpJiZlLmFkYXB0ZXIpdC5fZmxhZz1cImNocm9tZVwiLHQuX2hhbmRsZXJDbGFzcz1kLmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe2ZpcmVmb3g6XCI2NVwifSwhMCxyKSl0Ll9mbGFnPVwiZmlyZWZveFwiLHQuX2hhbmRsZXJDbGFzcz1mLmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe2ZpcmVmb3g6XCI1OVwifSwhMCxyKSl0Ll9mbGFnPVwiZmlyZWZveFwiLHQuX2hhbmRsZXJDbGFzcz1tLmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe2ZpcmVmb3g6XCI1MFwifSwhMCxyKSl0Ll9mbGFnPVwiZmlyZWZveFwiLHQuX2hhbmRsZXJDbGFzcz1oLmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe3NhZmFyaTpcIjEyLjFcIn0sITAscikmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBSVENSdHBUcmFuc2NlaXZlciYmUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwiY3VycmVudERpcmVjdGlvblwiKSl0Ll9mbGFnPVwic2FmYXJpXCIsdC5faGFuZGxlckNsYXNzPWwuZGVmYXVsdDtlbHNlIGlmKGkuZGVmYXVsdC5jaGVjayh7c2FmYXJpOlwiMTFcIn0sITAscikpdC5fZmxhZz1cInNhZmFyaVwiLHQuX2hhbmRsZXJDbGFzcz1wLmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe21zZWRnZTpcIjExXCJ9LCEwLHIpKXQuX2ZsYWc9XCJtc2VkZ2VcIix0Ll9oYW5kbGVyQ2xhc3M9di5kZWZhdWx0O2Vsc2UgaWYoaS5kZWZhdWx0LmNoZWNrKHtvcGVyYTpcIjU3XCJ9LCEwLHIpKXQuX2ZsYWc9XCJvcGVyYVwiLHQuX2hhbmRsZXJDbGFzcz1zLmRlZmF1bHQ7ZWxzZSBpZihpLmRlZmF1bHQuY2hlY2soe29wZXJhOlwiNDRcIn0sITAscikpdC5fZmxhZz1cIm9wZXJhXCIsdC5faGFuZGxlckNsYXNzPWQuZGVmYXVsdDtlbHNlIGlmKG4uY2hyb21pdW18fG4uYmxpbmt8fG4ud2Via2l0KXt5LmRlYnVnKCdiZXN0IGVmZm9ydCBDaHJvbWUgYmFzZWQgYnJvd3NlciBkZXRlY3Rpb24gW25hbWU6XCIlc1wiXScsbi5uYW1lKSx0Ll9mbGFnPVwiY2hyb21lXCI7dmFyIGE9ci5tYXRjaCgvKD86KD86Q2hyb21lfENocm9taXVtKSlbIC9dKFxcdyspL2kpO2lmKGEpe3ZhciBvPU51bWJlcihhWzFdKTt0Ll9oYW5kbGVyQ2xhc3M9bz49NzA/cy5kZWZhdWx0Om8+PTY5P2MuZGVmYXVsdDpvPj02Nz91LmRlZmF1bHQ6ZC5kZWZhdWx0fWVsc2UgdC5faGFuZGxlckNsYXNzPXMuZGVmYXVsdH10LmlzU3VwcG9ydGVkKCk/eS5kZWJ1ZygnYnJvd3NlciBzdXBwb3J0ZWQgW2ZsYWc6JXMsIG5hbWU6XCIlc1wiLCB2ZXJzaW9uOiVzLCBoYW5kbGVyOiVzXScsdC5fZmxhZyx0Ll9uYW1lLHQuX3ZlcnNpb24sdC5faGFuZGxlckNsYXNzLnRhZyk6eS53YXJuKFwiYnJvd3NlciBub3Qgc3VwcG9ydGVkIFtuYW1lOiVzLCB2ZXJzaW9uOiVzXVwiLHQuX25hbWUsdC5fdmVyc2lvbil9ZWxzZSB5Lndhcm4oXCJkZXZpY2Ugbm90IHN1cHBvcnRlZFwiKX19LHtrZXk6XCJIYW5kbGVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuX2RldGVjdGVkfHx0Ll9kZXRlY3QoKSx0Ll9oYW5kbGVyQ2xhc3N9fV0pLHR9KCk7dC5kZWZhdWx0PWIsYi5fZGV0ZWN0ZWQ9ITEsYi5fZmxhZz12b2lkIDAsYi5fbmFtZT12b2lkIDAsYi5fdmVyc2lvbj12b2lkIDAsYi5fYm93c2VyPXZvaWQgMCxiLl9oYW5kbGVyQ2xhc3M9bnVsbH0pLmNhbGwodGhpcyxyKDM3KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITA7dmFyIG4sYT1yKDYxKSxpPShuPWEpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufTt0LmRlZmF1bHQ9aS5kZWZhdWx0fHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzIpLGE9cigzMSksaT1yKDYzKShcIklFX1BST1RPXCIpLG89T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1hKGUpLG4oZSxpKT9lW2ldOlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/bzpudWxsfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcigyMikmJiFyKDMzKSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoNjYpKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMjgpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMiksYT1yKDM5KSxpPXIoMTMxKSghMSksbz1yKDYzKShcIklFX1BST1RPXCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9YShlKSxjPTAsdT1bXTtmb3IociBpbiBzKXIhPW8mJm4ocyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YzspbihzLHI9dFtjKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMykuZG9jdW1lbnQ7ZS5leHBvcnRzPW4mJm4uZG9jdW1lbnRFbGVtZW50fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ4KTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJBcnJheVwiPT1uKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoODYpLGE9cig3MSkuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLGEpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTcpLGE9cig0NiksaT1yKDM5KSxvPXIoNjcpLHM9cigzMiksYz1yKDg0KSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dC5mPXIoMjIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1vKHQsITApLGMpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2goZSl7fWlmKHMoZSx0KSlyZXR1cm4gYSghbi5mLmNhbGwoZSx0KSxlW3RdKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYSl7dHJ5e3JldHVybiBhP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKHQpe3ZhciBpPWUucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJm4oaS5jYWxsKGUpKSx0fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM4KSxhPXIoMTQpKFwiaXRlcmF0b3JcIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbYV09PT1lKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI1KSxhPXIoNDUpLGk9cigxNCkoXCJzcGVjaWVzXCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLG89bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09b3x8bnVsbD09KHI9bihvKVtpXSk/dDphKHIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGEsaSxvPXIoMjcpLHM9cigxNTQpLGM9cig4NyksdT1yKDY2KSxkPXIoMTMpLGw9ZC5wcm9jZXNzLHA9ZC5zZXRJbW1lZGlhdGUsZj1kLmNsZWFySW1tZWRpYXRlLG09ZC5NZXNzYWdlQ2hhbm5lbCxoPWQuRGlzcGF0Y2gsdj0wLF89e30sZz1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKF8uaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PV9bZV07ZGVsZXRlIF9bZV0sdCgpfX0seT1mdW5jdGlvbihlKXtnLmNhbGwoZS5kYXRhKX07cCYmZnx8KHA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIF9bKyt2XT1mdW5jdGlvbigpe3MoXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGY9ZnVuY3Rpb24oZSl7ZGVsZXRlIF9bZV19LFwicHJvY2Vzc1wiPT1yKDQ4KShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2sobyhnLGUsMSkpfTpoJiZoLm5vdz9uPWZ1bmN0aW9uKGUpe2gubm93KG8oZyxlLDEpKX06bT8oaT0oYT1uZXcgbSkucG9ydDIsYS5wb3J0MS5vbm1lc3NhZ2U9eSxuPW8oaS5wb3N0TWVzc2FnZSxpLDEpKTpkLmFkZEV2ZW50TGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2QucG9zdE1lc3NhZ2UoZStcIlwiLFwiKlwiKX0sZC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHksITEpKTpuPVwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiB1KFwic2NyaXB0XCIpP2Z1bmN0aW9uKGUpe2MuYXBwZW5kQ2hpbGQodShcInNjcmlwdFwiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yy5yZW1vdmVDaGlsZCh0aGlzKSxnLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KG8oZyxlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6cCxjbGVhcjpmfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI1KSxhPXIoMTgpLGk9cig3Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYobihlKSxhKHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgcj1pLmYoZSk7cmV0dXJuKDAsci5yZXNvbHZlKSh0KSxyLnByb21pc2V9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxMyksYT1yKDcpLGk9cigyMSksbz1yKDIyKSxzPXIoMTQpKFwic3BlY2llc1wiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgYVtlXT9hW2VdOm5bZV07byYmdCYmIXRbc10mJmkuZih0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE0KShcIml0ZXJhdG9yXCIpLGE9ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7YT0hMH0sQXJyYXkuZnJvbShpLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhYSlyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLG89aVtuXSgpO28ubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGUoaSl9Y2F0Y2goZSl7fXJldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDE1OSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITA7dmFyIG4sYT1yKDYpLGk9KG49YSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3QuZGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbmV3IGkuZGVmYXVsdCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24gbihhLG8pe3RyeXt2YXIgcz10W2FdKG8pLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfWlmKCFzLmRvbmUpcmV0dXJuIGkuZGVmYXVsdC5yZXNvbHZlKGMpLnRoZW4oKGZ1bmN0aW9uKGUpe24oXCJuZXh0XCIsZSl9KSwoZnVuY3Rpb24oZSl7bihcInRocm93XCIsZSl9KSk7ZShjKX0oXCJuZXh0XCIpfSkpfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDIxKS5mLGE9cig1NCksaT1yKDc4KSxvPXIoMjcpLHM9cig3NSksYz1yKDUwKSx1PXIoNjkpLGQ9cig4OCksbD1yKDk4KSxwPXIoMjIpLGY9cig1NikuZmFzdEtleSxtPXIoNzkpLGg9cD9cIl9zXCI6XCJzaXplXCIsdj1mdW5jdGlvbihlLHQpe3ZhciByLG49Zih0KTtpZihcIkZcIiE9PW4pcmV0dXJuIGUuX2lbbl07Zm9yKHI9ZS5fZjtyO3I9ci5uKWlmKHIuaz09dClyZXR1cm4gcn07ZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQscix1KXt2YXIgZD1lKChmdW5jdGlvbihlLG4pe3MoZSxkLHQsXCJfaVwiKSxlLl90PXQsZS5faT1hKG51bGwpLGUuX2Y9dm9pZCAwLGUuX2w9dm9pZCAwLGVbaF09MCxudWxsIT1uJiZjKG4scixlW3VdLGUpfSkpO3JldHVybiBpKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1tKHRoaXMsdCkscj1lLl9pLG49ZS5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgcltuLmldO2UuX2Y9ZS5fbD12b2lkIDAsZVtoXT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHI9bSh0aGlzLHQpLG49dihyLGUpO2lmKG4pe3ZhciBhPW4ubixpPW4ucDtkZWxldGUgci5faVtuLmldLG4ucj0hMCxpJiYoaS5uPWEpLGEmJihhLnA9aSksci5fZj09biYmKHIuX2Y9YSksci5fbD09biYmKHIuX2w9aSkscltoXS0tfXJldHVybiEhbn0sZm9yRWFjaDpmdW5jdGlvbihlKXttKHRoaXMsdCk7Zm9yKHZhciByLG49byhlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3I9cj9yLm46dGhpcy5fZjspZm9yKG4oci52LHIuayx0aGlzKTtyJiZyLnI7KXI9ci5wfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF2KG0odGhpcyx0KSxlKX19KSxwJiZuKGQucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbSh0aGlzLHQpW2hdfX0pLGR9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG4sYSxpPXYoZSx0KTtyZXR1cm4gaT9pLnY9cjooZS5fbD1pPXtpOmE9Zih0LCEwKSxrOnQsdjpyLHA6bj1lLl9sLG46dm9pZCAwLHI6ITF9LGUuX2Z8fChlLl9mPWkpLG4mJihuLm49aSksZVtoXSsrLFwiRlwiIT09YSYmKGUuX2lbYV09aSkpLGV9LGdldEVudHJ5OnYsc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxyKXt1KGUsdCwoZnVuY3Rpb24oZSxyKXt0aGlzLl90PW0oZSx0KSx0aGlzLl9rPXIsdGhpcy5fbD12b2lkIDB9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fayx0PXRoaXMuX2w7dCYmdC5yOyl0PXQucDtyZXR1cm4gdGhpcy5fdCYmKHRoaXMuX2w9dD10P3Qubjp0aGlzLl90Ll9mKT9kKDAsXCJrZXlzXCI9PWU/dC5rOlwidmFsdWVzXCI9PWU/dC52Olt0LmssdC52XSk6KHRoaXMuX3Q9dm9pZCAwLGQoMSkpfSkscj9cImVudHJpZXNcIjpcInZhbHVlc1wiLCFyLCEwKSxsKHQpfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDEzKSxhPXIoMTEpLGk9cig1Niksbz1yKDMzKSxzPXIoMjgpLGM9cig3OCksdT1yKDUwKSxkPXIoNzUpLGw9cigxOCkscD1yKDQ5KSxmPXIoMjEpLmYsbT1yKDE2NSkoMCksaD1yKDIyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdixfLGcpe3ZhciB5PW5bZV0sYj15LGs9Xz9cInNldFwiOlwiYWRkXCIsdz1iJiZiLnByb3RvdHlwZSxQPXt9O3JldHVybiBoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoZ3x8dy5mb3JFYWNoJiYhbygoZnVuY3Rpb24oKXsobmV3IGIpLmVudHJpZXMoKS5uZXh0KCl9KSkpPyhiPXQoKGZ1bmN0aW9uKHQscil7ZCh0LGIsZSxcIl9jXCIpLHQuX2M9bmV3IHksbnVsbCE9ciYmdShyLF8sdFtrXSx0KX0pKSxtKFwiYWRkLGNsZWFyLGRlbGV0ZSxmb3JFYWNoLGdldCxoYXMsc2V0LGtleXMsdmFsdWVzLGVudHJpZXMsdG9KU09OXCIuc3BsaXQoXCIsXCIpLChmdW5jdGlvbihlKXt2YXIgdD1cImFkZFwiPT1lfHxcInNldFwiPT1lO2UgaW4gdyYmKCFnfHxcImNsZWFyXCIhPWUpJiZzKGIucHJvdG90eXBlLGUsKGZ1bmN0aW9uKHIsbil7aWYoZCh0aGlzLGIsZSksIXQmJmcmJiFsKHIpKXJldHVyblwiZ2V0XCI9PWUmJnZvaWQgMDt2YXIgYT10aGlzLl9jW2VdKDA9PT1yPzA6cixuKTtyZXR1cm4gdD90aGlzOmF9KSl9KSksZ3x8ZihiLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Muc2l6ZX19KSk6KGI9di5nZXRDb25zdHJ1Y3Rvcih0LGUsXyxrKSxjKGIucHJvdG90eXBlLHIpLGkuTkVFRD0hMCkscChiLGUpLFBbZV09YixhKGEuRythLlcrYS5GLFApLGd8fHYuc2V0U3Ryb25nKGIsZSxfKSxifX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTkpLGE9cigxNjkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihuKHRoaXMpIT1lKXRocm93IFR5cGVFcnJvcihlK1wiI3RvSlNPTiBpc24ndCBnZW5lcmljXCIpO3JldHVybiBhKHRoaXMpfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDExKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDExKSxhPXIoNDUpLGk9cigyNyksbz1yKDUwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLG4scyxjPWFyZ3VtZW50c1sxXTtyZXR1cm4gYSh0aGlzKSwodD12b2lkIDAhPT1jKSYmYShjKSxudWxsPT1lP25ldyB0aGlzOihyPVtdLHQ/KG49MCxzPWkoYyxhcmd1bWVudHNbMl0sMiksbyhlLCExLChmdW5jdGlvbihlKXtyLnB1c2gocyhlLG4rKykpfSkpKTpvKGUsITEsci5wdXNoLHIpLG5ldyB0aGlzKHIpKX19KX19LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24obil7dC5sb2c9ZnVuY3Rpb24oLi4uZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZjb25zb2xlLmxvZyguLi5lKX0sdC5mb3JtYXRBcmdzPWZ1bmN0aW9uKHQpe2lmKHRbMF09KHRoaXMudXNlQ29sb3JzP1wiJWNcIjpcIlwiKSt0aGlzLm5hbWVzcGFjZSsodGhpcy51c2VDb2xvcnM/XCIgJWNcIjpcIiBcIikrdFswXSsodGhpcy51c2VDb2xvcnM/XCIlYyBcIjpcIiBcIikrXCIrXCIrZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZiksIXRoaXMudXNlQ29sb3JzKXJldHVybjtjb25zdCByPVwiY29sb3I6IFwiK3RoaXMuY29sb3I7dC5zcGxpY2UoMSwwLHIsXCJjb2xvcjogaW5oZXJpdFwiKTtsZXQgbj0wLGE9MDt0WzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZyxlPT57XCIlJVwiIT09ZSYmKG4rKyxcIiVjXCI9PT1lJiYoYT1uKSl9KSx0LnNwbGljZShhLDAscil9LHQuc2F2ZT1mdW5jdGlvbihlKXt0cnl7ZT90LnN0b3JhZ2Uuc2V0SXRlbShcImRlYnVnXCIsZSk6dC5zdG9yYWdlLnJlbW92ZUl0ZW0oXCJkZWJ1Z1wiKX1jYXRjaChlKXt9fSx0LmxvYWQ9ZnVuY3Rpb24oKXtsZXQgZTt0cnl7ZT10LnN0b3JhZ2UuZ2V0SXRlbShcImRlYnVnXCIpfWNhdGNoKGUpe30hZSYmdm9pZCAwIT09biYmXCJlbnZcImluIG4mJihlPW4uZW52LkRFQlVHKTtyZXR1cm4gZX0sdC51c2VDb2xvcnM9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucHJvY2VzcyYmKFwicmVuZGVyZXJcIj09PXdpbmRvdy5wcm9jZXNzLnR5cGV8fHdpbmRvdy5wcm9jZXNzLl9fbndqcykpcmV0dXJuITA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKXJldHVybiExO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLmZpcmVidWd8fHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiYmd2luZG93LmNvbnNvbGUudGFibGUpfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKX0sdC5zdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBsb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7fX0oKSx0LmNvbG9ycz1bXCIjMDAwMENDXCIsXCIjMDAwMEZGXCIsXCIjMDAzM0NDXCIsXCIjMDAzM0ZGXCIsXCIjMDA2NkNDXCIsXCIjMDA2NkZGXCIsXCIjMDA5OUNDXCIsXCIjMDA5OUZGXCIsXCIjMDBDQzAwXCIsXCIjMDBDQzMzXCIsXCIjMDBDQzY2XCIsXCIjMDBDQzk5XCIsXCIjMDBDQ0NDXCIsXCIjMDBDQ0ZGXCIsXCIjMzMwMENDXCIsXCIjMzMwMEZGXCIsXCIjMzMzM0NDXCIsXCIjMzMzM0ZGXCIsXCIjMzM2NkNDXCIsXCIjMzM2NkZGXCIsXCIjMzM5OUNDXCIsXCIjMzM5OUZGXCIsXCIjMzNDQzAwXCIsXCIjMzNDQzMzXCIsXCIjMzNDQzY2XCIsXCIjMzNDQzk5XCIsXCIjMzNDQ0NDXCIsXCIjMzNDQ0ZGXCIsXCIjNjYwMENDXCIsXCIjNjYwMEZGXCIsXCIjNjYzM0NDXCIsXCIjNjYzM0ZGXCIsXCIjNjZDQzAwXCIsXCIjNjZDQzMzXCIsXCIjOTkwMENDXCIsXCIjOTkwMEZGXCIsXCIjOTkzM0NDXCIsXCIjOTkzM0ZGXCIsXCIjOTlDQzAwXCIsXCIjOTlDQzMzXCIsXCIjQ0MwMDAwXCIsXCIjQ0MwMDMzXCIsXCIjQ0MwMDY2XCIsXCIjQ0MwMDk5XCIsXCIjQ0MwMENDXCIsXCIjQ0MwMEZGXCIsXCIjQ0MzMzAwXCIsXCIjQ0MzMzMzXCIsXCIjQ0MzMzY2XCIsXCIjQ0MzMzk5XCIsXCIjQ0MzM0NDXCIsXCIjQ0MzM0ZGXCIsXCIjQ0M2NjAwXCIsXCIjQ0M2NjMzXCIsXCIjQ0M5OTAwXCIsXCIjQ0M5OTMzXCIsXCIjQ0NDQzAwXCIsXCIjQ0NDQzMzXCIsXCIjRkYwMDAwXCIsXCIjRkYwMDMzXCIsXCIjRkYwMDY2XCIsXCIjRkYwMDk5XCIsXCIjRkYwMENDXCIsXCIjRkYwMEZGXCIsXCIjRkYzMzAwXCIsXCIjRkYzMzMzXCIsXCIjRkYzMzY2XCIsXCIjRkYzMzk5XCIsXCIjRkYzM0NDXCIsXCIjRkYzM0ZGXCIsXCIjRkY2NjAwXCIsXCIjRkY2NjMzXCIsXCIjRkY5OTAwXCIsXCIjRkY5OTMzXCIsXCIjRkZDQzAwXCIsXCIjRkZDQzMzXCJdLGUuZXhwb3J0cz1yKDE3MykodCk7Y29uc3R7Zm9ybWF0dGVyczphfT1lLmV4cG9ydHM7YS5qPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2goZSl7cmV0dXJuXCJbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogXCIrZS5tZXNzYWdlfX19KS5jYWxsKHRoaXMscigxNzIpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPW0ocigyNCkpLGE9bShyKDIpKSxpPW0ocigwKSksbz1tKHIoMSkpLHM9bShyKDMpKSxjPW0ocig0KSksdT1yKDI5KSxkPWYocig2MCkpLGw9bShyKDMwKSkscD1mKHIoNTEpKTtmdW5jdGlvbiBmKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBtKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgaD1uZXcgbC5kZWZhdWx0KFwiPElQTG9jYXRpb24+XCIpLHY9bnVsbCxfPXAuaXBsb2NhdGlvblBvcnQsZz1wLm1lZGlhU2VydmVyQWRkcmVzcyx5PSExLGI9cigxMDkpLGs9Yi5vcGVyYXRpb24oe3JldHJpZXM6NCxmYWN0b3I6MixtaW5UaW1lb3V0OjFlMyxtYXhUaW1lb3V0OjJlMyxyYW5kb21pemU6ITB9KSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyl7KDAsaS5kZWZhdWx0KSh0aGlzLHQpO3ZhciBjPSgwLHMuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLGEuZGVmYXVsdCkodCkpLmNhbGwodGhpcykpLHU9XCJcIjtyZXR1cm5cIlwiPT09KHU9dC5wcml2YXRlQ2xvdWQ/dj92LnRyaW0oKTpcIlwiOnAuaXBsb2NhdGlvbkFkZHJlc3MudHJpbSgpKT8obyhcIklOVkFMSUQgaXBsb2NhdGlvbiBhZGRyZXNzIC0gbmVlZCBzZXQgSXBsb2NhdGlvbkFkZHJlc3NcIiksKDAscy5kZWZhdWx0KShjKSk6KGMuYXBwSWQ9ZSxjLmNvbm5lY3RJZD1kLnV1aWQoKSxjLl91cmw9XCJ3c3M6Ly9cIit1K1wiOlwiK18rXCIvaXBsb2NhdGlvbi9cIixoLmRlYnVnKFwiY29uc3RydWN0b3I6IFwiK2MuX3VybCksYy5fd3Nqc29uPXtlVHlwZToxLHNTRVFJRDpcIjExMTExMTExMVwiLG1Qcm90b2NvbE1zZzp7c1ZlcnNpb246XCJUZXN0XzQuMi4wLjc3N1wiLGJMb2FkQmFsYW5jZTohMSxiUmVDb25uZWN0OiExLGJWaXBVc2VyOiExLHNJRGVudGlmeTpcIjdCNEZDREJDMDkxNEU3MTgyQjhFQzM1N0YwNzQ5OEYxXCIsc1NlY3JldDpcImMwNTJjZDA1NWFjZmFiYzVcIixzVmVyaWZ5Q29kZTpcImFiY2RcIixzQXBwSUQ6ZSxuVXNlcklEOityLHNDbGllbnRWZXI6XCJ3ZWJfMS4wXCIsc0Nvbm5lY3RJRDpjLmNvbm5lY3RJZCxtSXBBZGRyTXNnOntiRmVjOiExLHNJcDp1LG5Qb3J0OjB9fX0sYy5fd3M9bnVsbCxjLl9jbG9zZWQ9ITEsYy5fc3VjY2Vzc2NiPW4sYy5fZmFpbGNiPW8sYy5yZWNvbm5lY3RUaW1lcz0xLGMuZmlyc3RDb25uZWN0VGltZT1EYXRlLm5vdygpLGMuY29ubmVjdGVkVGltZT0wLGMuX2hhc1NvbHZlPSExLGMuX3NlbmRSZXRyeT17cmV0cnk6NSx0aW1lcjowfSxjLl9zZXRXZWJTb2NrZXQoKSxjKX1yZXR1cm4oMCxjLmRlZmF1bHQpKHQsZSksKDAsby5kZWZhdWx0KSh0LFt7a2V5OlwiZ2V0SXBMb2NhdGlvblZhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3ZjSG9zdH19LHtrZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2xvc2VkPSEwLG51bGwhPT10aGlzLl93cyYmKHRoaXMuX3dzLmNsb3NlKCksdGhpcy5fd3M9bnVsbCl9fSx7a2V5OlwiX3NldFdlYlNvY2tldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWIub3BlcmF0aW9uKGspLHI9ITE7dC5hdHRlbXB0KChmdW5jdGlvbihhKXtlLl9jbG9zZWQ/dC5zdG9wKCk6KGguZGVidWcoXCJfc2V0V2ViU29ja2V0KCkgY29ubmVjdGluZy4uLiBbY3VycmVudEF0dGVtcHQ6IFwiK2EpLGUuX3dzPW5ldyBXZWJTb2NrZXQoZS5fdXJsKSxlLl93cy5vbm9wZW49ZnVuY3Rpb24oKXtlLl9jbG9zZWR8fChyPSEwLGUuY29ubmVjdGVkVGltZT1EYXRlLm5vdygpLGUuX3dzLnNlbmQoKDAsbi5kZWZhdWx0KShlLl93c2pzb24pKSxlLl9zZW5kUmV0cnkudGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5faGFzU29sdmV8fCgwPT09ZS5fc2VuZFJldHJ5LnJldHJ5JiYoZS5fd3MuY2xvc2UoKSx0LnJldHJ5KCEwKSxjbGVhckludGVydmFsKGUuX3NlbmRSZXRyeS50aW1lcikpLGUuX3dzLnNlbmQoKDAsbi5kZWZhdWx0KShlLl93c2pzb24pKSwtLWUuX3NlbmRSZXRyeS5yZXRyeSl9KSw1MDApLGguZGVidWcoXCJXZWJTb2NrZXQgZXZlbnQgW29wZW5dXCIpKX0sZS5fd3Mub25jbG9zZT1mdW5jdGlvbihhKXtpZighZS5fY2xvc2VkKWlmKGgud2FybihcIldlYlNvY2tldCBldmVudCBbY2xvc2VdIC0tIFwiKygwLG4uZGVmYXVsdCkoYSkpLDRlMz09PWEuY29kZSllLl9jbG9zZWQ9ITA7ZWxzZXtpZihyKXtpZih0LnN0b3AoKSxlLl9jbG9zZWQpcmV0dXJuO3JldHVybiB2b2lkIGUuX3NldFdlYlNvY2tldCgpfWlmKGUuX2Nsb3NlZClyZXR1cm47dC5yZXRyeSghMCkmJisrZS5yZWNvbm5lY3RUaW1lc319LGUuX3dzLm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5fY2xvc2VkfHxoLmVycm9yKFwiV2ViU29ja2V0IGV2ZW50IFtlcnJvcl0gLSBlcnJvciBcIit0LnRvU3RyaW5nKCkrXCIgLSBub3RoaW5nIHRvZG8uXCIpfSxlLl93cy5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7aWYoIWUuX2Nsb3NlZCl7dmFyIHI9SlNPTi5wYXJzZSh0LmRhdGEpO2lmKDEhPT1yLmVSZXN1bHQpe3ZhciBuPXAudHR0RXJyTXNnLmdldChyLmVSZXN1bHQpO3JldHVybiBlLl9mYWlsY2IoXCJtc2cuZVJlc3VsdDogXCIrci5lUmVzdWx0K1wiIC0gXCIrbi5yZWFzb24pLHZvaWQgZS5jbG9zZSgpfXZhciBhPXIubVByb3RvY29sTXNnLm1JcEFkZHJNc2c7ZS5zdmNIb3N0PXtpcDphLnNJcCxkb21haW46YS5zRG9tYWluLHBvcnQ6YS5uUG9ydH0sXCJcIiE9PWcmJihlLnN2Y0hvc3Q9e2lwOmEuc0lwLGRvbWFpbjpnLHBvcnQ6YS5uUG9ydH0pLGUuX3NlbmRSZXRyeS50aW1lciYmKGNsZWFySW50ZXJ2YWwoZS5fc2VuZFJldHJ5LnRpbWVyKSxlLl9zZW5kUmV0cnkudGltZXI9MCksZS5faGFzU29sdmU9ITAsZS5fc3VjY2Vzc2NiKGUuc3ZjSG9zdCxyLm1Qcm90b2NvbE1zZy5tR1dJcEFkZHJNc2dMaXN0KSxlLmNsb3NlKCl9fSl9KSl9fSx7a2V5OlwicHJpdmF0ZUNsb3VkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHl9LHNldDpmdW5jdGlvbihlKXt5PUJvb2xlYW4oZSl9fV0sW3trZXk6XCJJcGxvY2F0aW9uQWRkcmVzc1wiLHNldDpmdW5jdGlvbihlKXtoLmRlYnVnKFwic2V0IElwbG9jYXRpb25BZGRyZXNzOiBcIitlKSx2PWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB2fX0se2tleTpcIklwbG9jYXRpb25Qb3J0XCIsc2V0OmZ1bmN0aW9uKGUpe2guZGVidWcoXCJzZXQgSXBsb2NhdGlvblBvcnQ6IFwiK2UpLC9eWzEtOV1bMC05XXsyLDR9JC8udGVzdChlKSYmKF89ZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiBffX0se2tleTpcIk1lZGlhU2VydmVyQWRkcmVzc1wiLHNldDpmdW5jdGlvbihlKXtnPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiBnfX1dKSx0fSh1LkV2ZW50RW1pdHRlcik7dC5kZWZhdWx0PXd9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigxNzUpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXkocig2KSksYT15KHIoMTAwKSksaT15KHIoMTAxKSksbz15KHIoMjQpKSxzPXkocigyKSksYz15KHIoMCkpLHU9eShyKDEpKSxkPXkocigzKSksbD15KHIoNCkpLHA9eShyKDgpKSxmPXkocigzMCkpLG09cigyOSksaD1nKHIoNTEpKSx2PWcocig2MCkpLF89ZyhyKDE3NykpO2Z1bmN0aW9uIGcoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBiPXIoODApLGs9cigxNzkpLHc9bmV3IGYuZGVmYXVsdChcIjxTdHJlYW0+XCIpLFA9bmV3IHAuZGVmYXVsdDtlLnNjcmVlbj1fO3ZhciBTPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciByPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcykpLG49XCJcIjtlLnVzZXJJZD8oZS51c2VySWQ9ZS51c2VySWQrXCJcIixuPWUudXNlcklkLnRyaW0oKSk6ZS51c2VySUQ/KGUudXNlcklEPWUudXNlcklEK1wiXCIsbj1lLnVzZXJJRC50cmltKCkpOm49XCJcIixlLnVzZXJJZD1uO3ZhciBhPVwiXCI7cmV0dXJuIGUuc3RyZWFtSWQ/KGUuc3RyZWFtSWQ9ZS5zdHJlYW1JZCtcIlwiLGE9ZS5zdHJlYW1JZC50cmltKCkpOmUuc3RyZWFtSUQ/KGUuc3RyZWFtSUQ9ZS5zdHJlYW1JRCtcIlwiLGE9ZS5zdHJlYW1JRC50cmltKCkpOmE9XCJcIixlLnN0cmVhbUlkPWEsci5fc3BlYz1lLHcuZGVidWcoXCJjb25zdHJ1Y3RvcigpIC0tIHNwZWM6IFwiKygwLG8uZGVmYXVsdCkoZSkpLHIuX3N0cmVhbU9iaj1udWxsLHIuX3N0cmVhbVR5cGU9XCJcIixyLl9zcGVjLnN0cmVhbVR5cGUmJihyLl9zdHJlYW1UeXBlPWUuc3RyZWFtVHlwZSksci5fdXVpZD12LnV1aWQoKSxyLl9pbm5lclN0cmVhbUlEPVwiXCIsci5fY3VzdG9tU3RyZWFtSUQ9YSxyLl91c2VySWQ9bixyLl92b2x1bWU9MCxyLl9pc0xvY2FsU3RyZWFtPSExLHIuX3dlYmNhbVByb2R1Y2VyPW51bGwsci5fbWljUHJvZHVjZXI9bnVsbCxyLl9hdWRpbz1udWxsLHIuX3ZpZGVvPW51bGwsci5faXNNaWNDbG9zZWQ9ITEsci5faXNWaWRlb1RyYWNrQ2xvc2VkPSExLHIuX21lZGlhU291cmNlQXVkaW89ITEsci5fbWVkaWFTb3VyY2VWaWRlbz0hMSxyLl9hdWRpb1NvdXJjZT1udWxsLHIuX3NwZWMuYXVkaW9Tb3VyY2UmJihyLl9hdWRpb1NvdXJjZT1yLl9zcGVjLmF1ZGlvU291cmNlLHIuX21lZGlhU291cmNlQXVkaW89ITAsci5fc3BlYy5hdWRpbz0hMSksci5fdmlkZW9Tb3VyY2U9bnVsbCxyLl9zcGVjLnZpZGVvU291cmNlJiYoci5fdmlkZW9Tb3VyY2U9ci5fc3BlYy52aWRlb1NvdXJjZSxyLl9tZWRpYVNvdXJjZVZpZGVvPSEwLHIuX3NwZWMudmlkZW89ITEsci5fc3BlYy5zY3JlZW49ITEpLHIuX2VuYWJsZU1pYz1yLl9zcGVjLmF1ZGlvLHIuX2VuYWJsZUNhbWVyYT1yLl9zcGVjLnZpZGVvLHIuX3NvdXJjZT1yLl9zcGVjLnNvdXJjZSxyLl9zdWJzY3JpYmVkPSExLHIuX2VuZGVkPSExLHIuX2Nsb3NlZD0hMSxyLl9pc1N1YlN0cmVhbT0hIXIuX3NwZWMuc3ViU3RyZWFtJiZyLl9zcGVjLnN1YlN0cmVhbSxyLl9rZXlSZXNvbHV0aW9uPVwiNDgwcFwiLHIuX2lzTW9iaWxlPS9tb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHIuX2lzU2FmYXJpPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksci5fcHVibGlzaGVkPSExLHIuX3B1Ymxpc2hTdGF0ZT1oLlBVQkxJU0hfU1RBVEUuSURMRSxyLl92aWRlb1R5cGU9LTEsdm9pZCAwIT09ci5fc3BlYy52aWRlb1R5cGUmJihyLl92aWRlb1R5cGU9ci5fc3BlYy52aWRlb1R5cGUpLHIuX25lZWRVcGRhdGVWaWRlb1N0cmVhbUJpdHJhdGU9ITEsci5fdXBkYXRlQ29uc3RyYWludHM9e30sci5fZ2Fpbk5vZGU9bnVsbCxyLl92aWRlb1NwZWM9bnVsbCxyLl9zcGVjaWFsQ2FtZXJhSWQ9XCJcIixyLl9zcGVjaWFsTWljSWQ9XCJcIixyLl9hdWRpb1Byb2ZpbGU9bnVsbCxyLl9hdWRpb0N0eD1udWxsLHJ9dmFyIHIscCxmLG0sXyxnO3JldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJpbml0XCIsdmFsdWU6KGc9KDAsaS5kZWZhdWx0KShhLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZShyLG4pe3ZhciBzLGMsdSxkLGwscCxmPXRoaXM7cmV0dXJuIGEuZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih3LmRlYnVnKFwiQVBJIGluaXQoKSAtLSB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiB0aGlzLl9zcGVjOiBcIisoMCxvLmRlZmF1bHQpKHRoaXMuX3NwZWMpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXtlLm5leHQ9NDticmVha310aHJvdyB3Lndhcm4oXCJBUEkgaW5pdCgpIGVycm9yIC0gb25TdWNjZXNzIGhhdmUgdG8gYmUgYSBmdW5jdGlvbi5cIiksVHlwZUVycm9yKFwib25TdWNjZXNzIGhhdmUgdG8gYmUgYSBmdW5jdGlvbi5cIik7Y2FzZSA0OmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe2UubmV4dD03O2JyZWFrfXRocm93IHcud2FybihcIkFQSSBpbml0KCkgZXJyb3IgLSBvbkZhaWx1cmUgaGF2ZSB0byBiZSBhIGZ1bmN0aW9uLlwiKSxUeXBlRXJyb3IoXCJvbkZhaWx1cmUgaGF2ZSB0byBiZSBhIGZ1bmN0aW9uLlwiKTtjYXNlIDc6aWYodGhpcy5fc3RyZWFtVHlwZT1cInByb2R1Y2VyXCIscz1udWxsLGM9Qm9vbGVhbih0aGlzLl9zcGVjLnZpZGVvKSx1PUJvb2xlYW4odGhpcy5fc3BlYy5zY3JlZW4pLCEoK2MrICt1PjEpKXtlLm5leHQ9MTY7YnJlYWt9cmV0dXJuIHcud2FybihcIkFQSSBpbml0KCkgZXJyb3IgLSB2aWRlby9zY3JlZW46IG9ubHkgb25lIGNhbiBiZSBzZXQgYXMgdHJ1ZVwiKSxuKFwidmlkZW8vc2NyZWVuOiBvbmx5IG9uZSBjYW4gYmUgc2V0IGFzIHRydWVcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAxNjppZigodGhpcy5fc3BlYy52aWRlb3x8dGhpcy5fc3BlYy5zY3JlZW4pJiYodGhpcy5fZW5hYmxlVmlkZW9UcmFjaz0hMCksdGhpcy5fdmlkZW9UeXBlPS0xLHRoaXMuX3NwZWMudmlkZW8/dGhpcy5fdmlkZW9UeXBlPTA6dGhpcy5fc3BlYy5zY3JlZW4/dGhpcy5fdmlkZW9UeXBlPTE6dGhpcy5fbWVkaWFTb3VyY2VWaWRlbyYmKHRoaXMuX3ZpZGVvVHlwZT0yKSx0aGlzLl92aWRlb1NwZWM9e3dpZHRoOnttaW46aC52aWRlb1NwZWMud2lkdGgubWluLGlkZWFsOmgudmlkZW9TcGVjLndpZHRoLmlkZWFsLG1heDpoLnZpZGVvU3BlYy53aWR0aC5tYXh9LGhlaWdodDp7bWluOmgudmlkZW9TcGVjLmhlaWdodC5taW4saWRlYWw6aC52aWRlb1NwZWMuaGVpZ2h0LmlkZWFsLG1heDpoLnZpZGVvU3BlYy5oZWlnaHQubWF4fSxmcmFtZVJhdGU6e21pbjpoLnZpZGVvU3BlYy5mcmFtZVJhdGUubWluLGlkZWFsOmgudmlkZW9TcGVjLmZyYW1lUmF0ZS5pZGVhbCxtYXg6aC52aWRlb1NwZWMuZnJhbWVSYXRlLm1heH19LHRoaXMuX2lzTW9iaWxlJiYodGhpcy5fdmlkZW9TcGVjLmZhY2luZ01vZGU9dGhpcy5fc3BlYy51c2VCYWNrQ2FtP3tleGFjdDpcImVudmlyb25tZW50XCJ9OlwidXNlclwiKSx0aGlzLl9zcGVjLmF0dHJpYnV0ZXMmJih0aGlzLl9zcGVjLmF0dHJpYnV0ZXMucmVzb2x1dGlvbiYmKFwiSEQ3MjBQXCI9PT10aGlzLl9zcGVjLmF0dHJpYnV0ZXMucmVzb2x1dGlvbi50b1VwcGVyQ2FzZSgpJiYodGhpcy5fdmlkZW9TcGVjLndpZHRoLmlkZWFsPWgudmlkZW9BdHRyaWJ1dGVzLmhkNzIwcFswXSx0aGlzLl92aWRlb1NwZWMuaGVpZ2h0LmlkZWFsPWgudmlkZW9BdHRyaWJ1dGVzLmhkNzIwcFsxXSksXCJWR0FcIj09PXRoaXMuX3NwZWMuYXR0cmlidXRlcy5yZXNvbHV0aW9uLnRvVXBwZXJDYXNlKCkmJih0aGlzLl92aWRlb1NwZWMud2lkdGguaWRlYWw9aC52aWRlb0F0dHJpYnV0ZXMudmdhWzBdLHRoaXMuX3ZpZGVvU3BlYy5oZWlnaHQuaWRlYWw9aC52aWRlb0F0dHJpYnV0ZXMudmdhWzFdKSxcIlNJRlwiPT09dGhpcy5fc3BlYy5hdHRyaWJ1dGVzLnJlc29sdXRpb24udG9VcHBlckNhc2UoKSYmKHRoaXMuX3ZpZGVvU3BlYy53aWR0aC5pZGVhbD1oLnZpZGVvQXR0cmlidXRlcy5zaWZbMF0sdGhpcy5fdmlkZW9TcGVjLmhlaWdodC5pZGVhbD1oLnZpZGVvQXR0cmlidXRlcy5zaWZbMV0pLHZvaWQgMCE9PXRoaXMuX3NwZWMuYXR0cmlidXRlcy53aWR0aCYmdm9pZCAwIT09dGhpcy5fc3BlYy5hdHRyaWJ1dGVzLmhlaWdodCYmKHRoaXMuX3ZpZGVvU3BlYy53aWR0aC5pZGVhbD10aGlzLl9zcGVjLmF0dHJpYnV0ZXMud2lkdGgsdGhpcy5fdmlkZW9TcGVjLmhlaWdodC5pZGVhbD10aGlzLl9zcGVjLmF0dHJpYnV0ZXMuaGVpZ2h0KSksdGhpcy5fc3BlYy5hdHRyaWJ1dGVzLm1pbkZyYW1lUmF0ZSYmdGhpcy5fc3BlYy5hdHRyaWJ1dGVzLm1heEZyYW1lUmF0ZSYmKHRoaXMuX3ZpZGVvU3BlYy5mcmFtZVJhdGUubWluPXRoaXMuX3NwZWMuYXR0cmlidXRlcy5taW5GcmFtZVJhdGUsdGhpcy5fdmlkZW9TcGVjLmZyYW1lUmF0ZS5tYXg9dGhpcy5fc3BlYy5hdHRyaWJ1dGVzLm1heEZyYW1lUmF0ZSx2b2lkIDAhPT10aGlzLl9zcGVjLmF0dHJpYnV0ZXMuaWRlYWxGcmFtZVJhdGU/dGhpcy5fdmlkZW9TcGVjLmZyYW1lUmF0ZS5pZGVhbD10aGlzLl9zcGVjLmF0dHJpYnV0ZXMuaWRlYWxGcmFtZVJhdGU6dGhpcy5fdmlkZW9TcGVjLmZyYW1lUmF0ZS5pZGVhbD1NYXRoLmZsb29yKCh0aGlzLl9zcGVjLmF0dHJpYnV0ZXMubWF4RnJhbWVSYXRlLXRoaXMuX3NwZWMuYXR0cmlidXRlcy5taW5GcmFtZVJhdGUpLzIrdGhpcy5fc3BlYy5hdHRyaWJ1dGVzLm1pbkZyYW1lUmF0ZSkpLHRoaXMuX3NwZWMuYXR0cmlidXRlcy52aWRlb1Byb2ZpbGUmJihkPXRoaXMuX2dldFJlc29sdXRpb25CeVZpZGVvUHJvZmlsZSh0aGlzLl9zcGVjLmF0dHJpYnV0ZXMudmlkZW9Qcm9maWxlKSx0aGlzLl92aWRlb1NwZWMud2lkdGguaWRlYWw9ZC53aWR0aCx0aGlzLl92aWRlb1NwZWMuaGVpZ2h0LmlkZWFsPWQuaGVpZ2h0KSksIXRoaXMuX3NwZWMudmlkZW98fCF0aGlzLl9zcGVjLmF1ZGlvKXtlLm5leHQ9Mjg7YnJlYWt9cz17dmlkZW86dGhpcy5fdmlkZW9TcGVjfSx0aGlzLl9zcGVjLm1pY3JvcGhvbmVJZCYmXCJcIiE9PXRoaXMuX3NwZWMubWljcm9waG9uZUlkLnRyaW0oKT8ocy5hdWRpbz17ZGV2aWNlSWQ6e2V4YWN0OnRoaXMuX3NwZWMubWljcm9waG9uZUlkLnRyaW0oKX0sc2FtcGxlUmF0ZTpoLmF1ZGlvU3BlYy5zYW1wbGVSYXRlLGNoYW5uZWxDb3VudDpoLmF1ZGlvU3BlYy5jaGFubmVsQ291bnR9LHRoaXMuX3NwZWNpYWxNaWNJZD10aGlzLl9zcGVjLm1pY3JvcGhvbmVJZC50cmltKCkpOnMuYXVkaW89ITAsdGhpcy5fc3BlYy5jYW1lcmFJZCYmXCJcIiE9PXRoaXMuX3NwZWMuY2FtZXJhSWQudHJpbSgpJiYocy52aWRlby5kZXZpY2VJZD17ZXhhY3Q6dGhpcy5fc3BlYy5jYW1lcmFJZC50cmltKCl9LHRoaXMuX3NwZWNpYWxDYW1lcmFJZD10aGlzLl9zcGVjLmNhbWVyYUlkLnRyaW0oKSksZS5uZXh0PTQ4O2JyZWFrO2Nhc2UgMjg6aWYoIXRoaXMuX3NwZWMuYXVkaW98fHRoaXMuX3NwZWMuc2NyZWVufHx0aGlzLl9zcGVjLnZpZGVvKXtlLm5leHQ9MzM7YnJlYWt9cz17dmlkZW86ITF9LHRoaXMuX3NwZWMubWljcm9waG9uZUlkJiZcIlwiIT09dGhpcy5fc3BlYy5taWNyb3Bob25lSWQudHJpbSgpPyhzLmF1ZGlvPXtkZXZpY2VJZDp7ZXhhY3Q6dGhpcy5fc3BlYy5taWNyb3Bob25lSWQudHJpbSgpfSxzYW1wbGVSYXRlOmguYXVkaW9TcGVjLnNhbXBsZVJhdGUsY2hhbm5lbENvdW50OmguYXVkaW9TcGVjLmNoYW5uZWxDb3VudH0sdGhpcy5fc3BlY2lhbE1pY0lkPXRoaXMuX3NwZWMubWljcm9waG9uZUlkLnRyaW0oKSk6cy5hdWRpbz0hMCxlLm5leHQ9NDg7YnJlYWs7Y2FzZSAzMzppZighdGhpcy5fc3BlYy52aWRlb3x8dGhpcy5fc3BlYy5hdWRpb3x8dGhpcy5fc3BlYy5zY3JlZW4pe2UubmV4dD0zODticmVha31zPXthdWRpbzohMSx2aWRlbzp0aGlzLl92aWRlb1NwZWN9LHRoaXMuX3NwZWMuY2FtZXJhSWQmJlwiXCIhPT10aGlzLl9zcGVjLmNhbWVyYUlkLnRyaW0oKSYmKHMudmlkZW8uZGV2aWNlSWQ9e2V4YWN0OnRoaXMuX3NwZWMuY2FtZXJhSWQudHJpbSgpfSx0aGlzLl9zcGVjaWFsQ2FtZXJhSWQ9dGhpcy5fc3BlYy5jYW1lcmFJZC50cmltKCkpLGUubmV4dD00ODticmVhaztjYXNlIDM4OmlmKCF0aGlzLl9zcGVjLnNjcmVlbil7ZS5uZXh0PTQ4O2JyZWFrfWlmKGw9ITAsXCJjaHJvbWVcIj09PWIubmFtZS50b0xvd2VyQ2FzZSgpJiZwYXJzZUludChiLnZlcnNpb24sMTApPDcyJiYobD0hMSksIWwpe2UubmV4dD00NjticmVha31yZXR1cm4gZS5uZXh0PTQ0LHRoaXMuX3N0YXJ0U2NyZWVuQ2FwdHVyZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKGkpe3ZhciBzO3JldHVybiBhLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoZi5faXNMb2NhbFN0cmVhbT0hMCxmLnN0cmVhbU9iaj1pLGYuX3NjcmVlblN0cmVhbUVuZGVkKGkpLGYuX2lubmVyU3RyZWFtSUQ9dC5fZ2V0SW5uZXJTdHJlYW1JRChmLnVzZXJJRCxmLnVzZXJJRCwwLGYsZi5faXNTdWJTdHJlYW0pLCFmLl9zcGVjLmF1ZGlvKXtlLm5leHQ9MTc7YnJlYWt9cmV0dXJuIGUucHJldj01LGUubmV4dD04LGYuX2NyZWF0ZUF1ZGlvVHJhY2soZi5fc3BlYy5taWNyb3Bob25lSWQpO2Nhc2UgODpzPWUuc2VudCxmLmF1ZGlvVHJhY2tzPXMsZS5uZXh0PTE3O2JyZWFrO2Nhc2UgMTI6cmV0dXJuIGUucHJldj0xMixlLnQwPWUuY2F0Y2goNSksdy53YXJuKFwiQVBJIGluaXQoKSBfc3RhcnRTY3JlZW5DYXB0dXJlKCkgZXJyb3IgLSBfY3JlYXRlQXVkaW9UcmFjayBmYWlsLiBlcnJvcjogXCIrKDAsby5kZWZhdWx0KShlLnQwKSksbihlLnQwKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE3OncuZGVidWcoXCJBUEkgaW5pdCgpIF9zdGFydFNjcmVlbkNhcHR1cmUoKSBzdWNjZXNzIC0gdGhpcy51c2VySUQ6IFwiK2YudXNlcklEK1wiIHRoaXMuX2lubmVyU3RyZWFtSUQ6IFwiK2YuX2lubmVyU3RyZWFtSUQpLHIoKTtjYXNlIDE5OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLGYsW1s1LDEyXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB3Lndhcm4oXCJBUEkgaW5pdCgpIF9zdGFydFNjcmVlbkNhcHR1cmUoKSBlcnJvciAtIFwiK2UubmFtZStcIiBcIitlLm1lc3NhZ2UpLG4oZS5uYW1lK1wiIFwiK2UubWVzc2FnZSl9KSk7Y2FzZSA0NDplLm5leHQ9NDc7YnJlYWs7Y2FzZSA0Njp3aW5kb3cuZ2V0U2NyZWVuSWQ/d2luZG93LmdldFNjcmVlbklkKChmdW5jdGlvbihlLHMsYyl7aWYody5kZWJ1ZyhcIkFQSSBpbml0KCkgZ2V0U2NyZWVuSWQoKSAtIHNvdXJjZUlkOiBcIitzK1wiIHNjcmVlbl9jb25zdHJhaW50czogXCIrKDAsby5kZWZhdWx0KShjKSksXCJmaXJlZm94XCIhPT1zKXtpZihjPXt2aWRlbzp7bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcInNjcmVlblwiLG1heFdpZHRoOjE5MjAsbWF4SGVpZ2h0OjEwODAsbWluQXNwZWN0UmF0aW86MS43N319fSxcInBlcm1pc3Npb24tZGVuaWVkXCI9PT1lKXJldHVybiB3LmRlYnVnKFwiQVBJIGluaXQoKSBnZXRTY3JlZW5JZCgpIC0gUGVybWlzc2lvbiBpcyBkZW5pZWRcIiksbihcImdldFNjcmVlbklkKCkgLSBQZXJtaXNzaW9uIGlzIGRlbmllZFwiKTtpZihcIm5vdC1jaHJvbWVcIj09PWUpcmV0dXJuIHcuZGVidWcoXCJBUEkgaW5pdCgpIGdldFNjcmVlbklkKCkgLSBQbGVhc2UgdXNlIGNocm9tZVwiKSxuKFwiZ2V0U2NyZWVuSWQoKSAtIFBsZWFzZSB1c2UgY2hyb21lXCIpOyFlJiZzJiYoYy52aWRlby5tYW5kYXRvcnkuY2hyb21lTWVkaWFTb3VyY2U9XCJkZXNrdG9wXCIsYy52aWRlby5tYW5kYXRvcnkuY2hyb21lTWVkaWFTb3VyY2VJZD1zKX12YXIgdTtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEsbmF2aWdhdG9yLmdldFVzZXJNZWRpYShjLCh1PSgwLGkuZGVmYXVsdCkoYS5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUoaSl7dmFyIHM7cmV0dXJuIGEuZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihmLl9pc0xvY2FsU3RyZWFtPSEwLGYuc3RyZWFtT2JqPWksZi5fc2NyZWVuU3RyZWFtRW5kZWQoaSksZi5faW5uZXJTdHJlYW1JRD10Ll9nZXRJbm5lclN0cmVhbUlEKGYudXNlcklELGYudXNlcklELDAsZixmLl9pc1N1YlN0cmVhbSksIWYuX3NwZWMuYXVkaW8pe2UubmV4dD0xNzticmVha31yZXR1cm4gZS5wcmV2PTUsZS5uZXh0PTgsZi5fY3JlYXRlQXVkaW9UcmFjayhmLl9zcGVjLm1pY3JvcGhvbmVJZCk7Y2FzZSA4OnM9ZS5zZW50LGYuYXVkaW9UcmFja3M9cyxlLm5leHQ9MTc7YnJlYWs7Y2FzZSAxMjpyZXR1cm4gZS5wcmV2PTEyLGUudDA9ZS5jYXRjaCg1KSx3Lndhcm4oXCJBUEkgaW5pdCgpIGdldFNjcmVlbklkKCkgZXJyb3IgLSBzdHJlYW0gb2Ygc2NyZWVuIGluaXQgZmFpbGVkIGZvciBvYnRhaW4gYXVkaW8gdHJhY2suIGVycm9yOiBcIitlLnQwLnRvU3RyaW5nKCkpLG4oZS50MCksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAxNzp3LmRlYnVnKFwiQVBJIGluaXQoKSBnZXRTY3JlZW5JZCgpIHN1Y2Nlc3MgLSB0aGlzLnVzZXJJRDogXCIrZi51c2VySUQrXCIgdGhpcy5faW5uZXJTdHJlYW1JRDogXCIrZi5faW5uZXJTdHJlYW1JRCtcIiBzY3JlZW5fY29uc3RyYWludHM6IFwiKygwLG8uZGVmYXVsdCkoYykpLHIoKTtjYXNlIDE5OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLGYsW1s1LDEyXV0pfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSwoZnVuY3Rpb24oZSl7dy53YXJuKFwiQVBJIGluaXQoKSBnZXRTY3JlZW5JZCgpIGZhaWwgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlK1wiIC0tIGNvbnN0cmFpbnRzOiBcIisoMCxvLmRlZmF1bHQpKGMpKSxuKFwiZ2V0U2NyZWVuSWQoKSBmYWlsIC0gXCIrZS5uYW1lK1wiIFwiK2UubWVzc2FnZSl9KSl9KSx0aGlzLl9zcGVjLmF1ZGlvKTp3Lndhcm4oXCJBUEkgaW5pdCgpIGdldFNjcmVlbklkIGlzIHVuZGVmaW5lZFwiKTtjYXNlIDQ3OnJldHVybiBlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDQ4OmlmKCF0aGlzLl9zcGVjLnZpZGVvJiYhdGhpcy5fc3BlYy5hdWRpbyl7ZS5uZXh0PTU0O2JyZWFrfXJldHVybiB3LmRlYnVnKFwiQVBJIGluaXQoKSB0aGlzLnVzZXJJRDogXCIrdGhpcy51c2VySUQrXCIgdGhpcy5faW5uZXJTdHJlYW1JRDogXCIrdGhpcy5faW5uZXJTdHJlYW1JRCtcIiB0aGlzLl92aWRlb1R5cGU6IFwiK3RoaXMuX3ZpZGVvVHlwZStcIiBjb25zdHJhaW50czogXCIrKDAsby5kZWZhdWx0KShzKSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocykudGhlbigoZnVuY3Rpb24oZSl7aWYoZi5faXNMb2NhbFN0cmVhbT0hMCxmLl9pc1NhZmFyaSlmLnN0cmVhbU9iaj1lO2Vsc2V7dmFyIG49ZS5nZXRWaWRlb1RyYWNrcygpO2lmKGUuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg+MCl7aWYoIWYuX2F1ZGlvQ3R4KXt2YXIgYT13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O2YuX2F1ZGlvQ3R4PW5ldyBhfWlmKGYuX2F1ZGlvQ3R4JiYhZi5fZ2Fpbk5vZGUmJihmLl9nYWluTm9kZT1mLl9hdWRpb0N0eC5jcmVhdGVHYWluKCksZi5fZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT0xKSxmLl9hdWRpb0N0eCYmZi5fZ2Fpbk5vZGUpe3ZhciBpPWYuX2F1ZGlvQ3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpO2YudGFyZ2V0PWYuX2F1ZGlvQ3R4LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSxpLmNvbm5lY3QoZi5fZ2Fpbk5vZGUpLGYuX2dhaW5Ob2RlLmNvbm5lY3QoZi50YXJnZXQpLG4ubGVuZ3RoPjAmJmYudGFyZ2V0LnN0cmVhbS5hZGRUcmFjayhuWzBdKSxmLnN0cmVhbU9iaj1mLnRhcmdldC5zdHJlYW19ZWxzZSBmLnN0cmVhbU9iaj1lfWVsc2UgZi5zdHJlYW1PYmo9ZX1mLl9zdHJlYW1FbmRlZChmLnN0cmVhbU9iaiksZi5faW5uZXJTdHJlYW1JRD10Ll9nZXRJbm5lclN0cmVhbUlEKGYudXNlcklELGYudXNlcklELDAsZixmLl9pc1N1YlN0cmVhbSksdy5kZWJ1ZyhcIkFQSSBpbml0KCkgZ2V0VXNlck1lZGlhKCkgc3VjY2VzcyAtIHRoaXMudXNlcklEOiBcIitmLnVzZXJJRCtcIiB0aGlzLl9pbm5lclN0cmVhbUlEOiBcIitmLl9pbm5lclN0cmVhbUlEK1wiIGNvbnN0cmFpbnRzOiBcIisoMCxvLmRlZmF1bHQpKHMpKSxyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3cud2FybihcIkFQSSBpbml0KCkgZ2V0VXNlck1lZGlhIGZhaWwgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlK1wiIC0tIGNvbnN0cmFpbnRzOiBcIisoMCxvLmRlZmF1bHQpKHMpKSxuKFwiZ2V0VXNlck1lZGlhIGZhaWwgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlKX0pKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDU0OmlmKCF0aGlzLl9tZWRpYVNvdXJjZUF1ZGlvJiYhdGhpcy5fbWVkaWFTb3VyY2VWaWRlbyl7ZS5uZXh0PTU4O2JyZWFrfXJldHVybiBwPXthdWRpbzohMCx2aWRlbzohMX0sbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocCkudGhlbigoZnVuY3Rpb24oZSl7Zi5faXNMb2NhbFN0cmVhbT0hMCxmLl9zdHJlYW1FbmRlZChlKTt2YXIgbj1lLmdldEF1ZGlvVHJhY2tzKCksYT1udWxsO24ubGVuZ3RoPjAmJihhPW5bMF0sZS5yZW1vdmVUcmFjayhhKSksZi5fYXVkaW9Tb3VyY2UmJmUuYWRkVHJhY2soZi5fYXVkaW9Tb3VyY2UpLGYuX3ZpZGVvU291cmNlJiZlLmFkZFRyYWNrKGYuX3ZpZGVvU291cmNlKSxmLnN0cmVhbU9iaj1lLGYuX2lubmVyU3RyZWFtSUQ9dC5fZ2V0SW5uZXJTdHJlYW1JRChmLnVzZXJJRCxmLnVzZXJJRCwwLGYsZi5faXNTdWJTdHJlYW0pLHcuZGVidWcoXCJBUEkgaW5pdCgpIGdldFVzZXJNZWRpYSgpIGZvciBbbWVkaWFzb3VyY2VdIHN1Y2Nlc3MgLSB0aGlzLnVzZXJJRDogXCIrZi51c2VySUQrXCIgdGhpcy5faW5uZXJTdHJlYW1JRDogXCIrZi5faW5uZXJTdHJlYW1JRCtcIiBjb25zdHJhaW50czogXCIrKDAsby5kZWZhdWx0KShwKSkscigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt3Lndhcm4oXCJBUEkgaW5pdCgpIGdldFVzZXJNZWRpYSgpIGZvciBbbWVkaWFzb3VyY2VdIGZhaWwgLSBnZXRVc2VyTWVkaWEgZmFpbCAtIFwiK2UubmFtZStcIiBcIitlLm1lc3NhZ2UrXCIgLS0gY29uc3RyYWludHM6IFwiKygwLG8uZGVmYXVsdCkocCkpLG4oXCJnZXRVc2VyTWVkaWEgZm9yIFttZWRpYXNvdXJjZV0gZmFpbCAtIFwiK2UubmFtZStcIiBcIitlLm1lc3NhZ2UpfSkpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNTg6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfY3JlYXRlQXVkaW9UcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMuX2lzTG9jYWxTdHJlYW0pcmV0dXJuIG4uZGVmYXVsdC5yZWplY3QoXCJfY3JlYXRlQXVkaW9UcmFjayAtIG5vbi1sb2NhbFN0cmVhbVwiKTt3LmRlYnVnKFwiX2NyZWF0ZUF1ZGlvVHJhY2soKSAtIG1pY3JvcGhvbmVJZDogXCIrZStcIiB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiBzdHJlYW1JZDogXCIrdGhpcy5nZXRJZCgpKTt2YXIgcj17dmlkZW86ITF9O3JldHVybiBlJiZcIlwiIT09ZS50cmltKCk/KHRoaXMuX3NwZWMubWljcm9waG9uZUlkPWUudHJpbSgpLHIuYXVkaW89e2RldmljZUlkOntleGFjdDp0aGlzLl9zcGVjLm1pY3JvcGhvbmVJZH0sc2FtcGxlUmF0ZTpoLmF1ZGlvU3BlYy5zYW1wbGVSYXRlLGNoYW5uZWxDb3VudDpoLmF1ZGlvU3BlYy5jaGFubmVsQ291bnR9LHRoaXMuX3NwZWNpYWxNaWNJZD10aGlzLl9zcGVjLm1pY3JvcGhvbmVJZCk6ci5hdWRpbz0hMCxuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEsbmV3IG4uZGVmYXVsdCgoZnVuY3Rpb24oZSxuKXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShyKS50aGVuKChmdW5jdGlvbihyKXtpZih0Ll9pc1NhZmFyaSl7dmFyIG49ci5nZXRBdWRpb1RyYWNrcygpWzBdO2Uobil9ZWxzZXtpZighdC5fYXVkaW9DdHgpe3ZhciBhPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7dC5fYXVkaW9DdHg9bmV3IGF9aWYodC5fYXVkaW9DdHgmJiF0Ll9nYWluTm9kZSYmKHQuX2dhaW5Ob2RlPXQuX2F1ZGlvQ3R4LmNyZWF0ZUdhaW4oKSx0Ll9nYWluTm9kZS5nYWluLnZhbHVlPTEpLHQuX2F1ZGlvQ3R4JiZ0Ll9nYWluTm9kZSl7dmFyIGk9dC5fYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uocik7dC50YXJnZXQ9dC5fYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLGkuY29ubmVjdCh0Ll9nYWluTm9kZSksdC5fZ2Fpbk5vZGUuY29ubmVjdCh0LnRhcmdldCk7dmFyIG89dC50YXJnZXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07ZShvKX1lbHNle3ZhciBzPXIuZ2V0QXVkaW9UcmFja3MoKVswXTtlKHMpfX19KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3cud2FybihcIl9jcmVhdGVBdWRpb1RyYWNrKCkgZ2V0VXNlck1lZGlhIGZhaWwgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlK1wiIC0tIGNvbnN0cmFpbnRzOiBcIisoMCxvLmRlZmF1bHQpKHIpKSxuKFwiZ2V0VXNlck1lZGlhIGZhaWwgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlKX0pKX0pKX19LHtrZXk6XCJfY3JlYXRlQ2FtZXJhVmlkZW9UcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMuX2lzTG9jYWxTdHJlYW0pcmV0dXJuIG4uZGVmYXVsdC5yZWplY3QoXCJub24tbG9jYWxTdHJlYW1cIik7dy5kZWJ1ZyhcIl9jcmVhdGVDYW1lcmFWaWRlb1RyYWNrKCkgLSBjYW1lcmFJZDogXCIrZStcIiB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiB0aGlzLl9pbm5lclN0cmVhbUlEOiBcIit0aGlzLl9pbm5lclN0cmVhbUlEKTt2YXIgcj17YXVkaW86ITEsdmlkZW86dGhpcy5fdmlkZW9TcGVjfTtyZXR1cm4gZSYmXCJcIiE9PWUudHJpbSgpJiYodGhpcy5fc3BlYy5jYW1lcmFJZD1lLnRyaW0oKSxyLnZpZGVvLmRldmljZUlkPXtleGFjdDp0aGlzLl9zcGVjLmNhbWVyYUlkfSx0aGlzLl9zcGVjaWFsQ2FtZXJhSWQ9dGhpcy5fc3BlYy5jYW1lcmFJZCksbmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLG5ldyBuLmRlZmF1bHQoKGZ1bmN0aW9uKGUsbil7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocikudGhlbigoZnVuY3Rpb24ocil7dmFyIGE9ci5nZXRWaWRlb1RyYWNrcygpO2lmKGEmJmEubGVuZ3RoPjApe3ZhciBpPWFbMF07aT8odC5fc3RyZWFtRW5kZWQociksZShpKSk6bihcIm5vIHZpZGVvIHRyYWNrXCIpfWVsc2UgbihcIm5vIHZpZGVvIHRyYWNrXCIpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt3Lndhcm4oXCJfY3JlYXRlQ2FtZXJhVmlkZW9UcmFjaygpIGdldFVzZXJNZWRpYSBmYWlsIC0gXCIrZS5uYW1lK1wiIFwiK2UubWVzc2FnZStcIiAtLSBjb25zdHJhaW50czogXCIrKDAsby5kZWZhdWx0KShyKSksbihcImdldFVzZXJNZWRpYSBmYWlsIC0gXCIrZS5uYW1lK1wiIFwiK2UubWVzc2FnZSl9KSl9KSl9fSx7a2V5OlwiX2NyZWF0ZVNjcmVlblZpZGVvVHJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPSEwO3JldHVyblwiY2hyb21lXCI9PT1iLm5hbWUudG9Mb3dlckNhc2UoKSYmcGFyc2VJbnQoYi52ZXJzaW9uLDEwKTw3MiYmKHI9ITEpLHI/dGhpcy5fc3RhcnRTY3JlZW5DYXB0dXJlKCkudGhlbigoZT0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHIpe3ZhciBpLG87cmV0dXJuIGEuZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighKChpPXIuZ2V0VmlkZW9UcmFja3MoKSkmJmkubGVuZ3RoPjApKXtlLm5leHQ9MTE7YnJlYWt9aWYoIShvPWlbMF0pKXtlLm5leHQ9ODticmVha31yZXR1cm4gdC5fc2NyZWVuU3RyZWFtRW5kZWQociksZS5hYnJ1cHQoXCJyZXR1cm5cIixuLmRlZmF1bHQucmVzb2x2ZShvKSk7Y2FzZSA4OnJldHVybiBlLmFicnVwdChcInJldHVyblwiLG4uZGVmYXVsdC5yZWplY3QoXCJubyB2aWRlbyB0cmFja1wiKSk7Y2FzZSA5OmUubmV4dD0xMjticmVhaztjYXNlIDExOnJldHVybiBlLmFicnVwdChcInJldHVyblwiLG4uZGVmYXVsdC5yZWplY3QoXCJubyB2aWRlbyB0cmFja1wiKSk7Y2FzZSAxMjpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0KX0pKSksZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5kZWZhdWx0LnJlamVjdChcIl9jcmVhdGVTY3JlZW5WaWRlb1RyYWNrKCkgZXJyb3IgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlKX0pKTpuZXcgbi5kZWZhdWx0KChmdW5jdGlvbihlLHIpe2lmKCF3aW5kb3cuZ2V0U2NyZWVuSWQpcmV0dXJuIHIoXCJfY3JlYXRlU2NyZWVuVmlkZW9UcmFjaygpIGdldFNjcmVlbklkIGlzIHVuZGVmaW5lZFwiKTt3aW5kb3cuZ2V0U2NyZWVuSWQoKGZ1bmN0aW9uKG4scyxjKXtpZih3LmRlYnVnKFwiX2NyZWF0ZVNjcmVlblZpZGVvVHJhY2soKSAtIHNvdXJjZUlkOiBcIitzK1wiIHNjcmVlbl9jb25zdHJhaW50czogXCIrKDAsby5kZWZhdWx0KShjKSksXCJmaXJlZm94XCIhPT1zKXtpZihjPXt2aWRlbzp7bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcInNjcmVlblwiLG1heFdpZHRoOjE5MjAsbWF4SGVpZ2h0OjEwODAsbWluQXNwZWN0UmF0aW86MS43N319fSxcInBlcm1pc3Npb24tZGVuaWVkXCI9PT1uKXJldHVybiByKFwiX2NyZWF0ZVNjcmVlblZpZGVvVHJhY2soKSAtIFBlcm1pc3Npb24gaXMgZGVuaWVkXCIpO2lmKFwibm90LWNocm9tZVwiPT09bilyZXR1cm4gcihcIl9jcmVhdGVTY3JlZW5WaWRlb1RyYWNrKCkgLSBQbGVhc2UgdXNlIGNocm9tZVwiKTshbiYmcyYmKGMudmlkZW8ubWFuZGF0b3J5LmNocm9tZU1lZGlhU291cmNlPVwiZGVza3RvcFwiLGMudmlkZW8ubWFuZGF0b3J5LmNocm9tZU1lZGlhU291cmNlSWQ9cyl9dmFyIHU7bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLG5hdmlnYXRvci5nZXRVc2VyTWVkaWEoYywodT0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBuKGkpe3ZhciBvLHM7cmV0dXJuIGEuZGVmYXVsdC53cmFwKChmdW5jdGlvbihuKXtmb3IoOzspc3dpdGNoKG4ucHJldj1uLm5leHQpe2Nhc2UgMDppZighKChvPWkuZ2V0VmlkZW9UcmFja3MoKSkmJm8ubGVuZ3RoPjApKXtuLm5leHQ9MTE7YnJlYWt9aWYoIShzPW9bMF0pKXtuLm5leHQ9ODticmVha31yZXR1cm4gdC5fc2NyZWVuU3RyZWFtRW5kZWQoaSksbi5hYnJ1cHQoXCJyZXR1cm5cIixlKHMpKTtjYXNlIDg6cmV0dXJuIG4uYWJydXB0KFwicmV0dXJuXCIscihcIm5vIHZpZGVvIHRyYWNrXCIpKTtjYXNlIDk6bi5uZXh0PTEyO2JyZWFrO2Nhc2UgMTE6cmV0dXJuIG4uYWJydXB0KFwicmV0dXJuXCIscihcIm5vIHZpZGVvIHRyYWNrXCIpKTtjYXNlIDEyOmNhc2VcImVuZFwiOnJldHVybiBuLnN0b3AoKX19KSxuLHQpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoXCJfY3JlYXRlU2NyZWVuVmlkZW9UcmFjaygpIGZhaWwgLSBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlK1wiIC0tIGNvbnN0cmFpbnRzOiBcIisoMCxvLmRlZmF1bHQpKGMpKX0pKX0pLCExKX0pKX19LHtrZXk6XCJfc3BlZWNoRXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5fYXVkaW9DdHgpe3ZhciByPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7dGhpcy5fYXVkaW9DdHg9bmV3IHJ9dGhpcy5fYXVkaW9DdHgmJih0aGlzLl9zcGVhY2g9bmV3IGsoZSx7dGhyZXNob2xkOi02NSxhdWRpb0NvbnRleHQ6dGhpcy5fYXVkaW9DdHh9KSx0aGlzLl9zcGVhY2gub24oXCJ2b2x1bWVfY2hhbmdlXCIsKGZ1bmN0aW9uKGUscil7ZTxyP3QuX3ZvbHVtZT0wOih0Ll92b2x1bWU9TWF0aC5yb3VuZCgtMTAwKihlLXIpL3IpLHQuX3ZvbHVtZT4xMDAmJih0Ll92b2x1bWU9MTAwKSksdC5lbWl0KFwidm9sdW1lLWNoYW5nZVwiLHt1c2VySUQ6dC51c2VySUQsdm9sdW1lOnQuX3ZvbHVtZX0pfSkpLHRoaXMuX3NwZWFjaC5vbihcInNwZWFraW5nXCIsKGZ1bmN0aW9uKCl7dC5lbWl0KFwic3BlYWtpbmdcIix7dXNlcklEOnQudXNlcklEfSl9KSksdGhpcy5fc3BlYWNoLm9uKFwic3RvcHBlZF9zcGVha2luZ1wiLChmdW5jdGlvbigpe3QuX3ZvbHVtZT0wLHQuZW1pdChcInN0b3BwZWQtc3BlYWtpbmdcIix7dXNlcklEOnQudXNlcklEfSl9KSkpfX0se2tleTpcImF0dGFjaEF1ZGlvVHJhY2tzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cmFjayxyPWUuYXV0b1BsYXk7aWYoIXQpcmV0dXJuIHcud2FybihcIkFQSSBhdHRhY2hBdWRpb1RyYWNrcygpIGVycm9yIC0gcGFyYW1ldGVyIHRyYWNrIGlzIE5VTExcIiksbmV3IFR5cGVFcnJvcihcInRyYWNrXCIpO2lmKFwiYXVkaW9cIiE9PXQua2luZClyZXR1cm4gdy53YXJuKFwiQVBJIGF0dGFjaEF1ZGlvVHJhY2tzKCkgZXJyb3IgLSBwYXJhbWV0ZXIgdHJhY2sua2luZCBpcyBub2RlIGF1ZGlvXCIpLG5ldyBUeXBlRXJyb3IoXCJ0cmFjayBpcyBub3QgYXVkaW8ga2luZFwiKTtpZih3LmRlYnVnKFwiQVBJIGF0dGFjaEF1ZGlvVHJhY2tzKCkgLSBhdXRvUGxheTogXCIrcitcIiB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiBzdHJlYW1JZDogXCIrdGhpcy5nZXRJZCgpKSxudWxsPT09dGhpcy5fc3RyZWFtT2JqKXRocm93IHcud2FybihcIkFQSSBhdHRhY2hBdWRpb1RyYWNrcygpIGVycm9yIC0gdGhpcy5fc3RyZWFtT2JqIGlzIE5VTExcIiksbmV3IEVycm9yKFwic3RyZWFtIG9iamVjdCBpcyBudWxsLlwiKTt2YXIgbj10aGlzLl9zdHJlYW1PYmouZ2V0QXVkaW9UcmFja3MoKTtpZihuJiZuLmxlbmd0aD4wKXt2YXIgYT1uWzBdO3RoaXMuX3N0cmVhbU9iai5yZW1vdmVUcmFjayhhKX10aGlzLl9zdHJlYW1PYmouYWRkVHJhY2sodCksdGhpcy5fc3BlZWNoRXZlbnRzKHRoaXMuX3N0cmVhbU9iaiksdGhpcy5fdmlkZW8mJih0aGlzLl92aWRlby5zcmNPYmplY3Q9dGhpcy5fc3RyZWFtT2JqKX19LHtrZXk6XCJnZXRJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9jYWxTdHJlYW0/dGhpcy5faW5uZXJTdHJlYW1JRDp0aGlzLl9jdXN0b21TdHJlYW1JRH19LHtrZXk6XCJnZXRBdHRyaWJ1dGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiZ2V0QXVkaW9MZXZlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX19LHtrZXk6XCJoYXNWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9zdHJlYW1PYmomJnRoaXMuX3N0cmVhbU9iai5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aD4wfX0se2tleTpcImhhc0F1ZGlvXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX3N0cmVhbU9iaiYmdGhpcy5fc3RyZWFtT2JqLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoPjB9fSx7a2V5OlwiYXR0YWNoV2ViY2FtUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9pc0xvY2FsU3RyZWFtP3RoaXMuX3dlYmNhbVByb2R1Y2VyPWU6dy53YXJuKFwiQVBJIGF0dGFjaFdlYmNhbVByb2R1Y2VyKCkgZXJyb3IgLSB0aGlzIGlzIG5vdCBsb2NhbCBzdHJlYW1cIil9fSx7a2V5OlwiZGV0YWNoV2ViY2FtUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzTG9jYWxTdHJlYW0/dGhpcy5fd2ViY2FtUHJvZHVjZXI9bnVsbDp3Lndhcm4oXCJBUEkgZGV0YWNoV2ViY2FtUHJvZHVjZXIoKSBlcnJvciAtIHRoaXMgaXMgbm90IGxvY2FsIHN0cmVhbVwiKX19LHtrZXk6XCJhdHRhY2hNaWNQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2lzTG9jYWxTdHJlYW0/dGhpcy5fbWljUHJvZHVjZXI9ZTp3Lndhcm4oXCJBUEkgYXR0YWNoTWljUHJvZHVjZXIoKSBlcnJvciAtIHRoaXMgaXMgbm90IGxvY2FsIHN0cmVhbVwiKX19LHtrZXk6XCJkZXRhY2hNaWNQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faXNMb2NhbFN0cmVhbT90aGlzLl9taWNQcm9kdWNlcj1udWxsOncud2FybihcIkFQSSBkZXRhY2hNaWNQcm9kdWNlcigpIGVycm9yIC0gdGhpcyBpcyBub3QgbG9jYWwgc3RyZWFtXCIpfX0se2tleTpcInN3aXRjaERldmljZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7aWYody5kZWJ1ZyhcIkFQSSBzd2l0Y2hEZXZpY2UoKSB0eXBlOiBcIitlK1wiIGRldmljZUlkOiBcIit0KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHcud2FybihcIkFQSSBzd2l0Y2hEZXZpY2UoKSBlcnJvciAtIG9uU3VjY2VzcyBoYXZlIHRvIGJlIGEgZnVuY3Rpb24uXCIpLFR5cGVFcnJvcihcIm9uU3VjY2VzcyBoYXZlIHRvIGJlIGEgZnVuY3Rpb24uXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgdy53YXJuKFwiQVBJIHN3aXRjaERldmljZSgpIGVycm9yIC0gb25GYWlsdXJlIGhhdmUgdG8gYmUgYSBmdW5jdGlvbi5cIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGhhdmUgdG8gYmUgYSBmdW5jdGlvbi5cIik7aWYoIXRoaXMuX2lzTG9jYWxTdHJlYW0pcmV0dXJuIHcud2FybihcIkFQSSBzd2l0Y2hEZXZpY2UoKSBlcnJvciAtIHRoaXMgaXMgbm90IGxvY2FsIHN0cmVhbVwiKSx2b2lkIG4oXCJub24tbG9jYWxTdHJlYW1cIik7aWYoIXR8fFwiXCI9PXQudHJpbSgpKXJldHVybiB3Lndhcm4oXCJBUEkgc3dpdGNoRGV2aWNlKCkgZXJyb3IgLSBkZXZpY2VJZCBpcyBpbnZhbGlkXCIpLHZvaWQgbihcInBhcmFtZXRlciBkZXZpY2VJZCBpcyBpbnZhbGlkXCIpO2lmKFwiYXVkaW9cIiE9PWUmJlwidmlkZW9cIiE9PWUpcmV0dXJuIHcud2FybihcIkFQSSBzd2l0Y2hEZXZpY2UoKSBlcnJvciAtIHR5cGUgbXVzdCBiZSBbYXVkaW98dmlkZW9dXCIpLHZvaWQgbihcInBhcmFtZXRlciB0eXBlIGlzIGludmFsaWRcIik7dmFyIGk9dC50cmltKCk7XCJhdWRpb1wiPT09ZT90aGlzLl9jbG9zZU1pYygpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX29wZW5NaWMoaSl9KSkudGhlbigoZnVuY3Rpb24oKXt3LmRlYnVnKFwiQVBJIHN3aXRjaERldmljZSgpIHN1Y2MgLSB0eXBlOiBcIitlK1wiIGRldklkOiBcIitpKSxyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3cud2FybihcIkFQSSBzd2l0Y2hEZXZpY2UoKSBmYWlsIC0gdHlwZTogXCIrZStcIiBkZXZJZDogXCIraStcIiAtIFwiK3QudG9TdHJpbmcoKSksbih0LnRvU3RyaW5nKCkpfSkpOlwidmlkZW9cIj09PWU/dGhpcy5fY2xvc2VWaWRlbygpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX29wZW5WaWRlbyhpKX0pKS50aGVuKChmdW5jdGlvbigpe3cuZGVidWcoXCJBUEkgc3dpdGNoRGV2aWNlKCkgc3VjYyAtIHR5cGU6IFwiK2UrXCIgZGV2SWQ6IFwiK2kpLHIoKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7dy53YXJuKFwiQVBJIHN3aXRjaERldmljZSgpIGZhaWwgLSB0eXBlOiBcIitlK1wiIGRldklkOiBcIitpK1wiIC0gXCIrdC50b1N0cmluZygpKSxuKHQudG9TdHJpbmcoKSl9KSk6bihcImludmFsaWQgdHlwZTogXCIrZSl9fSx7a2V5OlwiX29wZW5WaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaXNWaWRlb1RyYWNrQ2xvc2VkP3RoaXMuX2lzTG9jYWxTdHJlYW0/bi5kZWZhdWx0LnJlc29sdmUoKS50aGVuKCgwLGkuZGVmYXVsdCkoYS5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIHIoKXt2YXIgaTtyZXR1cm4gYS5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOmlmKGk9bnVsbCwwIT09dC52aWRlb1R5cGUpe3IubmV4dD03O2JyZWFrfXJldHVybiByLm5leHQ9NCx0Ll9jcmVhdGVDYW1lcmFWaWRlb1RyYWNrKGUmJlwiXCIhPT1lLnRyaW0oKT9lOnQuX3NwZWMuY2FtZXJhSWQpO2Nhc2UgNDppPXIuc2VudCxyLm5leHQ9MTQ7YnJlYWs7Y2FzZSA3OmlmKDEhPT10LnZpZGVvVHlwZSl7ci5uZXh0PTEzO2JyZWFrfXJldHVybiByLm5leHQ9MTAsdC5fY3JlYXRlU2NyZWVuVmlkZW9UcmFjaygpO2Nhc2UgMTA6aT1yLnNlbnQsci5uZXh0PTE0O2JyZWFrO2Nhc2UgMTM6cmV0dXJuIHIuYWJydXB0KFwicmV0dXJuXCIsbi5kZWZhdWx0LnJlc29sdmUoKSk7Y2FzZSAxNDppZih0LnZpZGVvVHJhY2tzPWksdC5faXNWaWRlb1RyYWNrQ2xvc2VkPSExLHcuZGVidWcoXCJfb3BlblZpZGVvKCkgbG9jYWxTdHJlYW0gLSBzdHJlYW1JZDogXCIrdC5nZXRJZCgpKSwhdC5fd2ViY2FtUHJvZHVjZXIpe3IubmV4dD0yMDticmVha31yZXR1cm4gci5uZXh0PTIwLHQuX3dlYmNhbVByb2R1Y2VyLnJlcGxhY2VUcmFjayhpKTtjYXNlIDIwOnJldHVybiByLmFicnVwdChcInJldHVyblwiLG4uZGVmYXVsdC5yZXNvbHZlKCkpO2Nhc2UgMjE6Y2FzZVwiZW5kXCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIsdCl9KSkpKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHcud2FybihcIl9vcGVuVmlkZW8oKSBmYWlsIC0gXCIrZS50b1N0cmluZygpKSxuLmRlZmF1bHQucmVqZWN0KGUpfSkpOih3Lndhcm4oXCJfb3BlblZpZGVvKCkgZXJyb3IgLSBub24tbG9jYWxTdHJlYW1cIiksbi5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJub24tbG9jYWxTdHJlYW1cIikpKToody5kZWJ1ZyhcIl9vcGVuVmlkZW8oKSAtIGxhY2sgdGhlIGNvbmRpdGlvbnMgLSB0aGlzLmlzVmlkZW9UcmFja0Nsb3NlZDogXCIrdGhpcy5pc1ZpZGVvVHJhY2tDbG9zZWQpLG4uZGVmYXVsdC5yZXNvbHZlKCkpfX0se2tleTpcIl9jbG9zZVZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9pc0xvY2FsU3RyZWFtP251bGw9PT10aGlzLl9zdHJlYW1PYmo/bi5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJzdHJlYW0uX3N0cmVhbU9iaiBpcyBudWxsXCIpKTpuLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIDAhPT1lLnZpZGVvVHlwZSYmMSE9PWUudmlkZW9UeXBlfHwoZS5fc3RyZWFtT2JqJiZlLl9zdHJlYW1PYmouZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt3LmRlYnVnKFwiX2Nsb3NlVmlkZW8oKSB0cmFjay5zdG9wIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKStcIiBraW5kOiBcIit0LmtpbmQrXCIgaWQ6IFwiK3QuaWQpLHQuc3RvcCgpLGUuX3N0cmVhbU9iai5yZW1vdmVUcmFjayh0KX0pKSxlLl9pc1ZpZGVvVHJhY2tDbG9zZWQ9ITAsdy5kZWJ1ZyhcIl9jbG9zZVZpZGVvKCkgbG9jYWxTdHJlYW0gLSBzdHJlYW1JZDogXCIrZS5nZXRJZCgpKSxlLl93ZWJjYW1Qcm9kdWNlciYmZS5fd2ViY2FtUHJvZHVjZXIuc3RvcFRyYWNrKCkpLG4uZGVmYXVsdC5yZXNvbHZlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLmRlZmF1bHQucmVqZWN0KGUpfSkpOih3Lndhcm4oXCJfY2xvc2VWaWRlbygpIGVycm9yIC0gbm9uLWxvY2FsU3RyZWFtXCIpLG4uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwibm9uLWxvY2FsU3RyZWFtXCIpKSl9fSx7a2V5OlwiX29wZW5NaWNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zcGVjLmF1ZGlvP3RoaXMuaXNNaWNDbG9zZWQ/dGhpcy5faXNMb2NhbFN0cmVhbT9uLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKDAsaS5kZWZhdWx0KShhLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gcigpe3ZhciBpO3JldHVybiBhLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6cmV0dXJuIHIubmV4dD0yLHQuX2NyZWF0ZUF1ZGlvVHJhY2soZSYmXCJcIiE9PWUudHJpbSgpP2U6dC5fc3BlYy5taWNyb3Bob25lSWQpO2Nhc2UgMjppZihpPXIuc2VudCx0LmF1ZGlvVHJhY2tzPWksdC5faXNNaWNDbG9zZWQ9ITEsdy5kZWJ1ZyhcIl9vcGVuTWljKCkgbG9jYWxTdHJlYW0gLSBzdHJlYW1JZDogXCIrdC5nZXRJZCgpKSwhdC5fbWljUHJvZHVjZXIpe3IubmV4dD05O2JyZWFrfXJldHVybiByLm5leHQ9OSx0Ll9taWNQcm9kdWNlci5yZXBsYWNlVHJhY2soaSk7Y2FzZSA5OnJldHVybiByLmFicnVwdChcInJldHVyblwiLG4uZGVmYXVsdC5yZXNvbHZlKGkpKTtjYXNlIDEwOmNhc2VcImVuZFwiOnJldHVybiByLnN0b3AoKX19KSxyLHQpfSkpKSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLmRlZmF1bHQucmVqZWN0KGUpfSkpOih3Lndhcm4oXCJfb3Blbk1pYygpIGVycm9yIC0gbm9uLWxvY2FsU3RyZWFtXCIpLG4uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwibm9uLWxvY2FsU3RyZWFtXCIpKSk6KHcud2FybihcIl9vcGVuTWljKCkgZXJyb3IgLSBsYWNrIHRoZSBjb25kaXRpb25zIC0gdGhpcy5pc01pY0Nsb3NlZDogXCIrdGhpcy5pc01pY0Nsb3NlZCksbi5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJsYWNrIHRoZSBjb25kaXRpb25zXCIpKSk6KHcud2FybihcIl9vcGVuTWljKCkgZXJyb3IgLSBub3QgbWljIHN0cmVhbVwiKSxuLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIm5vdCBtaWMgc3RyZWFtXCIpKSl9fSx7a2V5OlwiX2Nsb3NlTWljXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9zcGVjLmF1ZGlvP3RoaXMuX2lzTG9jYWxTdHJlYW0/bnVsbD09PXRoaXMuX3N0cmVhbU9iaj9uLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInN0cmVhbS5fc3RyZWFtT2JqIGlzIG51bGxcIikpOm4uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc3RyZWFtT2JqJiZlLl9zdHJlYW1PYmouZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt3LmRlYnVnKFwiX2Nsb3NlTWljKCkgdHJhY2suc3RvcCAtIHN0cmVhbUlkOiBcIitlLmdldElkKCkrXCIga2luZDogXCIrdC5raW5kK1wiIGlkOiBcIit0LmlkKSx0LnN0b3AoKSxlLl9zdHJlYW1PYmoucmVtb3ZlVHJhY2sodCl9KSksZS5faXNNaWNDbG9zZWQ9ITAsdy5kZWJ1ZyhcIl9jbG9zZU1pYygpIGxvY2FsU3RyZWFtIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKSksZS5fbWljUHJvZHVjZXImJmUuX21pY1Byb2R1Y2VyLnN0b3BUcmFjaygpLG4uZGVmYXVsdC5yZXNvbHZlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLmRlZmF1bHQucmVqZWN0KGUpfSkpOih3Lndhcm4oXCJfY2xvc2VNaWMoKSBlcnJvciAtIG5vbi1sb2NhbFN0cmVhbVwiKSxuLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIm5vbi1sb2NhbFN0cmVhbVwiKSkpOih3Lndhcm4oXCJfY2xvc2VNaWMoKSBlcnJvciAtIG5vdCBtaWMgc3RyZWFtXCIpLG4uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwibm90IG1pYyBzdHJlYW1cIikpKX19LHtrZXk6XCJlbmFibGVWaWRlb1wiLHZhbHVlOihfPSgwLGkuZGVmYXVsdCkoYS5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUoKXtyZXR1cm4gYS5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHRoaXMuX2lzTG9jYWxTdHJlYW0pe2UubmV4dD0zO2JyZWFrfXJldHVybiB3Lndhcm4oXCJBUEkgZW5hYmxlVmlkZW8oKSBlcnJvciAtIG5vbi1sb2NhbFN0cmVhbVwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDM6aWYody5kZWJ1ZyhcIkFQSSBlbmFibGVWaWRlbygpIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK3RoaXMuZ2V0SWQoKSksdGhpcy5fcHVibGlzaGVkJiZ0aGlzLmVtaXQoXCJyZXN1bWUtdmlkZW9cIix7c3RyZWFtOnRoaXN9KSwhdGhpcy5fdmlkZW8pe2UubmV4dD0xNDticmVha31yZXR1cm4gZS5wcmV2PTYsZS5uZXh0PTksdGhpcy5fdmlkZW8ucGxheSgpO2Nhc2UgOTplLm5leHQ9MTQ7YnJlYWs7Y2FzZSAxMTplLnByZXY9MTEsZS50MD1lLmNhdGNoKDYpLHcud2FybihcIkFQSSBlbmFibGVWaWRlbygpIHRoaXMuX3ZpZGVvLnBsYXkoKSBmYWlsIC0gXCIrZS50MC50b1N0cmluZygpK1wiIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK3RoaXMuZ2V0SWQoKSk7Y2FzZSAxNDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbNiwxMV1dKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gXy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImRpc2FibGVWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faXNMb2NhbFN0cmVhbT8odGhpcy5fdmlkZW8mJnRoaXMuX3ZpZGVvLnBhdXNlKCksdGhpcy5fcHVibGlzaGVkJiYody5kZWJ1ZyhcIkFQSSBkaXNhYmxlVmlkZW8oKSAtIHRoaXMuX3VzZXJJZDogXCIrdGhpcy5fdXNlcklkK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkpLHRoaXMuZW1pdChcInBhdXNlLXZpZGVvXCIse3N0cmVhbTp0aGlzfSkpKTp3Lndhcm4oXCJBUEkgZGlzYWJsZVZpZGVvKCkgZXJyb3IgLSBub24tbG9jYWxTdHJlYW1cIil9fSx7a2V5OlwiZW5hYmxlQXVkaW9cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzTG9jYWxTdHJlYW0/KHcuZGVidWcoXCJBUEkgZW5hYmxlQXVkaW8oKSAtIHRoaXMuX3VzZXJJZDogXCIrdGhpcy5fdXNlcklkK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkpLHRoaXMuX3B1Ymxpc2hlZCYmdGhpcy5lbWl0KFwicmVzdW1lLWF1ZGlvXCIse3N0cmVhbTp0aGlzfSkpOncud2FybihcIkFQSSBlbmFibGVBdWRpbygpIGVycm9yIC0gbm9uLWxvY2FsU3RyZWFtXCIpfX0se2tleTpcImRpc2FibGVBdWRpb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faXNMb2NhbFN0cmVhbT8ody5kZWJ1ZyhcIkFQSSBkaXNhYmxlQXVkaW8oKSAtIHRoaXMuX3VzZXJJZDogXCIrdGhpcy5fdXNlcklkK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkrXCIgdGhpcy5fcHVibGlzaGVkOiBcIit0aGlzLl9wdWJsaXNoZWQpLHRoaXMuX3B1Ymxpc2hlZCYmdGhpcy5lbWl0KFwicGF1c2UtYXVkaW9cIix7c3RyZWFtOnRoaXN9KSk6dy53YXJuKFwiQVBJIGRpc2FibGVBdWRpbygpIGVycm9yIC0gbm9uLWxvY2FsU3RyZWFtXCIpfX0se2tleTpcImVuYWJsZVZpZGVvQW5kQXVkaW9cIix2YWx1ZToobT0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKCl7cmV0dXJuIGEuZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih0aGlzLl9pc0xvY2FsU3RyZWFtKXtlLm5leHQ9MzticmVha31yZXR1cm4gdy53YXJuKFwiQVBJIGVuYWJsZVZpZGVvQW5kQXVkaW8oKSBlcnJvciAtIG5vbi1sb2NhbFN0cmVhbVwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDM6aWYody5kZWJ1ZyhcIkFQSSBlbmFibGVWaWRlb0FuZEF1ZGlvKCkgLSB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiBzdHJlYW1JZDogXCIrdGhpcy5nZXRJZCgpKSwhdGhpcy5fdmlkZW8pe2UubmV4dD0xMzticmVha31yZXR1cm4gZS5wcmV2PTUsZS5uZXh0PTgsdGhpcy5fdmlkZW8ucGxheSgpO2Nhc2UgODplLm5leHQ9MTM7YnJlYWs7Y2FzZSAxMDplLnByZXY9MTAsZS50MD1lLmNhdGNoKDUpLHcud2FybihcIkFQSSBlbmFibGVWaWRlb0FuZEF1ZGlvKCkgdGhpcy5fdmlkZW8ucGxheSgpIGZhaWwgLSBcIitlLnQwLnRvU3RyaW5nKCkrXCIgLSB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiBzdHJlYW1JZDogXCIrdGhpcy5nZXRJZCgpKTtjYXNlIDEzOnRoaXMuX3B1Ymxpc2hlZCYmKHRoaXMuZW1pdChcInJlc3VtZS1hdWRpb1wiLHtzdHJlYW06dGhpc30pLHRoaXMuZW1pdChcInJlc3VtZS12aWRlb1wiLHtzdHJlYW06dGhpc30pKTtjYXNlIDE0OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1s1LDEwXV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiBtLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZGlzYWJsZVZpZGVvQW5kQXVkaW9cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzTG9jYWxTdHJlYW0/KHcuZGVidWcoXCJBUEkgZGlzYWJsZVZpZGVvQW5kQXVkaW8oKSAtIHRoaXMuX3VzZXJJZDogXCIrdGhpcy5fdXNlcklkK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkpLHRoaXMuX3ZpZGVvJiZ0aGlzLl92aWRlby5wYXVzZSgpLHRoaXMuX3B1Ymxpc2hlZCYmKHRoaXMuZW1pdChcInBhdXNlLWF1ZGlvXCIse3N0cmVhbTp0aGlzfSksdGhpcy5lbWl0KFwicGF1c2UtdmlkZW9cIix7c3RyZWFtOnRoaXN9KSkpOncud2FybihcIkFQSSBkaXNhYmxlVmlkZW9BbmRBdWRpbygpIGVycm9yIC0gbm9uLWxvY2FsU3RyZWFtXCIpfX0se2tleTpcInNldEF1ZGlvUHJvZmlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpey9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJlwiaXNhYzMyXCI9PT1lJiYoZT1cIm11c2ljX3N0YW5kYXJkXCIpO3ZhciB0PWguYXVkaW9Qcm9maWxlU3BlYy5nZXQoZSk7dGhpcy5fYXVkaW9Qcm9maWxlPXR8fG51bGwsdy5kZWJ1ZyhcIkFQSSBzZXRBdWRpb1Byb2ZpbGUoKSBwcm9maWxlOiBcIitlK1wiIFwiKygwLG8uZGVmYXVsdCkodGhpcy5fYXVkaW9Qcm9maWxlKSl9fSx7a2V5OlwiZ2V0QXVkaW9Qcm9maWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9Qcm9maWxlfX0se2tleTpcInNldFZpZGVvUHJvZmlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOm51bGw7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyB3Lndhcm4oXCJBUEkgc2V0VmlkZW9Qcm9maWxlKCkgZXJyb3IgLSBvblN1Y2Nlc3MgaGF2ZSB0byBiZSBhIGZ1bmN0aW9uLlwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaGF2ZSB0byBiZSBhIGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHcud2FybihcIkFQSSBzZXRWaWRlb1Byb2ZpbGUoKSBlcnJvciAtIG9uRmFpbHVyZSBoYXZlIHRvIGJlIGEgZnVuY3Rpb24uXCIpLFR5cGVFcnJvcihcIm9uRmFpbHVyZSBoYXZlIHRvIGJlIGEgZnVuY3Rpb24uXCIpO2lmKCF0aGlzLl9pc0xvY2FsU3RyZWFtKXJldHVybiB3Lndhcm4oXCJBUEkgc2V0VmlkZW9Qcm9maWxlKCkgZXJyb3IgLSBub24tbG9jYWxTdHJlYW1cIiksdm9pZCByKFwib25seSBsb2NhbCBzdHJlYW0gY2FuIHNldCB2aWRlbyBwcm9maWxlLlwiKTtpZih3LmRlYnVnKFwiQVBJIHNldFZpZGVvUHJvZmlsZSgpIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgdmlkZW9Qcm9maWxlOiBcIitlK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkpLG51bGw9PT10aGlzLl9zdHJlYW1PYmopcmV0dXJuIHcud2FybihcIkFQSSBzZXRWaWRlb1Byb2ZpbGUoKSBlcnJvciAtIHN0cmVhbSBpcyBudWxsLCBwbGVhc2UgaW5pdCBpdCBhdCBmaXJzdC5cIiksdm9pZCByKFwic3RyZWFtIGlzIG51bGwsIHBsZWFzZSBpbml0IGl0IGF0IGZpcnN0LlwiKTt2YXIgYz10aGlzLl9zdHJlYW1PYmouZ2V0VmlkZW9UcmFja3MoKTtpZihjLmxlbmd0aDw9MClyZXR1cm4gdy53YXJuKFwiQVBJIHNldFZpZGVvUHJvZmlsZSgpIGVycm9yIC0gbm8gdmlkZW8gdHJhY2suXCIpLHZvaWQgcihcIm5vIHZpZGVvIHRyYWNrLlwiKTtpZihzKXtpZighcy5taW5CYW5kd2lkdGh8fCFzLm1heEJhbmR3aWR0aHx8IXMuc3RhcnRCaXRyYXRlKXRocm93IHcud2FucihcIkFQSSBzZXRWaWRlb1Byb2ZpbGUoKSBlcnJvciAtIGNvZGVjT3B0aW9ucyBwYXJhbWV0ZXJzIGludmFsaWQuXCIpLFR5cGVFcnJvcihzKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcy5taW5CYW5kd2lkdGh8fFwibnVtYmVyXCIhPXR5cGVvZiBzLm1heEJhbmR3aWR0aHx8XCJudW1iZXJcIiE9dHlwZW9mIHMuc3RhcnRCaXRyYXRlKXRocm93IHcud2FybihcIkFQSSBzZXRWaWRlb1Byb2ZpbGUoKSBlcnJvciAtIGNvZGVjT3B0aW9ucyBwYXJhbWV0ZXJzIGludmFsaWQuXCIpLFR5cGVFcnJvcihzKTtpZihzLm1pbkJhbmR3aWR0aD49cy5tYXhCYW5kd2lkdGgpdGhyb3cgdy53YXJuKFwiQVBJIHNldFZpZGVvUHJvZmlsZSgpIGVycm9yIC0gY29kZWNPcHRpb25zIHBhcmFtZXRlcnMgaW52YWxpZC5cIiksVHlwZUVycm9yKFwibWluQmFuZHdpZHRoID4gPSBtYXhCYW5kd2lkdGhcIik7dGhpcy5fc3BlYy5jb2RlY09wdGlvbnM9c312YXIgdT1jWzBdLGQ9dm9pZCAwLGw9dGhpcy5fZ2V0UmVzb2x1dGlvbkJ5VmlkZW9Qcm9maWxlKGUpLHA9bC53aWR0aCxmPWwuaGVpZ2h0O2Q9e3dpZHRoOnAsaGVpZ2h0OmZ9LHUuYXBwbHlDb25zdHJhaW50cyhkKS50aGVuKCgwLGkuZGVmYXVsdCkoYS5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUoKXtyZXR1cm4gYS5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHcuZGVidWcoXCJBUEkgc2V0VmlkZW9Qcm9maWxlKCkgdHJhY2suYXBwbHlDb25zdHJhaW50cyBvayAtLSBjb25zdHJhaW50czogXCIrKDAsby5kZWZhdWx0KShkKSksbi5fdmlkZW9TZXR0aW5nPXUuZ2V0U2V0dGluZ3MoKSxuLl9zZXRLZXlSZXNvbHV0aW9uKHUpLCFuLl9wdWJsaXNoZWQpe2UubmV4dD05O2JyZWFrfWlmKCFuLl93ZWJjYW1Qcm9kdWNlcil7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIGUubmV4dD03LG4uX3dlYmNhbVByb2R1Y2VyLnVwZGF0ZVRyYWNrKHUsZCx7aWRlYWxCYW5kd2lkdGg6bi5pZGVhbEJhbmR3aWR0aCxtYXhCYW5kd2lkdGg6bi5tYXhCYW5kd2lkdGgsbWluQmFuZHdpZHRoOm4ubWluQmFuZHdpZHRofSk7Y2FzZSA3OmUubmV4dD0xMTticmVhaztjYXNlIDk6bi5fdXBkYXRlQ29uc3RyYWludHM9ZCxuLl9uZWVkVXBkYXRlVmlkZW9TdHJlYW1CaXRyYXRlPSEwO2Nhc2UgMTE6dChcImFwcGx5Q29uc3RyYWludCBzdWNjZXNzXCIpO2Nhc2UgMTI6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbil9KSkpKS5jYXRjaCgoZnVuY3Rpb24oZSl7dy53YXJuKFwiQVBJIHNldFZpZGVvUHJvZmlsZSgpIGVycm9yIC0gdHJhY2suYXBwbHlDb25zdHJhaW50cyBmYWlsZWQgLSBcIitlLnRvU3RyaW5nKCkpLHIoZSl9KSl9fSx7a2V5OlwiZ2V0VmlkZW9Qcm9maWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5fc3RyZWFtT2JqKXJldHVybiB3Lndhcm4oXCJBUEkgZ2V0VmlkZW9Qcm9maWxlKCkgZXJyb3IgLSB0aGlzLl9zdHJlYW1PYmogaXMgTlVMTFwiKSx7fTt2YXIgZT10aGlzLl9zdHJlYW1PYmouZ2V0VmlkZW9UcmFja3MoKTtpZihlLmxlbmd0aDw9MClyZXR1cm4gdy53YXJuKFwiQVBJIGdldFZpZGVvUHJvZmlsZSgpIGVycm9yIC0gZ2V0VmlkZW9Qcm9maWxlOiBubyB2aWRlbyB0cmFja1wiKSx7fTt2YXIgdD1lWzBdLmdldFNldHRpbmdzKCkscj17d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9O3JldHVybiB3LmRlYnVnKFwiQVBJIGdldFZpZGVvUHJvZmlsZSgpIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK3RoaXMuZ2V0SWQoKStcIiByZXNvdWx0aW9uOiBcIisoMCxvLmRlZmF1bHQpKHIpKSxyfX0se2tleTpcInNldFNjcmVlblByb2ZpbGVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJzZXRBdWRpb091dHB1dFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtpZih3LmRlYnVnKFwiQVBJIHNldEF1ZGlvT3V0cHV0KCkgZGV2aWNlSWQ6IFwiK2UpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgdy53YXJuKFwiQVBJIHNldEF1ZGlvT3V0cHV0KCkgZXJyb3IgLSBvblN1Y2Nlc3MgaGF2ZSB0byBiZSBhIGZ1bmN0aW9uLlwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaGF2ZSB0byBiZSBhIGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHcud2FybihcIkFQSSBzZXRBdWRpb091dHB1dCgpIGVycm9yIC0gb25GYWlsdXJlIGhhdmUgdG8gYmUgYSBmdW5jdGlvbi5cIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGhhdmUgdG8gYmUgYSBmdW5jdGlvbi5cIik7aWYoZSYmXCJcIiE9ZS50cmltKCkpe3ZhciBuPWUudHJpbSgpO2lmKFwiYXVkaW9cIj09PXRoaXMudHlwZSl7aWYoIXRoaXMuX2F1ZGlvKXJldHVybiB3LmRlYnVnKFwiQVBJIHNldEF1ZGlvT3V0cHV0KCkgZmFpbCAtIG5vIGF1ZGlvIHRhZ1wiKSx2b2lkIHIoXCJubyBhdWRpbyB0YWdcIik7dGhpcy5fYXVkaW8uc2V0U2lua0lkKG4pLnRoZW4oKGZ1bmN0aW9uKCl7dy5kZWJ1ZyhcIkF1ZGlvIG91dHB1dCBkZXZpY2UgYXR0YWNoZWQ6IFwiK24pLHQoXCJBdWRpbyBvdXRwdXQgZGV2aWNlIGF0dGFjaGVkOiBcIituKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dy5kZWJ1ZyhcIkF1ZGlvIG91dHB1dCBkZXZpY2UgYXR0YWNoZWQgZmFpbCAtIFwiK2UudG9TdHJpbmcoKSkscihcIkF1ZGlvIG91dHB1dCBkZXZpY2UgYXR0YWNoZWQgZmFpbGUgLSBcIitlLnRvU3RyaW5nKCkpfSkpfWVsc2V7aWYoIXRoaXMuX3ZpZGVvKXJldHVybiB3LmRlYnVnKFwiQVBJIHNldEF1ZGlvT3V0cHV0KCkgZmFpbCAtIG5vIHZpZGVvIHRhZ1wiKSx2b2lkIHIoXCJubyB2aWRlbyB0YWdcIik7dGhpcy5fdmlkZW8uc2V0U2lua0lkKG4pLnRoZW4oKGZ1bmN0aW9uKCl7dy5kZWJ1ZyhcIkF1ZGlvIG91dHB1dCBkZXZpY2UgYXR0YWNoZWQ6IFwiK24pLHQoXCJBdWRpbyBvdXRwdXQgZGV2aWNlIGF0dGFjaGVkOiBcIituKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dy5kZWJ1ZyhcIkF1ZGlvIG91dHB1dCBkZXZpY2UgYXR0YWNoZWQgZmFpbGUgLSBcIitlLnRvU3RyaW5nKCkpLHIoXCJBdWRpbyBvdXRwdXQgZGV2aWNlIGF0dGFjaGVkIGZhaWxlIC0gXCIrZS50b1N0cmluZygpKX0pKX19ZWxzZSByKFwicGFyYW1ldGVyIGRldmljZUlkIGlzIGludmFsaWRcIil9fSx7a2V5OlwicGxheVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKHcuZGVidWcoXCJBUEkgcGxheSgpIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK3RoaXMuZ2V0SWQoKStcIiB0aGlzLnR5cGU6IFwiK3RoaXMudHlwZSksIXRoaXMuX3N0cmVhbU9iail0aHJvdyB3Lndhcm4oXCJBUEkgcGxheSgpIGVycm9yIC0gc3RyZWFtIGlzIE5VTEwuXCIpLEVycm9yKFwic3RyZWFtIGlzIG51bGwsIHBsZWFzZSBpbml0IGl0IGF0IGZpcnN0LlwiKTtpZihcImF1ZGlvXCI9PT10aGlzLnR5cGUpe2lmKCF0aGlzLl9hdWRpbyl7aWYodGhpcy5fYXVkaW89bmV3IEF1ZGlvLCF0aGlzLl9pc0xvY2FsU3RyZWFtKXtpZighdGhpcy5fYXVkaW9DdHgpe3ZhciBvPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7dGhpcy5fYXVkaW9DdHg9bmV3IG99dGhpcy5fYXVkaW9DdHgmJiF0aGlzLl9nYWluTm9kZSYmKHRoaXMuX2dhaW5Ob2RlPXRoaXMuX2F1ZGlvQ3R4LmNyZWF0ZUdhaW4oKSx0aGlzLl9nYWluTm9kZS5nYWluLnZhbHVlPTEpLHRoaXMuX2F1ZGlvLm9ubG9hZGVkbWV0YWRhdGE9KDAsaS5kZWZhdWx0KShhLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0O3JldHVybiBhLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYody5kZWJ1ZyhcIkFQSSBwbGF5KCkgLSB0aGlzLl9hdWRpby5vbmxvYWRlZG1ldGFkYXRhLiB3aWxsIGNvbm5lY3QgdG8gR2Fpbk5vZGUgLSB0aGlzLl91c2VySWQ6IFwiK24uX3VzZXJJZCtcIiBzdHJlYW1JZDogXCIrbi5nZXRJZCgpKSwhbi5fYXVkaW9DdHh8fCFuLl9nYWluTm9kZSl7ZS5uZXh0PTE0O2JyZWFrfXJldHVybiB0PW4uX2F1ZGlvQ3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG4uX3N0cmVhbU9iaiksZS5wcmV2PTMsZS5uZXh0PTYsbi5fYXVkaW8ucGxheSgpO2Nhc2UgNjplLm5leHQ9MTE7YnJlYWs7Y2FzZSA4OmUucHJldj04LGUudDA9ZS5jYXRjaCgzKSx3Lndhcm4oXCJBUEkgcGxheSgpIHRoaXMuX2F1ZGlvLnBsYXkoKSBmYWlsIC0gXCIrZS50MC50b1N0cmluZygpK1wiIC0gdGhpcy5fdXNlcklkOiBcIituLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK24uZ2V0SWQoKStcIiB0aGlzLnR5cGU6IFwiK24udHlwZSk7Y2FzZSAxMTpuLl9hdWRpby5tdXRlZD0hMCx0LmNvbm5lY3Qobi5fZ2Fpbk5vZGUpLG4uX2dhaW5Ob2RlLmNvbm5lY3Qobi5fYXVkaW9DdHguZGVzdGluYXRpb24pO2Nhc2UgMTQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbixbWzMsOF1dKX0pKSl9dGhpcy5fYXVkaW8uc3JjT2JqZWN0PXRoaXMuX3N0cmVhbU9ian19ZWxzZXtpZih0aGlzLl92aWRlbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSwhdGhpcy5fdmlkZW8pdGhyb3cgdy53YXJuKFwiQVBJIHBsYXkoKSBlcnJvciAtIE5vdCBmb3VuZCB2aWRlbyAtLSBpZDogXCIrZStcIi5cIiksRXJyb3IoXCJ2aWRlbyBpZCBjYW4gbm90IGZpbmQgXCIrZSk7dGhpcy5fc3RyZWFtT2JqLmFjdGl2ZXx8dy5kZWJ1ZyhcIkFQSSBwbGF5KCkgLSBzdHJlYW0gYWN0aXZlIGlzIGZhbHNlXCIpLHRoaXMuX3ZpZGVvLm11dGVkPUJvb2xlYW4odGhpcy5faXNMb2NhbFN0cmVhbSl8fEJvb2xlYW4odGhpcy5fYXVkaW8pLEJvb2xlYW4odGhpcy5faXNMb2NhbFN0cmVhbSkmJnImJih0aGlzLl92aWRlby5tdXRlZD0hMSksdGhpcy5fdmlkZW8uYXV0b3BsYXk9ITAsdGhpcy5fdmlkZW8uY29udHJvbHM9ISF0LHRoaXMuX3ZpZGVvLnBsYXlzaW5saW5lPSEwLHRoaXMuX3ZpZGVvLnNyY09iamVjdD10aGlzLl9zdHJlYW1PYmp9fX0se2tleTpcInN0b3BQbGF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJhdWRpb1wiPT09dGhpcy50eXBlKXtpZighdGhpcy5fYXVkaW8pcmV0dXJuO3RoaXMuX2F1ZGlvLm11dGVkPSEwLHRoaXMuX2F1ZGlvLnBhdXNlKCl9ZWxzZXtpZih0aGlzLl92aWRlbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSwhdGhpcy5fdmlkZW8pdGhyb3cgdy53YXJuKFwiQVBJIHN0b3BQbGF5KCkgZXJyb3IgLSBOb3QgZm91bmQgdmlkZW8gLS0gaWQ6IFwiK2UrXCIuXCIpLEVycm9yKFwidmlkZW8gaWQgY2FuIG5vdCBmaW5kIFwiK2UpO3RoaXMuX3ZpZGVvLm11dGVkPSEwLHRoaXMuX3ZpZGVvLnBhdXNlKCl9fX0se2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt3LmRlYnVnKFwiQVBJIGNsb3NlKCkgLSB0aGlzLl91c2VySWQ6IFwiK3RoaXMuX3VzZXJJZCtcIiBzdHJlYW1JZDogXCIrdGhpcy5nZXRJZCgpKSx0aGlzLl9jbG9zZWR8fCh0aGlzLl9zdHJlYW1PYmo/KHRoaXMuX3dlYmNhbVByb2R1Y2VyJiZ0aGlzLl93ZWJjYW1Qcm9kdWNlci5jbG9zZSgpLHRoaXMuX21pY1Byb2R1Y2VyJiZ0aGlzLl9taWNQcm9kdWNlci5wYXVzZSgpLHRoaXMuX3N0cmVhbU9iai5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdG9wKCl9KSksdGhpcy5fc3RyZWFtT2JqPW51bGwsdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9jbG9zZWQ9ITAsdGhpcy5fdmlkZW8mJih0aGlzLl92aWRlby5zcmNPYmplY3Q9bnVsbCksdGhpcy5fZ2Fpbk5vZGU9bnVsbCk6dy53YXJuKFwiQVBJIGNsb3NlKCkgZXJyb3IgLSBzdHJlYW0gaXMgbnVsbCwgcGxlYXNlIGluaXQgaXQgYXQgZmlyc3QuXCIpKX19LHtrZXk6XCJfc3RhcnRTY3JlZW5DYXB0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17dmlkZW86e2FzcGVjdFJhdGlvOmguc2NyZWVuU3BlYy5zXzEwODBwLm1heEFzcGVjdFJhdGlvLGZyYW1lUmF0ZTpoLnNjcmVlblNwZWMuc19mcmFtZVJhdGUsaGVpZ2h0Omguc2NyZWVuU3BlYy5zXzEwODBwLm1heEhlaWdodCxyZXNpemVNb2RlOlwiY3JvcC1hbmQtc2NhbGVcIix3aWR0aDpoLnNjcmVlblNwZWMuc18xMDgwcC5tYXhXaWR0aCxjdXJzb3I6XCJhbHdheXNcIn19O3JldHVybiBuYXZpZ2F0b3IuZ2V0RGlzcGxheU1lZGlhP25hdmlnYXRvci5nZXREaXNwbGF5TWVkaWEoZSk6bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoZSk6bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe3ZpZGVvOnttZWRpYVNvdXJjZTpcInNjcmVlblwifX0pOihuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5nZXRVc2VyTWVkaWEsbmV3IG4uZGVmYXVsdCgoZnVuY3Rpb24oZSx0KXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhP25hdmlnYXRvci5nZXRVc2VyTWVkaWEoe3ZpZGVvOnttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwic2NyZWVuXCJ9fX0sKGZ1bmN0aW9uKHQpe2UodCl9KSwoZnVuY3Rpb24oZSl7dChcIl9zdGFydFNjcmVlbkNhcHR1cmUgZmFpbCAtIFwiK2UubmFtZStcIiBcIitlLm1lc3NhZ2UpfSkpOih3Lndhcm4oXCJfc3RhcnRTY3JlZW5DYXB0dXJlKCkgZmFpbCAtIHVuc3VwcG9ydGVkIG5hdmlnYXRvci5nZXRVc2VyTWVkaWFcIiksdChcInVuc3VwcG9ydGVkIG5hdmlnYXRvci5nZXRVc2VyTWVkaWFcIikpfSkpKX19LHtrZXk6XCJfc3RyZWFtRW5kZWRcIix2YWx1ZTooZj0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4saT10aGlzO3JldHVybiBhLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYodCl7ZS5uZXh0PTI7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjppZigocj10LmdldFZpZGVvVHJhY2tzKCkpJiYhKHIubGVuZ3RoPD0wKSl7ZS5uZXh0PTU7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNTppZihuPXJbMF0pe2UubmV4dD04O2JyZWFrfXJldHVybiBlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDg6bi5vbmVuZGVkPWZ1bmN0aW9uKGUpe3cuZGVidWcoXCJfc3RyZWFtRW5kZWQoKSB0cmFjay5vbmVuZGVkIC0gc3RyZWFtSWQ6IFwiK2kuZ2V0SWQoKStcIiBcIitlLnRvU3RyaW5nKCkrXCIgLSBFbWl0IFtzdHJlYW0tY2xvc2VdXCIpLGkuX2lzVmlkZW9UcmFja0Nsb3NlZD0hMCxpLl9lbmRlZD0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2kuZW1pdChcInN0cmVhbS1jbG9zZVwiLHtzdHJlYW1JZDppLnN0cmVhbUlELHN0cmVhbTppfSl9KSl9O2Nhc2UgOTpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfc2NyZWVuU3RyZWFtRW5kZWRcIix2YWx1ZToocD0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4saT10aGlzO3JldHVybiBhLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYodCl7ZS5uZXh0PTI7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjppZigocj10LmdldFZpZGVvVHJhY2tzKCkpJiYhKHIubGVuZ3RoPD0wKSl7ZS5uZXh0PTU7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNTppZihuPXJbMF0pe2UubmV4dD04O2JyZWFrfXJldHVybiBlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDg6bi5vbmVuZGVkPWZ1bmN0aW9uKGUpe3cuZGVidWcoXCJfc2NyZWVuU3RyZWFtRW5kZWQoKSB0cmFjay5vbmVuZGVkIC0gc3RyZWFtSWQ6IFwiK2kuZ2V0SWQoKStcIiBcIitlLnRvU3RyaW5nKCkrXCIgLSBFbWl0IFtzY3JlZW4tY2xvc2VdXCIpLGkuX2lzVmlkZW9UcmFja0Nsb3NlZD0hMCxpLl9lbmRlZD0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2kuZW1pdChcInNjcmVlbi1jbG9zZVwiLHtzdHJlYW1JZDppLnN0cmVhbUlELHN0cmVhbTppfSl9KSl9O2Nhc2UgOTpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJjYXB0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bLTpUWi5dL2csXCJcIikrdGhpcy5fY3VzdG9tU3RyZWFtSUQscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bmV3IEZ1bmN0aW9uO2lmKHcuZGVidWcoXCJBUEkgY2FwdHVyZSgpIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK3RoaXMuZ2V0SWQoKSksIXRoaXMuX3N0cmVhbU9iail0aHJvdyB3Lndhcm4oXCJBUEkgY2FwdHVyZSgpIGVycm9yIC0gdGhpcy5fc3RyZWFtT2JqIGlzIE5VTEwuXCIpLEVycm9yKFwic3RyZWFtIGlzIG51bGwsIHBsZWFzZSBpbml0IGl0IGF0IGZpcnN0LlwiKTtpZighdGhpcy5fdmlkZW8pdGhyb3cgdy53YXJuKFwiQVBJIGNhcHR1cmUoKSBlcnJvciAtIHRoaXMuX3ZpZGVvIGlzIE5VTEwuXCIpLEVycm9yKFwidGhpcyBzdHJlYW0gaGFzIG5vdCBiZSBwbGF5ZWQ6IFwiK3RoaXMuX3N0cmVhbU9iaik7aWYoIS9bXFxcXFxcL1xcKlxcOlxcPFxcPlxcfFxcP1xcXCJdL2cudGVzdCh0KSYmdC5sZW5ndGg+MjU1KXRocm93IHcud2FybihcIkFQSSBjYXB0dXJlKCkgZXJyb3IgLSBpbGxlZ2FsIGZpbGVuYW1lLlwiKSxFcnJvcihcImlsbGVnYWwgZmlsZW5hbWUgXCIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bi53aWR0aD10aGlzLl92aWRlby52aWRlb1dpZHRoLG4uaGVpZ2h0PXRoaXMuX3ZpZGVvLnZpZGVvSGVpZ2h0O3ZhciBhPW4uZ2V0Q29udGV4dChcIjJkXCIpO2EuZHJhd0ltYWdlKHRoaXMuX3ZpZGVvLDAsMCxuLndpZHRoLG4uaGVpZ2h0KSxcImZpbGVcIj09PWU/bi50b0Jsb2IoKGZ1bmN0aW9uKGUpe3IobmV3IEZpbGUoW2VdLHQrXCIuanBlZ1wiLHt0eXBlOlwiaW1hZ2UvanBlZ1wifSkpfSkpOnIobi50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIpKX19LHtrZXk6XCJzZXRBdWRpb1ZvbHVtZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe1wibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuX2dhaW5Ob2RlPyhlPDA/ZT0wOmU+MS41JiYoZT0xLjUpLHRoaXMuX2dhaW5Ob2RlLmdhaW4udmFsdWU9ZSx3LmRlYnVnKFwiQVBJIHNldEF1ZGlvVm9sdW1lKCkgc3VjY2VzcyAtIHZvbHVtZTogXCIrZSkpOncud2FybihcIkFQSSBzZXRBdWRpb1ZvbHVtZSgpIGVycm9yIC0gbm8gZ2Fpbk5vZGUgZXhpc3RlZC5cIik6dy53YXJuKFwiQVBJIHNldEF1ZGlvVm9sdW1lKCkgVHlwZUVycm9yIC0gdm9sdW1lOiBcIitlKX19LHtrZXk6XCJzZXRJbnB1dFZvbHVtZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IHcud2FybihcIkFQSSBzZXRJbnB1dFZvbHVtZSgpIFR5cGVFcnJvciAtIHZvbHVtZTogXCIrZSksVHlwZUVycm9yKFwiV3JvbmcgYXJndW1lbnRzOiB2b2x1bWUgbXVzdCBiZSBudW1iZXIuXCIpO2lmKCF0aGlzLl9nYWluTm9kZSl0aHJvdyB3Lndhcm4oXCJBUEkgc2V0SW5wdXRWb2x1bWUoKSBlcnJvciAtIG5vIGdhaW5Ob2RlIGV4aXN0ZWQuXCIpLEVycm9yKFwic2V0SW5wdXRWb2x1bWUoKSBlcnJvciAtIG5vIGdhaW5Ob2RlIGV4aXN0ZWQuXCIpO2U8MD9lPTA6ZT4xLjUmJihlPTEuNSksdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT1lLHcuZGVidWcoXCJBUEkgc2V0SW5wdXRWb2x1bWUoKSBzdWNjZXNzIC0gdm9sdW1lOiBcIitlKX19LHtrZXk6XCJhZGRUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6XCJyZW1vdmVUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6XCJyZXBsYWNlVHJhY2tcIix2YWx1ZToocj0oMCxpLmRlZmF1bHQpKGEuZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG47cmV0dXJuIGEuZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih3LmRlYnVnKFwiQVBJIHJlcGxhY2VUcmFjaygpIC0gdGhpcy5fdXNlcklkOiBcIit0aGlzLl91c2VySWQrXCIgc3RyZWFtSWQ6IFwiK3RoaXMuZ2V0SWQoKSksdCl7ZS5uZXh0PTQ7YnJlYWt9dGhyb3cgdy53YXJuKFwiQVBJIHJlcGxhY2VUcmFjaygpIGVycm9yIC0gcGFyYW1ldGVyIFt0cmFua10gaXMgSU5WQUxJRC5cIiksVHlwZUVycm9yKFwidHJhY2tcIik7Y2FzZSA0OnI9bnVsbCxuPW51bGwsZS50MD10LmtpbmQsZS5uZXh0PVwidmlkZW9cIj09PWUudDA/OTpcImF1ZGlvXCI9PT1lLnQwPzE0OjE1O2JyZWFrO2Nhc2UgOTpyZXR1cm4ocj10aGlzLl9zdHJlYW1PYmouZ2V0VmlkZW9UcmFja3MoKSkmJnIubGVuZ3RoPjAmJihuPXJbMF0sdGhpcy5fc3RyZWFtT2JqLnJlbW92ZVRyYWNrKG4pLHRoaXMudmlkZW9UcmFja3M9dCx0aGlzLl92aWRlb1NldHRpbmc9dC5nZXRTZXR0aW5ncygpLHRoaXMuX3NldEtleVJlc29sdXRpb24odCkpLGUubmV4dD0xMyx0aGlzLl93ZWJjYW1Qcm9kdWNlci5yZXBsYWNlVHJhY2sodCk7Y2FzZSAxMzpyZXR1cm4gZS5hYnJ1cHQoXCJicmVha1wiLDE2KTtjYXNlIDE0OnRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBzdXBwb3J0IGF1ZGlvIHRyYWNrIHJlcGxhY2Ugbm93LlwiKTtjYXNlIDE1OnRocm93IFR5cGVFcnJvcihcInRyYWNrIGhhdmUgbm8gYXVkaW8gb3IgdmlkZW8uXCIpO2Nhc2UgMTY6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0VmlkZW9UcmFja1NldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlkZW9TZXR0aW5nfX0se2tleTpcImdldEF1ZGlvVHJhY2tTZXR0aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9TZXR0aW5nfX0se2tleTpcIl9zZXRLZXlSZXNvbHV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInRyYWNrXCIpO2lmKFwidmlkZW9cIj09PWUua2luZCl7dmFyIHQ9ZS5nZXRTZXR0aW5ncygpO3QuaGVpZ2h0PD04MD90aGlzLl9rZXlSZXNvbHV0aW9uPVwiODBwXCI6dC5oZWlnaHQ+ODAmJnQuaGVpZ2h0PD0xMjA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjEyMHBcIjp0LmhlaWdodD4xMjAmJnQuaGVpZ2h0PD0xNjA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjE2MHBcIjp0LmhlaWdodD4xNjAmJnQuaGVpZ2h0PD0yMDA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjIwMHBcIjp0LmhlaWdodD4yMDAmJnQuaGVpZ2h0PD0yNDA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjI0MHBcIjp0LmhlaWdodD4yNDAmJnQuaGVpZ2h0PD0zMjA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjMyMHBcIjp0LmhlaWdodD4zMjAmJnQuaGVpZ2h0PD0zNjA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjM2MHBcIjp0LmhlaWdodD4zNjAmJnQuaGVpZ2h0PD00ODA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjQ4MHBcIjp0LmhlaWdodD40ODAmJnQuaGVpZ2h0PD01NDA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjU0MHBcIjp0LmhlaWdodD40ODAmJnQuaGVpZ2h0PD03MjA/dGhpcy5fa2V5UmVzb2x1dGlvbj1cIjcyMHBcIjp0LmhlaWdodD43MjAmJnQuaGVpZ2h0PD0xMDgwfHx0LmhlaWdodD4xMDgwP3RoaXMuX2tleVJlc29sdXRpb249XCIxMDgwcFwiOnRoaXMuX2tleVJlc29sdXRpb249XCI0ODBwXCJ9fX0se2tleTpcIl9nZXRSZXNvbHV0aW9uQnlWaWRlb1Byb2ZpbGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17d2lkdGg6NjQwLGhlaWdodDo0ODB9O2lmKCFlJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gdDt2YXIgcj1lLnRvTG93ZXJDYXNlKCksbj1oLnZpZGVvUmVzb2x1dGlvbi5nZXQocik7cmV0dXJuIG4mJih0LndpZHRoPW4ud2lkdGgsdC5oZWlnaHQ9bi5oZWlnaHQpLHR9fSx7a2V5Olwic3RyZWFtT2JqXCIsc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3N0cmVhbU9iaj1lLGUpe2lmKHRoaXMuX2lzTG9jYWxTdHJlYW0pe3ZhciB0PXRoaXMudmlkZW9UcmFja3M7aWYodCYmdC5sZW5ndGg+MCl7dmFyIHI9dFswXTt0aGlzLl92aWRlb1NldHRpbmc9ci5nZXRTZXR0aW5ncygpLHRoaXMuX3NldEtleVJlc29sdXRpb24ocil9aWYoKHQ9dGhpcy5hdWRpb1RyYWNrcykmJnQubGVuZ3RoPjApe3ZhciBuPXRbMF07dGhpcy5fYXVkaW9TZXR0aW5nPW4uZ2V0U2V0dGluZ3MoKX19ZS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aD4wJiZ0aGlzLl9zcGVlY2hFdmVudHMoZSl9fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RyZWFtT2JqfX0se2tleTpcImlzTG9jYWxTdHJlYW1cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2NhbFN0cmVhbX19LHtrZXk6XCJzdHJlYW1UeXBlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cmVhbVR5cGV9fSx7a2V5Olwic3BlY2lhbENhbWVyYUlkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWNpYWxDYW1lcmFJZH19LHtrZXk6XCJzcGVjaWFsTWljSWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlY2lhbE1pY0lkfX0se2tleTpcInV1aWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXVpZH19LHtrZXk6XCJzdHJlYW1JRFwiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9jdXN0b21TdHJlYW1JRD1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2NhbFN0cmVhbT90aGlzLl9pbm5lclN0cmVhbUlEOnRoaXMuX2N1c3RvbVN0cmVhbUlEfX0se2tleTpcInN0cmVhbUlkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9jYWxTdHJlYW0/dGhpcy5faW5uZXJTdHJlYW1JRDp0aGlzLl9jdXN0b21TdHJlYW1JRH19LHtrZXk6XCJ1c2VySURcIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdXNlcklkPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VySWR9fSx7a2V5OlwidXNlcklkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJJZH19LHtrZXk6XCJpbm5lclN0cmVhbUlEXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJcIj09PXRoaXMuX2lubmVyU3RyZWFtSUQmJih0aGlzLl9pbm5lclN0cmVhbUlEPXQuX2dldElubmVyU3RyZWFtSUQodGhpcy5fdXNlcklkLHRoaXMuc3RyZWFtSUQsMCx0aGlzLHRoaXMuX2lzU3ViU3RyZWFtKSksdGhpcy5faW5uZXJTdHJlYW1JRH19LHtrZXk6XCJ0cmFja0VuZGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZGVkfX0se2tleTpcImF1ZGlvVHJhY2tzXCIsc2V0OmZ1bmN0aW9uKGUpe3cuZGVidWcoXCJBUEkgYXVkaW9UcmFja3MoKSAtIHRoaXMuX3VzZXJJZDogXCIrdGhpcy5fdXNlcklkK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkpLHRoaXMuYXR0YWNoQXVkaW9UcmFja3Moe3RyYWNrOmUsYXV0b1BsYXk6ITF9KX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cmVhbU9iaj90aGlzLl9zdHJlYW1PYmouZ2V0QXVkaW9UcmFja3MoKTpudWxsfX0se2tleTpcInZpZGVvVHJhY2tzXCIsc2V0OmZ1bmN0aW9uKGUpe2lmKHcuZGVidWcoXCJBUEkgdmlkZW9UcmFja3MoKSAtIHRoaXMuX3VzZXJJZDogXCIrdGhpcy5fdXNlcklkK1wiIHN0cmVhbUlkOiBcIit0aGlzLmdldElkKCkpLCFlKXJldHVybiB3Lndhcm4oXCJBUEkgdmlkZW9UcmFja3MoKSBlcnJvciAtIHBhcmFtZXRlciB0cmFjayBpcyBOVUxMXCIpLG5ldyBUeXBlRXJyb3IoXCJ0cmFja1wiKTtpZihcInZpZGVvXCIhPT1lLmtpbmQpcmV0dXJuIHcud2FybihcIkFQSSB2aWRlb1RyYWNrcygpIGVycm9yIC0gcGFyYW1ldGVyIHRyYWNrLmtpbmQgaXMgbm9kZSB2aWRlb1wiKSxuZXcgVHlwZUVycm9yKFwidHJhY2sgaXMgbm90IHZpZGVvIGtpbmRcIik7aWYobnVsbD09PXRoaXMuX3N0cmVhbU9iail0aHJvdyB3Lndhcm4oXCJBUEkgdmlkZW9UcmFja3MoKSBlcnJvciAtIHRoaXMuX3N0cmVhbU9iaiBpcyBOVUxMXCIpLG5ldyBFcnJvcihcInN0cmVhbSBvYmplY3QgaXMgbnVsbC5cIik7dmFyIHQ9dGhpcy5fc3RyZWFtT2JqLmdldFZpZGVvVHJhY2tzKCk7aWYodCYmdC5sZW5ndGg+MCl7dmFyIHI9dFswXTtyLnN0b3AoKSx0aGlzLl9zdHJlYW1PYmoucmVtb3ZlVHJhY2socil9dGhpcy5fc3RyZWFtT2JqLmFkZFRyYWNrKGUpLHRoaXMuX3ZpZGVvJiYodGhpcy5fdmlkZW8uc3JjT2JqZWN0PXRoaXMuX3N0cmVhbU9iail9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJlYW1PYmo/dGhpcy5fc3RyZWFtT2JqLmdldFZpZGVvVHJhY2tzKCk6bnVsbH19LHtrZXk6XCJhdWRpb1RyYWNrU3RhdHVzXCIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3N0cmVhbU9iailyZXR1cm57fTt2YXIgZT10aGlzLl9zdHJlYW1PYmouZ2V0QXVkaW9UcmFja3MoKTtyZXR1cm4gZSYmZS5sZW5ndGg+MD97aWQ6ZVswXS5pZCxsYWJlbDplWzBdLmxhYmVsLGVuYWJsZWQ6ZVswXS5lbmFibGVkLG11dGVkOmVbMF0ubXV0ZWQscmVhZHlTdGF0ZTplWzBdLnJlYWR5U3RhdGV9Ont9fX0se2tleTpcInZpZGVvVHJhY2tTdGF0dXNcIixnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fc3RyZWFtT2JqKXJldHVybnt9O3ZhciBlPXRoaXMuX3N0cmVhbU9iai5nZXRWaWRlb1RyYWNrcygpO3JldHVybiBlJiZlLmxlbmd0aD4wP3tpZDplWzBdLmlkLGxhYmVsOmVbMF0ubGFiZWwsZW5hYmxlZDplWzBdLmVuYWJsZWQsbXV0ZWQ6ZVswXS5tdXRlZCxyZWFkeVN0YXRlOmVbMF0ucmVhZHlTdGF0ZX06e319fSx7a2V5OlwidHJhY2tzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cmVhbU9iai5nZXRUcmFja3MoKX19LHtrZXk6XCJ0cmFja051bWJlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJlYW1PYmo/dGhpcy5fc3RyZWFtT2JqLmdldFRyYWNrcygpLmxlbmd0aDowfX0se2tleTpcInN1YnNjcmliZWRcIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc3Vic2NyaWJlZD1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaWJlZH19LHtrZXk6XCJ0eXBlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLnRyYWNrTnVtYmVyJiZ0aGlzLmF1ZGlvVHJhY2tzLmxlbmd0aD4wP1wiYXVkaW9cIjpcInZpZGVvXCJ9fSx7a2V5OlwicHVibGlzaGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B1Ymxpc2hlZH0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wdWJsaXNoZWQ9ZX19LHtrZXk6XCJwdWJsaXNoU3RhdGVcIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcHVibGlzaFN0YXRlPWV9fSx7a2V5OlwidmlkZW9UeXBlXCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3ZpZGVvVHlwZT0rZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZGVvVHlwZX19LHtrZXk6XCJpc01pY0Nsb3NlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc01pY0Nsb3NlZH19LHtrZXk6XCJpc1ZpZGVvVHJhY2tDbG9zZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNWaWRlb1RyYWNrQ2xvc2VkfX0se2tleTpcImlkZWFsQmFuZHdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fc3BlYy5jb2RlY09wdGlvbnMmJnRoaXMuX3NwZWMuY29kZWNPcHRpb25zLnN0YXJ0Qml0cmF0ZSlyZXR1cm4gdGhpcy5fc3BlYy5jb2RlY09wdGlvbnMuc3RhcnRCaXRyYXRlO3ZhciBlPWgudmlkZW9SZXNvbHV0aW9uLmdldCh0aGlzLl9rZXlSZXNvbHV0aW9uKSx0PTQwMDtyZXR1cm4gZSYmZS5icHMmJih0PWUuYnBzLmlkZWFsLzFlMyksdD4wP3Q6NDAwfX0se2tleTpcIm1pbkJhbmR3aWR0aFwiLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuX3NwZWMuY29kZWNPcHRpb25zJiZ0aGlzLl9zcGVjLmNvZGVjT3B0aW9ucy5taW5CaXRyYXRlKXJldHVybiB0aGlzLl9zcGVjLmNvZGVjT3B0aW9ucy5taW5CaXRyYXRlO3ZhciBlPWgudmlkZW9SZXNvbHV0aW9uLmdldCh0aGlzLl9rZXlSZXNvbHV0aW9uKSx0PTMwMDtyZXR1cm4gZSYmZS5icHMmJih0PWUuYnBzLm1pbi8xZTMpLHQ+MD90OjMwMH19LHtrZXk6XCJtYXhCYW5kd2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9zcGVjLmNvZGVjT3B0aW9ucyYmdGhpcy5fc3BlYy5jb2RlY09wdGlvbnMubWF4Qml0cmF0ZSlyZXR1cm4gdGhpcy5fc3BlYy5jb2RlY09wdGlvbnMubWF4Qml0cmF0ZTt2YXIgZT1oLnZpZGVvUmVzb2x1dGlvbi5nZXQodGhpcy5fa2V5UmVzb2x1dGlvbiksdD01MDA7cmV0dXJuIGUmJmUuYnBzJiYodD1lLmJwcy5tYXgvMWUzKSx0PjA/dDo1MDB9fV0sW3trZXk6XCJjbGVhclN0cmVhbUlkTWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXtQJiZQLmNsZWFyKCl9fSx7a2V5OlwiX2dldElubmVyU3RyZWFtSURcIix2YWx1ZTpmdW5jdGlvbihlLHIsbixhKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdO2lmKFwiXCI9PT1lKXJldHVyblwiXCI7dmFyIG89UC5nZXQoXCJcIityKTtyZXR1cm4gdm9pZCAwPT09bz8oUC5zZXQoXCJcIityLGEpLHIpOmk/MD09PW4/dC5fZ2V0SW5uZXJTdHJlYW1JRChlLGUrXCI6XCIrZStcIl9sb3dcIixuKzEsYSk6dC5fZ2V0SW5uZXJTdHJlYW1JRChlLGUrXCI6XCIrZStcIl9cIituK1wiX2xvd1wiLG4rMSxhKTp0Ll9nZXRJbm5lclN0cmVhbUlEKGUsZStcIjpcIitlK1wiX1wiKyhuKzEpLG4rMSxhKX19XSksdH0obS5FdmVudEVtaXR0ZXIpO3QuZGVmYXVsdD1TfSkuY2FsbCh0aGlzLHIoMzcpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaW50ZXJuYWxzPXQuUm9vbT12b2lkIDA7dmFyIG49dShyKDYpKTt0LnNldERldmljZUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtpLmRlZmF1bHQuc2V0SGFuZGxlcihlLHQpfSx0LmlzRGV2aWNlU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdC5pc1N1cHBvcnRlZCgpfSx0LmdldERldmljZUluZm89ZnVuY3Rpb24oKXtyZXR1cm57ZmxhZzppLmRlZmF1bHQuZ2V0RmxhZygpLG5hbWU6aS5kZWZhdWx0LmdldE5hbWUoKSx2ZXJzaW9uOmkuZGVmYXVsdC5nZXRWZXJzaW9uKCksYm93c2VyOmkuZGVmYXVsdC5nZXRCb3dzZXIoKX19LHQuY2hlY2tDYXBhYmlsaXRpZXNGb3JSb29tPWZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZmF1bHQuaXNTdXBwb3J0ZWQoKT9pLmRlZmF1bHQuSGFuZGxlci5nZXROYXRpdmVSdHBDYXBhYmlsaXRpZXMoKS50aGVuKChmdW5jdGlvbih0KXt2YXIgcj1hLmdldEV4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzKHQsZSk7cmV0dXJue2F1ZGlvOmEuY2FuU2VuZChcImF1ZGlvXCIsciksdmlkZW86YS5jYW5TZW5kKFwidmlkZW9cIixyKX19KSk6bi5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJjdXJyZW50IGJyb3dzZXIvZGV2aWNlIG5vdCBzdXBwb3J0ZWRcIikpfTt2YXIgYT1jKHIoMTUpKSxpPXUocig4MSkpLG89dShyKDIxMCkpLHM9YyhyKDIxNikpO2Z1bmN0aW9uIGMoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuUm9vbT1vLmRlZmF1bHQsdC5pbnRlcm5hbHM9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuLGE9cig0MSksaT0obj1hKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIG89ZS5leHBvcnRzPXt2Olt7bmFtZTpcInZlcnNpb25cIixyZWc6L14oXFxkKikkL31dLG86W3tuYW1lOlwib3JpZ2luXCIscmVnOi9eKFxcUyopIChcXGQqKSAoXFxkKikgKFxcUyopIElQKFxcZCkgKFxcUyopLyxuYW1lczpbXCJ1c2VybmFtZVwiLFwic2Vzc2lvbklkXCIsXCJzZXNzaW9uVmVyc2lvblwiLFwibmV0VHlwZVwiLFwiaXBWZXJcIixcImFkZHJlc3NcIl0sZm9ybWF0OlwiJXMgJXMgJWQgJXMgSVAlZCAlc1wifV0sczpbe25hbWU6XCJuYW1lXCJ9XSxpOlt7bmFtZTpcImRlc2NyaXB0aW9uXCJ9XSx1Olt7bmFtZTpcInVyaVwifV0sZTpbe25hbWU6XCJlbWFpbFwifV0scDpbe25hbWU6XCJwaG9uZVwifV0sejpbe25hbWU6XCJ0aW1lem9uZXNcIn1dLHI6W3tuYW1lOlwicmVwZWF0c1wifV0sdDpbe25hbWU6XCJ0aW1pbmdcIixyZWc6L14oXFxkKikgKFxcZCopLyxuYW1lczpbXCJzdGFydFwiLFwic3RvcFwiXSxmb3JtYXQ6XCIlZCAlZFwifV0sYzpbe25hbWU6XCJjb25uZWN0aW9uXCIscmVnOi9eSU4gSVAoXFxkKSAoXFxTKikvLG5hbWVzOltcInZlcnNpb25cIixcImlwXCJdLGZvcm1hdDpcIklOIElQJWQgJXNcIn1dLGI6W3twdXNoOlwiYmFuZHdpZHRoXCIscmVnOi9eKFRJQVN8QVN8Q1R8UlJ8UlMpOihcXGQqKS8sbmFtZXM6W1widHlwZVwiLFwibGltaXRcIl0sZm9ybWF0OlwiJXM6JXNcIn1dLG06W3tyZWc6L14oXFx3KikgKFxcZCopIChbXFx3XFwvXSopKD86ICguKikpPy8sbmFtZXM6W1widHlwZVwiLFwicG9ydFwiLFwicHJvdG9jb2xcIixcInBheWxvYWRzXCJdLGZvcm1hdDpcIiVzICVkICVzICVzXCJ9XSxhOlt7cHVzaDpcInJ0cFwiLHJlZzovXnJ0cG1hcDooXFxkKikgKFtcXHdcXC1cXC5dKikoPzpcXHMqXFwvKFxcZCopKD86XFxzKlxcLyhcXFMqKSk/KT8vLG5hbWVzOltcInBheWxvYWRcIixcImNvZGVjXCIsXCJyYXRlXCIsXCJlbmNvZGluZ1wiXSxmb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5jb2Rpbmc/XCJydHBtYXA6JWQgJXMvJXMvJXNcIjplLnJhdGU/XCJydHBtYXA6JWQgJXMvJXNcIjpcInJ0cG1hcDolZCAlc1wifX0se3B1c2g6XCJmbXRwXCIscmVnOi9eZm10cDooXFxkKikgKFtcXFN8IF0qKS8sbmFtZXM6W1wicGF5bG9hZFwiLFwiY29uZmlnXCJdLGZvcm1hdDpcImZtdHA6JWQgJXNcIn0se25hbWU6XCJjb250cm9sXCIscmVnOi9eY29udHJvbDooLiopLyxmb3JtYXQ6XCJjb250cm9sOiVzXCJ9LHtuYW1lOlwicnRjcFwiLHJlZzovXnJ0Y3A6KFxcZCopKD86IChcXFMqKSBJUChcXGQpIChcXFMqKSk/LyxuYW1lczpbXCJwb3J0XCIsXCJuZXRUeXBlXCIsXCJpcFZlclwiLFwiYWRkcmVzc1wiXSxmb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuYWRkcmVzcz9cInJ0Y3A6JWQgJXMgSVAlZCAlc1wiOlwicnRjcDolZFwifX0se3B1c2g6XCJydGNwRmJUcnJJbnRcIixyZWc6L15ydGNwLWZiOihcXCp8XFxkKikgdHJyLWludCAoXFxkKikvLG5hbWVzOltcInBheWxvYWRcIixcInZhbHVlXCJdLGZvcm1hdDpcInJ0Y3AtZmI6JWQgdHJyLWludCAlZFwifSx7cHVzaDpcInJ0Y3BGYlwiLHJlZzovXnJ0Y3AtZmI6KFxcKnxcXGQqKSAoW1xcdy1fXSopKD86IChbXFx3LV9dKikpPy8sbmFtZXM6W1wicGF5bG9hZFwiLFwidHlwZVwiLFwic3VidHlwZVwiXSxmb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuc3VidHlwZT9cInJ0Y3AtZmI6JXMgJXMgJXNcIjpcInJ0Y3AtZmI6JXMgJXNcIn19LHtwdXNoOlwiZXh0XCIscmVnOi9eZXh0bWFwOihcXGQrKSg/OlxcLyhcXHcrKSk/IChcXFMqKSg/OiAoXFxTKikpPy8sbmFtZXM6W1widmFsdWVcIixcImRpcmVjdGlvblwiLFwidXJpXCIsXCJjb25maWdcIl0sZm9ybWF0OmZ1bmN0aW9uKGUpe3JldHVyblwiZXh0bWFwOiVkXCIrKGUuZGlyZWN0aW9uP1wiLyVzXCI6XCIldlwiKStcIiAlc1wiKyhlLmNvbmZpZz9cIiAlc1wiOlwiXCIpfX0se3B1c2g6XCJjcnlwdG9cIixyZWc6L15jcnlwdG86KFxcZCopIChbXFx3X10qKSAoXFxTKikoPzogKFxcUyopKT8vLG5hbWVzOltcImlkXCIsXCJzdWl0ZVwiLFwiY29uZmlnXCIsXCJzZXNzaW9uQ29uZmlnXCJdLGZvcm1hdDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5zZXNzaW9uQ29uZmlnP1wiY3J5cHRvOiVkICVzICVzICVzXCI6XCJjcnlwdG86JWQgJXMgJXNcIn19LHtuYW1lOlwic2V0dXBcIixyZWc6L15zZXR1cDooXFx3KikvLGZvcm1hdDpcInNldHVwOiVzXCJ9LHtuYW1lOlwibWlkXCIscmVnOi9ebWlkOihbXlxcc10qKS8sZm9ybWF0OlwibWlkOiVzXCJ9LHtuYW1lOlwibXNpZFwiLHJlZzovXm1zaWQ6KC4qKS8sZm9ybWF0OlwibXNpZDolc1wifSx7bmFtZTpcInB0aW1lXCIscmVnOi9ecHRpbWU6KFxcZCopLyxmb3JtYXQ6XCJwdGltZTolZFwifSx7bmFtZTpcIm1heHB0aW1lXCIscmVnOi9ebWF4cHRpbWU6KFxcZCopLyxmb3JtYXQ6XCJtYXhwdGltZTolZFwifSx7bmFtZTpcImRpcmVjdGlvblwiLHJlZzovXihzZW5kcmVjdnxyZWN2b25seXxzZW5kb25seXxpbmFjdGl2ZSkvfSx7bmFtZTpcImljZWxpdGVcIixyZWc6L14oaWNlLWxpdGUpL30se25hbWU6XCJpY2VVZnJhZ1wiLHJlZzovXmljZS11ZnJhZzooXFxTKikvLGZvcm1hdDpcImljZS11ZnJhZzolc1wifSx7bmFtZTpcImljZVB3ZFwiLHJlZzovXmljZS1wd2Q6KFxcUyopLyxmb3JtYXQ6XCJpY2UtcHdkOiVzXCJ9LHtuYW1lOlwiZmluZ2VycHJpbnRcIixyZWc6L15maW5nZXJwcmludDooXFxTKikgKFxcUyopLyxuYW1lczpbXCJ0eXBlXCIsXCJoYXNoXCJdLGZvcm1hdDpcImZpbmdlcnByaW50OiVzICVzXCJ9LHtwdXNoOlwiY2FuZGlkYXRlc1wiLHJlZzovXmNhbmRpZGF0ZTooXFxTKikgKFxcZCopIChcXFMqKSAoXFxkKikgKFxcUyopIChcXGQqKSB0eXAgKFxcUyopKD86IHJhZGRyIChcXFMqKSBycG9ydCAoXFxkKikpPyg/OiB0Y3B0eXBlIChcXFMqKSk/KD86IGdlbmVyYXRpb24gKFxcZCopKT8oPzogbmV0d29yay1pZCAoXFxkKikpPyg/OiBuZXR3b3JrLWNvc3QgKFxcZCopKT8vLG5hbWVzOltcImZvdW5kYXRpb25cIixcImNvbXBvbmVudFwiLFwidHJhbnNwb3J0XCIsXCJwcmlvcml0eVwiLFwiaXBcIixcInBvcnRcIixcInR5cGVcIixcInJhZGRyXCIsXCJycG9ydFwiLFwidGNwdHlwZVwiLFwiZ2VuZXJhdGlvblwiLFwibmV0d29yay1pZFwiLFwibmV0d29yay1jb3N0XCJdLGZvcm1hdDpmdW5jdGlvbihlKXt2YXIgdD1cImNhbmRpZGF0ZTolcyAlZCAlcyAlZCAlcyAlZCB0eXAgJXNcIjtyZXR1cm4gdCs9bnVsbCE9ZS5yYWRkcj9cIiByYWRkciAlcyBycG9ydCAlZFwiOlwiJXYldlwiLHQrPW51bGwhPWUudGNwdHlwZT9cIiB0Y3B0eXBlICVzXCI6XCIldlwiLG51bGwhPWUuZ2VuZXJhdGlvbiYmKHQrPVwiIGdlbmVyYXRpb24gJWRcIiksdCs9bnVsbCE9ZVtcIm5ldHdvcmstaWRcIl0/XCIgbmV0d29yay1pZCAlZFwiOlwiJXZcIix0Kz1udWxsIT1lW1wibmV0d29yay1jb3N0XCJdP1wiIG5ldHdvcmstY29zdCAlZFwiOlwiJXZcIn19LHtuYW1lOlwiZW5kT2ZDYW5kaWRhdGVzXCIscmVnOi9eKGVuZC1vZi1jYW5kaWRhdGVzKS99LHtuYW1lOlwicmVtb3RlQ2FuZGlkYXRlc1wiLHJlZzovXnJlbW90ZS1jYW5kaWRhdGVzOiguKikvLGZvcm1hdDpcInJlbW90ZS1jYW5kaWRhdGVzOiVzXCJ9LHtuYW1lOlwiaWNlT3B0aW9uc1wiLHJlZzovXmljZS1vcHRpb25zOihcXFMqKS8sZm9ybWF0OlwiaWNlLW9wdGlvbnM6JXNcIn0se3B1c2g6XCJzc3Jjc1wiLHJlZzovXnNzcmM6KFxcZCopIChbXFx3Xy1dKikoPzo6KC4qKSk/LyxuYW1lczpbXCJpZFwiLFwiYXR0cmlidXRlXCIsXCJ2YWx1ZVwiXSxmb3JtYXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJzc3JjOiVkXCI7cmV0dXJuIG51bGwhPWUuYXR0cmlidXRlJiYodCs9XCIgJXNcIixudWxsIT1lLnZhbHVlJiYodCs9XCI6JXNcIikpLHR9fSx7cHVzaDpcInNzcmNHcm91cHNcIixyZWc6L15zc3JjLWdyb3VwOihbXFx4MjFcXHgyM1xceDI0XFx4MjVcXHgyNlxceDI3XFx4MkFcXHgyQlxceDJEXFx4MkVcXHddKikgKC4qKS8sbmFtZXM6W1wic2VtYW50aWNzXCIsXCJzc3Jjc1wiXSxmb3JtYXQ6XCJzc3JjLWdyb3VwOiVzICVzXCJ9LHtuYW1lOlwibXNpZFNlbWFudGljXCIscmVnOi9ebXNpZC1zZW1hbnRpYzpcXHM/KFxcdyopIChcXFMqKS8sbmFtZXM6W1wic2VtYW50aWNcIixcInRva2VuXCJdLGZvcm1hdDpcIm1zaWQtc2VtYW50aWM6ICVzICVzXCJ9LHtwdXNoOlwiZ3JvdXBzXCIscmVnOi9eZ3JvdXA6KFxcdyopICguKikvLG5hbWVzOltcInR5cGVcIixcIm1pZHNcIl0sZm9ybWF0OlwiZ3JvdXA6JXMgJXNcIn0se25hbWU6XCJydGNwTXV4XCIscmVnOi9eKHJ0Y3AtbXV4KS99LHtuYW1lOlwicnRjcFJzaXplXCIscmVnOi9eKHJ0Y3AtcnNpemUpL30se25hbWU6XCJzY3RwbWFwXCIscmVnOi9ec2N0cG1hcDooW1xcd19cXC9dKikgKFxcUyopKD86IChcXFMqKSk/LyxuYW1lczpbXCJzY3RwbWFwTnVtYmVyXCIsXCJhcHBcIixcIm1heE1lc3NhZ2VTaXplXCJdLGZvcm1hdDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5tYXhNZXNzYWdlU2l6ZT9cInNjdHBtYXA6JXMgJXMgJXNcIjpcInNjdHBtYXA6JXMgJXNcIn19LHtuYW1lOlwieEdvb2dsZUZsYWdcIixyZWc6L154LWdvb2dsZS1mbGFnOihbXlxcc10qKS8sZm9ybWF0OlwieC1nb29nbGUtZmxhZzolc1wifSx7cHVzaDpcInJpZHNcIixyZWc6L15yaWQ6KFtcXGRcXHddKykgKFxcdyspKD86IChbXFxTfCBdKikpPy8sbmFtZXM6W1wiaWRcIixcImRpcmVjdGlvblwiLFwicGFyYW1zXCJdLGZvcm1hdDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXM/XCJyaWQ6JXMgJXMgJXNcIjpcInJpZDolcyAlc1wifX0se3B1c2g6XCJpbWFnZWF0dHJzXCIscmVnOm5ldyBSZWdFeHAoXCJeaW1hZ2VhdHRyOihcXFxcZCt8XFxcXCopW1xcXFxzXFxcXHRdKyhzZW5kfHJlY3YpW1xcXFxzXFxcXHRdKyhcXFxcKnxcXFxcW1xcXFxTK1xcXFxdKD86W1xcXFxzXFxcXHRdK1xcXFxbXFxcXFMrXFxcXF0pKikoPzpbXFxcXHNcXFxcdF0rKHJlY3Z8c2VuZClbXFxcXHNcXFxcdF0rKFxcXFwqfFxcXFxbXFxcXFMrXFxcXF0oPzpbXFxcXHNcXFxcdF0rXFxcXFtcXFxcUytcXFxcXSkqKSk/XCIpLG5hbWVzOltcInB0XCIsXCJkaXIxXCIsXCJhdHRyczFcIixcImRpcjJcIixcImF0dHJzMlwiXSxmb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuXCJpbWFnZWF0dHI6JXMgJXMgJXNcIisoZS5kaXIyP1wiICVzICVzXCI6XCJcIil9fSx7bmFtZTpcInNpbXVsY2FzdFwiLHJlZzpuZXcgUmVnRXhwKFwiXnNpbXVsY2FzdDooc2VuZHxyZWN2KSAoW2EtekEtWjAtOVxcXFwtX347LF0rKSg/OlxcXFxzPyhzZW5kfHJlY3YpIChbYS16QS1aMC05XFxcXC1ffjssXSspKT8kXCIpLG5hbWVzOltcImRpcjFcIixcImxpc3QxXCIsXCJkaXIyXCIsXCJsaXN0MlwiXSxmb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzaW11bGNhc3Q6JXMgJXNcIisoZS5kaXIyP1wiICVzICVzXCI6XCJcIil9fSx7bmFtZTpcInNpbXVsY2FzdF8wM1wiLHJlZzovXnNpbXVsY2FzdDpbXFxzXFx0XSsoW1xcUytcXHNcXHRdKykkLyxuYW1lczpbXCJ2YWx1ZVwiXSxmb3JtYXQ6XCJzaW11bGNhc3Q6ICVzXCJ9LHtuYW1lOlwiZnJhbWVyYXRlXCIscmVnOi9eZnJhbWVyYXRlOihcXGQrKD86JHxcXC5cXGQrKSkvLGZvcm1hdDpcImZyYW1lcmF0ZTolc1wifSx7bmFtZTpcInNvdXJjZUZpbHRlclwiLHJlZzovXnNvdXJjZS1maWx0ZXI6ICooZXhjbHxpbmNsKSAoXFxTKikgKElQNHxJUDZ8XFwqKSAoXFxTKikgKC4qKS8sbmFtZXM6W1wiZmlsdGVyTW9kZVwiLFwibmV0VHlwZVwiLFwiYWRkcmVzc1R5cGVzXCIsXCJkZXN0QWRkcmVzc1wiLFwic3JjTGlzdFwiXSxmb3JtYXQ6XCJzb3VyY2UtZmlsdGVyOiAlcyAlcyAlcyAlcyAlc1wifSx7bmFtZTpcImJ1bmRsZU9ubHlcIixyZWc6L14oYnVuZGxlLW9ubHkpL30se25hbWU6XCJsYWJlbFwiLHJlZzovXmxhYmVsOiguKykvLGZvcm1hdDpcImxhYmVsOiVzXCJ9LHtuYW1lOlwic2N0cFBvcnRcIixyZWc6L15zY3RwLXBvcnQ6KFxcZCspJC8sZm9ybWF0Olwic2N0cC1wb3J0OiVzXCJ9LHtuYW1lOlwibWF4TWVzc2FnZVNpemVcIixyZWc6L15tYXgtbWVzc2FnZS1zaXplOihcXGQrKSQvLGZvcm1hdDpcIm1heC1tZXNzYWdlLXNpemU6JXNcIn0se3B1c2g6XCJpbnZhbGlkXCIsbmFtZXM6W1widmFsdWVcIl19XX07KDAsaS5kZWZhdWx0KShvKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVnfHwoZS5yZWc9LyguKikvKSxlLmZvcm1hdHx8KGUuZm9ybWF0PVwiJXNcIil9KSl9KSl9LGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIHQ9KGU9ZXx8e30pLm1pbixyPWUubWF4LG49ZS5pbnRlZ2VyfHwhMTtpZihudWxsPT10JiZudWxsPT1yPyh0PTAscj0xKTpudWxsPT10P3Q9ci0xOm51bGw9PXImJihyPXQrMSkscjx0KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgb3B0aW9ucywgbWF4IG11c3QgYmUgPj0gbWluXCIpO3JldHVybnttaW46dCxtYXg6cixpbnRlZ2VyOm59fWZ1bmN0aW9uIG4oZSl7aWYoKGU9cihlKSkubWF4PT09ZS5taW4pcmV0dXJuIGUubWluO3ZhciB0PU1hdGgucmFuZG9tKCkqKGUubWF4LWUubWluK051bWJlcighIWUuaW50ZWdlcikpK2UubWluO3JldHVybiBlLmludGVnZXI/TWF0aC5mbG9vcih0KTp0fWUuZXhwb3J0cz1uLGUuZXhwb3J0cy5nZW5lcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9cihlKSxmdW5jdGlvbih0LHIsYSl7cmV0dXJuIGUubWluPW51bGwhPXQ/dDplLm1pbixlLm1heD1udWxsIT1yP3I6ZS5tYXgsZS5pbnRlZ2VyPW51bGwhPWE/YTplLmludGVnZXIsbihlKX19LGUuZXhwb3J0cy5kZWZhdWx0cz1yfSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPWkocigxOTIpKSxhPWkocigxNykpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoKDAsbi5kZWZhdWx0KShPYmplY3QoZSkpKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciByPVtdLG49ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLGM9KDAsYS5kZWZhdWx0KShlKTshKG49KHM9Yy5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKHMudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXshbiYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiByfShlLHQpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWMocigyNikpLGE9YyhyKDApKSxpPWMocigxKSksbz1jKHIoMzApKSxzPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocigxMTYpKTtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdT1uZXcgby5kZWZhdWx0KFwiPHByb3Rvb01lc3NhZ2U+XCIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsYS5kZWZhdWx0KSh0aGlzLGUpfXJldHVybigwLGkuZGVmYXVsdCkoZSxudWxsLFt7a2V5OlwicGFyc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAscj17fTt0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe3JldHVybiB2b2lkIHUuZXJyb3IoXCJwYXJzZSgpIHwgaW52YWxpZCBKU09OOiAlc1wiLGUpfWlmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOigwLG4uZGVmYXVsdCkodCkpJiYhQXJyYXkuaXNBcnJheSh0KSl7aWYodC5yZXF1ZXN0KXtpZihyLnJlcXVlc3Q9ITAsXCJzdHJpbmdcIiE9dHlwZW9mIHQubWV0aG9kKXJldHVybiB2b2lkIHUuZXJyb3IoXCJwYXJzZSgpIHwgbWlzc2luZy9pbnZhbGlkIG1ldGhvZCBmaWVsZFwiKTtpZihcIm51bWJlclwiIT10eXBlb2YgdC5pZClyZXR1cm4gdm9pZCB1LmVycm9yKFwicGFyc2UoKSB8IG1pc3NpbmcvaW52YWxpZCBpZCBmaWVsZFwiKTtyLmlkPXQuaWQsci5tZXRob2Q9dC5tZXRob2Qsci5kYXRhPXQuZGF0YXx8e319ZWxzZSBpZih0LnJlc3BvbnNlKXtpZihyLnJlc3BvbnNlPSEwLFwibnVtYmVyXCIhPXR5cGVvZiB0LmlkKXJldHVybiB2b2lkIHUuZXJyb3IoXCJwYXJzZSgpIHwgbWlzc2luZy9pbnZhbGlkIGlkIGZpZWxkXCIpO3IuaWQ9dC5pZCx0Lm9rPyhyLm9rPSEwLHIuZGF0YT10LmRhdGF8fHt9KTooci5lcnJvckNvZGU9dC5lcnJvckNvZGUsci5lcnJvclJlYXNvbj10LmVycm9yUmVhc29uKX1lbHNle2lmKCF0Lm5vdGlmaWNhdGlvbilyZXR1cm4gdm9pZCB1LmVycm9yKFwicGFyc2UoKSB8IG1pc3NpbmcgcmVxdWVzdC9yZXNwb25zZSBmaWVsZFwiKTtpZihyLm5vdGlmaWNhdGlvbj0hMCxcInN0cmluZ1wiIT10eXBlb2YgdC5tZXRob2QpcmV0dXJuIHZvaWQgdS5lcnJvcihcInBhcnNlKCkgfCBtaXNzaW5nL2ludmFsaWQgbWV0aG9kIGZpZWxkXCIpO3IubWV0aG9kPXQubWV0aG9kLHIuZGF0YT10LmRhdGF8fHt9fXJldHVybiByfXUuZXJyb3IoXCJwYXJzZSgpIHwgbm90IGFuIG9iamVjdFwiKX19LHtrZXk6XCJyZXF1ZXN0RmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJue3JlcXVlc3Q6ITAsaWQ6cy5yYW5kb21OdW1iZXJHZW5lcmF0b3IoKSxtZXRob2Q6ZSxkYXRhOnR8fHt9fX19LHtrZXk6XCJzdWNjZXNzUmVzcG9uc2VGYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm57cmVzcG9uc2U6ITAsaWQ6ZS5pZCxvazohMCxkYXRhOnR8fHt9fX19LHtrZXk6XCJlcnJvclJlc3BvbnNlRmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57cmVzcG9uc2U6ITAsaWQ6ZS5pZCxlcnJvckNvZGU6dCxlcnJvclJlYXNvbjpyfX19LHtrZXk6XCJub3RpZmljYXRpb25GYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm57bm90aWZpY2F0aW9uOiEwLG1ldGhvZDplLGRhdGE6dHx8e319fX1dKSxlfSgpO3QuZGVmYXVsdD1kfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49cigxMTMpO3QucmFuZG9tTnVtYmVyR2VuZXJhdG9yPW4uZ2VuZXJhdG9yKHttaW46MWU2LG1heDo5OTk5OTk5LGludGVnZXI6ITB9KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWYocig2KSksYT1mKHIoMikpLGk9ZihyKDI0KSksbz1mKHIoMCkpLHM9ZihyKDEpKSxjPWYocigzKSksdT1mKHIoNCkpLGQ9cigyOSksbD1mKHIoMzApKSxwPWYocigxMTUpKTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbT1yKDIyMSkudzNjd2Vic29ja2V0LGg9cigxMDkpLHY9bmV3IGwuZGVmYXVsdChcIjxwcm90b29XZWJTb2NrZXRUcmFuc3BvcnQ+XCIpLF89e3JldHJpZXM6MTAsZmFjdG9yOjIsbWluVGltZW91dDoxZTMsbWF4VGltZW91dDo0ZTN9LGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLG8uZGVmYXVsdCkodGhpcyx0KSx2LmRlYnVnKFwiY29uc3RydWN0b3IoKSAtIHVybDogXCIrZStcIiBvcHRpb25zOiBcIisoMCxpLmRlZmF1bHQpKHIpKTt2YXIgbj0oMCxjLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxhLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMpKTtuLnNldE1heExpc3RlbmVycygxLzApO3ZhciBzPURhdGUucGFyc2UobmV3IERhdGUpLHU9TWF0aC5yb3VuZCgxZTkqTWF0aC5yYW5kb20oKSk7cmV0dXJuIG4uX29yaWdVcmw9ZStcIiZzaWQ9XCIrcytcIi1cIit1LG4uX3VybD1uLl9vcmlnVXJsLG4uX29wdGlvbnM9cnx8e30sbi5fd3M9bnVsbCxuLl94TmVlZFJlSW5pdD0hMSxuLl9jbG9zZWQ9ITEsbi5fY29ubmVjdGVkPSExLG4uX3NldFdlYlNvY2tldCgpLG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcInNlbmRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9jbG9zZWQpcmV0dXJuIG4uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhbnNwb3J0IGNsb3NlZFwiKSk7dHJ5e3JldHVybiB0aGlzLl93cy5zZW5kKCgwLGkuZGVmYXVsdCkoZSkpLG4uZGVmYXVsdC5yZXNvbHZlKCl9Y2F0Y2godCl7cmV0dXJuIHYud2FybihcInNlbmQoKSBtZXNzZ2U6IFwiKygwLGkuZGVmYXVsdCkoZSkrXCIgZXJyb3IgLSBcIit0LnRvU3RyaW5nKCkpLG4uZGVmYXVsdC5yZWplY3QodCl9fX0se2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih2LmRlYnVnKFwiY2xvc2UoKVwiKSwhdGhpcy5fY2xvc2VkKXt0aGlzLl94TmVlZFJlSW5pdD0hMSx0aGlzLl9jbG9zZWQ9ITAsdGhpcy5lbWl0KFwiY2xvc2VcIix7Y29kZTozZTMscmVhc29uOlwiYWN0aXZlIGNsb3NlXCJ9KTt0cnl7dGhpcy5fd3Mub25vcGVuPW51bGwsdGhpcy5fd3Mub25jbG9zZT1udWxsLHRoaXMuX3dzLm9uZXJyb3I9bnVsbCx0aGlzLl93cy5vbm1lc3NhZ2U9bnVsbCx0aGlzLl93cy5jbG9zZSgpfWNhdGNoKGUpe3YuZXJyb3IoXCJjbG9zZSgpIGVycm9yIC0gY2xvc2luZyB0aGUgV2ViU29ja2V0OiBcIitlLnRvU3RyaW5nKCkpfX19fSx7a2V5OlwiX3NldFdlYlNvY2tldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX29wdGlvbnMscj1oLm9wZXJhdGlvbih0aGlzLl9vcHRpb25zLnJldHJ5fHxfKTt0aGlzLl9jb25uZWN0ZWQ9ITEsci5hdHRlbXB0KChmdW5jdGlvbihuKXtlLl9jbG9zZWQ/ci5zdG9wKCk6KG51bGwhPWUuX3dzJiYoZS5fd3MuY2xvc2UoKSxlLl93cz1udWxsKSx2LmRlYnVnKFwiX3NldFdlYlNvY2tldCgpIC0gY3VycmVudEF0dGVtcHQ6IFwiK24pLGUuX3dzPW5ldyBtKGUuX3VybCxcInByb3Rvb1wiLHQub3JpZ2luLHQuaGVhZGVycyx0LnJlcXVlc3RPcHRpb25zLHQuY2xpZW50Q29uZmlnKSxlLmVtaXQoXCJjb25uZWN0aW5nXCIsbiksZS5fd3Mub25vcGVuPWZ1bmN0aW9uKHQpe2lmKCFlLl9jbG9zZWQpe2UuX2Nvbm5lY3RlZD0hMDtpZigtMSE9PWUuX3VybC5pbmRleE9mKFwicmV0cnk9dHJ1ZVwiLGUuX3VybC5sZW5ndGgtXCJyZXRyeT10cnVlXCIubGVuZ3RoKSl2LmRlYnVnKFwiV2ViU29ja2V0IGV2ZW50IC0gW2Nvbm4tcmVjb25uXSAtIHRoaXMuX3VybDogXCIrZS5fdXJsKSxlLmVtaXQoXCJjb25uLXJlY29ublwiKTtlbHNle3ZhciByPWUuX3hOZWVkUmVJbml0P1wicmVpbml0XCI6XCJvcGVuXCI7di5kZWJ1ZyhcIldlYlNvY2tldCBldmVudCAtIFtcIityK1wiXSAtIHRoaXMuX3VybDogXCIrZS5fdXJsKSxlLl94TmVlZFJlSW5pdD0hMSxlLmVtaXQocil9fX0sZS5fd3Mub25jbG9zZT1mdW5jdGlvbih0KXtpZighZS5fY2xvc2VkKWlmKGUuZW1pdChcImNvbm4taW50ZXJydXB0XCIsdCksdi53YXJuKFwiV2ViU29ja2V0IGV2ZW50IC0gW2Nsb3NlXSB3YXNDbGVhbjogXCIrdC53YXNDbGVhbitcIiBjb2RlOiBcIit0LmNvZGUrXCIgcmVhc29uOiBcIit0LnJlYXNvbiksNGUzIT09dC5jb2RlKXtpZihlLl94TmVlZFJlSW5pdD0zMDAzPT09dC5jb2RlLGUuX2Nvbm5lY3RlZHx8ZS5feE5lZWRSZUluaXQpe2lmKHIuc3RvcCgpLGUuX2Nsb3NlZClyZXR1cm47cmV0dXJuIGUuX3VybD1lLl94TmVlZFJlSW5pdD9lLl9vcmlnVXJsK1wiJnRpbWVzdGFtcD1cIisgK25ldyBEYXRlOmUuX29yaWdVcmwrXCImdGltZXN0YW1wPVwiKyArbmV3IERhdGUrXCImcmV0cnk9dHJ1ZVwiLHYuZGVidWcoXCJXZWJTb2NrZXQgZXZlbnQgLSBbY2xvc2VdIGV2ZW50LmNvZGUgIT09IDQwMDAgLSByZXRyeSB3ZWJzb2NrZXQgdHJhbnNwb3J0OiBcIitlLl91cmwpLHZvaWQgZS5fc2V0V2ViU29ja2V0KCl9aWYoZS5fY2xvc2VkKXJldHVybjtpZihyLnJldHJ5KCEwKSlyZXR1cm47di5kZWJ1ZyhcIldlYlNvY2tldCBldmVudCAtIFtjbG9zZV0gZXZlbnQuY29kZSA9PT0gNDAwMCAtIEVtaXQgW2Nsb3NlXVwiKSxlLmVtaXQoXCJjbG9zZVwiLHQpfWVsc2UgZS5feE5lZWRSZUluaXQ9ITEsZS5fdXJsPWUuX29yaWdVcmwrXCImdGltZXN0YW1wPVwiKyArbmV3IERhdGUsZS5fY2xvc2VkPSEwLHYuZGVidWcoXCJXZWJTb2NrZXQgZXZlbnQgLSBbY2xvc2VdIGV2ZW50LmNvZGUgPT09IDQwMDAgLSBFbWl0IFtjbG9zZV1cIiksZS5lbWl0KFwiY2xvc2VcIix0KX0sZS5fd3Mub25lcnJvcj1mdW5jdGlvbih0KXtlLl9jbG9zZWR8fHYuZXJyb3IoXCJXZWJTb2NrZXQgZXZlbnQgW2Vycm9yXSAtIFwiK3QudG9TdHJpbmcoKStcIiAtIG5vdGhpbmcgdG9kby5cIil9LGUuX3dzLm9ubWVzc2FnZT1mdW5jdGlvbih0KXtpZighZS5fY2xvc2VkKXt2YXIgcj1wLmRlZmF1bHQucGFyc2UodC5kYXRhKTtyJiYoMCE9PWUubGlzdGVuZXJDb3VudChcIm1lc3NhZ2VcIik/ZS5lbWl0KFwibWVzc2FnZVwiLHIpOnYud2FybihcIm5vIGxpc3RlbmVycyBmb3IgV2ViU29ja2V0IGV2ZW50IFttZXNzYWdlXSAtIGlnbm9yaW5nIHJlY2VpdmVkIG1lc3NhZ2VcIikpfX0pfSkpfX0se2tleTpcImNvbm5lY3RlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0ZWR9fSx7a2V5OlwiY2xvc2VkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3NlZH19XSksdH0oZC5FdmVudEVtaXR0ZXIpO3QuZGVmYXVsdD1nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9SlNPTi5wYXJzZSgne1wibmFtZVwiOlwidHR0d2Vic2RrXCIsXCJ2ZXJzaW9uXCI6XCIzLjQuMzBcIixcImRlc2NyaXB0aW9uXCI6XCJ3ZWJydGMgb2YgM3R0ZWNoLmNuXCIsXCJidWlsZERhdGVcIjpcIkFwcl8xMF8yMDIwLTFcIixcIm1haW5cIjpcImxpYi9UVFRSdGNXZWIuanNcIixcInNjcmlwdHNcIjp7XCJ0ZXN0XCI6XCJqZXN0XCIsXCJzdGFydFwiOlwid2VicGFjay1kZXYtc2VydmVyIC0tb3BlblwiLFwiYnVpbGQ6YXBwXCI6XCJ3ZWJwYWNrXCIsXCJidWlsZDpkZW1vXCI6XCJ3ZWJwYWNrIC0tY29uZmlnIHdlYnBhY2suY29uZmlnL3dlYnBhY2suY29uZmlnLmRlbW8uanNcIixcImJ1aWxkOmRldlwiOlwid2VicGFjayAtLWNvbmZpZyB3ZWJwYWNrLmNvbmZpZy93ZWJwYWNrLmNvbmZpZy5kZXYuanMgLS1tb2RlIGRldmVsb3BtZW50XCIsXCJidWlsZDpwcm9kXCI6XCJ3ZWJwYWNrIC0tY29uZmlnIHdlYnBhY2suY29uZmlnL3dlYnBhY2suY29uZmlnLmpzXCIsXCJidWlsZDpwcm9kZGVtb1wiOlwid2VicGFjayAtLWNvbmZpZyB3ZWJwYWNrLmNvbmZpZy93ZWJwYWNrLmNvbmZpZy5wcm9kZGVtby5qc1wiLFwiYnVpbGQ6dGVzdFwiOlwid2VicGFjayAtLWNvbmZpZyB0ZXN0cy93ZWJwYWNrLmNvbmZpZy5qc1wiLFwiYnVpbGQ6ZGVtby1tdWx0aXN0cmVhbVwiOlwid2VicGFjayAtLWNvbmZpZyB3ZWJwYWNrLmNvbmZpZy93ZWJwYWNrLmNvbmZpZy5kZW1vX211bHRpc3RyZWFtLmpzXCIsXCJsaW50XCI6XCJlc2xpbnQgLWMgLmVzbGludHJjLmpzIGxpYi9wcm90b28gbGliL2NsaWVudC5qcyBsaWIvaW5kZXguanMgbGliL3N0YXRzLmpzIGxpYi9jb25maWcuanMgbGliL3V0aWxzLmpzIGxpYi9zdHJlYW0uanMgbGliL1RUVFJ0Y1dlYi5qc1wiLFwiMy4xOnRlc3RcIjpcIndlYnBhY2sgLS1jb25maWcgLi90ZXN0cy8zLjEudGVzdC5wYWdlcy93ZWJwYWNrLmNvbmZpZy5qc1wifSxcImF1dGhvclwiOlwiM3R0ZWNoLmNuXCIsXCJsaWNlbnNlXCI6XCJJU0NcIixcImRlcGVuZGVuY2llc1wiOntcImJhYmVsLXJ1bnRpbWVcIjpcIl42LjI2LjBcIixcImJvd3NlclwiOlwiXjEuOS4zXCIsXCJkZWJ1Z1wiOlwiXjQuMS4xXCIsXCJoYXJrXCI6XCJeMS4yLjNcIixcInJhbmRvbS1udW1iZXJcIjpcIl4wLjAuOVwiLFwicmV0cnlcIjpcIl4wLjEyLjBcIixcIndlYnNvY2tldFwiOlwiXjEuMC4yOFwifSxcImRldkRlcGVuZGVuY2llc1wiOntcImJhYmVsLWNvcmVcIjpcIl42LjI2LjNcIixcImJhYmVsLWxvYWRlclwiOlwiXjcuMS4xXCIsXCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXJ1bnRpbWVcIjpcIl42LjIzLjBcIixcImJhYmVsLXBvbHlmaWxsXCI6XCJeNi4yNi4wXCIsXCJiYWJlbC1wcmVzZXQtZW52XCI6XCJeMS43LjBcIixcImJhYmVsLXByZXNldC1lczIwMTVcIjpcIl42LjI0LjFcIixcImJhYmVsLXByZXNldC1zdGFnZS0wXCI6XCJeNi4yNC4xXCIsXCJjb3B5LXdlYnBhY2stcGx1Z2luXCI6XCJeNS4wLjRcIixcImVzbGludFwiOlwiXjUuMTYuMFwiLFwiZXNsaW50LXBsdWdpbi1yZWFjdFwiOlwiXjcuMTMuMFwiLFwiaHRtbC13ZWJwYWNrLXBsdWdpblwiOlwiXjMuMi4wXCIsXCJodHRwLXNlcnZlclwiOlwiXjAuMTEuMVwiLFwiamVzdFwiOlwiXjI0LjkuMFwiLFwiamVzdC13ZWJzb2NrZXQtbW9ja1wiOlwiXjEuNS4wXCIsXCJtb2NrLXNvY2tldFwiOlwiXjkuMC4wXCIsXCJzd2VldGFsZXJ0MlwiOlwiXjguMTEuNFwiLFwid2VicGFja1wiOlwiXjQuNDEuMFwiLFwid2VicGFjay1jbGlcIjpcIl4zLjIuM1wiLFwid2VicGFjay1kZXYtc2VydmVyXCI6XCJeMy4xLjE0XCIsXCJ3ZWJwYWNrLWpxdWVyeS11aVwiOlwiXjIuMC4xXCJ9LFwiZmlsZXNcIjpbXCJsaWIvXCIsXCJzY3JlZW4vXCIsXCJkb2NzL1wiLFwiUkVBRE1FLm1kXCIsXCJDSEFOR0VMT0cubWRcIl19Jyl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aChyKDI0KSksYT1oKHIoMikpLGk9aChyKDApKSxvPWgocigxKSkscz1oKHIoMykpLGM9aChyKDQpKSx1PXIoMjkpLGQ9aChyKDE0OSkpLGw9aChyKDExMCkpLHA9aChyKDMwKSksZj1oKHIoMTA4KSksbT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoMTExKSk7ZnVuY3Rpb24gaChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHY9cig4MCksXz1yKDExOCksZz1uZXcgcC5kZWZhdWx0KFwiPFRUVFJ0Y1dlYj5cIik7ZS5nX2NsaWVudD1udWxsO3ZhciB5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXsoMCxpLmRlZmF1bHQpKHRoaXMscik7dmFyIHQ9KDAscy5kZWZhdWx0KSh0aGlzLChyLl9fcHJvdG9fX3x8KDAsYS5kZWZhdWx0KShyKSkuY2FsbCh0aGlzKSk7Zy5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgLSBicm93c2VyOiBcIit2Lm5hbWUrXCItXCIrdi52ZXJzaW9uK1wiIG9zOiBcIit2Lm9zbmFtZStcIi1cIit2Lm9zdmVyc2lvbitcIiBib3dzZXIubW9iaWxlOiBcIishIXYubW9iaWxlK1wiIFwiKSxsLmRlZmF1bHQuY2xlYXJTdHJlYW1JZE1hcCgpO3RyeXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86ITAsdmlkZW86ITF9KS50aGVuKChmdW5jdGlvbihlKXtyLmxpc3REZXZpY2VzKChmdW5jdGlvbihlKXtnLmRlYnVnKFwiVFRUUnRjV2ViLmxpc3REZXZpY2VzIC0gZGV2aWNlczogXCIrKDAsbi5kZWZhdWx0KShlKSl9KSwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYW1lK2UubWVzc2FnZStcIlxcblwiO2cud2FybihcIlRUVFJ0Y1dlYi5saXN0RGV2aWNlcyBlcnJvciAtIFwiK3QpfSkpLGcuZGVidWcoXCJjb25zdHJ1Y3RvciBzdWNjLlwiKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zy53YXJuKFwiY29uc3RydWN0b3IgZmFpbCAtIFwiK2UudG9TdHJpbmcoKSl9KSl9Y2F0Y2goZSl7Zy53YXJuKFwiY29uc3RydWN0b3IoKSBmYWlsIC0gXCIrZS50b1N0cmluZygpKX1yZXR1cm4gZS5nX3R0dFJ0Y1dlYj10LHQuX2NsaWVudD1udWxsLHR9cmV0dXJuKDAsYy5kZWZhdWx0KShyLHQpLCgwLG8uZGVmYXVsdCkocixbe2tleTpcImNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1tLmlzRGV2aWNlU3VwcG9ydGVkKCk7cmV0dXJuISFSVENQZWVyQ29ubmVjdGlvbiYmISFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmISFlfX0se2tleTpcImdldERldmljZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/XCJmdW5jdGlvblwiPT10eXBlb2YgdD9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXM/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZSh0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dChlKX0pKTpnLmVycm9yKFwiZW51bWVyYXRlRGV2aWNlcygpIG5vdCBzdXBwb3J0ZWQuXCIpOmcuZXJyb3IoXCJBUEkgZ2V0RGV2aWNlcygpIGVycm9yIC0gcGFyYW1ldGVyOiBvbkZhaWx1cmUgaW52YWxpZFwiKTpnLmVycm9yKFwiQVBJIGdldERldmljZXMoKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIil9fSx7a2V5OlwiY3JlYXRlU3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXIuaXNTeXN0ZW1TdXBwb3J0ZWQoKSlyZXR1cm4gZy53YXJuKFwiY3JlYXRlU3RyZWFtKCkgLSBpc1N5c3RlbVN1cHBvcnRlZCBub3Qgc3VwcG9ydGVkLlwiKSxudWxsO2lmKCF0aGlzLl9jbGllbnR8fHRoaXMuX2NsaWVudC5pc0xvY2FsU3RyZWFtQWxsb3dlZCl7Zy5kZWJ1ZyhcImNyZWF0ZVN0cmVhbSgpIC0gc3BlYzogXCIrKDAsbi5kZWZhdWx0KShlKSk7dmFyIHQ9bmV3IGwuZGVmYXVsdChlKTtyZXR1cm4gdHx8bnVsbH1nLndhcm4oXCJjcmVhdGVTdHJlYW0oKSAtIENsaWVudC5pc0xvY2FsU3RyZWFtQWxsb3dlZCBpcyBmYWxzZVwiKX19LHtrZXk6XCJjcmVhdGVDbGllbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gci5pc1N5c3RlbVN1cHBvcnRlZCgpPyhlLmdfY2xpZW50JiYoZS5nX2NsaWVudC5jbG9zZSgpLGUuZ19jbGllbnQ9bnVsbCksZy5kZWJ1ZyhcImNyZWF0ZUNsaWVudCgpIC0gY29uZmlnOiBcIisoMCxuLmRlZmF1bHQpKHQpKSx0aGlzLl9jbGllbnQ9bmV3IGQuZGVmYXVsdCh0KSxlLmdfY2xpZW50PXRoaXMuX2NsaWVudCx0aGlzLl9jbGllbnQpOihnLmVycm9yKFwiY3JlYXRlQ2xpZW50KCkgLSBpc1N5c3RlbVN1cHBvcnRlZCBub3Qgc3VwcG9ydGVkLlwiKSxudWxsKX19LHtrZXk6XCJnZXRTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuX2NsaWVudD97fTp0aGlzLl9jbGllbnQuZ2V0TmV0U3RhdGUoKX19LHtrZXk6XCJ2ZXJzaW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8udmVyc2lvbitcIi1cIitfLmJ1aWxkRGF0ZX19XSxbe2tleTpcImlzU3lzdGVtU3VwcG9ydGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1tLmlzRGV2aWNlU3VwcG9ydGVkKCk7cmV0dXJuISFSVENQZWVyQ29ubmVjdGlvbiYmISFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmISFlfX0se2tleTpcImxpc3REZXZpY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP1wiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzP25hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2UodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QoZSl9KSk6Zy5lcnJvcihcImVudW1lcmF0ZURldmljZXMoKSBub3Qgc3VwcG9ydGVkLlwiKTpnLmVycm9yKFwiQVBJIGdldERldmljZXMoKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIik6Zy5lcnJvcihcIkFQSSBnZXREZXZpY2VzKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uU3VjY2VzcyBpbnZhbGlkXCIpfX0se2tleTpcInNldExvZ0xldmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cC5kZWZhdWx0LmxvZ0xldmVsPWV9fSx7a2V5Olwic2V0TG9nU3VibWl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cC5kZWZhdWx0LmxvZ1N1Ym1pdD1Cb29sZWFuKGUpfX0se2tleTpcInNldFByaXZhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXtwLmRlZmF1bHQucHJpdmF0ZUNsb3VkPWUsZi5kZWZhdWx0LnByaXZhdGVDbG91ZD1lfX0se2tleTpcImdldFZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBfLnZlcnNpb24rXCItXCIrXy5idWlsZERhdGV9fSx7a2V5Olwic2V0U2VydmVyVXJsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSYmXCJcIiE9PWUudHJpbSgpJiYoZy5kZWJ1ZyhcInNldFNlcnZlclVybCgpIC0gcm9vdFVybDogXCIrZSksZi5kZWZhdWx0Lk1lZGlhU2VydmVyQWRkcmVzcz1lLnRyaW0oKSl9fSx7a2V5Olwic2V0SXBMb2NhdGlvbkFkZHJlc3NcIix2YWx1ZTpmdW5jdGlvbihlKXtlJiZcIlwiIT09ZS50cmltKCkmJihnLmRlYnVnKFwic2V0SXBMb2NhdGlvbkFkZHJlc3MoKSAtIGlwbG9jYXRpb246IFwiK2UpLGYuZGVmYXVsdC5JcGxvY2F0aW9uQWRkcmVzcz1lKX19LHtrZXk6XCJzZXRJcExvY2F0aW9uUG9ydFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2cuZGVidWcoXCJzZXRJcExvY2F0aW9uUG9ydCgpIC0gcG9ydDogXCIrZSksZi5kZWZhdWx0LklwbG9jYXRpb25Qb3J0PWV9fSx7a2V5Olwic2V0VHVybkNvbmZcIix2YWx1ZTpmdW5jdGlvbihlKXtkLmRlZmF1bHQuVHVybkNvbmY9ZX19XSkscn0odS5FdmVudEVtaXR0ZXIpO3QuZGVmYXVsdD15fSkuY2FsbCh0aGlzLHIoMzcpKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNyksYT1uLkpTT058fChuLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gYS5zdHJpbmdpZnkuYXBwbHkoYSxhcmd1bWVudHMpfX0sZnVuY3Rpb24oZSx0LHIpe3IoMTIyKSxlLmV4cG9ydHM9cig3KS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMxKSxhPXIoODMpO3IoNjUpKFwiZ2V0UHJvdG90eXBlT2ZcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGEobihlKSl9fSkpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoMTI0KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoMTI1KTt2YXIgbj1yKDcpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDExKTtuKG4uUytuLkYqIXIoMjIpLFwiT2JqZWN0XCIse2RlZmluZVByb3BlcnR5OnIoMjEpLmZ9KX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDEyNyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDM0KSxyKDQwKSxlLmV4cG9ydHM9cig3MikuZihcIml0ZXJhdG9yXCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2OCksYT1yKDYyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGksbyxzPVN0cmluZyhhKHQpKSxjPW4ociksdT1zLmxlbmd0aDtyZXR1cm4gYzwwfHxjPj11P2U/XCJcIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KGMpKTw1NTI5Nnx8aT41NjMxOXx8YysxPT09dXx8KG89cy5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHxvPjU3MzQzP2U/cy5jaGFyQXQoYyk6aTplP3Muc2xpY2UoYyxjKzIpOm8tNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNn19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig1NCksYT1yKDQ2KSxpPXIoNDkpLG89e307cigyOCkobyxyKDE0KShcIml0ZXJhdG9yXCIpLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihvLHtuZXh0OmEoMSxyKX0pLGkoZSx0K1wiIEl0ZXJhdG9yXCIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpLGE9cigyNSksaT1yKDQ3KTtlLmV4cG9ydHM9cigyMik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXthKGUpO2Zvcih2YXIgcixvPWkodCkscz1vLmxlbmd0aCxjPTA7cz5jOyluLmYoZSxyPW9bYysrXSx0W3JdKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxhPXIoNTUpLGk9cigxMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG8pe3ZhciBzLGM9bih0KSx1PWEoYy5sZW5ndGgpLGQ9aShvLHUpO2lmKGUmJnIhPXIpe2Zvcig7dT5kOylpZigocz1jW2QrK10pIT1zKXJldHVybiEwfWVsc2UgZm9yKDt1PmQ7ZCsrKWlmKChlfHxkIGluIGMpJiZjW2RdPT09cilyZXR1cm4gZXx8ZHx8MDtyZXR1cm4hZSYmLTF9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjgpLGE9TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT1uKGUpKTwwP2EoZSt0LDApOmkoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDEzNCksYT1yKDg4KSxpPXIoMzgpLG89cigzOSk7ZS5leHBvcnRzPXIoNjkpKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24oZSx0KXt0aGlzLl90PW8oZSksdGhpcy5faT0wLHRoaXMuX2s9dH0pLChmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsYSgxKSk6YSgwLFwia2V5c1wiPT10P3I6XCJ2YWx1ZXNcIj09dD9lW3JdOltyLGVbcl1dKX0pLFwidmFsdWVzXCIpLGkuQXJndW1lbnRzPWkuQXJyYXksbihcImtleXNcIiksbihcInZhbHVlc1wiKSxuKFwiZW50cmllc1wiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoMTM2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoMTM3KSxyKDU4KSxyKDE0MCkscigxNDEpLGUuZXhwb3J0cz1yKDcpLlN5bWJvbH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMTMpLGE9cigzMiksaT1yKDIyKSxvPXIoMTEpLHM9cig4NSksYz1yKDU2KS5LRVksdT1yKDMzKSxkPXIoNjQpLGw9cig0OSkscD1yKDUzKSxmPXIoMTQpLG09cig3MiksaD1yKDczKSx2PXIoMTM4KSxfPXIoODkpLGc9cigyNSkseT1yKDE4KSxiPXIoMzEpLGs9cigzOSksdz1yKDY3KSxQPXIoNDYpLFM9cig1NCksST1yKDEzOSksVD1yKDkxKSxDPXIoNzQpLFI9cigyMSkseD1yKDQ3KSxBPVQuZixFPVIuZixEPUkuZixPPW4uU3ltYm9sLEw9bi5KU09OLE09TCYmTC5zdHJpbmdpZnksaj1mKFwiX2hpZGRlblwiKSxCPWYoXCJ0b1ByaW1pdGl2ZVwiKSxWPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLE49ZChcInN5bWJvbC1yZWdpc3RyeVwiKSxGPWQoXCJzeW1ib2xzXCIpLFU9ZChcIm9wLXN5bWJvbHNcIiksRz1PYmplY3QucHJvdG90eXBlLFc9XCJmdW5jdGlvblwiPT10eXBlb2YgTyYmISFDLmYsSz1uLlFPYmplY3Qsej0hS3x8IUsucHJvdG90eXBlfHwhSy5wcm90b3R5cGUuZmluZENoaWxkLHE9aSYmdSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9UyhFKHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRSh0aGlzLFwiYVwiLHt2YWx1ZTo3fSkuYX19KSkuYX0pKT9mdW5jdGlvbihlLHQscil7dmFyIG49QShHLHQpO24mJmRlbGV0ZSBHW3RdLEUoZSx0LHIpLG4mJmUhPT1HJiZFKEcsdCxuKX06RSxIPWZ1bmN0aW9uKGUpe3ZhciB0PUZbZV09UyhPLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSx0fSxKPVcmJlwic3ltYm9sXCI9PXR5cGVvZiBPLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE99LFE9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09RyYmUShVLHQsciksZyhlKSx0PXcodCwhMCksZyhyKSxhKEYsdCk/KHIuZW51bWVyYWJsZT8oYShlLGopJiZlW2pdW3RdJiYoZVtqXVt0XT0hMSkscj1TKHIse2VudW1lcmFibGU6UCgwLCExKX0pKTooYShlLGopfHxFKGUsaixQKDEse30pKSxlW2pdW3RdPSEwKSxxKGUsdCxyKSk6RShlLHQscil9LFk9ZnVuY3Rpb24oZSx0KXtnKGUpO2Zvcih2YXIgcixuPXYodD1rKHQpKSxhPTAsaT1uLmxlbmd0aDtpPmE7KVEoZSxyPW5bYSsrXSx0W3JdKTtyZXR1cm4gZX0sJD1mdW5jdGlvbihlKXt2YXIgdD1WLmNhbGwodGhpcyxlPXcoZSwhMCkpO3JldHVybiEodGhpcz09PUcmJmEoRixlKSYmIWEoVSxlKSkmJighKHR8fCFhKHRoaXMsZSl8fCFhKEYsZSl8fGEodGhpcyxqKSYmdGhpc1tqXVtlXSl8fHQpfSxYPWZ1bmN0aW9uKGUsdCl7aWYoZT1rKGUpLHQ9dyh0LCEwKSxlIT09R3x8IWEoRix0KXx8YShVLHQpKXt2YXIgcj1BKGUsdCk7cmV0dXJuIXJ8fCFhKEYsdCl8fGEoZSxqKSYmZVtqXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9RChrKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylhKEYsdD1yW2krK10pfHx0PT1qfHx0PT1jfHxuLnB1c2godCk7cmV0dXJuIG59LGVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT1HLG49RChyP1U6ayhlKSksaT1bXSxvPTA7bi5sZW5ndGg+bzspIWEoRix0PW5bbysrXSl8fHImJiFhKEcsdCl8fGkucHVzaChGW3RdKTtyZXR1cm4gaX07V3x8KHMoKE89ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgTyl0aHJvdyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhXCIpO3ZhciBlPXAoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PUcmJnQuY2FsbChVLHIpLGEodGhpcyxqKSYmYSh0aGlzW2pdLGUpJiYodGhpc1tqXVtlXT0hMSkscSh0aGlzLGUsUCgxLHIpKX07cmV0dXJuIGkmJnomJnEoRyxlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxIKGUpfSkucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pKSxULmY9WCxSLmY9USxyKDkwKS5mPUkuZj1aLHIoNTcpLmY9JCxDLmY9ZWUsaSYmIXIoNDQpJiZzKEcsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLCQsITApLG0uZj1mdW5jdGlvbihlKXtyZXR1cm4gSChmKGUpKX0pLG8oby5HK28uVytvLkYqIVcse1N5bWJvbDpPfSk7Zm9yKHZhciB0ZT1cImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzXCIuc3BsaXQoXCIsXCIpLHJlPTA7dGUubGVuZ3RoPnJlOylmKHRlW3JlKytdKTtmb3IodmFyIG5lPXgoZi5zdG9yZSksYWU9MDtuZS5sZW5ndGg+YWU7KWgobmVbYWUrK10pO28oby5TK28uRiohVyxcIlN5bWJvbFwiLHtmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoTixlKz1cIlwiKT9OW2VdOk5bZV09TyhlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFKKGUpKXRocm93IFR5cGVFcnJvcihlK1wiIGlzIG5vdCBhIHN5bWJvbCFcIik7Zm9yKHZhciB0IGluIE4paWYoTlt0XT09PWUpcmV0dXJuIHR9LHVzZVNldHRlcjpmdW5jdGlvbigpe3o9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe3o9ITF9fSksbyhvLlMrby5GKiFXLFwiT2JqZWN0XCIse2NyZWF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P1MoZSk6WShTKGUpLHQpfSxkZWZpbmVQcm9wZXJ0eTpRLGRlZmluZVByb3BlcnRpZXM6WSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6WCxnZXRPd25Qcm9wZXJ0eU5hbWVzOlosZ2V0T3duUHJvcGVydHlTeW1ib2xzOmVlfSk7dmFyIGllPXUoKGZ1bmN0aW9uKCl7Qy5mKDEpfSkpO28oby5TK28uRippZSxcIk9iamVjdFwiLHtnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIEMuZihiKGUpKX19KSxMJiZvKG8uUytvLkYqKCFXfHx1KChmdW5jdGlvbigpe3ZhciBlPU8oKTtyZXR1cm5cIltudWxsXVwiIT1NKFtlXSl8fFwie31cIiE9TSh7YTplfSl8fFwie31cIiE9TShPYmplY3QoZSkpfSkpKSxcIkpTT05cIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49W2VdLGE9MTthcmd1bWVudHMubGVuZ3RoPmE7KW4ucHVzaChhcmd1bWVudHNbYSsrXSk7aWYocj10PW5bMV0sKHkodCl8fHZvaWQgMCE9PWUpJiYhSihlKSlyZXR1cm4gXyh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhSih0KSlyZXR1cm4gdH0pLG5bMV09dCxNLmFwcGx5KEwsbil9fSksTy5wcm90b3R5cGVbQl18fHIoMjgpKE8ucHJvdG90eXBlLEIsTy5wcm90b3R5cGUudmFsdWVPZiksbChPLFwiU3ltYm9sXCIpLGwoTWF0aCxcIk1hdGhcIiwhMCksbChuLkpTT04sXCJKU09OXCIsITApfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NyksYT1yKDc0KSxpPXIoNTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9YS5mO2lmKHIpZm9yKHZhciBvLHM9cihlKSxjPWkuZix1PTA7cy5sZW5ndGg+dTspYy5jYWxsKGUsbz1zW3UrK10pJiZ0LnB1c2gobyk7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksYT1yKDkwKS5mLGk9e30udG9TdHJpbmcsbz1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W107ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG8mJlwiW29iamVjdCBXaW5kb3ddXCI9PWkuY2FsbChlKT9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGEoZSl9Y2F0Y2goZSl7cmV0dXJuIG8uc2xpY2UoKX19KGUpOmEobihlKSl9fSxmdW5jdGlvbihlLHQscil7cig3MykoXCJhc3luY0l0ZXJhdG9yXCIpfSxmdW5jdGlvbihlLHQscil7cig3MykoXCJvYnNlcnZhYmxlXCIpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoMTQzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoMTQ0KSxlLmV4cG9ydHM9cig3KS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDExKTtuKG4uUyxcIk9iamVjdFwiLHtzZXRQcm90b3R5cGVPZjpyKDE0NSkuc2V0fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4KSxhPXIoMjUpLGk9ZnVuY3Rpb24oZSx0KXtpZihhKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCtcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKGUsdCxuKXt0cnl7KG49cigyNykoRnVuY3Rpb24uY2FsbCxyKDkxKS5mKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0LDIpKShlLFtdKSx0PSEoZSBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChlKXt0PSEwfXJldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiBpKGUsciksdD9lLl9fcHJvdG9fXz1yOm4oZSxyKSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cigxNDcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cigxNDgpO3ZhciBuPXIoNykuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpO24obi5TLFwiT2JqZWN0XCIse2NyZWF0ZTpyKDU0KX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPUMocig0MSkpLGE9QyhyKDI2KSksaT1DKHIoNikpLG89QyhyKDEwMCkpLHM9QyhyKDEwMSkpLGM9QyhyKDE3KSksdT1DKHIoMjQpKSxkPUMocig4KSksbD1DKHIoMikpLHA9QyhyKDApKSxmPUMocigxKSksbT1DKHIoMykpLGg9QyhyKDQpKSx2PUMocigzMCkpLF89QyhyKDEwOCkpLGc9VChyKDYwKSkseT1DKHIoMTEwKSksYj1UKHIoMTExKSksaz1yKDI5KSx3PVQocig1MSkpLFA9VChyKDIxOSkpLFM9VChyKDExNikpLEk9QyhyKDIyNSkpO2Z1bmN0aW9uIFQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIEMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBSPXIoMjI5KSx4PW5ldyB2LmRlZmF1bHQoXCI8Q2xpZW50PlwiKSxBPXt9LEU9XCJESVNDT05ORUNURURcIixEPVwiQ09OTkVDVElOR1wiLE89XCJDT05ORUNURURcIixMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307KDAscC5kZWZhdWx0KSh0aGlzLHIpO3ZhciBuPSgwLG0uZGVmYXVsdCkodGhpcywoci5fX3Byb3RvX198fCgwLGwuZGVmYXVsdCkocikpLmNhbGwodGhpcykpO24uX3NweT0hMSxuLl9kZXZpY2VzPW51bGwsbi5fbWFwV2ViY2FtUHJvZHVjZXJzPW5ldyBkLmRlZmF1bHQsbi5fbWFwTWljUHJvZHVjZXJzPW5ldyBkLmRlZmF1bHQsbi5fbWFwVmlkZW9TZW5kVHJhbnNwb3J0cz1uZXcgZC5kZWZhdWx0LG4uX3B1Ymxpc2hTdHJlYW1zPW5ldyBkLmRlZmF1bHQsbi5fcmVtb3RlU3RyZWFtcz1uZXcgZC5kZWZhdWx0LG4uX3JlbW90ZUF1ZGlvcz1uZXcgZC5kZWZhdWx0LG4uX3JlbW90ZVZpZGVvcz1uZXcgZC5kZWZhdWx0LG4uX3B1Ymxpc2hzPW5ldyBkLmRlZmF1bHQsbi5fc3Vic2NyaWJlcz1uZXcgZC5kZWZhdWx0LG4uX3Byb3Rvb1RyYW5zcG9ydFN0YXQ9ITEsbi5fc2VuZFRyYW5zcG9ydD1udWxsLG4uX3JlY3ZUcmFuc3BvcnQ9bnVsbCxuLl9wcm90b29TZXNzaW9uSWQ9XCJcIixuLl9wcm90b289bnVsbCxuLl9yb29tPW51bGwsbi5fc2NyZWVuUHJvZHVjZXI9bnVsbCxuLl9zY3JlZW5UcmFuc3BvcnQ9bnVsbCxuLl9pY2VTZW5kRGlzY29ubmVjdGVkQ250PTAsbi5faWNlUmVjdkRpc2Nvbm5lY3RlZENudD0wLG4uX3BlZXJzPW5ldyBkLmRlZmF1bHQsbi5fc3RhdHM9bmV3IEkuZGVmYXVsdCxuLl9pbnRlcnZhbD0zZTMsbi5faG9zdFBhdGg9XCJcIixuLl9pcD1cIlwiLG4uX3BvcnQ9MzQ0MyxuLl9wYXRoPVwiXCIsbi5fdG9rZW49XCJcIixuLl9zcGVjPXQsbi5fdXNlU2ltdWxjYXN0PSExLG4uX3RyeUpvaW49MCxuLl9qb2luVGltZXI9bnVsbCxuLl9oYXNJbml0PSExLG4uX2Nsb3NlZD0hMSxuLl9jb25uU3RhdGU9RSxuLl9qb2luZWQ9ITEsbi5fYXBwSWQ9XCJcIixuLl91aWQ9XCJcIixuLl9yb29tSWQ9XCJcIixlLmdfYXBwaWQ9XCJcIixlLmdfdXNlcmlkPVwiXCIsZS5nX3Jvb21pZD1cIlwiLGUuZ19zZXJ2ZXI9XCJcIjt2YXIgYT0vbW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxpPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbz0vRmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkscz10LmF1ZGlvQ29kZWMmJlwiXCIhPT10LmF1ZGlvQ29kZWMudHJpbSgpP3QuYXVkaW9Db2RlYzpcImlzYWNcIjtpZihuLl9hdWRpb0NvZGVjPWl8fGF8fG8/XCJvcHVzXCI6cyxuLl9kaXNhYmxlUnRtcFZpZGVvPUJvb2xlYW4odC5kaXNhYmxlUnRtcFZpZGVvKSxuLl9saXZlTWl4ZXJMYXlvdXQ9bnVsbCxuLl90aW1lc09mTGlua0dXPTEsbi5fbGlua0dXVGltZT0wLG4uX3NlbmRHV1RpbWU9dm9pZCAwLG4uX3NlbmRFbnRlclRpbWU9dm9pZCAwLFwic3RyaW5nXCI9PXR5cGVvZiB0LnJ0bXBVcmwmJlwiXCIhPT10LnJ0bXBVcmwudHJpbSgpP24uX3ZhbGlkX3J0bXBfdXJsPXQucnRtcFVybC50cmltKCk6bi5fdmFsaWRfcnRtcF91cmw9XCJcIixcInN0cmluZ1wiPT10eXBlb2YgdC52aWRlb01peGVyQkdJVXJsJiZcIlwiIT09dC52aWRlb01peGVyQkdJVXJsLnRyaW0oKT9uLl92aWRlb01peGVyQkdJVXJsPXQudmlkZW9NaXhlckJHSVVybC50cmltKCk6KHQudmlkZW9NaXhlckJHSVVybD1cImh0dHA6Ly8zdHRlY2guY24vcmVzL3RwbC9kZWZhdWx0L2ltYWdlcy9iay5wbmdcIixuLl92aWRlb01peGVyQkdJVXJsPXQudmlkZW9NaXhlckJHSVVybCksIS9eWzEyM10kLy50ZXN0KHQucm9sZSkpdGhyb3cgeC53YXJuKFwiQVBJIGNyZWF0ZUNsaWVudCgpIGVycm9yIC0gc3BlYzogcm9sZSBtdXN0IGJlIHNldCBhcyAxOiBtYXN0ZXIsIDI6IHZpY2UgMzogYXVkaWVuY2UuXCIpLG5ldyBUeXBlRXJyb3IoXCJyb2xlIG11c3QgYmUgc2V0IGFzIDE6IG1hc3RlciwgMjogdmljZSAzOiBhdWRpZW5jZVwiKTtyZXR1cm4gbi5fcm9sZT10LnJvbGUrXCJcIix4LmRlYnVnKFwiQVBJIGNyZWF0ZUNsaWVudCgpIHN1Y2Nlc3MgLSBcIisoMCx1LmRlZmF1bHQpKHQpKSxuLl9zdGF0c0ludGVydmFsPW51bGwsbn12YXIgdixrLFQsQyxMLE0saixCLFYsTixGLFUsRyxXO3JldHVybigwLGguZGVmYXVsdCkocix0KSwoMCxmLmRlZmF1bHQpKHIsW3trZXk6XCJfc3RhcnRTdGF0SW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fc3RhdHNJbnRlcnZhbD1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt2YXIgdD1bXTtlLl9wdWJsaXNocy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2lmKGUpe3ZhciBuPWUuc3RyZWFtP2Uuc3RyZWFtLmF1ZGlvVHJhY2tTdGF0dXM6e30sYT1lLnN0cmVhbT9lLnN0cmVhbS52aWRlb1RyYWNrU3RhdHVzOnt9LGk9e3N0cmVhbUlkOmUuc3RyZWFtSWQsYXVkaW9UcmFja1N0YXR1czpuLHZpZGVvVHJhY2tTdGF0dXM6YSxzdGF0dXM6ZS5zdGF0dXN9O3QucHVzaChpKX19KSk7dmFyIHI9W107ZS5fc3Vic2NyaWJlcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2lmKGUpe3ZhciBuPWUuc3RyZWFtP2Uuc3RyZWFtLmF1ZGlvVHJhY2tTdGF0dXM6e30sYT1lLnN0cmVhbT9lLnN0cmVhbS52aWRlb1RyYWNrU3RhdHVzOnt9LGk9e3VzZXJJZDplLnVzZXJJZCxzdHJlYW1JZDplLnN0cmVhbUlkLGF1ZGlvVHJhY2tTdGF0dXM6bix2aWRlb1RyYWNrU3RhdHVzOmEsc3RhdHVzOmUuc3RhdHVzfTtyLnB1c2goaSl9fSkpO3ZhciBuPVtdO2UuX3JlbW90ZUF1ZGlvcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe24ucHVzaChlKX0pKTt2YXIgYT1bXTtlLl9yZW1vdGVWaWRlb3MuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXthLnB1c2goZSl9KSk7dmFyIGk9e2hvc3Q6ZS5faXAsYXBwSWQ6ZS5fYXBwSWQsdXNlcklkOmUuX3VpZCxyb2xlOmUuX3JvbGUscm9vbUlkOmUuX3Jvb21JZCxjb25uU3RhdGU6ZS5fY29ublN0YXRlLGpvaW5lZDplLl9qb2luZWQsaWNlU2VuZFRyYW5zcG9ydDp7c3RhdGU6ZS5fc2VuZFRyYW5zcG9ydD9lLl9zZW5kVHJhbnNwb3J0LmNvbm5lY3Rpb25TdGF0ZTpcImlkbGVcIixyZXRyeVRpbWVzOmUuX3NlbmRUcmFuc3BvcnQ/ZS5fc2VuZFRyYW5zcG9ydC5yZXRyeVRpbWVzOjAsZGlzY29ubkNudDplLl9pY2VTZW5kRGlzY29ubmVjdGVkQ250fSxpY2VSZWN2VHJhbnNwb3J0OntzdGF0ZTplLl9yZWN2VHJhbnNwb3J0P2UuX3JlY3ZUcmFuc3BvcnQuY29ubmVjdGlvblN0YXRlOlwiaWRsZVwiLHJldHJ5VGltZXM6ZS5fcmVjdlRyYW5zcG9ydD9lLl9yZWN2VHJhbnNwb3J0LnJldHJ5VGltZXM6MCxkaXNjb25uQ250OmUuX2ljZVJlY3ZEaXNjb25uZWN0ZWRDbnR9LGF1ZGlvQ29kZWM6ZS5fYXVkaW9Db2RlYyxwdWJsaXNoczp0LHN1YnNjcmliZXM6cixyZW1vdGVBdWRpb3M6bixyZW1vdGVWaWRlb3M6YX07eC5kZWJ1ZyhcIjxDTElFTlRfU1RBVD4gXCIrKDAsdS5kZWZhdWx0KShpKSl9KSwxNWUzKX19LHtrZXk6XCJfc3RvcFN0YXRJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX3N0YXRzSW50ZXJ2YWwmJihjbGVhckludGVydmFsKHRoaXMuX3N0YXRzSW50ZXJ2YWwpLHRoaXMuX3N0YXRzSW50ZXJ2YWw9bnVsbCl9fSx7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKHQscixuLGEpe3ZhciBpPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyB4LmVycm9yKFwiQVBJIGluaXQoKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksbmV3IFR5cGVFcnJvcihcIm9uU3VjY2VzcyBwYXJhbWV0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhKXRocm93IHguZXJyb3IoXCJBUEkgaW5pdCgpIGVycm9yIC0gcGFyYW1ldGVyOiBvbkZhaWx1cmUgaW52YWxpZFwiKSxuZXcgVHlwZUVycm9yKFwib25GYWlsdXJlIHBhcmFtZXRlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO2lmKHRoaXMuX2hhc0luaXQpcmV0dXJuIHguZXJyb3IoXCJBUEkgaW5pdCgpIGVycm9yIC0gQ2xpZW50IGhhcyBBbHJlYWR5IGluaXRpYWxpemVkXCIpLGEoXCJDbGllbnQgaGFzIEFscmVhZHkgaW5pdGlhbGl6ZWQgLSBwbGVhc2UgY2xpZW50LmNsb3NlKCkgYXQgZmlyc3RcIik7aWYoIXR8fFwiXCI9PT0oXCJcIit0KS50cmltKCkpcmV0dXJuIHgud2FybihcIkFQSSBpbml0KCkgZXJyb3IgLSBwYXJhbWV0ZXI6IGFwcElkIGludmFsaWRcIiksYShcIm11c3QgYmUgc2V0IGFwcGlkXCIpO2lmKCEvXlsxLTldWzAtOV17MCwxOH0kLy50ZXN0KHIpKXJldHVybiB4Lndhcm4oXCJBUEkgaW5pdCgpIGVycm9yIC0gcGFyYW1ldGVyOiB1c2VySWQgaW52YWxpZFwiKSxhKFwidXNlcklkIG11c3QgYmUgbnVtYmVyXCIpO3RoaXMuX3VpZD1cIlwiK3IsZS5nX2FwcGlkPXQsZS5nX3VzZXJpZD10aGlzLl91aWQsdGhpcy5fYXBwSWQ9dCx0aGlzLl9zdGF0cy5zZXRBcHBpZCh0KSx4LmRlYnVnKFwiQVBJIGluaXQoKSBhcHBJZDogXCIrdCtcIiB1aWQ6IFwiK3IrXCIgdGhpcy5fc3BlYzogXCIrKDAsdS5kZWZhdWx0KSh0aGlzLl9zcGVjKSksdGhpcy5fc3RhcnRTdGF0SW50ZXJ2YWwoKTt2YXIgbz1fLmRlZmF1bHQuTWVkaWFTZXJ2ZXJBZGRyZXNzO2lmKG8mJlwiXCIhPT1vLnRyaW0oKSlyZXR1cm4gbz1vLnRyaW0oKSx0aGlzLl9ob3N0UGF0aD1vLHRoaXMuX3BhcnNlTXNIb3N0KG8pLHRoaXMuX2lwJiZcIlwiIT09dGhpcy5faXA/KHRoaXMuX3N0YXRzLnNldERvbWFpbih0aGlzLl9pcCkseC5kZWJ1ZyhcIkFQSSBpbml0KCkgc3VjY2VzcyAtIHNwZWNpYWwgbWVkaWEgc2VydmVyOiBcIit0aGlzLl9ob3N0UGF0aCksdGhpcy5fd2F0Y2hEZXZpY2VDaGFuZ2UoKSx0aGlzLl9oYXNJbml0PSEwLG4oKSk6YShcImlwbG9jYXRpb24gZXJyb3IgLSBtc0hvc3Q6IFwiK28pO3RoaXMuX2lwTG9jYXRpb249bmV3IF8uZGVmYXVsdCh0LCtyLChmdW5jdGlvbihlLHQpe3JldHVybiB4LmRlYnVnKFwiQVBJIGluaXQoKSBzdWNjZXNzIC0gaXBsb2NhdGlvbiBhbGxvYyBzZXJ2ZXI6IFwiK2UuZG9tYWluKSxpLl9ob3N0UGF0aD1lLmRvbWFpbixpLl9wYXJzZU1zSG9zdChlLmRvbWFpbiksaS5fc3RhdHMuc2V0RG9tYWluKGkuX2lwKSxpLl9zdGF0cy5zZXRHV0luZm8odCksaS5fc3RhdHMuc2V0SVBsb2NhdGlvbkluZm8oaS5faXBMb2NhdGlvbiksaS5fd2F0Y2hEZXZpY2VDaGFuZ2UoKSxpLl9oYXNJbml0PSEwLG4oKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gaS5fc3RvcFN0YXRJbnRlcnZhbCgpLHgud2FybihcIkFQSSBpbml0KCkgZmFpbCAtIGlwbG9jYXRpb24gZXJyb3I6IFwiK2UudG9TdHJpbmcoKSksYShcImlwbG9jYXRpb24gZXJyb3I6IFwiK2UudG9TdHJpbmcoKSl9KSl9fSx7a2V5OlwiX3BhcnNlTXNIb3N0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9L14od3NzPzpcXC9cXC8pPyhbMC05YS16LlxcLV9dKykoOlswLTldKyk/KFsvMC05YS16LlxcLV9dKyk/KFxcP1swLTlhLXomPV0rKT8oI1swLTktYS16XSspPy9pLmV4ZWMoZSk7aWYodCYmdFsyXSl7dmFyIHI9dFsyXTt0aGlzLl9pcD1yLnRyaW0oKX1pZih0JiZ0WzNdKXt2YXIgbj10WzNdLGE9cGFyc2VJbnQobi5zbGljZSgxKSk7YSYmKHRoaXMuX3BvcnQ9YSl9ZWxzZSB0aGlzLl9wb3J0PTM0NDM7aWYodCYmdFs0XSl7dmFyIGk9dFs0XTt0aGlzLl9wYXRoPWkudHJpbSgpfX19LHtrZXk6XCJfd2F0Y2hEZXZpY2VDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZS5fZGV2aWNlcz10LHguZGVidWcoXCJpbml0KCkgLS0gZGV2aWNlczogXCIrKDAsdS5kZWZhdWx0KShlLl9kZXZpY2VzKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3gud2FybihcImluaXQoKSBlbnVtZXJhdGVEZXZpY2VzIGZhaWwgLSBcIitlLnRvU3RyaW5nKCkpfSkpLG5hdmlnYXRvci5tZWRpYURldmljZXMub25kZXZpY2VjaGFuZ2U9ZnVuY3Rpb24odCl7eC5kZWJ1ZyhcIm1lZGlhRGV2aWNlcy5vbmRldmljZWNoYW5nZSAtIFwiK3QpLHguZGVidWcoXCJvbmRldmljZWNoYW5nZSAtLSB0aGlzLl9kZXZpY2VzOiBcIisoMCx1LmRlZmF1bHQpKGUuX2RldmljZXMpKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXt4LmRlYnVnKFwib25kZXZpY2VjaGFuZ2UgLS0gY3Vyci1kZXZpY2VzOiBcIisoMCx1LmRlZmF1bHQpKHQpKTt2YXIgcj1bXTtlLl9kZXZpY2VzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dmFyIGE9ITE7dC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2UuZGV2aWNlSWQ9PXQuZGV2aWNlSWQmJmUua2luZD09dC5raW5kJiZlLmxhYmVsPT10LmxhYmVsJiZlLmdyb3VwSWQ9PXQuZ3JvdXBJZCYmKGE9ITApfSkpLGF8fFwiY29tbXVuaWNhdGlvbnNcIiE9PWUuZGV2aWNlSWQmJlwiZGVmYXVsdFwiIT09ZS5kZXZpY2VJZCYmci5wdXNoKGUpfSkpO3ZhciBuPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXt2YXIgYT0hMTtlLl9kZXZpY2VzLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dC5kZXZpY2VJZD09ZS5kZXZpY2VJZCYmdC5raW5kPT1lLmtpbmQmJnQubGFiZWw9PWUubGFiZWwmJnQuZ3JvdXBJZD09ZS5ncm91cElkJiYoYT0hMCl9KSksYXx8XCJjb21tdW5pY2F0aW9uc1wiIT09dC5kZXZpY2VJZCYmXCJkZWZhdWx0XCIhPT10LmRldmljZUlkJiZuLnB1c2godCl9KSksZS5fZGV2aWNlcz10LChuLmxlbmd0aDw9MHx8cjw9MCkmJmUuZW1pdChcImRldmljZS1ob3QtcGx1Z1wiLHtwbHVnRGV2aWNlczpuLHB1bGxEZXZpY2VzOnJ9KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7eC53YXJuKFwiaW5pdCgpIGVudW1lcmF0ZURldmljZXMgZmFpbCAtIFwiK2UudG9TdHJpbmcoKSl9KSl9KX19LHtrZXk6XCJfb25DbGllbnRDbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3Byb3Rvb1RyYW5zcG9ydFN0YXQ9ITEseC53YXJuKFwiX29uQ2xpZW50Q2xvc2UoKSBcIitlLmNvZGUrXCIgXCIrZS5yZWFzb24rXCIgLS0gY2FsbCB0aGlzLmNsb3NlKClcIiksdGhpcy5jbG9zZSh7Y29kZTplLmNvZGUsZGF0YTplLnJlYXNvbn0pfX0se2tleTpcImpvaW5cIix2YWx1ZTpmdW5jdGlvbih0LHIsbixhKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IHguZXJyb3IoXCJBUEkgam9pbigpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxuZXcgVHlwZUVycm9yKFwib25TdWNjZXNzIHBhcmFtZXRlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgeC5lcnJvcihcIkFQSSBqb2luKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uRmFpbHVyZSBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJvbkZhaWx1cmUgcGFyYW1ldGVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7aWYodGhpcy5fY29ublN0YXRlPT09RClyZXR1cm4geC53YXJuKFwiY2xpZW50Q29ublN0YXRlLkNPTk5FQ1RJTkcgLSBqb2luIGlzIHJ1bm5pbmcuLi5cIiksYShcImNsaWVudENvbm5TdGF0ZS5DT05ORUNUSU5HIC0gam9pbiBpcyBydW5uaW5nLi4uXCIpO2lmKCEvXlsxLTldWzAtOV17MCwxOH0kLy50ZXN0KHIpKXJldHVybiB4Lndhcm4oXCJBUEkgam9pbigpIGVycm9yIC0gcGFyYW1ldGVyOiByb29tSWQgaW52YWxpZFwiKSxhKFwicm9vbUlkIG11c3QgYmUgbnVtYmVyXCIpO2UuZ19yb29taWQ9cixlLmdfc2VydmVyPXRoaXMuX2hvc3RQYXRoLHguZGVidWcoXCJBUEkgam9pbigpIHRoaXMuX2hvc3RQYXRoOiBcIit0aGlzLl9ob3N0UGF0aCtcIiAtIHBhcmFtcyByb29tSWQ6IFwiK3IrXCIgcm9sZTogXCIrdGhpcy5fcm9sZStcIiAtIHRyeUpvaW46IFwiK3RoaXMuX3RyeUpvaW4pO3RoaXMuX3Rva2VuPXQscis9XCJcIix0aGlzLl9yb29tSWQ9cix0aGlzLl9zdGF0cy5zZXRSb29tSWQociksdGhpcy5fc3RhdHMuc2V0VXNlcklkKHRoaXMuX3VpZCksdGhpcy5fc3RhdHMuc2V0Um9sZVR5cGUoK3RoaXMuX3JvbGUpO3ZhciBpPWIuZ2V0RGV2aWNlSW5mbygpO3RoaXMuX3N0YXRzLnNldERldmljZUluZm8oaSk7dmFyIG89Zy5nZXRQcm90b29VcmwodGhpcy5fdWlkLHIsdGhpcy5fYXBwSWQsdGhpcy5faXAsdGhpcy5fcG9ydCx0aGlzLl9wYXRoKTtpZih0aGlzLl9saW5rR1dUaW1lPURhdGUubm93KCksdGhpcy5fcHJvdG9vU2Vzc2lvbklkPVMucmFuZG9tTnVtYmVyR2VuZXJhdG9yKCksdGhpcy5fcHJvdG9vPW5ldyBQLlBlZXIobyx0aGlzLl9wcm90b29TZXNzaW9uSWQsdGhpcy5fc3BlYy5yZXRyaWVzKSwhdGhpcy5fcHJvdG9vKXJldHVybiB0aGlzLl9pbm5lckNsb3NlKCkseC53YXJuKFwiQVBJIGpvaW4oKSBlcnJvciAtIG5ldyBwcm90b29DbGllbnQuUGVlciBmYWlsZWQuXCIpLHZvaWQgYShcImZhaWwgdG8gY3JlYXRlIHByb3Rvb0NsaWVudC5QZWVyXCIpO3ZhciBzPXRoaXMuX2Nvbm5TdGF0ZTt0aGlzLl9jb25uU3RhdGU9RCx0aGlzLmVtaXQoXCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLHtwcmV2U3RhdGU6cyxjdXJTdGF0ZTpEfSksQS51cmxzPUEudXJsc3x8XCJ0dXJuOlwiK3RoaXMuX2lwK1wiOjM0NzhcIixBLmNyZWRlbnRpYWw9QS5jcmVkZW50aWFsfHx3LmNsaWVudENvbmZpZy50dXJuU2VydmVyLnBhc3N3b3JkLEEudXNlcm5hbWU9QS51c2VybmFtZXx8dy5jbGllbnRDb25maWcudHVyblNlcnZlci51c2VybmFtZSxBLmljZVRyYW5zcG9ydFBvbGljeT1BLmljZVRyYW5zcG9ydFBvbGljeXx8dy5jbGllbnRDb25maWcudHVyblNlcnZlci5pY2VUcmFuc3BvcnRQb2xpY3ksdGhpcy5fcm9vbT1uZXcgYi5Sb29tKHtyZXF1ZXN0VGltZW91dDozZTQsdHJhbnNwb3J0T3B0aW9uczp7dWRwOiEwLHRjcDpCb29sZWFuKCExKX0sc3B5OnRoaXMuX3NweSxpY2VUcmFuc3BvcnRQb2xpY3k6QS5pY2VUcmFuc3BvcnRQb2xpY3ksdHVyblNlcnZlcnM6W3t1cmxzOkEudXJscyxjcmVkZW50aWFsOkEuY3JlZGVudGlhbCx1c2VybmFtZTpBLnVzZXJuYW1lfV19KSx0aGlzLl9qb2luKHtkaXNwbGF5TmFtZTp0aGlzLl91aWQsZGV2aWNlOlwid2ViY2FtXCJ9LG4sYSl9fSx7a2V5OlwiX2pvaW5cIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49ZS5kaXNwbGF5TmFtZSxhPWUuZGV2aWNlLGk9dGhpczt0aGlzLl9wcm90b28ub24oXCJvcGVuXCIsKGZ1bmN0aW9uKGUpe2Uuc2lkPT09aS5fcHJvdG9vU2Vzc2lvbklkPyh4LmRlYnVnKFwicHJvdG9vUGVlciBldmVudCAtLSBbb3Blbl0gLSB3aWxsIF9qb2luUm9vbS4uLlwiKSxpLl9zdGF0cy5zZXRXc1N0YXRlKFwib3BlblwiKSxpLl9wcm90b29UcmFuc3BvcnRTdGF0PSEwLGkuX3NlbmRHV1RpbWU9RGF0ZS5ub3coKSxpLl9saW5rR1dUaW1lPWkuX3NlbmRHV1RpbWUtaS5fbGlua0dXVGltZSxpLl9qb2luUm9vbSh7ZGlzcGxheU5hbWU6bixkZXZpY2U6YX0sdCxyKSk6eC5kZWJ1ZyhcInByb3Rvb1BlZXIgZXZlbnQgLS0gW29wZW5dIC0gaW52YWxpZCBwcm90b29TZXNzaW9uSWQgLSBpZ25vcmVcIil9KSksdGhpcy5fcHJvdG9vLm9uKFwiY29ubi1yZWNvbm5cIiwoZnVuY3Rpb24oZSl7aWYoZS5zaWQ9PT1pLl9wcm90b29TZXNzaW9uSWQpe3guZGVidWcoXCJwcm90b29QZWVyIGV2ZW50IC0tIFtjb25uLXJlY29ubl1cIiksaS5fc3RhdHMuc2V0V3NTdGF0ZShcIm9wZW5cIiksaS5fcHJvdG9vVHJhbnNwb3J0U3RhdD0hMDt2YXIgdD1pLl9jb25uU3RhdGU7aS5fY29ublN0YXRlPU8saS5lbWl0KFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIix7cHJldlN0YXRlOnQsY3VyU3RhdGU6T30pfWVsc2UgeC5kZWJ1ZyhcInByb3Rvb1BlZXIgZXZlbnQgLS0gW2Nvbm4tcmVjb25uXSAtIGludmFsaWQgcHJvdG9vU2Vzc2lvbklkIC0gaWdub3JlXCIpfSkpLHRoaXMuX3Byb3Rvby5vbihcImNvbm4taW50ZXJydXB0XCIsKGZ1bmN0aW9uKGUpe2Uuc2lkPT09aS5fcHJvdG9vU2Vzc2lvbklkPyh4LmRlYnVnKFwicHJvdG9vUGVlciBldmVudCAtLSBbY29ubi1pbnRlcnJ1cHRdXCIpLGkuX3N0YXRzLnNldFdzU3RhdGUoXCJjbG9zZVwiKSxpLl9wcm90b29UcmFuc3BvcnRTdGF0PSExKTp4LmRlYnVnKFwicHJvdG9vUGVlciBldmVudCAtLSBbY29ubi1pbnRlcnJ1cHRdIC0gaW52YWxpZCBwcm90b29TZXNzaW9uSWQgLSBpZ25vcmVcIil9KSksdGhpcy5fcHJvdG9vLm9uKFwicmVpbml0XCIsKGZ1bmN0aW9uKGUpe2Uuc2lkPT09aS5fcHJvdG9vU2Vzc2lvbklkP2kuX29uQ2xpZW50Q2xvc2Uoe2NvZGU6NDAwMSxyZWFzb246XCJwcm90b28gZXZlbnQgW3JlaW5pdF1cIn0pOnguZGVidWcoXCJwcm90b29QZWVyIGV2ZW50IC0tIFtyZWluaXRdIC0gaW52YWxpZCBwcm90b29TZXNzaW9uSWQgLSBpZ25vcmVcIil9KSksdGhpcy5fcHJvdG9vLm9uKFwiY29ubmVjdGluZ1wiLChmdW5jdGlvbihlKXtpZihlLnNpZD09PWkuX3Byb3Rvb1Nlc3Npb25JZCl7dmFyIHQ9aS5fY29ublN0YXRlO2kuX2Nvbm5TdGF0ZT1ELGkuZW1pdChcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIse3ByZXZTdGF0ZTp0LGN1clN0YXRlOkR9KX1lbHNlIHguZGVidWcoXCJwcm90b29QZWVyIGV2ZW50IC0tIFtjb25uZWN0aW5nXSAtIGludmFsaWQgcHJvdG9vU2Vzc2lvbklkIC0gaWdub3JlXCIpfSkpLHRoaXMuX3Byb3Rvby5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKGUpe2Uuc2lkPT09aS5fcHJvdG9vU2Vzc2lvbklkP2kuX29uQ2xpZW50Q2xvc2Uoe2NvZGU6NDAwMSxyZWFzb246XCJwcm90b28gZXZlbnQgW2Nsb3NlXVwifSk6eC5kZWJ1ZyhcInByb3Rvb1BlZXIgZXZlbnQgLS0gW2Nsb3NlXSAtIGludmFsaWQgcHJvdG9vU2Vzc2lvbklkIC0gaWdub3JlXCIpfSkpLHRoaXMuX3Byb3Rvby5vbihcInJlcXVlc3RcIiwoZnVuY3Rpb24oZSx0LHIsbil7aWYoZS5zaWQ9PT1pLl9wcm90b29TZXNzaW9uSWQpc3dpdGNoKHQubWV0aG9kKXtjYXNlXCJtZWRpYXNvdXAtbm90aWZpY2F0aW9uXCI6cigpO3ZhciBhPXQuZGF0YTtudWxsIT09aS5fcm9vbSYmaS5fcm9vbS5yZWNlaXZlTm90aWZpY2F0aW9uKGEpO2JyZWFrO2Nhc2VcImRpc3BsYXktbmFtZS1jaGFuZ2VkXCI6cigpO3ZhciBvPXQuZGF0YSxzPW8ucGVlck5hbWUsYz1vLmRpc3BsYXlOYW1lO28ub2xkRGlzcGxheU5hbWU7aWYobnVsbCE9PWkuX3Jvb20pe3ZhciB1PWkuX3Jvb20uZ2V0UGVlckJ5TmFtZShzKTtpZighdSl7eC53YXJuKFwiZGlzcGxheS1uYW1lLWNoYW5nZWQgcGVlciBub3QgZm91bmRcIik7YnJlYWt9dS5hcHBEYXRhLmRpc3BsYXlOYW1lPWMseC5kZWJ1ZyhcImRpc3BsYXktbmFtZS1jaGFuZ2VkIGRpc3BsYXlOYW1lOiBcIitjK1wiIHBlZXJOYW1lOiBcIitzKX1icmVhaztjYXNlXCIzVF9hcHBseVNwZWFrXCI6cigpLGkuX3Byb3Rvby5zZW5kKFwiYXBwcm92ZVNwZWFrXCIsdC5kYXRhKTticmVhaztjYXNlXCJhY3RpdmUtc3BlYWtlclwiOnIoKTt0LmRhdGEucGVlck5hbWU7YnJlYWs7ZGVmYXVsdDp4Lndhcm4oXCJwcm90b28ucmVxdXN0IGV2ZW50IC0tIFtcIit0Lm1ldGhvZCtcIl0gdW5rbm93biBwcm90b28gbWV0aG9kXCIpLG4oNDA0LFwidW5rbm93biBtZXRob2RcIil9ZWxzZSB4LmRlYnVnKFwicHJvdG9vUGVlciBldmVudCAtLSBbcmVxdWVzdF0gLSBpbnZhbGlkIHByb3Rvb1Nlc3Npb25JZCAtIGlnbm9yZVwiKX0pKSx0aGlzLl9wcm90b28ub24oXCJub3RpZmljYXRpb25cIiwoZnVuY3Rpb24oZSxyKXtpZihlLnNpZD09PWkuX3Byb3Rvb1Nlc3Npb25JZClzd2l0Y2goci5tZXRob2Qpe2Nhc2VcIjNUX3Nlc3Npb25pZFwiOnZhciBuPXIuZGF0YS5zZXNzaW9uSWQ7eC5kZWJ1ZyhcInByb3Rvb1BlZXIgZXZlbnQgLS0gW25vdGlmaWNhdGlvbjozVF9zZXNzaW9uaWRdIC0gXCIrbiksaS5fc3RhdHMuc2V0U2Vzc2lvbklkKG4pO2JyZWFrO2Nhc2VcIjNUX2Nvbm5lY3RpZFwiOnZhciBhPXIuZGF0YS5jb25uZWN0SWQ7aS5fc3RhdHMuc2V0Q29ubmVjdGlvbklkKGEpLHguZGVidWcoXCJwcm90b29QZWVyIGV2ZW50IC0tIFtub3RpZmljYXRpb246M1RfY29ubmVjdGlkXSAtIFwiK2EpLGkuX2pvaW5lZD0hMCxpLl9qb2luVGltZXImJihjbGVhclRpbWVvdXQoaS5fam9pblRpbWVyKSxpLl9qb2luVGltZXI9bnVsbCk7dmFyIG89aS5fY29ublN0YXRlO2kuX2Nvbm5TdGF0ZT1PLGkuZW1pdChcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIse3ByZXZTdGF0ZTpvLGN1clN0YXRlOk99KSx4LmRlYnVnKFwiQVBJIHByb3Rvb1BlZXIgZXZlbnQgLS0gW25vdGlmaWNhdGlvbjozVF9jb25uZWN0aWRdIC0tIEVtaXQgW2VudGVyXSB0byBBUFBcIikseC5kZWJ1ZyhcIkFQSSBqb2luKCkgc3VjY2VzcyAtIGNvbm5lY3RJZDogXCIrYSksdChcIllvdSBhcmUgam9pbiB0aGUgcm9vbVwiKTticmVhaztjYXNlXCIzVF9raWNrb3V0XCI6eC5kZWJ1ZyhcIkFQSSBwcm90b29QZWVyIGV2ZW50IC0tIFtub3RpZmljYXRpb246M1Rfa2lja291dF0gLSBFbWl0IFtraWNrb3V0XSB0byBBUFAgLSBcIisoMCx1LmRlZmF1bHQpKHIuZGF0YSkpLGkuY2xvc2Uoe2NvZGU6MzAwMSxkYXRhOigwLHUuZGVmYXVsdCkoci5kYXRhKX0pO2JyZWFrO2Nhc2VcIjNUX0NETl9VUkxcIjp2YXIgcz1yLmRhdGEuQ0ROX3VybDt4LmRlYnVnKFwiQVBJIHByb3Rvb1BlZXIgZXZlbnQgLS0gW25vdGlmaWNhdGlvbjozVF9DRE5fVVJMXSB1cmw6IFwiK3MrXCIgLSBFbWl0IFtDRE5fdXJsXSB0byBBUFBcIiksaS5lbWl0KHtDRE5fdXJsOnN9KTticmVhaztjYXNlXCJhY3RpdmUtc3BlYWtlclwiOnIuZGF0YS5wZWVyTmFtZTticmVhaztjYXNlXCIzVF9hdWRpZW5jZXZpc2libGVcIjp2YXIgYz1yLmRhdGEucGVlcklkO3guZGVidWcoXCJBUEkgcHJvdG9vUGVlciBldmVudCAtLSBbbm90aWZpY2F0aW9uOjNUX2F1ZGllbmNldmlzaWJsZV0gcGVlcklkOiBcIitjK1wiIC0gRW1pdCBbcGVlci1qb2luXSB0byBBUFBcIik7dmFyIGQ9aS5fcGVlcnMuZ2V0KFwiXCIrYyk7ZCYmaS5lbWl0KFwicGVlci1qb2luXCIse3VzZXJJRDpjLHBlZXI6ZH0pO2JyZWFrO2Nhc2VcIjNUX2NoYW5nZXJvbGVcIjp2YXIgbD1yLmRhdGEscD1sLnBlZXJJZCxmPWwucm9sZTt4LmRlYnVnKFwiQVBJIHByb3Rvb1BlZXIgZXZlbnQgLS0gW25vdGlmaWNhdGlvbjozVF9jaGFuZ2Vyb2xlXSBwZWVySWQ6IFwiK3ArXCIgLSByb2xlOiBcIitmKTt2YXIgbT1pLl9wZWVycy5nZXQoXCJcIitwKTttLmFwcERhdGEucm9sZT1mLnRvU3RyaW5nKCksbSYmKFwiMlwiPT09bS5hcHBEYXRhLnJvbGU/KHguZGVidWcoXCJBUEkgcHJvdG9vUGVlciBldmVudCAtLSBbbm90aWZpY2F0aW9uOjNUX2NoYW5nZXJvbGVdIHBlZXJJZDogXCIrcCtcIiByb2xlOiBcIitmK1wiIC0gRW1pdCBbcGVlci1qb2luXSB0byBBUFBcIiksaS5lbWl0KFwicGVlci1qb2luXCIse3VzZXJJRDpwLHBlZXI6bX0pKTpcIjNcIj09PW0uYXBwRGF0YS5yb2xlJiYoeC5kZWJ1ZyhcIkFQSSBwcm90b29QZWVyIGV2ZW50IC0tIFtub3RpZmljYXRpb246M1RfY2hhbmdlcm9sZV0gcGVlcklkOiBcIitwK1wiIHJvbGU6IFwiK2YrXCIgLSBFbWl0IFtwZWVyLWxlYXZlXSB0byBBUFBcIiksaS5fc3Vic2NyaWJlcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2UmJmUudXNlcklkPT1wJiZpLl9zdWJzY3JpYmVzLmRlbGV0ZSh0KX0pKSxpLl9yZW1vdGVTdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7ZSYmZS51c2VySWQ9PXAmJmkuX3JlbW90ZVN0cmVhbXMuZGVsZXRlKHQpfSkpLGkuX3JlbW90ZVZpZGVvcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2UmJmUudXNlcklkPT1wJiZpLl9yZW1vdGVWaWRlb3MuZGVsZXRlKHQpfSkpLGkuX3JlbW90ZUF1ZGlvcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2UmJmUudXNlcklkPT1wJiZpLl9yZW1vdGVBdWRpb3MuZGVsZXRlKHQpfSkpLGkuZW1pdChcInBlZXItbGVhdmVcIix7dXNlcklEOnAsc3RyZWFtczpbXX0pKSk7YnJlYWs7Y2FzZVwiM1RfcnRtcGZhaWx1cmVcIjp2YXIgaD1yLmRhdGEsdj1oLnJvb21JZCxfPWgudXJsO3guZGVidWcoXCJBUEkgcHJvdG9vUGVlciBldmVudCAtLSBbbm90aWZpY2F0aW9uOjNUX3J0bXBmYWlsdXJlXSB1cmw6IFwiK18rXCIgLSBFbWl0IFtydG1wLWZhaWx1cmVdIHRvIEFQUFwiKSxpLmVtaXQoXCJydG1wLWZhaWx1cmVcIix7dXJsOl8sY2hhbm5lbElkOnZ9KTticmVhaztjYXNlXCIzVF9ydG1wc3VjY2Vzc1wiOnZhciBnPXIuZGF0YSx5PWcucm9vbUlkLGI9Zy51cmw7eC5kZWJ1ZyhcIkFQSSBwcm90b29QZWVyIGV2ZW50IC0tIFtub3RpZmljYXRpb246M1RfcnRtcHN1Y2Nlc3NdIHVybDogXCIrYitcIiAtIEVtaXQgW3J0bXAtc3VjY2Vzc10gdG8gQVBQXCIpLGkuZW1pdChcInJ0bXAtc3VjY2Vzc1wiLHt1cmw6YixjaGFubmVsSWQ6eX0pO2JyZWFrO2Nhc2VcIjNUX3VwZGF0ZXZpZGVvc3RhdHVzXCI6dmFyIGs9ci5kYXRhLHc9ay5wZWVySWQsUD1rLmRldklkLFM9ay52aWRlb1R5cGU7eC5kZWJ1ZyhcIkFQSSBwcm90b29QZWVyIGV2ZW50IC0tIFtub3RpZmljYXRpb246M1RfdXBkYXRldmlkZW9zdGF0dXNdIHBlZXJJZDogXCIrdytcIiBkZXZJZDogXCIrUCtcIiB2aWRlb1R5cGU6IFwiK1MrXCIgLSBFbWl0IFt2aWRlby11cGRhdGVdIHRvIEFQUFwiKSxpLmVtaXQoXCJ2aWRlby11cGRhdGVcIix7dXNlcklkOncsc3RyZWFtSWQ6UCx2aWRlb1R5cGU6U30pO2JyZWFrO2Nhc2VcIjNUX25lZWRyZWZyZXNodG9rZW5cIjp4LmRlYnVnKFwiQVBJIHByb3Rvb1BlZXIgZXZlbnQgLS0gW25vdGlmaWNhdGlvbjozVF9uZWVkcmVmcmVzaHRva2VuXSAtIEVtaXQgW29uVG9rZW5Qcml2aWxlZ2VXaWxsRXhwaXJlXSB0byBBUFBcIiksaS5lbWl0KFwib25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmVcIik7YnJlYWs7ZGVmYXVsdDp4Lndhcm4oXCJwcm90b28ucmVxdXN0IGV2ZW50IC0tIFtcIityLm1ldGhvZCtcIl0gdW5rbm93biBwcm90b28gbWV0aG9kXCIpfWVsc2UgeC5kZWJ1ZyhcInByb3Rvb1BlZXIgZXZlbnQgLS0gW25vdGlmaWNhdGlvbl0gLSBpbnZhbGlkIHByb3Rvb1Nlc3Npb25JZCAtIGlnbm9yZVwiKX0pKX19LHtrZXk6XCJfam9pblJvb21cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGE9ZS5kaXNwbGF5TmFtZSxpPWUuZGV2aWNlLG89dGhpczt4LmRlYnVnKFwiX2pvaW5Sb29tKCkgdHJ5IHRvIGpvaW4gcm9vbS4uLlwiKSx0aGlzLl9yb29tLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX3Jvb20ub24oXCJjbG9zZVwiLChmdW5jdGlvbihlLHQpe1wicmVtb3RlXCI9PT1lJiYoeC53YXJuKFwicm9vbSBldmVudCAtLSBtZWRpYXNvdXAgUGVlci9Sb29tIHJlbW90ZWx5IGNsb3NlZCAtLSBhcHBEYXRhOiBcIisoMCx1LmRlZmF1bHQpKHQpKSxvLl9zdGF0cy5zdG9wSGVhcnRCZWF0KCkpfSkpLHRoaXMuX3Jvb20ub24oXCJyZXF1ZXN0XCIsKGZ1bmN0aW9uKGUsdCxyKXt4LmRlYnVnKFwicm9vbSBldmVudCAtLSBbcmVxdWVzdDpcIitlLm1ldGhvZCtcIl0gc2VuZGluZyB0byBtZWRpYXNvdXAgXCIpLG8uX3Byb3Rvby5zZW5kKFwibWVkaWFzb3VwLXJlcXVlc3RcIixlKS50aGVuKHQpLmNhdGNoKHIpfSkpLHRoaXMuX3Jvb20ub24oXCJub3RpZnlcIiwoZnVuY3Rpb24oZSl7eC5kZWJ1ZyhcInJvb20gZXZlbnQgLS0gW25vdGlmaWNhdGlvbjpcIitlLm1ldGhvZCtcIl0gc2VuZGluZyB0byBtZWRpYXNvdXBcIiksby5fY2xvc2VkfHxvLl9wcm90b28uc2VuZChcIm1lZGlhc291cC1ub3RpZmljYXRpb25cIixlKS5jYXRjaCgoZnVuY3Rpb24oZSl7eC53YXJuKFwiU2VuZCBtZWRpYXNvdXAgbm90aWZpY2F0aW9uIGZhaWxlZCAtIFwiK2UudG9TdHJpbmcoKSl9KSl9KSksdGhpcy5fcm9vbS5vbihcIm5ld3BlZXJcIiwoZnVuY3Rpb24oZSl7eC5kZWJ1ZyhcInJvb20gZXZlbnQgLS0gW25ld3BlZXJdIHBlZXJOYW1lOiBcIitlLm5hbWUpLG8uX3BlZXJzLnNldChcIlwiK2UubmFtZSxlKSxvLl9oYW5kbGVQZWVyKGUpfSkpLHRoaXMuX3RyeUpvaW49MCx0aGlzLl9qb2luVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZihvLl9qb2luZWQpcmV0dXJuIG8uX2pvaW5UaW1lciYmY2xlYXJUaW1lb3V0KG8uX2pvaW5UaW1lciksdm9pZChvLl9qb2luVGltZXI9bnVsbCk7by5fdHJ5Sm9pbisrLCtvLl90cnlKb2luPDM/KG8uX2lubmVyQ2xvc2UoKSxvLl9yb29tPW51bGwsby5fcHJvdG9vJiYoby5fcHJvdG9vLmNsb3NlKCksby5fcHJvdG9vPW51bGwpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by5qb2luKG8uX3Rva2VuLG8uX3Jvb21JZCx0LG4pfSkpKTooeC53YXJuKFwidGltZW91dCAtLSBqb2luIHJvb20gdGltZW91dFwiKSxvLl9qb2luVGltZXI9bnVsbCxvLmNsb3NlKHtjb2RlOjVlMyxkYXRhOlwiam9pbi10aW1lb3V0XCJ9KSxvLl9zdGF0cy5zZW5kVGltZU91dExvZyhvLl90aW1lc09mTGlua0dXLDMqK3IuSk9JTl9ST09NX1RJTUVfT1VUKSxuKFwiam9pbiByb29tIHRpbWVvdXRcIikpfSksci5KT0lOX1JPT01fVElNRV9PVVQpO3ZhciBzPXtkaXNwbGF5TmFtZTphLGRldmljZTppLHJvbGU6dGhpcy5fcm9sZSxhdWRpb0NvZGVjOnRoaXMuX2F1ZGlvQ29kZWMsdG9rZW46dGhpcy5fdG9rZW58fFwiXCJ9O1wiMVwiPT09dGhpcy5fcm9sZSYmKFwiXCI9PT10aGlzLl92YWxpZF9ydG1wX3VybCYmKHRoaXMuX3ZhbGlkX3J0bXBfdXJsPVwicnRtcDovL1wiK3RoaXMuX2lwK1wiOjExOTM2L3Nkay9cIit0aGlzLl9hcHBJZCtcIi1cIit0aGlzLl9yb29tSWQrXCItXCIrdGhpcy5fdWlkK1wiLVwiK2cudXVpZCgpKSxcIlwiIT09dGhpcy5fdmFsaWRfcnRtcF91cmwmJihzLnJ0bXBVcmw9dGhpcy5fdmFsaWRfcnRtcF91cmwscy5kaXNhYmxlUnRtcFZpZGVvPXRoaXMuX2Rpc2FibGVSdG1wVmlkZW8pLHMudmlkZW9NaXhlckJHSVVybD10aGlzLl92aWRlb01peGVyQkdJVXJsKSx4LmRlYnVnKFwiX2pvaW5Sb29tKCkgLSBfcm9vbS5qb2luOiBcIisoMCx1LmRlZmF1bHQpKHMpKSx0aGlzLl9yb29tLmpvaW4odGhpcy5fdWlkLHMpLnRoZW4oKGZ1bmN0aW9uKCl7by5fc3B5fHwoby5fc2VuZFRyYW5zcG9ydD1vLl9yb29tLmNyZWF0ZVRyYW5zcG9ydChcInNlbmRcIix7bWVkaWE6XCJTRU5EX01JQ19XRUJDQU1cIn0pLG8uX3NlbmRUcmFuc3BvcnQub24oXCJjbG9zZVwiLChmdW5jdGlvbihlKXt4LmRlYnVnKFwiX3NlbmRUcmFuc3BvcnQgZXZlbnQgLS0gW2Nsb3NlXSBvcmlnaW5hdG9yOiBcIisoMCx1LmRlZmF1bHQpKGUpKX0pKSxvLl9zZW5kVHJhbnNwb3J0Lm9uKFwicmVzdGFydC1pY2UtdHJ5aW5nXCIsKGZ1bmN0aW9uKGUpe3guZGVidWcoXCJfc2VuZFRyYW5zcG9ydCBldmVudCAtLSBbcmVzdGFydC1pY2UtdHJ5aW5nXSBcIisoMCx1LmRlZmF1bHQpKGUpKX0pKSxvLl9zZW5kVHJhbnNwb3J0Lm9uKFwicmVzdGFydC1pY2UtZmFpbFwiLChmdW5jdGlvbihlKXt4LmRlYnVnKFwiX3NlbmRUcmFuc3BvcnQgZXZlbnQgLS0gW3Jlc3RhcnQtaWNlLWZhaWxdIFwiKygwLHUuZGVmYXVsdCkoZSkpLG8uX29uQ2xpZW50Q2xvc2Uoe2NvZGU6NDAwMyxyZWFzb246XCJfc2VuZFRyYW5zcG9ydCBldmVudCBbcmVzdGFydC1pY2UtZmFpbF1cIn0pfSkpLG8uX3NlbmRUcmFuc3BvcnQub24oXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oZSl7eC5kZWJ1ZyhcIl9zZW5kVHJhbnNwb3J0IGV2ZW50IC0tIFtjb25uZWN0aW9uc3RhdGVjaGFuZ2VdIGNvbm5lY3Rpb25zdGF0OiBcIitlKSxcImRpc2Nvbm5lY3RlZFwiPT09ZSYmKG8uX2ljZVNlbmREaXNjb25uZWN0ZWRDbnQrKyx4LmRlYnVnKFwiX3NlbmRUcmFuc3BvcnQgZXZlbnQgLS0gW2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZTpkaXNjb25uZWN0ZWRdIC0gd2lsbCByZXN0YXJ0IGljZSBhZnRlciA1MDBtc1wiKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe28uX3NlbmRUcmFuc3BvcnQuYXR0ZW1wdFJlc3RhcnRJY2UoKX0pLDUwMCkpLFwiZmFpbGVkXCI9PT1lJiYoeC5kZWJ1ZyhcIl9zZW5kVHJhbnNwb3J0IGV2ZW50IC0tIFtjb25uZWN0aW9uc3RhdGVjaGFuZ2U6ZmFpbGVkXSAtIHdpbGwgcmVzdGFydCBpY2VcIiksby5fc2VuZFRyYW5zcG9ydC5hdHRlbXB0UmVzdGFydEljZSgpKSxcImNvbm5lY3RlZFwiPT09ZSYmKHguZGVidWcoXCJfc2VuZFRyYW5zcG9ydCBldmVudCAtLSBbY29ubmVjdGlvbnN0YXRlY2hhbmdlOmNvbm5lY3RlZF1cIiksUihvLl9zZW5kVHJhbnNwb3J0Ll9oYW5kbGVyLl9wYywoZnVuY3Rpb24oZSl7by5fc3RhdHMuc2V0V2VicnRjSW50ZXJuYWxTZW5kU3RhdHMoZSl9KSwxZTMpKSxvLl9zdGF0cy5zZXRTZW5kSWNlU3RhdGUoZSl9KSkpLG8uX3JlY3ZUcmFuc3BvcnQ9by5fcm9vbS5jcmVhdGVUcmFuc3BvcnQoXCJyZWN2XCIse21lZGlhOlwiUkVDVlwifSksby5fcmVjdlRyYW5zcG9ydC5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKGUpe3guZGVidWcoXCJfcmVjdlRyYW5zcG9ydCBldmVudCAtLSBbY2xvc2VdIG9yaWdpbmF0b3I6IFwiKygwLHUuZGVmYXVsdCkoZSkpfSkpLG8uX3JlY3ZUcmFuc3BvcnQub24oXCJyZXN0YXJ0LWljZS10cnlpbmdcIiwoZnVuY3Rpb24oZSl7eC5kZWJ1ZyhcIl9yZWN2VHJhbnNwb3J0IGV2ZW50IC0tIFtyZXN0YXJ0LWljZS10cnlpbmddIFwiKygwLHUuZGVmYXVsdCkoZSkpfSkpLG8uX3JlY3ZUcmFuc3BvcnQub24oXCJyZXN0YXJ0LWljZS1mYWlsXCIsKGZ1bmN0aW9uKGUpe3guZGVidWcoXCJfcmVjdlRyYW5zcG9ydCBldmVudCAtLSBbcmVzdGFydC1pY2UtZmFpbF0gXCIrKDAsdS5kZWZhdWx0KShlKSksby5fb25DbGllbnRDbG9zZSh7Y29kZTo0MDA0LHJlYXNvbjpcInJlY3ZUcmFuc3BvcnQgZXZlbnQgW3Jlc3RhcnQtaWNlLWZhaWxdXCJ9KX0pKSxvLl9yZWN2VHJhbnNwb3J0Lm9uKFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKGUpe3guZGVidWcoXCJfcmVjdlRyYW5zcG9ydCBldmVudCAtLSBbY29ubmVjdGlvbnN0YXRlY2hhbmdlXSBjb25uZWN0aW9uc3RhdGU6IFwiK2UpLFwiZGlzY29ubmVjdGVkXCI9PT1lJiYoby5faWNlUmVjdkRpc2Nvbm5lY3RlZENudCsrLHguZGVidWcoXCJfcmVjdlRyYW5zcG9ydCBldmVudCAtLSBbY29ubmVjdGlvbnN0YXRlY2hhbmdlOmRpc2Nvbm5lY3RlZF0gLSB3aWxsIHJlc3RhcnQgaWNlIGFmdGVyIDUwMG1zXCIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by5fcmVjdlRyYW5zcG9ydC5hdHRlbXB0UmVzdGFydEljZSgpfSksNTAwKSksXCJmYWlsZWRcIj09PWUmJih4LmRlYnVnKFwiX3JlY3ZUcmFuc3BvcnQgZXZlbnQgLS0gW2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZTpmYWlsZWRdIC0gd2lsbCByZXN0YXJ0IGljZVwiKSxvLl9yZWN2VHJhbnNwb3J0LmF0dGVtcHRSZXN0YXJ0SWNlKCkpLFwiY29ubmVjdGVkXCI9PT1lJiYoeC5kZWJ1ZyhcIl9yZWN2VHJhbnNwb3J0IGV2ZW50IC0tIFtjb25uZWN0aW9uc3RhdGVjaGFuZ2U6Y29ubmVjdGVkXVwiKSxSKG8uX3JlY3ZUcmFuc3BvcnQuX2hhbmRsZXIuX3BjLChmdW5jdGlvbihlKXtvLl9zdGF0cy5zZXRXZWJydGNJbnRlcm5hbFJlY3ZTdGF0cyhlKX0pLDFlMykpLG8uX3N0YXRzLnNldFJlY3ZJY2VTdGF0ZShlKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe28uX3NweX0pKS50aGVuKChmdW5jdGlvbigpe3guZGVidWcoXCJfcm9vbS5qb2luKCkgbWVkaWFzb3VwIHJlc3BvbnNlLlwiKTt2YXIgZT1vLl9yb29tLnBlZXJzLHQ9ITAscj0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGk9KDAsYy5kZWZhdWx0KShlKTshKHQ9KGE9aS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBzPWEudmFsdWU7by5faGFuZGxlUGVlcihzLHtub3RpZnk6ITF9KX19Y2F0Y2goZSl7cj0hMCxuPWV9ZmluYWxseXt0cnl7IXQmJmkucmV0dXJuJiZpLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBufX1vLl9zdGF0cy5zdGFydEhlYXJ0QmVhdCgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt9KSl9fSx7a2V5OlwibGVhdmVcIix2YWx1ZTooVz0oMCxzLmRlZmF1bHQpKG8uZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIG8uZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXtlLm5leHQ9MzticmVha310aHJvdyB4LmVycm9yKFwiQVBJIGxlYXZlKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uU3VjY2VzcyBpbnZhbGlkXCIpLFR5cGVFcnJvcihcIm9uU3VjY2VzcyBpcyBub3QgYSBmdWNudGlvbi5cIik7Y2FzZSAzOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe2UubmV4dD02O2JyZWFrfXRocm93IHguZXJyb3IoXCJBUEkgbGVhdmUoKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBhIGZ1Y250aW9uLlwiKTtjYXNlIDY6dGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdHx8eC53YXJuKFwiQVBJIGxlYXZlKCkgZXJyb3IgLSBwcm90b29UcmFuc3BvcnQgYnJva2VuXCIpO3RyeXt0aGlzLmNsb3NlKHtjb2RlOjFlMyxkYXRhOlwiTm9ybWFsIGV4aXRcIn0pLHguZGVidWcoXCJBUEkgbGVhdmUoKSBzdWNjZXNzXCIpfWNhdGNoKGUpe3gud2FybihcIkFQSSBsZWF2ZSgpIGVycm9yIC0gXCIrZS50b1N0cmluZygpKX1maW5hbGx5e3guZGVidWcoXCJBUEkgbGVhdmUoKSBmaW5pc2guXCIpLHQoKX1jYXNlIDg6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJwdWJsaXNoXCIsdmFsdWU6KEc9KDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSh0LHIsbil7dmFyIGEsYyx1LGQsbD10aGlzO3JldHVybiBvLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgeC5lcnJvcihcIkFQSSBwdWJsaXNoKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uU3VjY2VzcyBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgcGFyYW1ldGVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7Y2FzZSAzOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe2UubmV4dD02O2JyZWFrfXRocm93IHguZXJyb3IoXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gcGFyYW1ldGVyOiBvbkZhaWx1cmUgaW52YWxpZFwiKSxuZXcgVHlwZUVycm9yKFwib25GYWlsdXJlIHBhcmFtZXRlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO2Nhc2UgNjppZih0JiZ0LnN0cmVhbU9iail7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gc3RyZWFtIGlzIG51bGxcIiksbihcInN0cmVhbSBwYXJhbSBlcnJvclwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDEwOmlmKHguZGVidWcoXCJBUEkgcHVibGlzaCgpIC0gc3RyZWFtSWQ6IFwiK3QuZ2V0SWQoKSksdGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdCl7ZS5uZXh0PTE1O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGlzIGJyb2tlblwiKSxuKFwicHJvdG9vVHJhbnNwb3J0IGlzIGJyb2tlblwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE1OmlmKHRoaXMuX2pvaW5lZCl7ZS5uZXh0PTE5O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gbm9uLWpvaW5lZFwiKSxuKFwibm9uLWpvaW5lZFwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE5OmlmKCF0aGlzLl9zcHkpe2UubmV4dD0yMzticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHB1Ymxpc2goKSBlcnJvciAtIGZvcmJpZGRlbjogdXNlciBpcyBfc3B5XCIpLG4oXCJQZXJtaXNzaW9uIGRlbmllZCAtIHNweSBOb3QgYWxsb3dlZCBwdWJsaXNoXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjM6aWYoXCIzXCIhPT10aGlzLl9yb2xlKXtlLm5leHQ9Mjc7YnJlYWt9cmV0dXJuIHgud2FybihcIkFQSSBwdWJsaXNoKCkgZXJyb3IgLSBmb3JiaWRkZW46IEF1ZGllbmNlIE5vIHBlcm1pc3Npb25cIiksbihcIlBlcm1pc3Npb24gZGVuaWVkIC0gQXVkaWVuY2UgTm90IGFsbG93ZWQgcHVibGlzaFwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDI3OmlmKHQucHVibGlzaFN0YXRlIT09dy5QVUJMSVNIX1NUQVRFLlBVQkxJU0hJTkcpe2UubmV4dD0zMTticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHB1Ymxpc2goKSBlcnJvciAtIGNvbmZpZy5QVUJMSVNIX1NUQVRFLlBVQkxJU0hJTkcgLSBwdWJsaXNoIGlzIHJ1bm5pbmcuLi5cIiksbihcImNvbmZpZy5QVUJMSVNIX1NUQVRFLlBVQkxJU0hJTkcgLSBwdWJsaXNoIGlzIHJ1bm5pbmcuLi5cIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAzMTppZih0LnB1Ymxpc2hTdGF0ZT13LlBVQkxJU0hfU1RBVEUuUFVCTElTSElORyx0LnVzZXJJRD10aGlzLl91aWQsKGE9dGhpcy5fbWFwTWljUHJvZHVjZXJzLmdldCh0Ll9pbm5lclN0cmVhbUlEKSkmJnRoaXMuX3Jlc3VtZVByb2R1Y2VyKGEpLCEoYz10aGlzLl9tYXBXZWJjYW1Qcm9kdWNlcnMuZ2V0KHQuX2lubmVyU3RyZWFtSUQpKSl7ZS5uZXh0PTUwO2JyZWFrfXJldHVybiB0aGlzLl9yZXN1bWVQcm9kdWNlcihjKSxlLnByZXY9NDAsZS5uZXh0PTQzLHQuX29wZW5WaWRlbygpO2Nhc2UgNDM6ZS5uZXh0PTQ5O2JyZWFrO2Nhc2UgNDU6ZS5wcmV2PTQ1LGUudDA9ZS5jYXRjaCg0MCkseC53YXJuKFwiQVBJIHB1Ymxpc2goKSBzdHJlYW0uX29wZW5WaWRlbyBlcnJvciAtIFwiK2UudDAudG9TdHJpbmcoKSk7Y2FzZSA0OTp0Ll9uZWVkVXBkYXRlVmlkZW9TdHJlYW1CaXRyYXRlJiYodGhpcy5fdXBkYXRlVmlkZW9UcmFjayh0LHQudmlkZW9UcmFja3MsdC5fdXBkYXRlQ29uc3RyYWludHMpLHQuX25lZWRVcGRhdGVWaWRlb1N0cmVhbUJpdHJhdGU9ITEpO2Nhc2UgNTA6aWYodC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJwYXVzZS12aWRlb1wiKSx0LnJlbW92ZUFsbExpc3RlbmVycyhcInBhdXNlLWF1ZGlvXCIpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVzdW1lLWF1ZGlvXCIpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVzdW1lLXZpZGVvXCIpLHQub24oXCJwYXVzZS12aWRlb1wiLChmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLnN0cmVhbTtsLnBhdXNlV2ViY2FtKHQpfX0pKSx0Lm9uKFwicGF1c2UtYXVkaW9cIiwoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9ZS5zdHJlYW07bC5wYXVzZU1pYyh0KX19KSksdC5vbihcInJlc3VtZS1hdWRpb1wiLChmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLnN0cmVhbTtsLnJlc3VtZU1pYyh0KX19KSksdC5vbihcInJlc3VtZS12aWRlb1wiLChmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLnN0cmVhbTtsLnJlc3VtZVdlYmNhbSh0KX19KSksIWMmJiFhKXtlLm5leHQ9NjY7YnJlYWt9cmV0dXJuIHguZGVidWcoXCJBUEkgcHVibGlzaCgpIHN1Y2Nlc3MgLSBzdHJlYW1JZDogXCIrdC5pbm5lclN0cmVhbUlEK1wiIC0gRW1pdCBbc3RyZWFtLXB1Ymxpc2hlZF0gdG8gQVBQXCIpLHQuX3B1Ymxpc2hlZD0hMCx0LnB1Ymxpc2hTdGF0ZT13LlBVQkxJU0hfU1RBVEUuUFVCTElTSEVELHRoaXMuX3B1Ymxpc2hzLnNldCh0LnV1aWQse3N0cmVhbUlkOnQuaW5uZXJTdHJlYW1JRCxzdHJlYW06dH0pLHRoaXMuZW1pdChcInN0cmVhbS1wdWJsaXNoZWRcIix7c3RyZWFtOnR9KSxyKCksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA2NjppZih0LnN0cmVhbU9iai5nZXRBdWRpb1RyYWNrcygpWzBdfHx0LnN0cmVhbU9iai5nZXRWaWRlb1RyYWNrcygpWzBdKXtlLm5leHQ9NzE7YnJlYWt9cmV0dXJuIHQucHVibGlzaFN0YXRlPXcuUFVCTElTSF9TVEFURS5JRExFLHguZGVidWcoXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gYXVkaW9UcmFjayBvciB2aWRlb1RyYWNrIG5vbi1leGlzdC5cIiksbihcIm5vIGF1ZGlvIG9yIHZpZGVvIGtpbmQgdHJhY2tcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA3MTp1PSExLGQ9ITEsaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKCgwLHMuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUoKXtyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGwuX3Jvb20uY2FuU2VuZChcImF1ZGlvXCIpKXtlLm5leHQ9MzticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHB1Ymxpc2goKSBlcnJvciAtIGF1ZGlvIGNhbm5vdCBTZW5kLlwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDM6aWYodC5zdHJlYW1PYmouZ2V0QXVkaW9UcmFja3MoKVswXSl7ZS5uZXh0PTY7YnJlYWt9cmV0dXJuIHguZGVidWcoXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gYXVkaW9UcmFjayBub24tZXhpc3QuXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNjpyZXR1cm4gZS5wcmV2PTYsZS5uZXh0PTksbC5fc2V0TWljUHJvZHVjZXIodCk7Y2FzZSA5OnU9ITAsbC5fc3RhdHMuYXVkaW9PcGVuPSEwLGUubmV4dD0xNjticmVhaztjYXNlIDEzOmUucHJldj0xMyxlLnQwPWUuY2F0Y2goNikseC53YXJuKFwiQVBJIHB1Ymxpc2goKSBlcnJvciAtIFwiK2UudDAudG9TdHJpbmcoKSk7Y2FzZSAxNjpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxsLFtbNiwxM11dKX0pKSkpLnRoZW4oKDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBvLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYobC5fcm9vbS5jYW5TZW5kKFwidmlkZW9cIikpe2UubmV4dD0zO2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gdmlkZW8gY2Fubm90IFNlbmQuXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMzppZih0LnN0cmVhbU9iai5nZXRWaWRlb1RyYWNrcygpWzBdKXtlLm5leHQ9NjticmVha31yZXR1cm4geC5kZWJ1ZyhcIkFQSSBwdWJsaXNoKCkgZXJyb3IgLSB2aWRlb1RyYWNrIG5vbi1leGlzdC5cIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA2OnJldHVybiBlLnByZXY9NixlLm5leHQ9OSxsLl9zZXRXZWJjYW1Qcm9kdWNlcih0KTtjYXNlIDk6ZD0hMCxsLl9zdGF0cy52aWRlb09wZW49ITAsZS5uZXh0PTE2O2JyZWFrO2Nhc2UgMTM6ZS5wcmV2PTEzLGUudDA9ZS5jYXRjaCg2KSx4Lndhcm4oXCJBUEkgcHVibGlzaCgpIGVycm9yIC0gXCIrZS50MC50b1N0cmluZygpKTtjYXNlIDE2OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLGwsW1s2LDEzXV0pfSkpKSkudGhlbigoZnVuY3Rpb24oKXt1fHxkPyh0Ll9wdWJsaXNoZWQ9ITAsdC5wdWJsaXNoU3RhdGU9dy5QVUJMSVNIX1NUQVRFLlBVQkxJU0hFRCx4LmRlYnVnKFwiQVBJIHB1Ymxpc2goKSBzdWNjZXNzIC0gc3RyZWFtSWQ6IFwiK3QuaW5uZXJTdHJlYW1JRCtcIiAtIEVtaXQgW3N0cmVhbS1wdWJsaXNoZWRdIHRvIEFQUFwiKSxsLl9wdWJsaXNocy5zZXQodC51dWlkLHtzdHJlYW1JZDp0LmlubmVyU3RyZWFtSUQsc3RyZWFtOnR9KSxsLmVtaXQoXCJzdHJlYW0tcHVibGlzaGVkXCIse3N0cmVhbTp0fSkscigpKToodC5wdWJsaXNoU3RhdGU9dy5QVUJMSVNIX1NUQVRFLklETEUsbihcIm5vIGF1ZGlvIG9yIHZpZGVvIHRvIGJlIHNlbnRcIikpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LnB1Ymxpc2hTdGF0ZT13LlBVQkxJU0hfU1RBVEUuSURMRSx4Lndhcm4oXCJBUEkgcHVibGlzaCgpIGZhaWwgLSBcIitlLnRvU3RyaW5nKCkpLG4oZSl9KSk7Y2FzZSA3NDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbNDAsNDVdXSl9KSkpLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gRy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInVucHVibGlzaFwiLHZhbHVlOihVPSgwLHMuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUodCxyLG4sYSl7dmFyIGkscztyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe2UubmV4dD0zO2JyZWFrfXRocm93IHguZXJyb3IoXCJBUEkgdW5wdWJsaXNoKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uU3VjY2VzcyBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgcGFyYW1ldGVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7Y2FzZSAzOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe2UubmV4dD02O2JyZWFrfXRocm93IHguZXJyb3IoXCJBUEkgdW5wdWJsaXNoKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uRmFpbHVyZSBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJvbkZhaWx1cmUgcGFyYW1ldGVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7Y2FzZSA2OmlmKHQpe2UubmV4dD0xMDticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHVucHVibGlzaCgpIGVycm9yIC0gc3RyZWFtIGlzIG51bGxcIiksbihcIlBhcmFtIGVycm9yIC0gc3RyZWFtXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTA6aWYodGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdCl7ZS5uZXh0PTE0O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgdW5wdWJsaXNoKCkgZXJyb3IgLSBwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpLG4oXCJwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTQ6aWYodC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJwYXVzZS12aWRlb1wiKSx0LnJlbW92ZUFsbExpc3RlbmVycyhcInBhdXNlLWF1ZGlvXCIpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVzdW1lLWF1ZGlvXCIpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVzdW1lLXZpZGVvXCIpLChpPXRoaXMuX21hcE1pY1Byb2R1Y2Vycy5nZXQodC5faW5uZXJTdHJlYW1JRCkpJiZ0aGlzLl9wYXVzZVByb2R1Y2VyKGkpLCEocz10aGlzLl9tYXBXZWJjYW1Qcm9kdWNlcnMuZ2V0KHQuX2lubmVyU3RyZWFtSUQpKSl7ZS5uZXh0PTI2O2JyZWFrfWlmKHRoaXMuX3BhdXNlUHJvZHVjZXIocyksIWEpe2UubmV4dD0yNjticmVha31yZXR1cm4gZS5uZXh0PTI2LHQuX2Nsb3NlVmlkZW8oKTtjYXNlIDI2OnRoaXMuX3N0YXRzLmF1ZGlvT3Blbj0hMSx0aGlzLl9zdGF0cy52aWRlb09wZW49ITEsdC5fcHVibGlzaGVkPSExLHQucHVibGlzaFN0YXRlPXcuUFVCTElTSF9TVEFURS5JRExFLHRoaXMuX3B1Ymxpc2hzLmRlbGV0ZSh0LnV1aWQpLHguZGVidWcoXCJBUEkgdW5wdWJsaXNoKCkgc3VjY2VzcyAtIHN0cmVhbUlkOiBcIit0LmlubmVyU3RyZWFtSUQrXCIgLSBFbWl0IFtzdHJlYW0tdW5wdWJsaXNoZWRdIHRvIEFQUFwiKSx0aGlzLmVtaXQoXCJzdHJlYW0tdW5wdWJsaXNoZWRcIix7c3RyZWFtOnR9KSxyKCk7Y2FzZSAzNDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIFUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJwdWJsaXNoU2NyZWVuXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyB4LmVycm9yKFwiQVBJIHB1Ymxpc2hTY3JlZW4oKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksbmV3IFR5cGVFcnJvcihcIm9uU3VjY2VzcyBpcyBub3QgZnVuY3Rpb24uXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgeC5lcnJvcihcIkFQSSBwdWJsaXNoU2NyZWVuKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uRmFpbHVyZSBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJvbkZhaWx1cmUgaXMgbm90IGZ1bmN0aW9uLlwiKTtyZXR1cm4gZSYmZS5zdHJlYW1PYmo/dGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdD90aGlzLl9qb2luZWQ/dGhpcy5fc3B5Pyh4Lndhcm4oXCJBUEkgcHVibGlzaFNjcmVlbigpIGVycm9yIC0gdXNlciBpcyBfc3B5XCIpLHZvaWQgcihcIlBlcm1pc3Npb24gZGVuaWVkIC0gc3B5IE5vdCBhbGxvd2VkIHB1Ymxpc2hcIikpOlwiM1wiPT09dGhpcy5fcm9sZT8oeC53YXJuKFwiQVBJIHB1Ymxpc2hTY3JlZW4oKSBlcnJvciAtIGZvcmJpZGRlbjogQXVkaWVuY2VcIiksdm9pZCByKFwiUGVybWlzc2lvbiBkZW5pZWQgLSBBdWRpZW5jZSBOb3QgYWxsb3dlZCBwdWJsaXNoXCIpKTooZS51c2VySUQ9dGhpcy5fdWlkLG51bGwhPT10aGlzLl9zY3JlZW5Qcm9kdWNlcj8odGhpcy5yZXN1bWVTY3JlZW4oKSx4LmRlYnVnKFwiQVBJIHB1Ymxpc2hTY3JlZW4oKSBzdWNjZXNzIHN0cmVhbUlkOiBcIitlLmlubmVyU3RyZWFtSUQrXCIgLSBFbWl0IFtzdHJlYW0tcHVibGlzaGVkXSB0byBBUFBcIiksdm9pZCB0aGlzLmVtaXQoXCJzY3JlZW4tcHVibGlzaGVkXCIse3N0cmVhbTplfSkpOnZvaWQgaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe24uX3Jvb20uY2FuU2VuZChcInZpZGVvXCIpPyhuLl9zZXRTY3JlZW5Qcm9kdWNlcihlKS5jYXRjaCgoZnVuY3Rpb24oZSl7eC53YXJuKFwiQVBJIHB1Ymxpc2hTY3JlZW4oKSBlcnJvciAtIFwiK2UudG9TdHJpbmcoKStcIi5cIil9KSksbi5fcHVibGlzaHMuc2V0KGUudXVpZCx7c3RyZWFtSWQ6ZS5pbm5lclN0cmVhbUlELHN0cmVhbTplfSkseC5kZWJ1ZyhcIkFQSSBwdWJsaXNoU2NyZWVuKCkgc3VjY2VzcyAtIHN0cmVhbUlkOiBcIitlLmlubmVyU3RyZWFtSUQrXCIgLSBFbWl0IFtzdHJlYW0tcHVibGlzaGVkXSB0byBBUFBcIiksbi5lbWl0KFwic2NyZWVuLXB1Ymxpc2hlZFwiLHtzdHJlYW06ZX0pLHQoKSk6eC53YXJuKFwiQVBJIHB1Ymxpc2hTY3JlZW4oKSBlcnJvciAtIHZpZGVvIGNhbm5vdCBTZW5kLlwiKX0pKSk6KHgud2FybihcIkFQSSBwdWJsaXNoU2NyZWVuKCkgZXJyb3IgLSBub24tam9pbmVkXCIpLHZvaWQgcihcIm5vbi1qb2luZWRcIikpOih4Lndhcm4oXCJBUEkgcHVibGlzaFNjcmVlbigpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSx2b2lkIHIoXCJwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpKTooeC53YXJuKFwiQVBJIHB1Ymxpc2hTY3JlZW4oKSBlcnJvciAtIHBhcmFtZXRlcjogc3RyZWFtIGlzIGludmFsaWRcIiksdm9pZCByKFwiUGFyYW0gZXJyb3IgLSBzdHJlYW0gaXMgaW52YWxpZFwiKSl9fSx7a2V5OlwidW5wdWJsaXNoU2NyZWVuXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgeC5lcnJvcihcIkFQSSB1bnB1Ymxpc2hTY3JlZW4oKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksVHlwZUVycm9yKFwib25TdWNjZXNzIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcil0aHJvdyB4LmVycm9yKFwiQVBJIHVucHVibGlzaFNjcmVlbigpIGVycm9yIC0gcGFyYW1ldGVyOiBvbkZhaWx1cmUgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvbkZhaWx1cmUgaXMgbm90IGZ1bmN0aW9uLlwiKTtyZXR1cm4gZSYmZS5zdHJlYW1PYmo/dGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdD8odGhpcy5fc2NyZWVuUHJvZHVjZXImJnRoaXMuX3NjcmVlblByb2R1Y2VyLmNsb3NlKCksdGhpcy5fc2NyZWVuUHJvZHVjZXI9bnVsbCx0aGlzLl9wdWJsaXNocy5kZWxldGUoZS51dWlkKSx4LmRlYnVnKFwiQVBJIHVucHVibGlzaFNjcmVlbigpIHN1Y2Nlc3MgLSBzdHJlYW1JZDogXCIrZS5pbm5lclN0cmVhbUlEK1wiIC0gRW1pdCBbc3RyZWFtLXVucHVibGlzaGVkXSB0byBBUFBcIiksdGhpcy5lbWl0KFwic2NyZWVuLXVucHVibGlzaGVkXCIse3N0cmVhbTplfSksdCgpKTooeC53YXJuKFwiQVBJIHVucHVibGlzaFNjcmVlbigpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSx2b2lkIHIoXCJwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpKTooeC53YXJuKFwiQVBJIHVucHVibGlzaFNjcmVlbigpIGVycm9yIC0gcGFyYW1ldGVyOiBzdHJlYW0gaXMgaW52YWxpZFwiKSx2b2lkIHIoXCJQYXJhbSBlcnJvciAtIHN0cmVhbSBpcyBpbnZhbGlkXCIpKX19LHtrZXk6XCJzdWJzY3JpYmVBdWRpb1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgeC5lcnJvcihcIkFQSSBzdWJzY3JpYmVBdWRpbygpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaXMgbm90IGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHguZXJyb3IoXCJBUEkgc3Vic2NyaWJlQXVkaW8oKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoIWUpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmVBdWRpbygpIGVycm9yIC0gcGFyYW1ldGVyOiBzdHJlYW0gaXMgaW52YWxpZFwiKSx2b2lkIHIoXCJwYXJhbSBlcnJvciAtIHN0cmVhbSBpcyBpbnZhbGlkXCIpO2lmKCF0aGlzLl9wcm90b29UcmFuc3BvcnRTdGF0KXJldHVybiB4Lndhcm4oXCJBUEkgc3Vic2NyaWJlQXVkaW8oKSBlcnJvciAtIHByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksdm9pZCByKFwicHJvdG9vVHJhbnNwb3J0IGlzIGJyb2tlblwiKTtpZighdGhpcy5fam9pbmVkKXJldHVybiB4Lndhcm4oXCJBUEkgc3Vic2NyaWJlQXVkaW8oKSBlcnJvciAtIG5vbi1qb2luZWRcIiksdm9pZCByKFwibm9uLWpvaW5lZFwiKTt4LmRlYnVnKFwiQVBJIHN1YnNjcmliZUF1ZGlvKCkgLSBzdHJlYW1JZDogXCIrZS5nZXRJZCgpK1wiIHN0cmVhbS51c2VySUQ6IFwiK2UudXNlcklEKTt2YXIgYT10aGlzLl9wZWVycy5nZXQoXCJcIitlLnVzZXJJRCk7aWYoIWEpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmVBdWRpbygpIGVycm9yIC0gbm9uLXBlZXI6IFwiK2UudXNlcklEKSx2b2lkIHIoXCJDYW4gbm90IGZvdW5kIHRoaXMgcGVlclwiKTthLmNvbnN1bWVycy5mb3JFYWNoKChmdW5jdGlvbihyKXtyLmFwcERhdGEmJnIuYXBwRGF0YS5zdHJlYW1JRD09PWUuc3RyZWFtSUQmJlwiYXVkaW9cIj09PXIua2luZCYmbi5fY29uc3VtZXJBY3QoZSxyLFwicmVzdW1lXCIsXCJhdWRpb1wiLHQpfSkpfX0se2tleTpcInVuc3Vic2NyaWJlQXVkaW9cIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IHguZXJyb3IoXCJBUEkgdW5zdWJzY3JpYmVBdWRpbygpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaXMgbm90IGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHguZXJyb3IoXCJBUEkgdW5zdWJzY3JpYmVBdWRpbygpIGVycm9yIC0gcGFyYW1ldGVyOiBvbkZhaWx1cmUgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvbkZhaWx1cmUgaXMgbm90IGZ1bmN0aW9uLlwiKTtpZighZSlyZXR1cm4geC53YXJuKFwiQVBJIHVuc3Vic2NyaWJlQXVkaW8oKSBlcnJvciAtIHBhcmFtZXRlcjogc3RyZWFtIGlzIGludmFsaWRcIiksdm9pZCByKFwiUGFyYW0gZXJyb3IgLSBzdHJlYW0gaXMgaW52YWxpZFwiKTtpZighdGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdClyZXR1cm4geC53YXJuKFwiQVBJIHVuc3Vic2NyaWJlQXVkaW8oKSBlcnJvciAtIHByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksdm9pZCByKFwicHJvdG9vVHJhbnNwb3J0IGlzIGJyb2tlblwiKTt4LmRlYnVnKFwiQVBJIHVuc3Vic2NyaWJlQXVkaW8oKSAtIHN0cmVhbUlkOiBcIitlLmdldElkKCkrXCIgc3RyZWFtLnVzZXJJRDogXCIrZS51c2VySUQpO3ZhciBhPXRoaXMuX3BlZXJzLmdldChcIlwiK2UudXNlcklEKTtpZighYSlyZXR1cm4geC53YXJuKFwiQVBJIHVuc3Vic2NyaWJlQXVkaW8oKSBlcnJvciAtIG5vbi1wZWVyOiBcIitlLnVzZXJJRCkscihcIkNhbiBub3QgZm91bmQgdGhpcyBwZWVyXCIpO2EuY29uc3VtZXJzLmZvckVhY2goKGZ1bmN0aW9uKHIpe3IuYXBwRGF0YSYmci5hcHBEYXRhLnN0cmVhbUlEPT09ZS5zdHJlYW1JRCYmXCJhdWRpb1wiPT09ci5raW5kJiZuLl9jb25zdW1lckFjdChlLHIsXCJwYXVzZVwiLFwiYXVkaW9cIix0KX0pKX19LHtrZXk6XCJzdWJzY3JpYmVWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgeC5lcnJvcihcIkFQSSBzdWJzY3JpYmVWaWRlbygpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaXMgbm90IGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHguZXJyb3IoXCJBUEkgc3Vic2NyaWJlVmlkZW8oKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoIWUpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmVWaWRlbygpIGVycm9yIC0gcGFyYW1ldGVyOiBzdHJlYW0gaXMgaW52YWxpZFwiKSx2b2lkIHIoXCJQYXJhbSBlcnJvciAtIHN0cmVhbSBpcyBpbnZhbGlkXCIpO2lmKCF0aGlzLl9wcm90b29UcmFuc3BvcnRTdGF0KXJldHVybiB4Lndhcm4oXCJBUEkgc3Vic2NyaWJlVmlkZW8oKSBlcnJvciAtIHByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksdm9pZCByKFwicHJvdG9vVHJhbnNwb3J0IGlzIGJyb2tlblwiKTtpZighdGhpcy5fam9pbmVkKXJldHVybiB4Lndhcm4oXCJBUEkgc3Vic2NyaWJlVmlkZW8oKSBlcnJvciAtIG5vbi1qb2luZWRcIiksdm9pZCByKFwibm9uLWpvaW5lZFwiKTt4LmRlYnVnKFwiQVBJIHN1YnNjcmliZVZpZGVvKCkgLSBzdHJlYW1JZDogXCIrZS5nZXRJZCgpK1wiIHN0cmVhbS51c2VySUQ6IFwiK2UudXNlcklEKTt2YXIgYT10aGlzLl9wZWVycy5nZXQoXCJcIitlLnVzZXJJRCk7aWYoIWEpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmVWaWRlbygpIGVycm9yIC0gbm9uLXBlZXI6IFwiK2UudXNlcklEKSxyKFwiQ2FuIG5vdCBmb3VuZCB0aGlzIHBlZXJcIik7YS5jb25zdW1lcnMuZm9yRWFjaCgoZnVuY3Rpb24ocil7ci5hcHBEYXRhJiZyLmFwcERhdGEuc3RyZWFtSUQ9PT1lLnN0cmVhbUlEJiZcInZpZGVvXCI9PT1yLmtpbmQmJm4uX2NvbnN1bWVyQWN0KGUscixcInJlc3VtZVwiLFwidmlkZW9cIix0KX0pKX19LHtrZXk6XCJ1bnN1YnNjcmliZVZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyB4LmVycm9yKFwiQVBJIHVuc3Vic2NyaWJlVmlkZW8oKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksVHlwZUVycm9yKFwib25TdWNjZXNzIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcil0aHJvdyB4LmVycm9yKFwiQVBJIHVuc3Vic2NyaWJlVmlkZW8oKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoIWUpcmV0dXJuIHgud2FybihcIkFQSSB1bnN1YnNjcmliZVZpZGVvKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IHN0cmVhbSBpcyBpbnZhbGlkXCIpLHZvaWQgcihcInBhcmFtZXRlciAtIHN0cmVhbSBpcyBpbnZhbGlkXCIpO2lmKCF0aGlzLl9wcm90b29UcmFuc3BvcnRTdGF0KXJldHVybiB4Lndhcm4oXCJBUEkgdW5zdWJzY3JpYmVWaWRlbygpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSx2b2lkIHIoXCJwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpO3guZGVidWcoXCJBUEkgdW5zdWJzY3JpYmVWaWRlbygpIHN0cmVhbUlkOiBcIitlLmdldElkKCkrXCIgc3RyZWFtLnVzZXJJRDogXCIrZS51c2VySUQpO3ZhciBhPXRoaXMuX3BlZXJzLmdldChcIlwiK2UudXNlcklEKTtpZighYSlyZXR1cm4geC53YXJuKFwiQVBJIHVuc3Vic2NyaWJlVmlkZW8oKSBlcnJvciAtIG5vbi1wZWVyOiBcIitlLnVzZXJJRCkscihcIkNhbiBub3QgZm91bmQgdGhpcyBwZWVyXCIpO2EuY29uc3VtZXJzLmZvckVhY2goKGZ1bmN0aW9uKHIpe3IuYXBwRGF0YSYmci5hcHBEYXRhLnN0cmVhbUlEPT09ZS5zdHJlYW1JRCYmXCJ2aWRlb1wiPT09ci5raW5kJiZuLl9jb25zdW1lckFjdChlLHIsXCJwYXVzZVwiLFwidmlkZW9cIix0KX0pKX19LHtrZXk6XCJfY29uc3VtZXJBY3RcIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGEpe3R8fHgud2FybihcIkFQSSBfY29uc3VtZXJBY3QoKSBlcnJvciAtIGludmFsaWQgY29uc3VtZXJcIik7dmFyIGk9e3N0cmVhbTplfTtyZXR1cm5cInBhdXNlXCI9PT1yPyh0LnBhdXNlKCkseC5kZWJ1ZyhcIkFQSSBfY29uc3VtZXJBY3QoKSBzdWNjZXNzIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKStcIiAtIEVtaXQgW3N0cmVhbS1cIituK1wiLXVuc3Vic2NyaWJlZF0gdG8gQVBQXCIpLGEoZSksdm9pZCB0aGlzLmVtaXQoXCJzdHJlYW0tXCIrbitcIi11bnN1YnNjcmliZWRcIixpKSk6XCJyZXN1bWVcIj09PXI/KHQucmVzdW1lKCkseC5kZWJ1ZyhcIkFQSSBfY29uc3VtZXJBY3QoKSBzdWNjZXNzIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKStcIiAtIEVtaXQgW3N0cmVhbS1cIituK1wiLXN1YnNjcmliZWRdIHRvIEFQUFwiKSxhKGUpLHZvaWQgdGhpcy5lbWl0KFwic3RyZWFtLVwiK24rXCItc3Vic2NyaWJlZFwiLGkpKTp2b2lkIHgud2FybihcIkFQSSBfY29uc3VtZXJBY3QoKSBlcnJvciAtIGludmFsaWQgdHlwZSAtIHNob3VsZCBiZSBbcmVzdW1lfHBhdXNlXVwiKX19LHtrZXk6XCJzdWJzY3JpYmVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IHguZXJyb3IoXCJBUEkgc3Vic2NyaWJlKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uU3VjY2VzcyBpbnZhbGlkXCIpLFR5cGVFcnJvcihcIm9uU3VjY2VzcyBpcyBub3QgZnVuY3Rpb24uXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgeC5lcnJvcihcIkFQSSBzdWJzY3JpYmUoKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoIWUpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmUoKSBlcnJvciAtIHBhcmFtZXRlcjogc3RyZWFtIGlzIGludmFsaWRcIiksdm9pZCByKFwiUGFyYW0gZXJyb3IgLSBzdHJlYW0gaXMgaW52YWxpZFwiKTtpZighdGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdClyZXR1cm4geC53YXJuKFwiQVBJIHN1YnNjcmliZSgpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSx2b2lkIHIoXCJwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpO2lmKCF0aGlzLl9qb2luZWQpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmUoKSBlcnJvciAtIG5vbi1qb2luZWRcIiksdm9pZCByKFwibm9uLWpvaW5lZFwiKTt2YXIgYT10aGlzLl9wZWVycy5nZXQoXCJcIitlLnVzZXJJRCk7aWYoIWEpcmV0dXJuIHgud2FybihcIkFQSSBzdWJzY3JpYmUoKSBlcnJvciAtIG5vbi1wZWVyOiBcIitlLnVzZXJJRCkscihcIkNhbiBub3QgZm91bmQgdGhpcyBwZWVyXCIpO3ZhciBpPVtdO2EuY29uc3VtZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYXBwRGF0YS5zdHJlYW1JRD09PWUuc3RyZWFtSUQmJihpLnB1c2godCksbi5fc3Vic2NyaWJlcy5zZXQoZS51dWlkLHt1c2VySWQ6ZS51c2VySUQsc3RyZWFtSWQ6ZS5nZXRJZCgpLHN0cmVhbTplLHN0YXR1czpcImFjdGl2ZVwifSkpfSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZXN1bWUoKX0pKSxlLnN1YnNjcmliZWQ9ITAseC5kZWJ1ZyhcIkFQSSBzdWJzY3JpYmUoKSBzdWNjZXNzIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKStcIiAtIEVtaXQgW3N0cmVhbS1zdWJzY3JpYmVkXSB0byBBUFBcIik7dmFyIG89e3N0cmVhbTplfTt0KGUpLHRoaXMuZW1pdChcInN0cmVhbS1zdWJzY3JpYmVkXCIsbyl9fSx7a2V5OlwidW5zdWJzY3JpYmVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IHguZXJyb3IoXCJBUEkgdW5zdWJzY3JpYmUoKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksVHlwZUVycm9yKFwib25TdWNjZXNzIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcil0aHJvdyB4LmVycm9yKFwiQVBJIHVuc3Vic2NyaWJlKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uRmFpbHVyZSBpbnZhbGlkXCIpLFR5cGVFcnJvcihcIm9uRmFpbHVyZSBpcyBub3QgZnVuY3Rpb24uXCIpO2lmKCFlKXJldHVybiB4Lndhcm4oXCJBUEkgdW5zdWJzY3JpYmUoKSBlcnJvciAtIHBhcmFtZXRlcjogc3RyZWFtIGlzIGludmFsaWRcIiksdm9pZCByKFwiUGFyYW0gZXJyb3IgLSBzdHJlYW0gaXMgaW52YWxpZFwiKTtpZighdGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdClyZXR1cm4geC53YXJuKFwiQVBJIHVuc3Vic2NyaWJlKCkgZXJyb3IgLSBwcm90b29UcmFuc3BvcnQgYnJva2VuXCIpLHZvaWQgcihcInByb3Rvb1RyYW5zcG9ydCBpcyBicm9rZW5cIik7dmFyIGE9dGhpcy5fcGVlcnMuZ2V0KFwiXCIrZS51c2VySUQpO2lmKCFhKXJldHVybiB4Lndhcm4oXCJBUEkgdW5zdWJzY3JpYmUoKSBlcnJvciAtIG5vbi1wZWVyOiBcIitlLnVzZXJJRCkscihcIkNhbiBub3QgZm91bmQgdGhpcyBwZWVyXCIpO3ZhciBpPVtdO2EuY29uc3VtZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYXBwRGF0YS5zdHJlYW1JRD09PWUuc3RyZWFtSUQmJihpLnB1c2godCksbi5fc3Vic2NyaWJlcy5kZWxldGUoZS51dWlkKSl9KSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnBhdXNlKCl9KSksZS5zdWJzY3JpYmVkPSExLHguZGVidWcoXCJBUEkgdW5zdWJzY3JpYmUoKSBzdWNjZXNzIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKStcIiAtIEVtaXQgW3N0cmVhbS11bnN1YnNjcmliZWRdIHRvIEFQUFwiKTt2YXIgbz17c3RyZWFtOmV9O3QoZSksdGhpcy5lbWl0KFwic3RyZWFtLXVuc3Vic2NyaWJlZFwiLG8pfX0se2tleTpcInBhdXNlTWljXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2lmKGUpaWYoZS5fcHVibGlzaGVkKXt2YXIgbj12b2lkIDA7aWYoIShuPWU/dGhpcy5fbWFwTWljUHJvZHVjZXJzLmdldChlLl9pbm5lclN0cmVhbUlEKTp0aGlzLl9tYXBNaWNQcm9kdWNlcnMudmFsdWVzKCkubmV4dCgpLnZhbHVlKSlyZXR1cm4geC53YXJuKFwiQVBJIHBhdXNlTWljKCkgZXJyb3IgLSBub24gbWljIHByb2R1Y2VyLlwiKSx2b2lkKFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIoXCJub24gbWljIHByb2R1Y2VyXCIpKTt4LmRlYnVnKFwiQVBJIHBhdXNlTWljKCkgc3VjZXNzIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKSksdGhpcy5fcGF1c2VQcm9kdWNlcihuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KCl9ZWxzZSB4Lndhcm4oXCJBUEkgcGF1c2VNaWMoKSBlcnJvciAtIG5vLXB1Ymxpc2hlZFwiKTtlbHNlIHgud2FybihcIkFQSSBwYXVzZU1pYygpIGVycm9yIC0gUGFyYW06IGludmFsaWQgc3RyZWFtXCIpfX0se2tleTpcInJlc3VtZU1pY1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtpZihlKWlmKGUuX3B1Ymxpc2hlZCl7dmFyIG49dm9pZCAwO2lmKCEobj1lP3RoaXMuX21hcE1pY1Byb2R1Y2Vycy5nZXQoZS5faW5uZXJTdHJlYW1JRCk6dGhpcy5fbWFwTWljUHJvZHVjZXJzLnZhbHVlcygpLm5leHQoKS52YWx1ZSkpcmV0dXJuIHgud2FybihcIkFQSSByZXN1bWVNaWMoKSBlcnJvciAtIG5vbiBtaWMgcHJvZHVjZXIuXCIpLHZvaWQoXCJmdW5jdGlvblwiPT10eXBlb2YgciYmcihcIm5vbiBtaWMgcHJvZHVjZXJcIikpO3guZGVidWcoXCJBUEkgcmVzdW1lTWljKCkgc3VjZXNzIC0gc3RyZWFtSWQ6IFwiK2UuZ2V0SWQoKSksdGhpcy5fcmVzdW1lUHJvZHVjZXIobiksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCgpfWVsc2UgeC53YXJuKFwiQVBJIHJlc3VtZU1pYygpIGVycm9yIC0gbm8tcHVibGlzaGVkXCIpO2Vsc2UgeC53YXJuKFwiQVBJIHJlc3VtZU1pYygpIGVycm9yIC0gUGFyYW06IGludmFsaWQgc3RyZWFtXCIpfX0se2tleTpcInBhdXNlV2ViY2FtXCIsdmFsdWU6KEY9KDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSh0LHIsbixhKXt2YXIgaTtyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHQpe2UubmV4dD0zO2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgcGF1c2VXZWJjYW0oKSBlcnJvciAtIFBhcmFtOiBpbnZhbGlkIHN0cmVhbVwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDM6aWYodC5fcHVibGlzaGVkKXtlLm5leHQ9NjticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHBhdXNlV2ViY2FtKCkgZXJyb3IgLSBuby1wdWJsaXNoZWRcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA2OmlmKGk9dm9pZCAwLGk9dD90aGlzLl9tYXBXZWJjYW1Qcm9kdWNlcnMuZ2V0KHQuX2lubmVyU3RyZWFtSUQpOnRoaXMuX21hcFdlYmNhbVByb2R1Y2Vycy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpe2UubmV4dD0xNDticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHBhdXNlV2ViY2FtKCkgZXJyb3IgLSBub24gd2ViY2FtIHByb2R1Y2VyLlwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhKFwibm9uIHdlYmNhbSBwcm9kdWNlclwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE0OmlmKHguZGVidWcoXCJBUEkgcGF1c2VXZWJjYW0oKSBzdWNlc3MgLSBzdHJlYW1JZDogXCIrdC5nZXRJZCgpKSx0aGlzLl9wYXVzZVByb2R1Y2VyKGkpLCFyKXtlLm5leHQ9MTk7YnJlYWt9cmV0dXJuIGUubmV4dD0xOSx0Ll9jbG9zZVZpZGVvKCk7Y2FzZSAxOTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKCk7Y2FzZSAyMDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIEYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJyZXN1bWVXZWJjYW1cIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztpZihlKWlmKGUuX3B1Ymxpc2hlZCl7dmFyIGE9dm9pZCAwO2lmKCEoYT1lP3RoaXMuX21hcFdlYmNhbVByb2R1Y2Vycy5nZXQoZS5faW5uZXJTdHJlYW1JRCk6dGhpcy5fbWFwV2ViY2FtUHJvZHVjZXJzLnZhbHVlcygpLm5leHQoKS52YWx1ZSkpcmV0dXJuIHgud2FybihcIkFQSSByZXN1bWVXZWJjYW0oKSBlcnJvciAtIG5vbiB3ZWJjYW0gcHJvZHVjZXIuXCIpLHZvaWQoXCJmdW5jdGlvblwiPT10eXBlb2YgciYmcihcIm5vbiB3ZWJjYW0gcHJvZHVjZXJcIikpO2UuX29wZW5WaWRlbygpLnRoZW4oKGZ1bmN0aW9uKCl7eC5kZWJ1ZyhcIkFQSSByZXN1bWVXZWJjYW0oKSBzdWNjZXNzIC0gc3RyZWFtLl9vcGVuVmlkZW8oKSAtIHN0cmVhbUlkOiBcIitlLmdldElkKCkpLG4uX3Jlc3VtZVByb2R1Y2VyKGEpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7eC53YXJuKFwiQVBJIHJlc3VtZVdlYmNhbSgpIGZhaWwgLSBzdHJlYW0uX29wZW5WaWRlbygpIGVycm9yIC0gXCIrZS50b1N0cmluZygpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyKFwic3RyZWFtLl9vcGVuVmlkZW8gZmFpbCAtIFwiK2UudG9TdHJpbmcoKSl9KSl9ZWxzZSB4Lndhcm4oXCJBUEkgcmVzdW1lV2ViY2FtKCkgZXJyb3IgLSBuby1wdWJsaXNoZWRcIik7ZWxzZSB4Lndhcm4oXCJBUEkgcmVzdW1lV2ViY2FtKCkgZXJyb3IgLSBQYXJhbTogaW52YWxpZCBzdHJlYW1cIil9fSx7a2V5OlwiX3VwZGF0ZVZpZGVvVHJhY2tcIix2YWx1ZTooTj0oMCxzLmRlZmF1bHQpKG8uZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQscixuKXt2YXIgYTtyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHQpe2UubmV4dD0zO2JyZWFrfXJldHVybiB4Lndhcm4oXCJfc2V0VmlkZW9TdHJlYW1CaXRyYXRlKCkgZXJyb3IgLSBwYXJhbWV0ZXIgW3N0cmVhbV0gaXMgSU5WQUxJRC5cIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAzOmlmKHguZGVidWcoXCJfc2V0VmlkZW9TdHJlYW1CaXRyYXRlKCkgLSBzdHJlYW1JZDogXCIrdC5pbm5lclN0cmVhbUlEKSxhPXRoaXMuX21hcFdlYmNhbVByb2R1Y2Vycy5nZXQodC5faW5uZXJTdHJlYW1JRCkpe2UubmV4dD04O2JyZWFrfXJldHVybiB4LmRlYnVnKFwiX3NldFZpZGVvU3RyZWFtQml0cmF0ZSgpIGVycm9yIC0gY2xpZW50IHVwZGF0ZSB0cmFjayhraW5kIHZpZGVvIG9mIHdlYmNhbSkgY2FuIG5vdCBmb3VuZCBwcm9kdWNlciBcIit0LmlubmVyU3RyZWFtSUQrXCIuXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgODpyZXR1cm4gZS5wcmV2PTgsZS5uZXh0PTExLGEudXBkYXRlVHJhY2socixuLHtpZGVhbEJhbmR3aWR0aDp0LmlkZWFsQmFuZHdpZHRoLG1heEJhbmR3aWR0aDp0Lm1heEJhbmR3aWR0aCxtaW5CYW5kd2lkdGg6dC5taW5CYW5kd2lkdGh9KTtjYXNlIDExOmUubmV4dD0xNjticmVhaztjYXNlIDEzOmUucHJldj0xMyxlLnQwPWUuY2F0Y2goOCkseC53YXJuKFwiX3VwZGF0ZVZpZGVvVHJhY2soKSBmYWlsIC0gcHJvZHVjZXIudXBkYXRlVHJhY2sgZXJyb3IgLSBcIitlLnQwLnRvU3RyaW5nKCkpO2Nhc2UgMTY6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzgsMTNdXSl9KSkpLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIl9yZXBsYWNlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUpe3guZGVidWcoXCJfcmVwbGFjZVRyYWNrKCkgLSBzdHJlYW0uc3RyZWFtSUQ6IFwiK2UuaW5uZXJTdHJlYW1JRCk7dmFyIHI9dGhpcy5fbWFwV2ViY2FtUHJvZHVjZXJzLmdldChlLl9pbm5lclN0cmVhbUlEKTtyP2kuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gci5yZXBsYWNlVHJhY2sodCl9KSkudGhlbigoZnVuY3Rpb24oKXt9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IHgud2FybihcIl9yZXBsYWNlVHJhY2soKSBlcnJvciAtIHJlcGxhY2UgdHJhY2sgZmFpbGVkIC0gXCIrZS50b1N0cmluZygpKSxlfSkpOnguZGVidWcoXCJfcmVwbGFjZVRyYWNrKCkgZXJyb3IgLSBjbGllbnQgcmVwbGFjZSB0cmFjayhraW5kIHZpZGVvIG9mIHdlYmNhbSkgY2FuIG5vdCBmb3VuZCBwcm9kdWNlciBcIitlLl9pbm5lclN0cmVhbUlEK1wiLlwiKX1lbHNlIHgud2FybihcIl9yZXBsYWNlVHJhY2soKSBlcnJvciAtIHBhcmFtZXRlciBbc3RyZWFtXSBpcyBJTlZBTElELlwiKX19LHtrZXk6XCJfcmVzdW1lUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtlP2UucmVzdW1lKCk6eC53YXJuKFwiX3Jlc3VtZVByb2R1Y2VyKCkgZXJyb3IgLSBwYXJhbWV0ZXIgW3Byb2R1Y2VyXSBpcyBJTlZBTElELlwiKX19LHtrZXk6XCJfcGF1c2VQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe2U/ZS5wYXVzZSgpOngud2FybihcIl9wYXVzZVByb2R1Y2VyKCkgZXJyb3IgLSBwYXJhbWV0ZXIgW3Byb2R1Y2VyXSBpcyBJTlZBTElELlwiKX19LHtrZXk6XCJwYXVzZVNjcmVlblwiLHZhbHVlOmZ1bmN0aW9uKCl7eC5kZWJ1ZyhcIkFQSSBwYXVzZVNjcmVlbigpXCIpLG51bGwhPT10aGlzLl9zY3JlZW5Qcm9kdWNlciYmdGhpcy5fc2NyZWVuUHJvZHVjZXIucGF1c2UoKX19LHtrZXk6XCJyZXN1bWVTY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe3guZGVidWcoXCJBUEkgcmVzdW1lU2NyZWVuKClcIiksbnVsbCE9PXRoaXMuX3NjcmVlblByb2R1Y2VyJiZ0aGlzLl9zY3JlZW5Qcm9kdWNlci5yZXN1bWUoKX19LHtrZXk6XCJyZW5ld0NoYW5uZWxLZXlcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7fX0se2tleTpcImVuYWJsZUR1YWxTdHJlYW1cIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJzZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe319LHtrZXk6XCJzZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkaXNhYmxlRHVhbFN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0se2tleTpcInNldFByb3h5U2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleTpcInNldEVuY3J5cHRpb25TZWNyZXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJzZXRFbmNyeXB0aW9uTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImNsb3NlU3RyZWFtXCIsdmFsdWU6KFY9KDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcixuO3JldHVybiBvLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYodCl7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIHgud2FybihcIkFQSSBjbG9zZVN0cmVhbSgpIGVycm9yIC0gcGFyYW1ldGVyIFtzdHJlYW1dIGlzIElOVkFMSUQuXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMzppZih4LmRlYnVnKFwiQVBJIGNsb3NlU3RyZWFtKCkgLSBzdHJlYW1JZDogXCIrdC5nZXRJZCgpKSwhKHI9dGhpcy5fbWFwTWljUHJvZHVjZXJzLmdldCh0Ll9pbm5lclN0cmVhbUlEKSkpe2UubmV4dD0xNDticmVha31yZXR1cm4gZS5wcmV2PTYsZS5uZXh0PTksci5jbG9zZSgpO2Nhc2UgOTplLm5leHQ9MTQ7YnJlYWs7Y2FzZSAxMTplLnByZXY9MTEsZS50MD1lLmNhdGNoKDYpLHgud2FybihcIkFQSSBjbG9zZVN0cmVhbSgpIGVycm9yIC0gY2xvc2UgbWljUHJvZHVjZXIgZXJyb3IgLSBcIitlLnQwLnRvU3RyaW5nKCkpO2Nhc2UgMTQ6aWYoIShuPXRoaXMuX21hcFdlYmNhbVByb2R1Y2Vycy5nZXQodC5faW5uZXJTdHJlYW1JRCkpKXtlLm5leHQ9MjQ7YnJlYWt9cmV0dXJuIGUucHJldj0xNixlLm5leHQ9MTksbi5jbG9zZSgpO2Nhc2UgMTk6ZS5uZXh0PTI0O2JyZWFrO2Nhc2UgMjE6ZS5wcmV2PTIxLGUudDE9ZS5jYXRjaCgxNikseC53YXJuKFwiQVBJIGNsb3NlU3RyZWFtKCkgZXJyb3IgLSBjbG9zZSB3ZWJjYW1Qcm9kdWNlciBlcnJvciAtIFwiK2UudDEudG9TdHJpbmcoKSk7Y2FzZSAyNDpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbNiwxMV0sWzE2LDIxXV0pfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gVi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIl9pbm5lckNsb3NlXCIsdmFsdWU6KEI9KDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHI7cmV0dXJuIG8uZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih0aGlzLl9qb2luZWQ9ITEsdD10aGlzLl9jb25uU3RhdGUsdGhpcy5fY29ublN0YXRlPUUsIXRoaXMuX3Jvb20pe2UubmV4dD03O2JyZWFrfXJldHVybiB0aGlzLl9yb29tLnJlbW92ZUFsbExpc3RlbmVycygpLGUubmV4dD03LHRoaXMuX3Jvb20ubGVhdmUoKTtjYXNlIDc6dGhpcy5fam9pblRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2pvaW5UaW1lciksdGhpcy5fam9pblRpbWVyPW51bGwpLHRoaXMuX3N0b3BTdGF0SW50ZXJ2YWwoKSx0aGlzLl9yZW1vdGVBdWRpb3MuY2xlYXIoKSx0aGlzLl9yZW1vdGVWaWRlb3MuY2xlYXIoKSx0aGlzLl9wdWJsaXNocy5jbGVhcigpLHRoaXMuX3N1YnNjcmliZXMuY2xlYXIoKSx0aGlzLl9tYXBNaWNQcm9kdWNlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtlLmNsb3NlKCl9KSksdGhpcy5fbWFwV2ViY2FtUHJvZHVjZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7ZS5jbG9zZSgpfSkpLHRoaXMuX21hcE1pY1Byb2R1Y2Vycy5jbGVhcigpLHRoaXMuX21hcFdlYmNhbVByb2R1Y2Vycy5jbGVhcigpLG51bGwhPXRoaXMuX3NlbmRUcmFuc3BvcnQmJih0aGlzLl9zZW5kVHJhbnNwb3J0LmNsb3NlKCksdGhpcy5fc2VuZFRyYW5zcG9ydD1udWxsKSx0aGlzLl9zY3JlZW5UcmFuc3BvcnQmJih0aGlzLl9zY3JlZW5UcmFuc3BvcnQuY2xvc2UoKSx0aGlzLl9zY3JlZW5UcmFuc3BvcnQ9bnVsbCksdGhpcy5fc2NyZWVuUHJvZHVjZXImJih0aGlzLl9zY3JlZW5Qcm9kdWNlci5jbG9zZSgpLHRoaXMuX3NjcmVlblByb2R1Y2VyPW51bGwpLHRoaXMuX21hcFZpZGVvU2VuZFRyYW5zcG9ydHMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtlLmNsb3NlKCl9KSksdGhpcy5fbWFwVmlkZW9TZW5kVHJhbnNwb3J0cy5jbGVhcigpLHRoaXMuX3JlY3ZUcmFuc3BvcnQmJih0aGlzLl9yZWN2VHJhbnNwb3J0LmNsb3NlKCksdGhpcy5fcmVjdlRyYW5zcG9ydD1udWxsKSx0aGlzLl9wZWVycy5jbGVhcigpLHI9e3ByZXZTdGF0ZTp0LGN1clN0YXRlOkV9LHguZGVidWcoXCJfaW5uZXJDbG9zZSgpIC0gRW1pdCBbY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VdIC0gXCIrKDAsdS5kZWZhdWx0KShyKSksdGhpcy5lbWl0KFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixyKTtjYXNlIDI3OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBCLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jbG9zZWR8fCh4LmRlYnVnKFwiQVBJIGNsb3NlKClcIiksdGhpcy5faGFzSW5pdD0hMSx0aGlzLl9jbG9zZWQ9ITAsdGhpcy5faW5uZXJDbG9zZSgpLHRoaXMuX2xpdmVNaXhlckxheW91dD1udWxsLHRoaXMuX3Jvb209bnVsbCx0aGlzLl9jb25uU3RhdGU9RSx0aGlzLl9qb2luZWQ9ITEsdGhpcy5fcHJvdG9vJiYodGhpcy5fcHJvdG9vLmNsb3NlKCksdGhpcy5fcHJvdG9vPW51bGwpLG5hdmlnYXRvci5tZWRpYURldmljZXMmJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLm9uZGV2aWNlY2hhbmdlPW51bGwpLHRoaXMuX3N0YXRzLnN0b3BIZWFydEJlYXQoKSxlJiYzMDAxPT09ZS5jb2RlJiZ0aGlzLmVtaXQoXCJraWNrb3V0XCIsZS5kYXRhKSx0aGlzLmVtaXQoXCJkaXNjb25uZWN0ZWRcIix7Y29kZTplP2UuY29kZToxZTN9KSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpKX19LHtrZXk6XCJfaGFuZGxlUGVlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307ci5ub3RpZnksZS5hcHBEYXRhLmRpc3BsYXlOYW1lO3guZGVidWcoXCJfaGFuZGxlUGVlcigpIHVzZXJJRDogXCIrZS5uYW1lK1wiIC0gRW1pdCBbcGVlci1qb2luXSB0byBBUFBcIiksXCIzXCIhPT1lLmFwcERhdGEucm9sZS50b1N0cmluZygpJiZ0aGlzLmVtaXQoXCJwZWVyLWpvaW5cIix7dXNlcklEOmUubmFtZSxwZWVyOmV9KSx0aGlzLl9wZWVycy5zZXQoXCJcIitlLm5hbWUsZSk7dmFyIG49ITAsYT0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9KDAsYy5kZWZhdWx0KShlLmNvbnN1bWVycyk7IShuPShvPXMubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgdT1vLnZhbHVlO3RoaXMuX2hhbmRsZUNvbnN1bWVyKHUpfX1jYXRjaChlKXthPSEwLGk9ZX1maW5hbGx5e3RyeXshbiYmcy5yZXR1cm4mJnMucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fWUub24oXCJjbG9zZVwiLChmdW5jdGlvbihyKXt4LmRlYnVnKFwicGVlciBldmVudCAtLSBbY2xvc2VdIC0gdXNlcklEOiBcIitlLm5hbWUrXCIgb3JpZ2luYXRvcjogXCIrciksdC5fcGVlcnMuZGVsZXRlKFwiXCIrZS5uYW1lKSx0Ll9jbG9zZWR8fCh4LmRlYnVnKFwiX2hhbmRsZVBlZXIoKSBldmVudCAtLSBbY2xvc2VdIC0gdXNlcklEOiBcIitlLm5hbWUrXCIgLSBFbWl0IFtwZWVyLWxlYXZlXSB0byBBUFBcIiksdC5fc3Vic2NyaWJlcy5mb3JFYWNoKChmdW5jdGlvbihyLG4pe3ImJnIudXNlcklkPT1lLm5hbWUmJnQuX3N1YnNjcmliZXMuZGVsZXRlKG4pfSkpLHQuX3JlbW90ZVN0cmVhbXMuZm9yRWFjaCgoZnVuY3Rpb24ocixuKXtyJiZyLnVzZXJJZD09ZS5uYW1lJiZ0Ll9yZW1vdGVTdHJlYW1zLmRlbGV0ZShuKX0pKSx0Ll9yZW1vdGVWaWRlb3MuZm9yRWFjaCgoZnVuY3Rpb24ocixuKXtyJiZyLnVzZXJJZD09ZS5uYW1lJiZ0Ll9yZW1vdGVWaWRlb3MuZGVsZXRlKG4pfSkpLHQuX3JlbW90ZUF1ZGlvcy5mb3JFYWNoKChmdW5jdGlvbihyLG4pe3ImJnIudXNlcklkPT1lLm5hbWUmJnQuX3JlbW90ZUF1ZGlvcy5kZWxldGUobil9KSksdC5lbWl0KFwicGVlci1sZWF2ZVwiLHt1c2VySUQ6ZS5uYW1lLHN0cmVhbXM6ZS5zdHJlYW1zfHxbXSxwZWVyOmV9KSl9KSksZS5vbihcIm5ld2NvbnN1bWVyXCIsKGZ1bmN0aW9uKHIpe3guZGVidWcoXCJfaGFuZGxlUGVlcigpIHBlZXIgZXZlbnQgLS0gW25ld2NvbnN1bWVyXSAtIHBlZXIubmFtZTogXCIrZS5uYW1lK1wiIGNvbnN1bWVyLmlkOiBcIityLmlkKSx0Ll9oYW5kbGVDb25zdW1lcihyKX0pKX19LHtrZXk6XCJfaGFuZGxlQ29uc3VtZXJcIix2YWx1ZTooaj0oMCxzLmRlZmF1bHQpKG8uZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4sYSxpLHM9dGhpcztyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnI9dC5ydHBQYXJhbWV0ZXJzLmNvZGVjc1swXSxuPXtpZDp0LmlkLHBlZXJOYW1lOnQucGVlci5uYW1lLHNvdXJjZTp0LmFwcERhdGEuc291cmNlLHN1cHBvcnRlZDp0LnN1cHBvcnRlZCxsb2NhbGx5UGF1c2VkOnQubG9jYWxseVBhdXNlZCxyZW1vdGVseVBhdXNlZDp0LnJlbW90ZWx5UGF1c2VkLHRyYWNrOm51bGwsY29kZWM6cj9yLm5hbWU6bnVsbH0seC5kZWJ1ZyhcIl9oYW5kbGVDb25zdW1lcigpIGNvbnN1bWVyUGVlck5hbWU6IFwiK3QucGVlci5uYW1lK1wiIGNvbnN1bWVySW5mbzogXCIrKDAsdS5kZWZhdWx0KShuKStcIiBcIiksdC5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKGUpe3MuX3N0YXRzLnJlbW92ZVN0cmVhbUJ5SWQoXCJjb25zdW1lcl9cIit0LmlkKSx4LmRlYnVnKFwiY29uc3VtZXIgZXZlbnQgLS0gW2Nsb3NlXSAtIGNvbnN1bWVyLmlkOiBcIit0LmlkK1wiIG9yaWdpbmF0b3I6IFwiK2UpLHQuZGlzYWJsZVN0YXRzKCl9KSksdC5vbihcInBhdXNlXCIsKGZ1bmN0aW9uKGUpe3MuX3N0YXRzLmFjdFN0cmVhbVNTUkNQYWlycyhcImNvbnN1bWVyX1wiK3QuaWQsITEpLHguZGVidWcoXCJjb25zdW1lciBldmVudCAtLSBbcGF1c2VdIC0gY29uc3VtZXIuaWQ6IFwiK3QuaWQrXCIgb3JpZ2luYXRvcjogXCIrZSk7dmFyIHI9XCJhdWRpby1tdXRlXCI7aWYoXCJhdWRpb1wiPT09dC5raW5kJiYocj1cImF1ZGlvLW11dGVcIiksXCJ2aWRlb1wiPT09dC5raW5kJiYocj1cInZpZGVvLW11dGVcIiksXCJyZW1vdGVcIj09PWUpaWYodC5wZWVyJiZ0LnBlZXIuc3RyZWFtcyYmdC5hcHBEYXRhKXt4LmRlYnVnKFwiX2hhbmRsZUNvbnN1bWVyKCkgY29uc3VtZXIgZXZlbnQgLS0gW3BhdXNlXSAtIHN0cmVhbUlkOiBcIit0LmFwcERhdGEuc3RyZWFtSUQrXCIgdXNlcklEOiBcIit0LnBlZXIubmFtZStcIiAtIEVtaXQgW1wiK3IrXCJdIHRvIEFQUFwiKTt2YXIgbj10LnBlZXIuc3RyZWFtcy5nZXQodC5hcHBEYXRhLnN0cmVhbUlEKTtzLmVtaXQocix7c3RyZWFtOm59KSxzLl9zdWJzY3JpYmVzLnNldChuLnV1aWQse3VzZXJJZDpuLnVzZXJJRCxzdHJlYW1JZDpuLmdldElkKCksc3RyZWFtOm4sc3RhdHVzOlwiaW5hY3RpdmVcIn0pfWVsc2UgeC53YXJuKFwiX2hhbmRsZUNvbnN1bWVyKCkgY29uc3VtZXIgZXZlbnQgLS0gW3BhdXNlXSBlcnJvciAtIGludmFsaWQgY29uc3VtZXIucGVlciBvciBjb25zdW1lci5hcHBEYXRhXCIpfSkpLHQub24oXCJyZXN1bWVcIiwoZnVuY3Rpb24oZSl7cy5fc3RhdHMuYWN0U3RyZWFtU1NSQ1BhaXJzKFwiY29uc3VtZXJfXCIrdC5pZCwhMCkseC5kZWJ1ZyhcImNvbnN1bWVyIGV2ZW50IC0tIFtyZXN1bWVdIC0gY29uc3VtZXIuaWQ6IFwiK3QuaWQrXCIgb3JpZ2luYXRvcjogXCIrZSk7dmFyIHI9XCJhdWRpby11bm11dGVcIjtpZihcImF1ZGlvXCI9PT10LmtpbmQmJihyPVwiYXVkaW8tdW5tdXRlXCIpLFwidmlkZW9cIj09PXQua2luZCYmKHI9XCJ2aWRlby11bm11dGVcIiksXCJyZW1vdGVcIj09PWUpaWYodC5wZWVyJiZ0LnBlZXIuc3RyZWFtcyYmdC5hcHBEYXRhKXt2YXIgbj10LnBlZXIuc3RyZWFtcy5nZXQodC5hcHBEYXRhLnN0cmVhbUlEKTtcInZpZGVvLXVubXV0ZVwiPT09ciYmKHMuX3JlbW90ZVZpZGVvcy5oYXMobi51dWlkKXx8KHMuZW1pdChcInZpZGVvLWFkZGVkXCIse3N0cmVhbTpufSkscy5fcmVtb3RlVmlkZW9zLnNldChuLnV1aWQse3VzZXJJZDp0LnBlZXIubmFtZSxzdHJlYW1JZDpuLmdldElkKCl9KSkpLFwiYXVkaW8tdW5tdXRlXCI9PT1yJiYocy5fcmVtb3RlQXVkaW9zLmhhcyhuLnV1aWQpfHwocy5lbWl0KFwiYXVkaW8tYWRkZWRcIix7c3RyZWFtOm59KSxzLl9yZW1vdGVBdWRpb3Muc2V0KG4udXVpZCx7dXNlcklkOnQucGVlci5uYW1lLHN0cmVhbUlkOm4uZ2V0SWQoKX0pKSkseC5kZWJ1ZyhcIl9oYW5kbGVDb25zdW1lcigpIGNvbnN1bWVyIGV2ZW50IC0tIFtyZXN1bWVdIC0gc3RyZWFtSWQ6IFwiK3QuYXBwRGF0YS5zdHJlYW1JRCtcIiB1c2VySUQ6IFwiK3QucGVlci5uYW1lK1wiIC0gRW1pdCBbXCIrcitcIl0gdG8gQVBQXCIpLHMuZW1pdChyLHtzdHJlYW06bn0pLHMuX3N1YnNjcmliZXMuc2V0KG4udXVpZCx7dXNlcklkOm4udXNlcklELHN0cmVhbUlkOm4uZ2V0SWQoKSxzdHJlYW06bixzdGF0dXM6XCJhY3RpdmVcIn0pfWVsc2UgeC53YXJuKFwiX2hhbmRsZUNvbnN1bWVyKCkgY29uc3VtZXIgZXZlbnQgLS0gW3Jlc3VtZV0gLSBlcnJvciAtIGludmFsaWQgY29uc3VtZXIucGVlciBvciBjb25zdW1lci5hcHBEYXRhXCIpfSkpLHQub24oXCJlZmZlY3RpdmVwcm9maWxlY2hhbmdlXCIsKGZ1bmN0aW9uKGUpe3guZGVidWcoXCJjb25zdW1lciBldmVudCAtLSBbZWZmZWN0aXZlcHJvZmlsZWNoYW5nZV0gLSBjb25zdW1lci5pZDogXCIrdC5pZCtcIiBwcm9maWxlOiBcIitlKX0pKSx0Lm9uKFwic3RhdHNcIiwoZnVuY3Rpb24oZSl7dC5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBuPXt9O2lmKHQudHJhY2smJlwidmlkZW9cIj09PXQudHJhY2sua2luZCYmKG49cy5fZXh0cmFjdFJlc29sdXRpb24ocikpLHQucGVlcil7dmFyIGE9dC5wZWVyLm5hbWU7dC5hcHBEYXRhJiYoYT10LmFwcERhdGEuc3RyZWFtSUQpLHMuX3N0YXRzLnNldENvbnN1bWVTdGF0cyhlLG4sdC5wZWVyLm5hbWUsdC5pZCxhKX19KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3gud2FybihcImNvbnN1bWVyIGV2ZW50IC0tIFtzdGF0c10gZXJyb3IgLSBcIitlLnRvU3RyaW5nKCkpfSkpfSkpLHQub24oXCJpbnRlcm5hbFN0YXRzXCIsKGZ1bmN0aW9uKGUpe2lmKHQucGVlcil7dmFyIHI9cy5faW50ZXJuYWxTdGF0cyhcInJlY2VpdmVyU3RhdHNcIixlLHQucGVlci5uYW1lLHQuaWQpO3MuX3N0YXRzLnB1c2hMb2dnZXJUb1NlcnZlcihudWxsLHIpfX0pKSx0LnN1cHBvcnRlZD8odC5wZWVyLnN0cmVhbXN8fCh0LnBlZXIuc3RyZWFtcz1uZXcgZC5kZWZhdWx0KSwoYT10LnBlZXIuc3RyZWFtcy5nZXQodC5hcHBEYXRhLnN0cmVhbUlEKSl8fChpPXQuYXBwRGF0YS5zdHJlYW1JRD90LmFwcERhdGEuc3RyZWFtSUQ6dC5wZWVyLm5hbWUsKGE9bmV3IHkuZGVmYXVsdCh7dXNlcklEOnQucGVlci5uYW1lLHNvdXJjZTp0LmFwcERhdGEuc291cmNlLHN0cmVhbUlEOmksdmlkZW9UeXBlOnQuYXBwRGF0YS52aWRlb1R5cGUsc3RyZWFtVHlwZTpcImNvbnN1bWVyXCIsb3BlbkF1ZGlvQ3R4OiEwfSkpLnN0cmVhbU9iaj1uZXcgTWVkaWFTdHJlYW0sdC5wZWVyLnN0cmVhbXMuc2V0KGEuc3RyZWFtSUQsYSksdGhpcy5fcmVtb3RlU3RyZWFtcy5zZXQoXCJcIitpLGEpKSxhJiZcInZpZGVvXCI9PT10LmtpbmQmJnZvaWQgMCE9PXQuYXBwRGF0YS52aWRlb1R5cGUmJihhLnZpZGVvVHlwZT10LmFwcERhdGEudmlkZW9UeXBlKSx0LnJlY2VpdmUodGhpcy5fcmVjdlRyYW5zcG9ydCkudGhlbigoZnVuY3Rpb24oZSl7eC5kZWJ1ZyhcIl9oYW5kbGVDb25zdW1lcigpIGNvbnN1bWVyLnJlY2VpdmUgLSBjb25zdW1lci5uYW1lOiBcIit0LnBlZXIubmFtZStcIiB0cmFjay5raW5kOiBcIitlLmtpbmQpLFwiYXVkaW9cIj09PWUua2luZCYmKGEuYXR0YWNoQXVkaW9UcmFja3Moe3RyYWNrOmUsYXV0b1BsYXk6ITF9KSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3guZGVidWcoXCJfaGFuZGxlQ29uc3VtZXIoKSBjb25zdW1lciB1c2VySUQ6IFwiK3QucGVlci5uYW1lK1wiIHN0cmVhbUlkOiBcIithLmdldElkKCkrXCIgLSBFbWl0IFthdWRpby1hZGRlZF0gdG8gQVBQXCIpLHMuZW1pdChcImF1ZGlvLWFkZGVkXCIse3N0cmVhbTphfSkscy5fcmVtb3RlQXVkaW9zLnNldChhLnV1aWQse3VzZXJJZDp0LnBlZXIubmFtZSxzdHJlYW1JZDphLmdldElkKCl9KX0pLDEwMCkpLFwidmlkZW9cIj09PWUua2luZCYmKGEudmlkZW9UcmFja3M9ZSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3guZGVidWcoXCJfaGFuZGxlQ29uc3VtZXIoKSBjb25zdW1lciB1c2VySUQ6IFwiK3QucGVlci5uYW1lK1wiIHN0cmVhbUlkOiBcIithLmdldElkKCkrXCIgLSBFbWl0IFt2aWRlby1hZGRlZF0gdG8gQVBQXCIpLHQucmVtb3RlbHlQYXVzZWR8fChzLmVtaXQoXCJ2aWRlby1hZGRlZFwiLHtzdHJlYW06YX0pLHMuZW1pdChcInZpZGVvLXVwZGF0ZVwiLHt1c2VySWQ6dC5wZWVyLm5hbWUsc3RyZWFtSWQ6YS5nZXRJZCgpLHZpZGVvVHlwZTphLnZpZGVvVHlwZX0pLHMuX3JlbW90ZVZpZGVvcy5zZXQoYS51dWlkLHt1c2VySWQ6dC5wZWVyLm5hbWUsc3RyZWFtSWQ6YS5nZXRJZCgpfSkpfSksMTAwKSksMT09PWEudHJhY2tOdW1iZXImJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7eC5kZWJ1ZyhcIl9oYW5kbGVDb25zdW1lcigpIGNvbnN1bWVyIHVzZXJJRDogXCIrdC5wZWVyLm5hbWUrXCIgc3RyZWFtSWQ6IFwiK2EuZ2V0SWQoKStcIiAtIEVtaXQgW3N0cmVhbS1hZGRlZF0gdG8gQVBQXCIpLHMuZW1pdChcInN0cmVhbS1hZGRlZFwiLHtzdHJlYW06YSx0eXBlOmEudHlwZX0pfSksNTAwKSx0LnRyYW5zcG9ydC5oYW5kbGVyLl9wYy5nZXRTdGF0cyhlKS50aGVuKChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwiaW5ib3VuZC1ydHBcIj09PWUudHlwZSl7dmFyIHI9cy5fc3RhdHMuZ2V0U3RyZWFtUHJvcGVydHlCeVNTUkMoZS5zc3JjLFwidXNlcklEXCIpO3IuaWQsXCJcIj09PXIudmFsdWUmJnMuX3N0YXRzLnNldFN0cmVhbVNTUkNQYWlycyhcImNvbnN1bWVyX1wiK3QuaWQsZS5zc3JjLGEsITEpfX0pKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7eC53YXJuKFwiX2hhbmRsZUNvbnN1bWVyKCkgZXJyb3IgLSB1bmV4cGVjdGVkIGVycm9yIHdoaWxlIHJlY2VpdmluZyBhIG5ldyBDb25zdW1lcjogXCIrZS50b1N0cmluZygpKX0pKSxhLnN1YnNjcmliZWR8fHQucGF1c2UoKSx0LmVuYWJsZVN0YXRzKHRoaXMuX2ludGVydmFsKSk6eC53YXJuKFwiX2hhbmRsZUNvbnN1bWVyKCkgZXJyb3IgLSBjb25zdW1lci5wZWVyLm5hbWU6IFwiK3QucGVlci5uYW1lK1wiIGNvbnN1bWVyLnN1cHBvcnRlZDogXCIrdC5zdXBwb3J0ZWQpO2Nhc2UgMTA6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBqLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiX3NldE1pY1Byb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZSlyZXR1cm4geC53YXJuKFwiX3NldE1pY1Byb2R1Y2VyKCkgZXJyb3IgLSBwYXJhbWV0ZXIgW3N0cmVhbV0gaXMgSU5WQUxJRC5cIiksaS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJJTlZBTElEIHBhcmFtZXRlciBbc3RyZWFtXVwiKSk7aWYoeC5kZWJ1ZyhcIl9zZXRNaWNQcm9kdWNlcigpIC0gc3RyZWFtLnN0cmVhbUlEOiBcIitlLnN0cmVhbUlEKSwhdGhpcy5fcm9vbS5jYW5TZW5kKFwiYXVkaW9cIikpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiY2Fubm90IHNlbmQgYXVkaW9cIikpO2lmKHRoaXMuX21hcE1pY1Byb2R1Y2Vycy5nZXQoZS5faW5uZXJTdHJlYW1JRCkpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwibWljIFByb2R1Y2VyIGFscmVhZHkgZXhpc3RzXCIpKTt2YXIgcj12b2lkIDA7cmV0dXJuIGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgbj1lLnN0cmVhbU9iai5nZXRBdWRpb1RyYWNrcygpO2lmKG4ubGVuZ3RoPD0wKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KFwiQXVkaW8gdHJhY2sgbm9uLWV4aXN0XCIpO3ZhciBhPW5bMF0sbz10Ll9hdWRpb0NvZGVjLnRvTG93ZXJDYXNlKCkscz1lLmdldEF1ZGlvUHJvZmlsZSgpOyhzP3MuY29kZWMudG9Mb3dlckNhc2UoKTpcIlwiKSE9PW8mJih4LmRlYnVnKFwiX3NldE1pY1Byb2R1Y2VyKCkgU3RyZWFtLmF1ZGlvUHJvZmlsZSBpcyBub3QgbWF0Y2ggdGhpcy5fYXVkaW9Db2RlYyAtIHRoaXMuX2F1ZGlvQ29kZWM6IFwiK3QuX2F1ZGlvQ29kZWMpLGUuc2V0QXVkaW9Qcm9maWxlKFwib3B1c1wiPT09bz9cIm11c2ljX3N0YW5kYXJkXCI6XCJpc2FjMzJcIikpO3ZhciBjPWUuZ2V0QXVkaW9Qcm9maWxlKCk7cmV0dXJuIHguZGVidWcoXCJfc2V0TWljUHJvZHVjZXIoKSB3aWxsIGNyZWF0ZVByb2R1Y2VyIC0gc3RyZWFtSWQ6IFwiK2Uuc3RyZWFtSUQrXCIgYXVkaW9Qcm9maWxlOiBcIisoMCx1LmRlZmF1bHQpKGMpKSwocj10Ll9yb29tLmNyZWF0ZVByb2R1Y2VyKGEse2F1ZGlvUHJvZmlsZTpjfSx7c291cmNlOlwibWljX1wiK2Uuc3RyZWFtSUQsc3RyZWFtSUQ6ZS5pbm5lclN0cmVhbUlELHVzZXJJRDplLnVzZXJJRH0pKS5zZW5kKHQuX3NlbmRUcmFuc3BvcnQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dC5fbWFwTWljUHJvZHVjZXJzLnNldChlLl9pbm5lclN0cmVhbUlELHIpLGUuYXR0YWNoTWljUHJvZHVjZXIociksci5lbmFibGVTdGF0cyh0Ll9pbnRlcnZhbCk7dmFyIG49e2lkOnIuaWQsc291cmNlOlwibWljXCIsbG9jYWxseVBhdXNlZDpyLmxvY2FsbHlQYXVzZWQscmVtb3RlbHlQYXVzZWQ6ci5yZW1vdGVseVBhdXNlZCx0cmFjazpyLnRyYWNrLGNvZGVjOnIucnRwUGFyYW1ldGVycy5jb2RlY3NbMF0ubmFtZX07eC5kZWJ1ZyhcIl9zZXRNaWNQcm9kdWNlcigpIC0gcHJvZHVjZXJJbmZvOiBcIisoMCx1LmRlZmF1bHQpKG4pKSxyLm9uKFwiY2xvc2VcIiwoZnVuY3Rpb24obil7eC5kZWJ1ZyhcIl9zZXRNaWNQcm9kdWNlcigpIG1pY1Byb2R1Y2VyIGV2ZW50IC0tIFtjbG9zZV0gLSBbb3JpZ2luYXRvcjpcIituK1wiXVwiKSxcInJlbW90ZVwiPT09biYmeC5kZWJ1ZyhcInByb2R1Y2VyIGNsb3NlXCIpLHQuX21hcE1pY1Byb2R1Y2Vycy5kZWxldGUoZS5faW5uZXJTdHJlYW1JRCksZS5kZXRhY2hNaWNQcm9kdWNlcigpLHIuZGlzYWJsZVN0YXRzKCl9KSksci5vbihcInBhdXNlXCIsKGZ1bmN0aW9uKGUpe3guZGVidWcoXCJfc2V0TWljUHJvZHVjZXIoKSBtaWNQcm9kdWNlciBldmVudCAtLSBbcGF1c2VdIC0gW29yaWdpbmF0b3I6XCIrZStcIl1cIil9KSksci5vbihcInJlc3VtZVwiLChmdW5jdGlvbihlKXt4LmRlYnVnKFwiX3NldE1pY1Byb2R1Y2VyKCkgbWljUHJvZHVjZXIgZXZlbnQgLS0gW3Jlc3VtZV0gLSBbb3JpZ2luYXRvcjpcIitlK1wiXVwiKX0pKSxyLm9uKFwiaGFuZGxlZFwiLChmdW5jdGlvbigpe3guZGVidWcoXCJfc2V0TWljUHJvZHVjZXIoKSBtaWNQcm9kdWNlciBldmVudCAtLSBbaGFuZGxlZF1cIil9KSksci5vbihcInVuaGFuZGxlZFwiLChmdW5jdGlvbigpe3guZGVidWcoXCJfc2V0TWljUHJvZHVjZXIoKSBtaWNQcm9kdWNlciBldmVudCAtLSBbdW5oYW5kbGVkXVwiKX0pKSxyLm9uKFwic3RhdHNcIiwoZnVuY3Rpb24ocil7dC5fc3RhdHMuc2V0TWljU3RhdHMocixlLl9pbm5lclN0cmVhbUlEKX0pKSxyLm9uKFwiaW50ZXJuYWxTdGF0c1wiLChmdW5jdGlvbihlKXt2YXIgcj10Ll9pbnRlcm5hbFN0YXRzKFwic2VuZGVyU3RhdHNcIixlKTt0Ll9zdGF0cy5wdXNoTG9nZ2VyVG9TZXJ2ZXIobnVsbCxyKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3guZGVidWcoXCJfc2V0TWljUHJvZHVjZXIoKSBzdWNjZWVkZWRcIil9KSkuY2F0Y2goKGZ1bmN0aW9uKG4pe3Rocm93IHgud2FybihcIl9zZXRNaWNQcm9kdWNlcigpIGZhaWxlZCAtIFwiK24udG9TdHJpbmcoKSksciYmKHQuX21hcE1pY1Byb2R1Y2Vycy5kZWxldGUoZS5faW5uZXJTdHJlYW1JRCksZS5kZXRhY2hNaWNQcm9kdWNlcigpLHIuY2xvc2UoKSksbn0pKX19LHtrZXk6XCJfc2V0V2ViY2FtUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlKXJldHVybiB4Lndhcm4oXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSBlcnJvciAtIHBhcmFtZXRlciBbc3RyZWFtXSBpcyBJTlZBTElELlwiKSxpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIklOVkFMSUQgcGFyYW1ldGVyIFtzdHJlYW1dXCIpKTtpZih4LmRlYnVnKFwiX3NldFdlYmNhbVByb2R1Y2VyKCkgc3RyZWFtLnN0cmVhbUlEOiBcIitlLnN0cmVhbUlEKSwhdGhpcy5fcm9vbS5jYW5TZW5kKFwidmlkZW9cIikpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiY2Fubm90IHNlbmQgdmlkZW9cIikpO2lmKHRoaXMuX3dlYmNhbVByb2R1Y2VyKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIndlYmNhbSBQcm9kdWNlciBhbHJlYWR5IGV4aXN0c1wiKSk7dmFyIHI9dm9pZCAwO3JldHVybiBpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gbigpe3ZhciBhLHMsYyxkLGwscDtyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKG4pe2Zvcig7Oylzd2l0Y2gobi5wcmV2PW4ubmV4dCl7Y2FzZSAwOmlmKCEoKGE9ZS5zdHJlYW1PYmouZ2V0VmlkZW9UcmFja3MoKSkubGVuZ3RoPD0wKSl7bi5uZXh0PTU7YnJlYWt9cmV0dXJuIG4uYWJydXB0KFwicmV0dXJuXCIsaS5kZWZhdWx0LnJlamVjdChcIlZpZGVvIHRyYWNrIG5vbi1leGlzdFwiKSk7Y2FzZSA1OmlmKHM9YVswXSxjPXQuX2F1ZGlvQ29kZWMudG9Mb3dlckNhc2UoKSxkPWUuZ2V0QXVkaW9Qcm9maWxlKCksKGQ/ZC5jb2RlYy50b0xvd2VyQ2FzZSgpOlwiXCIpIT09YyYmKHguZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSBTdHJlYW0uYXVkaW9Qcm9maWxlIGlzIG5vdCBtYXRjaCB0aGlzLl9hdWRpb0NvZGVjIC0gdGhpcy5fYXVkaW9Db2RlYzogXCIrdC5fYXVkaW9Db2RlYyksZS5zZXRBdWRpb1Byb2ZpbGUoXCJvcHVzXCI9PT1jP1wibXVzaWNfc3RhbmRhcmRcIjpcImlzYWMzMlwiKSksbD1lLmdldEF1ZGlvUHJvZmlsZSgpLHguZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSB3aWxsIGNyZWF0ZVByb2R1Y2VyIC0gc3RyZWFtSWQ6IFwiK2Uuc3RyZWFtSUQrXCIgYXVkaW9Qcm9maWxlOiBcIisoMCx1LmRlZmF1bHQpKGwpKSxyPXQuX3Jvb20uY3JlYXRlUHJvZHVjZXIocyx7c2ltdWxjYXN0OnQuX3VzZVNpbXVsY2FzdCxhdWRpb1Byb2ZpbGU6bCxjb2RlY09wdGlvbnM6e3ZpZGVvR29vZ2xlU3RhcnRCaXRyYXRlOmUuaWRlYWxCYW5kd2lkdGgsdmlkZW9Hb29nbGVNYXhCaXRyYXRlOmUubWF4QmFuZHdpZHRoLHZpZGVvR29vZ2xlTWluQml0cmF0ZTplLm1pbkJhbmR3aWR0aH19LHtzb3VyY2U6XCJ3ZWJjYW1fXCIrZS5zdHJlYW1JRCxzdHJlYW1JRDplLmlubmVyU3RyZWFtSUQsdXNlcklEOmUudXNlcklELHZpZGVvVHlwZTplLnZpZGVvVHlwZX0pKXtuLm5leHQ9MTc7YnJlYWt9cmV0dXJuIG4uYWJydXB0KFwicmV0dXJuXCIsaS5kZWZhdWx0LnJlamVjdChcIl9zZXRXZWJjYW1Qcm9kdWNlcigpIGZhaWwgLSBjcmVhdGVQcm9kdWNlciBmYWlsXCIpKTtjYXNlIDE3OmlmKHA9dm9pZCAwLCF0Ll9zZW5kVHJhbnNwb3J0LnZpZGVvU2VudCgpKXtuLm5leHQ9MjU7YnJlYWt9cmV0dXJuIG4ubmV4dD0yMSx0Ll9uZXdUcmFuc3BvcnQoXCJzZW5kXCIsXCJ3ZWJfY2FtXCIpO2Nhc2UgMjE6cD1uLnNlbnQsdC5fbWFwVmlkZW9TZW5kVHJhbnNwb3J0cy5zZXQoZS5faW5uZXJTdHJlYW1JRCxwKSxuLm5leHQ9MjY7YnJlYWs7Y2FzZSAyNTpwPXQuX3NlbmRUcmFuc3BvcnQ7Y2FzZSAyNjpyZXR1cm4geC5kZWJ1ZyhcIl9zZXRXZWJjYW1Qcm9kdWNlcigpIHdhdGNoaW5nIHByb2R1Y2VyIGV2ZW50XCIpLG4uYWJydXB0KFwicmV0dXJuXCIsci5zZW5kKHApKTtjYXNlIDI4OmNhc2VcImVuZFwiOnJldHVybiBuLnN0b3AoKX19KSxuLHQpfSkpKSkudGhlbigoZnVuY3Rpb24oKXt0Ll9tYXBXZWJjYW1Qcm9kdWNlcnMuc2V0KGUuX2lubmVyU3RyZWFtSUQsciksZS5hdHRhY2hXZWJjYW1Qcm9kdWNlcihyKSxyLmVuYWJsZVN0YXRzKHQuX2ludGVydmFsKTt2YXIgbj17aWQ6ci5pZCxzb3VyY2U6XCJ3ZWJjYW1cIixkZXZpY2VMYWJlbDpcImRldmljZS53ZWJjYW1cIix0eXBlOlwiZnJvbnQvcmVhclwiLGxvY2FsbHlQYXVzZWQ6ci5sb2NhbGx5UGF1c2VkLHJlbW90ZWx5UGF1c2VkOnIucmVtb3RlbHlQYXVzZWQsdHJhY2s6ci50cmFjayxjb2RlYzpyLnJ0cFBhcmFtZXRlcnMuY29kZWNzWzBdLm5hbWV9O3guZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSAtIHByb2R1Y2VySW5mbzogXCIrKDAsdS5kZWZhdWx0KShuKSksci5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKG4pe3QuX3N0YXRzLnJlbW92ZVN0cmVhbUJ5SWQoXCJwcm9kdWNlcl9cIityLmlkKSx4LmRlYnVnKFwiX3NldFdlYmNhbVByb2R1Y2VyKCkgd2ViY2FtUHJvZHVjZXIgZXZlbnQgLS0gW2Nsb3NlXSAtIFtvcmlnaW5hdG9yOlwiK24rXCJdXCIpLHIuZGlzYWJsZVN0YXRzKCksdC5fbWFwV2ViY2FtUHJvZHVjZXJzLmRlbGV0ZShlLl9pbm5lclN0cmVhbUlEKSxlLmRldGFjaFdlYmNhbVByb2R1Y2VyKCk7dmFyIGE9dC5fbWFwVmlkZW9TZW5kVHJhbnNwb3J0cy5nZXQoZS5faW5uZXJTdHJlYW1JRCk7dm9pZCAwIT09YSYmKGEuY2xvc2UoKSxhLnJlbW92ZUFsbExpc3RlbmVycygpLHQuX21hcFZpZGVvU2VuZFRyYW5zcG9ydHMuZGVsZXRlKGUuX2lubmVyU3RyZWFtSUQpKX0pKSxyLm9uKFwicGF1c2VcIiwoZnVuY3Rpb24oZSl7dC5fc3RhdHMuYWN0U3RyZWFtU1NSQ1BhaXJzKFwicHJvZHVjZXJfXCIrci5pZCwhMSkseC5kZWJ1ZyhcIl9zZXRXZWJjYW1Qcm9kdWNlcigpIHdlYmNhbVByb2R1Y2VyIGV2ZW50IC0tIFtwYXVzZV0gLSBbb3JpZ2luYXRvcjpcIitlK1wiXVwiKX0pKSxyLm9uKFwicmVzdW1lXCIsKGZ1bmN0aW9uKGUpe3QuX3N0YXRzLmFjdFN0cmVhbVNTUkNQYWlycyhcInByb2R1Y2VyX1wiK3IuaWQsITApLHguZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSB3ZWJjYW1Qcm9kdWNlciBldmVudCAtLSBbcmVzdW1lXSBbb3JpZ2luYXRvcjpcIitlK1wiXVwiKX0pKSxyLm9uKFwiaGFuZGxlZFwiLChmdW5jdGlvbigpe3guZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSB3ZWJjYW1Qcm9kdWNlciBldmVudCAtLSBbaGFuZGxlZF1cIil9KSksci5vbihcInVuaGFuZGxlZFwiLChmdW5jdGlvbigpe3guZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSB3ZWJjYW1Qcm9kdWNlciBldmVudCAtLSBbdW5oYW5kbGVkXVwiKX0pKSxyLm9uKFwic3RhdHNcIiwoZnVuY3Rpb24ocil7dC5fc3RhdHMuc2V0V2ViY2FtU3RhdHMocixlLl9pbm5lclN0cmVhbUlEKX0pKSxyLm9uKFwiaW50ZXJuYWxTdGF0c1wiLChmdW5jdGlvbihlKXt2YXIgcj10Ll9pbnRlcm5hbFN0YXRzKFwic2VuZGVyU3RhdHNcIixlKTt0Ll9zdGF0cy5wdXNoTG9nZ2VyVG9TZXJ2ZXIobnVsbCxyKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3guZGVidWcoXCJfc2V0V2ViY2FtUHJvZHVjZXIoKSBzdWNjZWVkZWRcIiksci50cmFuc3BvcnQuaGFuZGxlci5fcGMuZ2V0U3RhdHMoci50cmFjaykudGhlbigoZnVuY3Rpb24obil7bi5mb3JFYWNoKChmdW5jdGlvbihuKXtcIm91dGJvdW5kLXJ0cFwiPT09bi50eXBlJiZ0Ll9zdGF0cy5zZXRTdHJlYW1TU1JDUGFpcnMoXCJwcm9kdWNlcl9cIityLmlkLG4uc3NyYyxlLCEwKX0pKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24obil7dGhyb3cgeC53YXJuKFwiX3NldFdlYmNhbVByb2R1Y2VyKCkgZmFpbGVkOiAtIFwiK24udG9TdHJpbmcoKSksciYmKHQuX21hcFdlYmNhbVByb2R1Y2Vycy5kZWxldGUoZS5faW5uZXJTdHJlYW1JRCksZS5kZXRhY2hXZWJjYW1Qcm9kdWNlcigpLHIuY2xvc2UoKSksbn0pKX19LHtrZXk6XCJfc2V0U2NyZWVuUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlKXJldHVybiB4Lndhcm4oXCJfc2V0U2NyZWVuUHJvZHVjZXIoKSBlcnJvciAtIHBhcmFtZXRlciBbc3RyZWFtXSBpcyBJTlZBTElELlwiKSxpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIklOVkFMSUQgcGFyYW1ldGVyIFtzdHJlYW1dXCIpKTtpZih4LmRlYnVnKFwiX3NldFNjcmVlblByb2R1Y2VyKCkgLSBzdHJlYW1JZDogXCIrZS5pbm5lclN0cmVhbUlEKSwhdGhpcy5fcm9vbS5jYW5TZW5kKFwidmlkZW9cIikpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiY2Fubm90IHNlbmQgdmlkZW9cIikpO2lmKHRoaXMuX3NjcmVlblByb2R1Y2VyKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInNjcmVlbiBQcm9kdWNlciBhbHJlYWR5IGV4aXN0c1wiKSk7dmFyIHI9dm9pZCAwO3JldHVybiBpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gbigpe3ZhciBhO3JldHVybiBvLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24obil7Zm9yKDs7KXN3aXRjaChuLnByZXY9bi5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9ZS5zdHJlYW1PYmouZ2V0VmlkZW9UcmFja3MoKVswXSxyPXQuX3Jvb20uY3JlYXRlUHJvZHVjZXIoYSx7c2ltdWxjYXN0OnQuX3VzZVNpbXVsY2FzdH0se3NvdXJjZTpcInNjcmVlblwiLHN0cmVhbUlEOmUuaW5uZXJTdHJlYW1JRH0pLG4ubmV4dD00LHQuX25ld1RyYW5zcG9ydChcInNlbmRcIixcInNjcmVlblwiKTtjYXNlIDQ6cmV0dXJuIHQuX3NjcmVlblRyYW5zcG9ydD1uLnNlbnQsbi5hYnJ1cHQoXCJyZXR1cm5cIixyLnNlbmQodC5fc2NyZWVuVHJhbnNwb3J0KSk7Y2FzZSA2OmNhc2VcImVuZFwiOnJldHVybiBuLnN0b3AoKX19KSxuLHQpfSkpKSkudGhlbigoZnVuY3Rpb24oKXt0Ll9zY3JlZW5Qcm9kdWNlcj1yLHQuX3NjcmVlblByb2R1Y2VyLmVuYWJsZVN0YXRzKHQuX2ludGVydmFsKTt2YXIgbj17aWQ6ci5pZCxzb3VyY2U6XCJzY3JlZW5cIixkZXZpY2VMYWJlbDpcImRldmljZS5zY3JlZW5cIix0eXBlOlwiZnJvbnRcIixsb2NhbGx5UGF1c2VkOnIubG9jYWxseVBhdXNlZCxyZW1vdGVseVBhdXNlZDpyLnJlbW90ZWx5UGF1c2VkLHRyYWNrOnIudHJhY2ssY29kZWM6ci5ydHBQYXJhbWV0ZXJzLmNvZGVjc1swXS5uYW1lfTt4LmRlYnVnKFwiX3NldFNjcmVlblByb2R1Y2VyKCkgLSBzdHJlYW1JZDogXCIrZS5pbm5lclN0cmVhbUlEK1wiIHByb2R1Y2VySW5mbzogXCIrbiksci5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKGUpe3QuX3N0YXRzLnJlbW92ZVN0cmVhbUJ5SWQoXCJwcm9kdWNlcl9cIityLmlkKSx4LmRlYnVnKFwic2V0U2NyZWVuUHJvZHVjZXIoKSBzY3JlZW5Qcm9kdWNlciBldmVudCAtLSBbY2xvc2VdIC0gW29yaWdpbmF0b3I6XCIrZStcIl1cIiksdC5fc2NyZWVuUHJvZHVjZXI9bnVsbCx0Ll9zY3JlZW5UcmFuc3BvcnQuY2xvc2UoKSx0Ll9zY3JlZW5UcmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdC5fc2NyZWVuVHJhbnNwb3J0PW51bGwsci5kaXNhYmxlU3RhdHMoKX0pKSxyLm9uKFwicGF1c2VcIiwoZnVuY3Rpb24oZSl7dC5fc3RhdHMuYWN0U3RyZWFtU1NSQ1BhaXJzKFwicHJvZHVjZXJfXCIrci5pZCwhMSkseC5kZWJ1ZyhcIl9zZXRTY3JlZW5Qcm9kdWNlcigpIHNjcmVlblByb2R1Y2VyIGV2ZW50IC0tIFtwYXVzZV0gLSBbb3JpZ2luYXRvcjpcIitlK1wiXVwiKX0pKSxyLm9uKFwicmVzdW1lXCIsKGZ1bmN0aW9uKGUpe3QuX3N0YXRzLmFjdFN0cmVhbVNTUkNQYWlycyhcInByb2R1Y2VyX1wiK3IuaWQsITApLHguZGVidWcoXCJfc2V0U2NyZWVuUHJvZHVjZXIoKSBzY3JlZW5Qcm9kdWNlciBldmVudCAtLSBbcmVzdW1lXSAtIFtvcmlnaW5hdG9yOlwiK2UrXCJdXCIpfSkpLHIub24oXCJoYW5kbGVkXCIsKGZ1bmN0aW9uKCl7eC5kZWJ1ZyhcIl9zZXRTY3JlZW5Qcm9kdWNlcigpIHNjcmVlblByb2R1Y2VyIGV2ZW50IC0tIFtoYW5kbGVkXVwiKX0pKSxyLm9uKFwidW5oYW5kbGVkXCIsKGZ1bmN0aW9uKCl7eC5kZWJ1ZyhcInNjcmVlbiBQcm9kdWNlciBldmVudCAtLSBbdW5oYW5kbGVkXVwiKX0pKSxyLm9uKFwic3RhdHNcIiwoZnVuY3Rpb24ocil7dC5fc3RhdHMuc2V0V2ViY2FtU3RhdHMocixlLmlubmVyU3RyZWFtSUQpfSkpLHIub24oXCJpbnRlcm5hbFN0YXRzXCIsKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2ludGVybmFsU3RhdHMoXCJzZW5kZXJTdGF0c1wiLGUpO3QuX3N0YXRzLnB1c2hMb2dnZXJUb1NlcnZlcihudWxsLHIpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7eC5kZWJ1ZyhcIl9zZXRTY3JlZW5Qcm9kdWNlcigpIHN1Y2NlZWRlZFwiKSxyLnRyYW5zcG9ydC5oYW5kbGVyLl9wYy5nZXRTdGF0cyhyLnRyYWNrKS50aGVuKChmdW5jdGlvbihuKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe1wib3V0Ym91bmQtcnRwXCI9PT1uLnR5cGUmJnQuX3N0YXRzLnNldFN0cmVhbVNTUkNQYWlycyhcInByb2R1Y2VyX1wiK3IuaWQsbi5zc3JjLGUsITApfSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyB4Lndhcm4oXCJfc2V0U2NyZWVuUHJvZHVjZXIoKSBmYWlsZWQ6JW9cIixlKSxyJiYoci5jbG9zZSgpLHQuX3NjcmVlblByb2R1Y2VyPW51bGwpLGV9KSl9fSx7a2V5OlwiX2RlbGF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQscixuPW5ldyBpLmRlZmF1bHQoKGZ1bmN0aW9uKG4sYSl7dD1zZXRUaW1lb3V0KG4sZSkscj1hfSkpO3JldHVybiBuLmNhbmNlbD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0KSxyKEVycm9yKFwiQ2FuY2VsbGVkXCIpKX0sbn19LHtrZXk6XCJnZXRTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TmV0U3RhdGUoKX19LHtrZXk6XCJnZXROZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue2ljZVNlbmRUcmFuc3BvcnQ6dGhpcy5fc2VuZFRyYW5zcG9ydD90aGlzLl9zZW5kVHJhbnNwb3J0LmNvbm5lY3Rpb25TdGF0ZTpcImZhdWx0XCIsaWNlUmVjdlRyYW5zcG9ydDp0aGlzLl9yZWN2VHJhbnNwb3J0P3RoaXMuX3JlY3ZUcmFuc3BvcnQuY29ubmVjdGlvblN0YXRlOlwiZmF1bHRcIix3ZWJzb2NrZXRUcmFuc3BvcnQ6dGhpcy5fcHJvdG9vJiZ0aGlzLl9wcm90b28uX3RyYW5zcG9ydD90aGlzLl9wcm90b28uX3RyYW5zcG9ydC5jb25uZWN0ZWQ/XCJvbmxpbmVcIjpcIm9mZmxpbmVcIjpcImZhdWx0XCIsbG9naW5TdGF0dXM6dGhpcy5fam9pbmVkP1wib25saW5lXCI6XCJvZmZsaW5lXCIsc3RhdHM6dGhpcy5fc3RhdHM/dGhpcy5fc3RhdHMuc3VtbWFyaXplOnt9fX19LHtrZXk6XCJnZXRSZW1vdGVBdWRpb1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyB4Lndhcm4oXCJBUEkgZ2V0UmVtb3RlQXVkaW9TdGF0cygpIGVycm9yIC0gcGFyYW1ldGVyOiBjYWxsYmFjayBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBpcyBub3QgZnVuY3Rpb24uXCIpO2UodGhpcy5fc3RhdHMuYXVkaW9Eb3duU3RhdCl9fSx7a2V5OlwicmVtb3RlQXVkaW9TdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRzLmF1ZGlvRG93blN0YXR9fSx7a2V5OlwiZ2V0UmVtb3RlVmlkZW9TdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgeC53YXJuKFwiQVBJIGdldFJlbW90ZVZpZGVvU3RhdHMoKSBlcnJvciAtIHBhcmFtZXRlcjogY2FsbGJhY2sgaW52YWxpZFwiKSxuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGZ1bmN0aW9uLlwiKTtlKHRoaXMuX3N0YXRzLnZpZGVvRG93blN0YXQpfX0se2tleTpcInJlbW90ZVZpZGVvU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0cy52aWRlb0Rvd25TdGF0fX0se2tleTpcImdldExvY2FsQXVkaW9TdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgeC53YXJuKFwiQVBJIGdldExvY2FsQXVkaW9TdGF0cygpIGVycm9yIC0gcGFyYW1ldGVyOiBjYWxsYmFjayBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBpcyBub3QgZnVuY3Rpb24uXCIpO2UodGhpcy5fc3RhdHMuYXVkaW9VcFN0YXQpfX0se2tleTpcImxvY2FsQXVkaW9TdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRzLmF1ZGlvVXBTdGF0fX0se2tleTpcImdldExvY2FsVmlkZW9TdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgeC53YXJuKFwiQVBJIGdldExvY2FsVmlkZW9TdGF0cygpIGVycm9yIC0gcGFyYW1ldGVyOiBjYWxsYmFjayBpbnZhbGlkXCIpLG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBpcyBub3QgZnVuY3Rpb24uXCIpO2UodGhpcy5fc3RhdHMudmlkZW9VcFN0YXQpfX0se2tleTpcImxvY2FsVmlkZW9TdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRzLnZpZGVvVXBTdGF0fX0se2tleTpcInNldExpdmVNaXhlckxheW91dFwiLHZhbHVlOihNPSgwLHMuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUodCxyLG4pe3ZhciBpLHMsYyxkLGwscCxmLG0saCx2LF8seSxiLGssdyxQO3JldHVybiBvLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgeC5lcnJvcihcIkFQSSBzZXRMaXZlTWl4ZXJMYXlvdXQoKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksVHlwZUVycm9yKFwib25TdWNjZXNzIGlzIG5vdCBmdW5jdGlvbi5cIik7Y2FzZSAzOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe2UubmV4dD02O2JyZWFrfXRocm93IHguZXJyb3IoXCJBUEkgc2V0TGl2ZU1peGVyTGF5b3V0KCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uRmFpbHVyZSBpbnZhbGlkXCIpLFR5cGVFcnJvcihcIm9uRmFpbHVyZSBpcyBub3QgZnVuY3Rpb24uXCIpO2Nhc2UgNjppZih0JiZ0LnVzZXJzKXtlLm5leHQ9OTticmVha31yZXR1cm4gbihcIkFQSSBzZXRMaXZlTWl4ZXJMYXlvdXQoKSBlcnJvciAtIHBhcmFtZXRlcjogbGl2ZU1peGVyTGF5b3V0IGludmFsaWRcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA5OmlmKHRoaXMuX3Byb3Rvb1RyYW5zcG9ydFN0YXQpe2UubmV4dD0xMzticmVha31yZXR1cm4geC53YXJuKFwiQVBJIHNldExpdmVNaXhlckxheW91dCgpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKFwicHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDEzOmlmKHRoaXMuX2pvaW5lZCl7ZS5uZXh0PTE3O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgc2V0TGl2ZU1peGVyTGF5b3V0KCkgZXJyb3IgLSBub24tam9pbmVkXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4oXCJub24tam9pbmVkXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTc6aWYoXCIxXCI9PT10aGlzLl9yb2xlKXtlLm5leHQ9MjE7YnJlYWt9cmV0dXJuIHgud2FybihcIkFQSSBzZXRMaXZlTWl4ZXJMYXlvdXQoKSBlcnJvciAtIE11c3QgYmUgbWFzdGVyIC0gdGhpcy5fcm9sZTogXCIrdGhpcy5fcm9sZSksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbihcIk11c3QgYmUgbWFzdGVyXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjE6aWYoaT1bXSx0aGlzLl9saXZlTWl4ZXJMYXlvdXQmJnRoaXMuX2xpdmVNaXhlckxheW91dC51c2Vycylmb3Iocz0wO3M8dC51c2Vycy5sZW5ndGg7cysrKWZvcihjPTA7Yzx0aGlzLl9saXZlTWl4ZXJMYXlvdXQudXNlcnMubGVuZ3RoO2MrKyl0aGlzLl9saXZlTWl4ZXJMYXlvdXQudXNlcnNbY10uc3RyZWFtSWQ9PT10LnVzZXJzW3NdLnN0cmVhbUlkJiZpLnB1c2godGhpcy5fbGl2ZU1peGVyTGF5b3V0LnVzZXJzW2NdKTtkPVtdLHRoaXMuX2xpdmVNaXhlckxheW91dCYmdGhpcy5fbGl2ZU1peGVyTGF5b3V0LnVzZXJzJiYoZD10aGlzLl9saXZlTWl4ZXJMYXlvdXQudXNlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4haS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gZS5zdHJlYW1JZD09PXQuc3RyZWFtSWR9KSl9KSkpLGw9dC51c2Vycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnN0cmVhbUlkPT09dC5zdHJlYW1JZH0pKX0pKSx4LmRlYnVnKFwiQVBJIHNldExpdmVNaXhlckxheW91dCgpIC0gbGl2ZU1peGVyTGF5b3V0OiBcIisoMCx1LmRlZmF1bHQpKHQpK1wiIC0gdGhpcy5fbGl2ZU1peGVyTGF5b3V0OiBcIisoMCx1LmRlZmF1bHQpKHRoaXMuX2xpdmVNaXhlckxheW91dCkrXCIgLSBhZGRVc2VyOiBcIisoMCx1LmRlZmF1bHQpKGwpK1wiIGRlbFVzZXI6IFwiKygwLHUuZGVmYXVsdCkoZCkpLGUucHJldj0yNyxwPVwiXCIsZj0wLGY9MDtjYXNlIDMxOmlmKCEoZjxkLmxlbmd0aCkpe2UubmV4dD00MDticmVha31pZighZFtmXSl7ZS5uZXh0PTM3O2JyZWFrfXJldHVybiBtPXt0eXBlOlwiZGVsXCIscGVlcklkOlwiXCIrZFtmXS51c2VySWQsZGV2SWQ6XCJcIitkW2ZdLnN0cmVhbUlkfHxcIlwifSxwPXArXCIgLSBcIisoMCx1LmRlZmF1bHQpKG0pLGUubmV4dD0zNyx0aGlzLl9wcm90b28uc2VuZChcInNldE1peGVyXCIsbSk7Y2FzZSAzNzpmKyssZS5uZXh0PTMxO2JyZWFrO2Nhc2UgNDA6XCJcIiE9PXAmJnguZGVidWcoXCJBUEkgc2V0TGl2ZU1peGVyTGF5b3V0KCkgLSB0eXBlOiBkZWwgLSBzZXRNaXhlcjogXCIrcCkscD1cIlwiLGY9MDtjYXNlIDQzOmlmKCEoZjxsLmxlbmd0aCkpe2UubmV4dD01MjticmVha31pZighbFtmXSl7ZS5uZXh0PTQ5O2JyZWFrfXJldHVybiBoPXt0eXBlOlwiYWRkXCIscGVlcklkOlwiXCIrbFtmXS51c2VySWQsZGV2SWQ6XCJcIitsW2ZdLnN0cmVhbUlkfHxcIlwifSxwPXArXCIgLSBcIisoMCx1LmRlZmF1bHQpKGgpLGUubmV4dD00OSx0aGlzLl9wcm90b28uc2VuZChcInNldE1peGVyXCIsaCk7Y2FzZSA0OTpmKyssZS5uZXh0PTQzO2JyZWFrO2Nhc2UgNTI6cmV0dXJuXCJcIiE9PXAmJnguZGVidWcoXCJBUEkgc2V0TGl2ZU1peGVyTGF5b3V0KCkgLSB0eXBlOiBhZGQgLSBzZXRNaXhlcjogXCIrcCksdj0yMzIsXz0yMzAseT0yMzIsYj10LmJhY2tncm91bmRDb2xvcj90LmJhY2tncm91bmRDb2xvci50b1N0cmluZygxNik6XCIwMDAwMDAwMFwiLChrPWIubGVuZ3RoKTw9Mj95PXBhcnNlSW50KFwiMHhcIitiLnNsaWNlKDApKTprPD00Pyh5PXBhcnNlSW50KFwiMHhcIitiLnNsaWNlKGstMikpLF89cGFyc2VJbnQoXCIweFwiK2Iuc2xpY2UoMCxrLTIpKSk6KHk9cGFyc2VJbnQoXCIweFwiK2Iuc2xpY2Uoay0yKSksXz1wYXJzZUludChcIjB4XCIrYi5zbGljZShrLTQsay0yKSksdj1wYXJzZUludChcIjB4XCIrYi5zbGljZSgwLGstNCkpKSx3PShuZXcgRGF0ZSkuZ2V0VGltZSgpLFA9e3RzOlwiXCIrdyx2ZXI6XCIyMDE2MTIyN1wiLGNhbnZhczp7YmdyYWQ6W3YsXyx5XSxoOnQuaGVpZ2h0P3Qud2lkdGg6NDgwLHc6dC53aWR0aD90LndpZHRoOjY0MH0sbWlkOlwiXCIrdGhpcy5fdWlkLHBvczpbXX0sdC51c2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlJiZcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjooMCxhLmRlZmF1bHQpKGUpKSl7dmFyIHQ9e307dC5pZD1cIlwiK2Uuc3RyZWFtSWQsdC54PWUueCx0Lnk9ZS55LHQudz1lLncsdC5oPWUuaCx0Lno9ZS56LFAucG9zLnB1c2godCl9fSkpLGUubmV4dD02NCx0aGlzLl9wcm90b28uc2VuZChcInNldFNFSVwiLHtzZWk6UH0pO2Nhc2UgNjQ6dGhpcy5fbGl2ZU1peGVyTGF5b3V0PWcuY2xvbmUodCkseC5kZWJ1ZyhcIkFQSSBzZXRMaXZlTWl4ZXJMYXlvdXQoKSBzdWNjZXNzIC0gc2VpOiBcIisoMCx1LmRlZmF1bHQpKFApK1wiIC0gdGhpcy5fbGl2ZU1peGVyTGF5b3V0OiBcIisoMCx1LmRlZmF1bHQpKHRoaXMuX2xpdmVNaXhlckxheW91dCkpLHIoKSxlLm5leHQ9NzM7YnJlYWs7Y2FzZSA2OTplLnByZXY9NjksZS50MD1lLmNhdGNoKDI3KSx4Lndhcm4oXCJBUEkgc2V0TGl2ZU1peGVyTGF5b3V0KCkgZmFpbCAtIFwiK2UudDAudG9TdHJpbmcoKSksbihcIlwiK2UudDAudG9TdHJpbmcoKSk7Y2FzZSA3MzpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbMjcsNjldXSl9KSkpLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNldFNFSVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sYSxvLHMpe3ZhciBjPXRoaXM7aWYoIXRoaXMuX3Byb3Rvb1RyYW5zcG9ydFN0YXQpcmV0dXJuIHgud2FybihcIkFQSSBzZXRTRUkoKSBlcnJvciAtIHByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksdm9pZChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiZzKFwicHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSk7aWYoIXRoaXMuX2pvaW5lZClyZXR1cm4geC53YXJuKFwiQVBJIHNldFNFSSgpIGVycm9yIC0gbm9uLWpvaW5lZFwiKSx2b2lkKFwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJnMoXCJub24tam9pbmVkXCIpKTtpZihcIjFcIiE9PXRoaXMuX3JvbGUpcmV0dXJuIHgud2FybihcIkFQSSBzZXRTRUkoKSBlcnJvciAtIE11c3QgYmUgbWFzdGVyIC0gdGhpcy5fcm9sZTogXCIrdGhpcy5fcm9sZSksdm9pZChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiZzKFwiTXVzdCBiZSBtYXN0ZXJcIikpO3ZhciBkPVwiXCI7aWYoXCJhZGRcIj09PXQudG9Mb2NhbGVMb3dlckNhc2UoKT9kPVwiYWRkXCI6XCJkZWxcIj09PXQudG9Mb2NhbGVMb3dlckNhc2UoKSYmKGQ9XCJkZWxcIiksXCJcIj09PWQpcmV0dXJuIHgud2FybihcInNldFNFSSgpIGVycm9yIC0gcGFyYW1ldGVyIFt0eXBlXSB0eXBlOiBcIit0K1wiIGlzIElOVkFMSURcIiksdm9pZChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiZzKFwicGFyYW1ldGVyIFt0eXBlXSBpcyBJTlZBTElEXCIpKTt2YXIgbD17dHlwZTpkLHBlZXJJZDpcIlwiK2UsZGV2SWQ6YXx8XCJcIn07ciYmKGwuZGV2SWQ9ZStcIjpzY3JlZW5cIixuLnBvcz1uLnBvcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09YSYmKHQuaWQ9ZStcIjpzY3JlZW5cIiksdH0pKSkseC5kZWJ1ZyhcIkFQSSBzZXRTRUkoKSAtIHVpZDogXCIrZStcIiB0eXBlOiBcIit0K1wiIGlzU2NyZWVuOiBcIityK1wiIHNlaTogXCIrKDAsdS5kZWZhdWx0KShuKStcIiBkZXZJZDogXCIrYSksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3guZGVidWcoXCJBUEkgc2V0U0VJKCkgLSBzZXRNaXhlciBzVHlwZTogXCIrKDAsdS5kZWZhdWx0KShsKSksYy5fcHJvdG9vLnNlbmQoXCJzZXRNaXhlclwiLGwpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7Yy5fcHJvdG9vLnNlbmQoXCJzZXRTRUlcIix7c2VpOm59KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiZvKCkseC53YXJuKFwiQVBJIHNldFNFSSgpIHN1Y2Nlc3NcIil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3gud2FybihcIkFQSSBzZXRTRUkoKSBlcnJvciAtIFwiK2UudG9TdHJpbmcoKSksXCJmdW5jdGlvblwiPT10eXBlb2YgcyYmcyhcIlwiK2UudG9TdHJpbmcoKSl9KSl9fSx7a2V5Olwic3Vic2NyaWJlT3RoZXJSb29tXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgeC5lcnJvcihcIkFQSSBzdWJzY3JpYmVPdGhlclJvb20oKSBlcnJvciAtIHBhcmFtZXRlcjogb25TdWNjZXNzIGludmFsaWRcIiksVHlwZUVycm9yKFwib25TdWNjZXNzIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcil0aHJvdyB4LmVycm9yKFwiQVBJIHN1YnNjcmliZU90aGVyUm9vbSgpIGVycm9yIC0gcGFyYW1ldGVyOiBvbkZhaWx1cmUgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvbkZhaWx1cmUgaXMgbm90IGZ1bmN0aW9uLlwiKTtyZXR1cm4gZT90aGlzLl9wcm90b29UcmFuc3BvcnRTdGF0P3RoaXMuX2pvaW5lZD9cIjFcIiE9PXRoaXMuX3JvbGU/KHgud2FybihcIkFQSSBzdWJzY3JpYmVPdGhlclJvb20oKSBlcnJvciAtIE11c3QgYmUgbWFzdGVyIC0gdGhpcy5fcm9sZTogXCIrdGhpcy5fcm9sZSksdm9pZCByKFwiTXVzdCBiZSBtYXN0ZXJcIikpOih4Lndhcm4oXCJBUEkgc3Vic2NyaWJlT3RoZXJSb29tKCkgc3VjY2VzcyAtIHN1YnNjcmliZVJvb21JZDogXCIrZSksdm9pZCB0aGlzLl9wcm90b28uc2VuZChcInN1YnNjcmliZU90aGVyUm9vbVwiLHtzdWJzY3JpYmVSb29tSWQ6ZX0pLnRoZW4odCkuY2F0Y2gocikpOih4Lndhcm4oXCJBUEkgc3Vic2NyaWJlT3RoZXJSb29tKCkgZXJyb3IgLSBub24tam9pbmVkXCIpLHZvaWQgcihcIm5vbi1qb2luZWRcIikpOih4Lndhcm4oXCJBUEkgc3Vic2NyaWJlT3RoZXJSb29tKCkgZXJyb3IgLSBwcm90b29UcmFuc3BvcnQgYnJva2VuXCIpLHZvaWQgcihcInByb3Rvb1RyYW5zcG9ydCBpcyBicm9rZW5cIikpOih4Lndhcm4oXCJBUEkgc3Vic2NyaWJlT3RoZXJSb29tKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IHN1YnNjcmliZVJvb21JZCBpbnZhbGlkXCIpLHZvaWQgcihcIlBhcmFtIGVycm9yIC0gc3Vic2NyaWJlUm9vbUlkIGlzIGludmFsaWRcIikpfX0se2tleTpcInVuc3Vic2NyaWJlT3RoZXJSb29tXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgeC5lcnJvcihcIkFQSSB1bnN1YnNjcmliZU90aGVyUm9vbSgpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaXMgbm90IGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHguZXJyb3IoXCJBUEkgdW5zdWJzY3JpYmVPdGhlclJvb20oKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7cmV0dXJuIGU/dGhpcy5fcHJvdG9vVHJhbnNwb3J0U3RhdD90aGlzLl9qb2luZWQ/XCIxXCIhPT10aGlzLl9yb2xlPyh4Lndhcm4oXCJBUEkgdW5zdWJzY3JpYmVPdGhlclJvb20oKSBlcnJvciAtIE11c3QgYmUgbWFzdGVyIC0gdGhpcy5fcm9sZTogXCIrdGhpcy5fcm9sZSksdm9pZCByKFwiTXVzdCBiZSBtYXN0ZXJcIikpOih4Lndhcm4oXCJBUEkgdW5zdWJzY3JpYmVPdGhlclJvb20oKSBzdWNjZXNzIC0gc3Vic2NyaWJlUm9vbUlkOiBcIitlKSx2b2lkIHRoaXMuX3Byb3Rvby5zZW5kKFwidW5zdWJzY3JpYmVPdGhlclJvb21cIix7dW5zdWJzY3JpYmVSb29tSWQ6ZX0pLnRoZW4odCkuY2F0Y2gocikpOih4Lndhcm4oXCJBUEkgdW5zdWJzY3JpYmVPdGhlclJvb20oKSBlcnJvciAtIG5vbi1qb2luZWRcIiksdm9pZCByKFwibm9uLWpvaW5lZFwiKSk6KHgud2FybihcIkFQSSB1bnN1YnNjcmliZU90aGVyUm9vbSgpIGVycm9yIC0gcHJvdG9vVHJhbnNwb3J0IGJyb2tlblwiKSx2b2lkIHIoXCJwcm90b29UcmFuc3BvcnQgaXMgYnJva2VuXCIpKTooeC53YXJuKFwiQVBJIHVuc3Vic2NyaWJlT3RoZXJSb29tKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IHVuc3Vic2NyaWJlUm9vbUlkIGludmFsaWRcIiksdm9pZCByKFwiUGFyYW0gZXJyb3IgLSB1bnN1YnNjcmliZVJvb21JZCBpcyBpbnZhbGlkXCIpKX19LHtrZXk6XCJzZXRVc2VyUm9sZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgeC5lcnJvcihcIkFQSSBzZXRVc2VyUm9sZSgpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaXMgbm90IGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IHguZXJyb3IoXCJBUEkgc2V0VXNlclJvbGUoKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7aWYoIWUpcmV0dXJuIHgud2FybihcIkFQSSBzZXRVc2VyUm9sZSgpIGVycm9yIC0gcGFyYW1ldGVyIFtyb2xlXSBpcyBJTlZBTElELlwiKSx2b2lkIHIoXCJQYXJhbSBlcnJvciAtIHJvbGUgaXMgaW52YWxpZFwiKTt2YXIgYT0rZTtpZih0aGlzLl9qb2luZWQpe2lmKCF0aGlzLl9wcm90b29UcmFuc3BvcnRTdGF0KXJldHVybiB4Lndhcm4oXCJBUEkgc2V0VXNlclJvbGUoKSBlcnJvciAtIHByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksdm9pZCByKFwicHJvdG9vVHJhbnNwb3J0IGlzIGJyb2tlblwiKTtpZigzPT09YSYmdGhpcy5pc1B1Ymxpc2gpcmV0dXJuIHgud2FybihcIkFQSSBzZXRVc2VyUm9sZSgpIGVycm9yIC0gdW5wdWJsaXNoIGFsbCB0aGUgc3RyZWFtIGJlZm9yZSBzZXRVc2VyUm9sZVwiKSx2b2lkIHIoXCJQbGVhc2UgdW5wdWJsaXNoIGFsbCBzdHJlYW1cIik7aWYoK3RoaXMuX3JvbGU9PT1hKXJldHVybiB2b2lkIHIoXCJSb2xlOiBubyBjaGFuZ2VkLlwiKTtpZigyIT09YSYmMyE9PWEpcmV0dXJuIHgud2FybihcIkFQSSBzZXRVc2VyUm9sZSgpIGVycm9yIC0gUm9sZTogT25seSBhbGxvd2VkIGJldHdlZW4gMiB8IDNcIiksdm9pZCByKFwiUm9sZTogT25seSBhbGxvd2VkIGJldHdlZW4gMiB8IDNcIik7aWYoMT09K3RoaXMuX3JvbGUpcmV0dXJuIHgud2FybihcIkFQSSBzZXRVc2VyUm9sZSgpIGVycm9yIC0gUm9sZTogT25seSBhbGxvd2VkIGJldHdlZW4gMiB8IDNcIiksdm9pZCByKFwiUm9sZTogT25seSBhbGxvd2VkIGJldHdlZW4gMiB8IDNcIik7eC5kZWJ1ZyhcIkFQSSBzZXRVc2VyUm9sZSgpIC0gcm9sZTogXCIrYSksdGhpcy5fcHJvdG9vLnNlbmQoXCJjaGFuZ2VSb2xlXCIse3JvbGU6YX0pLnRoZW4oKGZ1bmN0aW9uKCl7eC5kZWJ1ZyhcIkFQSSBzZXRVc2VyUm9sZSgpIHN1Y2Nlc3NcIiksbi5fcm9sZT1hK1wiXCIsdCgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt4LmRlYnVnKFwiQVBJIHNldFVzZXJSb2xlKCkgZmFpbCAtIFwiK2UudG9TdHJpbmcoKSkscihlLnRvU3RyaW5nKCkpfSkpfWVsc2V7aWYoYT4zfHxhPDEpcmV0dXJuIHgud2FybihcIkFQSSBzZXRVc2VyUm9sZSgpIGVycm9yIC0gcGFyYW1ldGVyIFtyb2xlXSBpcyBJTlZBTElELlwiKSx2b2lkIHIoXCJSb2xlOiBPbmx5IGFsbG93ZWQgYmV0d2VlbiAxIHwgMiB8IDNcIik7eC53YXJuKFwiQVBJIHNldFVzZXJSb2xlKCkgLSByb2xlOiBcIitlKSx0aGlzLl9yb2xlPWUrXCJcIix0KCl9fX0se2tleTpcInNldFZpZGVvTWl4ZXJCR0lVcmxcIix2YWx1ZTooTD0oMCxzLmRlZmF1bHQpKG8uZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQscixuKXtyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe2UubmV4dD0zO2JyZWFrfXRocm93IHguZXJyb3IoXCJBUEkgc2V0VmlkZW9NaXhlckJHSVVybCgpIGVycm9yIC0gcGFyYW1ldGVyOiBvblN1Y2Nlc3MgaW52YWxpZFwiKSxUeXBlRXJyb3IoXCJvblN1Y2Nlc3MgaXMgbm90IGZ1bmN0aW9uLlwiKTtjYXNlIDM6aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7ZS5uZXh0PTY7YnJlYWt9dGhyb3cgeC5lcnJvcihcIkFQSSBzZXRWaWRlb01peGVyQkdJVXJsKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uRmFpbHVyZSBpbnZhbGlkXCIpLFR5cGVFcnJvcihcIm9uRmFpbHVyZSBpcyBub3QgZnVuY3Rpb24uXCIpO2Nhc2UgNjppZihcInN0cmluZ1wiPT10eXBlb2YgdCl7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgc2V0VmlkZW9NaXhlckJHSVVybCgpIGVycm9yIC0gdXJsOiBcIisodm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOigwLGEuZGVmYXVsdCkodCkpKSxuKFwicGFyYW1ldGVyIFt1cmxdIGlzIElOVkFMSURcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAxMDppZih0aGlzLl92aWRlb01peGVyQkdJVXJsPXQudHJpbSgpLCF0aGlzLl9qb2luZWQpe2UubmV4dD0xNjticmVha31yZXR1cm4gZS5uZXh0PTE0LHRoaXMuX3Byb3Rvby5zZW5kKFwidXBkYXRlVmlkZW9NaXhlckJHSVVybFwiLHtyb29tSWQ6dGhpcy5fcm9vbUlkLHVybDp0fSk7Y2FzZSAxNDp4LmRlYnVnKFwiQVBJIHNldFZpZGVvTWl4ZXJCR0lVcmwoKSBzdWNjZXNzIC0gXCIrdCkscigpO2Nhc2UgMTY6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNldFJ0bXBVcmxcIix2YWx1ZTooQz0oMCxzLmRlZmF1bHQpKG8uZGVmYXVsdC5tYXJrKChmdW5jdGlvbiBlKHQscixuKXt2YXIgaSxzLGM7cmV0dXJuIG8uZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihpPXQudXJsLHM9dC5hdk1vZGUsYz0wLGM9dm9pZCAwIT09KHZvaWQgMD09PXM/XCJ1bmRlZmluZWRcIjooMCxhLmRlZmF1bHQpKHMpKSYmXCJhdWRpb1wiPT09cz8xOjIsXCJzdHJpbmdcIj09dHlwZW9mIGkpe2UubmV4dD03O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgc2V0UnRtcFVybCgpIGVycm9yIC0gdXJsOiBcIisodm9pZCAwPT09aT9cInVuZGVmaW5lZFwiOigwLGEuZGVmYXVsdCkoaSkpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKFwicGFyYW1ldGVyIFt1cmxdIGlzIElOVkFMSURcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA3OmlmKFwiMVwiPT09dGhpcy5fcm9sZSl7ZS5uZXh0PTExO2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkgc2V0UnRtcFVybCgpIGVycm9yIC0gTXVzdCBiZSBtYXN0ZXIgLSB0aGlzLl9yb2xlOiBcIit0aGlzLl9yb2xlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKFwiTXVzdCBiZSBtYXN0ZXJcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAxMTppZih0aGlzLl92YWxpZF9ydG1wX3VybD1pLnRyaW0oKSwhdGhpcy5fam9pbmVkKXtlLm5leHQ9MTc7YnJlYWt9cmV0dXJuIGUubmV4dD0xNSx0aGlzLl9wcm90b28uc2VuZChcInVwZGF0ZVJ0bXBVcmxcIix7cm9vbUlkOnRoaXMuX3Jvb21JZCx1cmw6aSxtZWRpYVR5cGU6Y30pO2Nhc2UgMTU6eC5kZWJ1ZyhcIkFQSSBzZXRSdG1wVXJsKCkgc3VjY2VzcyAtIFwiK2krXCIgbWVkaWFUeXBlOiBcIitjKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyKCk7Y2FzZSAxNzpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSx0LHIpe3JldHVybiBDLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwicmVuZXdUb2tlblwiLHZhbHVlOihUPSgwLHMuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUodCxyLG4pe3JldHVybiBvLmRlZmF1bHQud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgeC5lcnJvcihcIkFQSSByZW5ld1Rva2VuKCkgZXJyb3IgLSBwYXJhbWV0ZXI6IG9uU3VjY2VzcyBpbnZhbGlkXCIpLFR5cGVFcnJvcihcIm9uU3VjY2VzcyBpcyBub3QgZnVuY3Rpb24uXCIpO2Nhc2UgMzppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXtlLm5leHQ9NjticmVha310aHJvdyB4LmVycm9yKFwiQVBJIHJlbmV3VG9rZW4oKSBlcnJvciAtIHBhcmFtZXRlcjogb25GYWlsdXJlIGludmFsaWRcIiksVHlwZUVycm9yKFwib25GYWlsdXJlIGlzIG5vdCBmdW5jdGlvbi5cIik7Y2FzZSA2OmlmKHRoaXMuX2pvaW5lZCl7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiB4Lndhcm4oXCJ5b3Ugc2hvdWxkIGpvaW4gcm9vbSBmaXJzdC5cIiksbihcIm5vbi1qb2luZWRcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAxMDppZihcInN0cmluZ1wiIT10eXBlb2YgdCl7ZS5uZXh0PTE2O2JyZWFrfXJldHVybiBlLm5leHQ9MTMsdGhpcy5fcHJvdG9vLnNlbmQoXCJyZWZyZXNoVG9rZW5cIix7dG9rZW46dH0pO2Nhc2UgMTM6eC5kZWJ1ZyhcIkFQSSByZW5ld1Rva2VuKCkgc3VjY2Vzc1wiKSxlLm5leHQ9MTk7YnJlYWs7Y2FzZSAxNjpyZXR1cm4geC5kZWJ1ZyhcIkFQSSByZW5ld1Rva2VuKCkgZXJyb3IgLSBQYXJhbSBlcnJvciAtIHRva2VuIGlzIGludmFsaWRcIiksbihcIlBhcmFtIGVycm9yIC0gdG9rZW4gaXMgaW52YWxpZFwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE5OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlLHQscil7cmV0dXJuIFQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJraWNrT3V0XCIsdmFsdWU6KGs9KDAscy5kZWZhdWx0KShvLmRlZmF1bHQubWFyaygoZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE7cmV0dXJuIG8uZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih0aGlzLl9wcm90b29UcmFuc3BvcnRTdGF0KXtlLm5leHQ9NDticmVha31yZXR1cm4geC53YXJuKFwiQVBJIGtpY2tPdXQoKSBlcnJvciAtIHByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbihcInByb3Rvb1RyYW5zcG9ydCBicm9rZW5cIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA0OmlmKHRoaXMuX2pvaW5lZCl7ZS5uZXh0PTg7YnJlYWt9cmV0dXJuIHgud2FybihcIkFQSSBraWNrT3V0KCkgZXJyb3IgLSBub24tam9pbmVkXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4oXCJub24tam9pbmVkXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgODppZih0KXtlLm5leHQ9MTI7YnJlYWt9cmV0dXJuIHgud2FybihcIkFQSSBraWNrT3V0KCkgZXJyb3IgLSBwYXJhbWV0ZXIgW3VzZXJJZF0gaXMgSU5WQUxJRC5cIiksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbihcInBhcmFtZXRlciBbdXNlcklkXSBpcyBJTlZBTElEXCIpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTI6aWYoXCJcIiE9PShhPShhPXQrXCJcIikudHJpbSgpKSl7ZS5uZXh0PTE4O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkga2lja091dCgpIGVycm9yIC0gcGFyYW1ldGVyIFt1c2VySWRdIGlzIElOVkFMSUQuXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4oXCJwYXJhbWV0ZXIgW3VzZXJJZF0gaXMgSU5WQUxJRFwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE4OmlmKFwiMVwiPT09dGhpcy5fcm9sZSl7ZS5uZXh0PTIyO2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkga2lja091dCgpIGVycm9yIC0gTXVzdCBiZSBtYXN0ZXIgLSB0aGlzLl9yb2xlOiBcIit0aGlzLl9yb2xlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKFwiTXVzdCBiZSBtYXN0ZXJcIiksZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAyMjppZih0aGlzLl9wZWVycy5nZXQoXCJcIithKSl7ZS5uZXh0PTI2O2JyZWFrfXJldHVybiB4Lndhcm4oXCJBUEkga2lja091dCgpIGVycm9yIC0gdXNlcklkOiBcIithK1wiIG5vdCBmb3VuZC5cIiksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbihhK1wiIG5vdCBmb3VuZFwiKSxlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDI2OnJldHVybiBlLm5leHQ9MjgsdGhpcy5fcHJvdG9vLnNlbmQoXCJraWNrb3V0XCIse3BlZXJJZDphfSk7Y2FzZSAyODp4LmRlYnVnKFwiQVBJIGtpY2tPdXQoKSBzdWNlc3MgLSB1c2VySWQ6IFwiK2EpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIoKTtjYXNlIDMwOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlLHQscil7cmV0dXJuIGsuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJnZXRUcmFuc3BvcnRTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntpY2VTZW5kVHJhbnNwb3J0OnRoaXMuX3NlbmRUcmFuc3BvcnQ/dGhpcy5fc2VuZFRyYW5zcG9ydC5jb25uZWN0aW9uU3RhdGU6XCJmYXVsdFwiLGljZVJlY3ZUcmFuc3BvcnQ6dGhpcy5fcmVjdlRyYW5zcG9ydD90aGlzLl9yZWN2VHJhbnNwb3J0LmNvbm5lY3Rpb25TdGF0ZTpcImZhdWx0XCIsd2Vic29ja2V0VHJhbnNwb3J0OnRoaXMuX3Byb3RvbyYmdGhpcy5fcHJvdG9vLl90cmFuc3BvcnQ/dGhpcy5fcHJvdG9vLl90cmFuc3BvcnQuY29ubmVjdGVkOlwiZmF1bHRcIixsb2dpblN0YXR1czp0aGlzLl9qb2luZWQ/XCJvbmxpbmVcIjpcIm9mZmxpbmVcIn19fSx7a2V5OlwiX2V4dHJhY3RSZXNvbHV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZyYW1lSGVpZ2h0OjAsZnJhbWVXaWR0aDowfSxyPXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpeygwLG4uZGVmYXVsdCkoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7XCJmcmFtZWhlaWdodFwiPT09ci50b0xvY2FsZUxvd2VyQ2FzZSgpJiYodC5mcmFtZUhlaWdodD1lW3JdKSxcImZyYW1ld2lkdGhcIj09PXIudG9Mb2NhbGVMb3dlckNhc2UoKSYmKHQuZnJhbWVXaWR0aD1lW3JdKX0pKTt0cnl7aWYoMCE9PXQuZnJhbWVXaWR0aCl0aHJvdyByfWNhdGNoKGUpe2lmKGUhPT1yKXRocm93IGV9fSkpLHR9fSx7a2V5OlwiX25ld1RyYW5zcG9ydFwiLHZhbHVlOih2PSgwLHMuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbixhLGk9dGhpcztyZXR1cm4gby5kZWZhdWx0LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKG49XCJcIix0KXtlLm5leHQ9MzticmVha31yZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAzOmlmKFwic2VuZFwiPT09dHx8XCJyZWN2XCI9PT10KXtlLm5leHQ9NTticmVha31yZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA1Om49ciYmXCJcIiE9PXI/cjpcIlNFTkRfTUlDX1dFQkNBTVwiLGE9bnVsbCxlLnByZXY9NyxhPXRoaXMuX3Jvb20uY3JlYXRlVHJhbnNwb3J0KFwic2VuZFwiLHttZWRpYTpufSksZS5uZXh0PTE1O2JyZWFrO2Nhc2UgMTE6cmV0dXJuIGUucHJldj0xMSxlLnQwPWUuY2F0Y2goNykseC53YXJuKFwiX25ld1RyYW5zcG9ydCgpIHRoaXMuX3Jvb20uY3JlYXRlVHJhbnNwb3J0IGZhaWwgLSBcIitlLnQwLnRvU3RyaW5nKCkpLGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTU6cmV0dXJuIGEub24oXCJjbG9zZVwiLChmdW5jdGlvbihlKXt4LmRlYnVnKFwic2VuZFRyYW5zcG9ydCBldmVudCAtLSBbY2xvc2VdIC0gW29yaWdpbmF0b3I6IFwiK2UrXCJdXCIpfSkpLGEub24oXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBlPSgwLHMuZGVmYXVsdCkoby5kZWZhdWx0Lm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIG8uZGVmYXVsdC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpcImRpc2Nvbm5lY3RlZFwiPT09dCYmKGkuX2ljZVNlbmREaXNjb25uZWN0ZWRDbnQrKyx4Lndhcm4oXCJzZW5kVHJhbnNwb3J0IGRpc2Nvbm5lY3RlZC4gd2lsbCByZXRyeVJlc3RhcnRJY2UgYWZ0ZXIgNTAwbXNcIiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmF0dGVtcHRSZXN0YXJ0SWNlKCl9KSw1MDApKSxcImZhaWxlZFwiPT09dCYmKHgud2FybihcInNlbmRUcmFuc3BvcnQgZmFpbGVkLiB3aWxsIHJldHJ5UmVzdGFydEljZS4uLlwiKSxhLmF0dGVtcHRSZXN0YXJ0SWNlKCkpLFwiY29ubmVjdGVkXCI9PT10JiZSKGEuX2hhbmRsZXIuX3BjLChmdW5jdGlvbihlKXtpLl9zdGF0cy5zZXRXZWJydGNJbnRlcm5hbFNlbmRTdGF0cyhlKX0pLDFlMykseC5kZWJ1ZyhcInNlbmRUcmFuc3BvcnQgY29ubmVjdGlvbnN0YXRlY2hhbmdlOiBcIit0KTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsaSl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpKSxlLmFicnVwdChcInJldHVyblwiLGEpO2Nhc2UgMTg6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzcsMTFdXSl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfaW50ZXJuYWxTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXthcHBJZDp0aGlzLl9hcHBJZCx1c2VySWQ6dGhpcy5fdWlkLHJvb21JZDp0aGlzLl9yb29tSWQsc3RhdHM6XCJpbnRlcm5hbFN0YXRzXCIsZGlyZWN0aW9uOmUsXCJtZWRpYS1zb3VyY2VcIjpbXSxjZXJ0aWZpY2F0ZTpbXSxjb2RlYzpbXSxcImNhbmRpZGF0ZS1wYWlyXCI6W10sXCJsb2NhbC1jYW5kaWRhdGVcIjpbXSxcInJlbW90ZS1jYW5kaWRhdGVcIjpbXSxcImluYm91bmQtcnRwXCI6W10sXCJvdXRib3VuZC1ydHBcIjpbXSxcInJlbW90ZS1pbmJvdW5kLXJ0cFwiOltdLHRyYWNrOltdLHN0cmVhbTpbXSxcInBlZXItY29ubmVjdGlvblwiOltdLHRyYW5zcG9ydDpbXX07cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS50eXBlLFwiY29kZWNcIj09PWUudHlwZSYmYS5jb2RlYy5wdXNoKGUpLFwiY2FuZGlkYXRlLXBhaXJcIj09PWUudHlwZSYmYVtcImNhbmRpZGF0ZS1wYWlyXCJdLnB1c2goZSksXCJsb2NhbC1jYW5kaWRhdGVcIj09PWUudHlwZSYmYVtcImxvY2FsLWNhbmRpZGF0ZVwiXS5wdXNoKGUpLFwiaW5ib3VuZC1ydHBcIj09PWUudHlwZSYmYVtcImluYm91bmQtcnRwXCJdLnB1c2goZSksXCJ0cmFja1wiPT09ZS50eXBlJiZhLnRyYWNrLnB1c2goZSksXCJzdHJlYW1cIj09PWUudHlwZSYmYS5zdHJlYW0ucHVzaChlKSxcInBlZXItY29ubmVjdGlvblwiPT09ZS50eXBlJiZhW1wicGVlci1jb25uZWN0aW9uXCJdLnB1c2goZSksXCJ0cmFuc3BvcnRcIj09PWUudHlwZSYmYS50cmFuc3BvcnQucHVzaChlKSxcIm1lZGlhLXNvdXJjZVwiPT09ZS50eXBlJiZhW1wibWVkaWEtc291cmNlXCJdLnB1c2goZSksXCJ0cmFuc3BvcnRcIj09PWUudHlwZSYmYS50cmFuc3BvcnQucHVzaChlKX0pKSxcInJlY2VpdmVyU3RhdHNcIj09PWUmJihhLmNvbnN1bWVyUGVlcklkPXIsYS5jb25zdW1lcj1uKSxhfX0se2tleTpcInByb2R1Y2VyU3RyZWFtc1wiLGdldDpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLl9wdWJsaXNoU3RyZWFtcy5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2lmKHQpe3ZhciBuPXtzdHJlYW1JZDp0LnN0cmVhbUlELHR5cGU6dC5zdHJlYW1UeXBlLHVzZXJJZDp0LnVzZXJJRCxzcGVjaWFsQ2FtZXJhSWQ6dC5zcGVjaWFsQ2FtZXJhSWQsc3BlY2lhbE1pY0lkOnQuc3BlY2lhbE1pY0lkLGhhc1ZpZGVvOnQuaGFzVmlkZW8oKSxoYXNBdWRpbzp0Lmhhc0F1ZGlvKCl9O2UucHVzaChuKX19KSksZX19LHtrZXk6XCJjb25zdW1lclN0cmVhbXNcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5fcGVlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXt0LnN0cmVhbXMmJnQuc3RyZWFtcy5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2lmKHQpe3ZhciBuPXtzdHJlYW1JZDp0LnN0cmVhbUlELHR5cGU6dC5zdHJlYW1UeXBlLHVzZXJJZDp0LnVzZXJJRCxzcGVjaWFsQ2FtZXJhSWQ6dC5zcGVjaWFsQ2FtZXJhSWQsc3BlY2lhbE1pY0lkOnQuc3BlY2lhbE1pY0lkLGhhc1ZpZGVvOnQuaGFzVmlkZW8oKSxoYXNBdWRpbzp0Lmhhc0F1ZGlvKCl9O2UucHVzaChuKX19KSl9KSksZX19LHtrZXk6XCJtaWNQcm9kdWNlcnNcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5fbWFwTWljUHJvZHVjZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIG49e3N0cmVhbUlkOnIsYXBwRGF0YTp0LmFwcERhdGF9O2UucHVzaChuKX0pKSxlfX0se2tleTpcIndlYmNhbVByb2R1Y2Vyc1wiLGdldDpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLl9tYXBXZWJjYW1Qcm9kdWNlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXt2YXIgbj17c3RyZWFtSWQ6cixhcHBEYXRhOnQuYXBwRGF0YX07ZS5wdXNoKG4pfSkpLGV9fSx7a2V5Olwic2NyZWVuUHJvZHVjZXJzXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9W107aWYobnVsbCE9dGhpcy5fc2NyZWVuUHJvZHVjZXIpe3ZhciB0PXtzdHJlYW1JZDpcInhfc2NyZWVuXCIsYXBwRGF0YTp0aGlzLl9zY3JlZW5Qcm9kdWNlci5hcHBEYXRhfTtlLnB1c2godCl9cmV0dXJuIGV9fSx7a2V5OlwiaXNMb2NhbFN0cmVhbUFsbG93ZWRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcy5fcm9sZTtyZXR1cm4gMT09PWV8fDI9PT1lfX0se2tleTpcImlzUHVibGlzaFwiLGdldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fcHVibGlzaHMmJnRoaXMuX3B1Ymxpc2hzLnNpemU+MH19LHtrZXk6XCJjbG9zZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkfX1dLFt7a2V5OlwiSk9JTl9ST09NX1RJTUVfT1VUXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDRlM319LHtrZXk6XCJUdXJuQ29uZlwiLHNldDpmdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0dXJuIGNvbmZpZ3VyZVwiKTt0cnl7QS51cmxzPWUudXJscyxBLmNyZWRlbnRpYWw9ZS5jcmVkZW50aWFsLEEudXNlcm5hbWU9ZS51c2VybmFtZSxBLmljZVRyYW5zcG9ydFBvbGljeT1lLmljZVRyYW5zcG9ydFBvbGljeX1jYXRjaChlKXt0aHJvdyBlfX19XSkscn0oay5FdmVudEVtaXR0ZXIpO3QuZGVmYXVsdD1MfSkuY2FsbCh0aGlzLHIoMzcpKX0sZnVuY3Rpb24oZSx0LHIpe3IoMTUxKSxlLmV4cG9ydHM9cig3KS5PYmplY3Qua2V5c30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzEpLGE9cig0Nyk7cig2NSkoXCJrZXlzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBhKG4oZSkpfX0pKX0sZnVuY3Rpb24oZSx0LHIpe3IoNTgpLHIoMzQpLHIoNDApLHIoMTUzKSxyKDE1NykscigxNTgpLGUuZXhwb3J0cz1yKDcpLlByb21pc2V9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixhLGksbyxzPXIoNDQpLGM9cigxMyksdT1yKDI3KSxkPXIoNTkpLGw9cigxMSkscD1yKDE4KSxmPXIoNDUpLG09cig3NSksaD1yKDUwKSx2PXIoOTQpLF89cig5NSkuc2V0LGc9cigxNTUpKCkseT1yKDc3KSxiPXIoOTYpLGs9cigxNTYpLHc9cig5NyksUD1jLlR5cGVFcnJvcixTPWMucHJvY2VzcyxJPVMmJlMudmVyc2lvbnMsVD1JJiZJLnY4fHxcIlwiLEM9Yy5Qcm9taXNlLFI9XCJwcm9jZXNzXCI9PWQoUykseD1mdW5jdGlvbigpe30sQT1hPXkuZixFPSEhZnVuY3Rpb24oKXt0cnl7dmFyIGU9Qy5yZXNvbHZlKDEpLHQ9KGUuY29uc3RydWN0b3I9e30pW3IoMTQpKFwic3BlY2llc1wiKV09ZnVuY3Rpb24oZSl7ZSh4LHgpfTtyZXR1cm4oUnx8XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmZS50aGVuKHgpaW5zdGFuY2VvZiB0JiYwIT09VC5pbmRleE9mKFwiNi42XCIpJiYtMT09PWsuaW5kZXhPZihcIkNocm9tZS82NlwiKX1jYXRjaChlKXt9fSgpLEQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuISghcChlKXx8XCJmdW5jdGlvblwiIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sTz1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7ZygoZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixhPTE9PWUuX3MsaT0wLG89ZnVuY3Rpb24odCl7dmFyIHIsaSxvLHM9YT90Lm9rOnQuZmFpbCxjPXQucmVzb2x2ZSx1PXQucmVqZWN0LGQ9dC5kb21haW47dHJ5e3M/KGF8fCgyPT1lLl9oJiZqKGUpLGUuX2g9MSksITA9PT1zP3I9bjooZCYmZC5lbnRlcigpLHI9cyhuKSxkJiYoZC5leGl0KCksbz0hMCkpLHI9PT10LnByb21pc2U/dShQKFwiUHJvbWlzZS1jaGFpbiBjeWNsZVwiKSk6KGk9RChyKSk/aS5jYWxsKHIsYyx1KTpjKHIpKTp1KG4pfWNhdGNoKGUpe2QmJiFvJiZkLmV4aXQoKSx1KGUpfX07ci5sZW5ndGg+aTspbyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTChlKX0pKX19LEw9ZnVuY3Rpb24oZSl7Xy5jYWxsKGMsKGZ1bmN0aW9uKCl7dmFyIHQscixuLGE9ZS5fdixpPU0oZSk7aWYoaSYmKHQ9YigoZnVuY3Rpb24oKXtSP1MuZW1pdChcInVuaGFuZGxlZFJlamVjdGlvblwiLGEsZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjphfSk6KG49Yy5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcihcIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvblwiLGEpfSkpLGUuX2g9Unx8TShlKT8yOjEpLGUuX2E9dm9pZCAwLGkmJnQuZSl0aHJvdyB0LnZ9KSl9LE09ZnVuY3Rpb24oZSl7cmV0dXJuIDEhPT1lLl9oJiYwPT09KGUuX2F8fGUuX2MpLmxlbmd0aH0saj1mdW5jdGlvbihlKXtfLmNhbGwoYywoZnVuY3Rpb24oKXt2YXIgdDtSP1MuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSkpfSxCPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsKHQ9dC5fd3x8dCkuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxPKHQsITApKX0sVj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBQKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7KHQ9RChlKSk/ZygoZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLHUoVixuLDEpLHUoQixuLDEpKX1jYXRjaChlKXtCLmNhbGwobixlKX19KSk6KHIuX3Y9ZSxyLl9zPTEsTyhyLCExKSl9Y2F0Y2goZSl7Qi5jYWxsKHtfdzpyLF9kOiExfSxlKX19fTtFfHwoQz1mdW5jdGlvbihlKXttKHRoaXMsQyxcIlByb21pc2VcIixcIl9oXCIpLGYoZSksbi5jYWxsKHRoaXMpO3RyeXtlKHUoVix0aGlzLDEpLHUoQix0aGlzLDEpKX1jYXRjaChlKXtCLmNhbGwodGhpcyxlKX19LChuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9KS5wcm90b3R5cGU9cig3OCkoQy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1BKHYodGhpcyxDKSk7cmV0dXJuIHIub2s9XCJmdW5jdGlvblwiIT10eXBlb2YgZXx8ZSxyLmZhaWw9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCxyLmRvbWFpbj1SP1MuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJk8odGhpcywhMSksci5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxpPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPXUoVixlLDEpLHRoaXMucmVqZWN0PXUoQixlLDEpfSx5LmY9QT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PUN8fGU9PT1vP25ldyBpKGUpOmEoZSl9KSxsKGwuRytsLlcrbC5GKiFFLHtQcm9taXNlOkN9KSxyKDQ5KShDLFwiUHJvbWlzZVwiKSxyKDk4KShcIlByb21pc2VcIiksbz1yKDcpLlByb21pc2UsbChsLlMrbC5GKiFFLFwiUHJvbWlzZVwiLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9QSh0aGlzKTtyZXR1cm4oMCx0LnJlamVjdCkoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IUUpLFwiUHJvbWlzZVwiLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiB3KHMmJnRoaXM9PT1vP0M6dGhpcyxlKX19KSxsKGwuUytsLkYqIShFJiZyKDk5KSgoZnVuY3Rpb24oZSl7Qy5hbGwoZSkuY2F0Y2goeCl9KSkpLFwiUHJvbWlzZVwiLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUEodCksbj1yLnJlc29sdmUsYT1yLnJlamVjdCxpPWIoKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLG89MTtoKGUsITEsKGZ1bmN0aW9uKGUpe3ZhciBzPWkrKyxjPSExO3IucHVzaCh2b2lkIDApLG8rKyx0LnJlc29sdmUoZSkudGhlbigoZnVuY3Rpb24oZSl7Y3x8KGM9ITAscltzXT1lLC0tb3x8bihyKSl9KSxhKX0pKSwtLW98fG4ocil9KSk7cmV0dXJuIGkuZSYmYShpLnYpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9QSh0KSxuPXIucmVqZWN0LGE9YigoZnVuY3Rpb24oKXtoKGUsITEsKGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pKX0pKTtyZXR1cm4gYS5lJiZuKGEudiksci5wcm9taXNlfX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMyksYT1yKDk1KS5zZXQsaT1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixvPW4ucHJvY2VzcyxzPW4uUHJvbWlzZSxjPVwicHJvY2Vzc1wiPT1yKDQ4KShvKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsdT1mdW5jdGlvbigpe3ZhciBuLGE7Zm9yKGMmJihuPW8uZG9tYWluKSYmbi5leGl0KCk7ZTspe2E9ZS5mbixlPWUubmV4dDt0cnl7YSgpfWNhdGNoKG4pe3Rocm93IGU/cigpOnQ9dm9pZCAwLG59fXQ9dm9pZCAwLG4mJm4uZW50ZXIoKX07aWYoYylyPWZ1bmN0aW9uKCl7by5uZXh0VGljayh1KX07ZWxzZSBpZighaXx8bi5uYXZpZ2F0b3ImJm4ubmF2aWdhdG9yLnN0YW5kYWxvbmUpaWYocyYmcy5yZXNvbHZlKXt2YXIgZD1zLnJlc29sdmUodm9pZCAwKTtyPWZ1bmN0aW9uKCl7ZC50aGVuKHUpfX1lbHNlIHI9ZnVuY3Rpb24oKXthLmNhbGwobix1KX07ZWxzZXt2YXIgbD0hMCxwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO25ldyBpKHUpLm9ic2VydmUocCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtwLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBhPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PWEpLGV8fChlPWEscigpKSx0PWF9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTMpLm5hdmlnYXRvcjtlLmV4cG9ydHM9biYmbi51c2VyQWdlbnR8fFwiXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDExKSxhPXIoNyksaT1yKDEzKSxvPXIoOTQpLHM9cig5Nyk7bihuLlArbi5SLFwiUHJvbWlzZVwiLHtmaW5hbGx5OmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyxhLlByb21pc2V8fGkuUHJvbWlzZSkscj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO3JldHVybiB0aGlzLnRoZW4ocj9mdW5jdGlvbihyKXtyZXR1cm4gcyh0LGUoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBzKHQsZSgpKS50aGVuKChmdW5jdGlvbigpe3Rocm93IHJ9KSl9OmUpfX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxMSksYT1yKDc3KSxpPXIoOTYpO24obi5TLFwiUHJvbWlzZVwiLHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9YS5mKHRoaXMpLHI9aShlKTtyZXR1cm4oci5lP3QucmVqZWN0OnQucmVzb2x2ZSkoci52KSx0LnByb21pc2V9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksYT1uLnJlZ2VuZXJhdG9yUnVudGltZSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKT49MCxpPWEmJm4ucmVnZW5lcmF0b3JSdW50aW1lO2lmKG4ucmVnZW5lcmF0b3JSdW50aW1lPXZvaWQgMCxlLmV4cG9ydHM9cigxNjApLGEpbi5yZWdlbmVyYXRvclJ1bnRpbWU9aTtlbHNlIHRyeXtkZWxldGUgbi5yZWdlbmVyYXRvclJ1bnRpbWV9Y2F0Y2goZSl7bi5yZWdlbmVyYXRvclJ1bnRpbWU9dm9pZCAwfX0sZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZSxuPXIuaGFzT3duUHJvcGVydHksYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9YS5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIsbz1hLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIscz1hLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIixjPVwib2JqZWN0XCI9PXR5cGVvZiBlLHU9dC5yZWdlbmVyYXRvclJ1bnRpbWU7aWYodSljJiYoZS5leHBvcnRzPXUpO2Vsc2V7KHU9dC5yZWdlbmVyYXRvclJ1bnRpbWU9Yz9lLmV4cG9ydHM6e30pLndyYXA9aDt2YXIgZD17fSxsPXt9O2xbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIHA9T2JqZWN0LmdldFByb3RvdHlwZU9mLGY9cCYmcChwKFQoW10pKSk7ZiYmZiE9PXImJm4uY2FsbChmLGkpJiYobD1mKTt2YXIgbT15LnByb3RvdHlwZT1fLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpO2cucHJvdG90eXBlPW0uY29uc3RydWN0b3I9eSx5LmNvbnN0cnVjdG9yPWcseVtzXT1nLmRpc3BsYXlOYW1lPVwiR2VuZXJhdG9yRnVuY3Rpb25cIix1LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09Z3x8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx1Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx5KTooZS5fX3Byb3RvX189eSxzIGluIGV8fChlW3NdPVwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobSksZX0sdS5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sYihrLnByb3RvdHlwZSksay5wcm90b3R5cGVbb109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdS5Bc3luY0l0ZXJhdG9yPWssdS5hc3luYz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uZXcgayhoKGUsdCxyLG4pKTtyZXR1cm4gdS5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxiKG0pLG1bc109XCJHZW5lcmF0b3JcIixtW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG0udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSx1LmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiByKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciBuPXQucG9wKCk7aWYobiBpbiBlKXJldHVybiByLnZhbHVlPW4sci5kb25lPSExLHJ9cmV0dXJuIHIuZG9uZT0hMCxyfX0sdS52YWx1ZXM9VCxJLnByb3RvdHlwZT17Y29uc3RydWN0b3I6SSxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD12b2lkIDAsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz12b2lkIDAsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUyksIWUpZm9yKHZhciB0IGluIHRoaXMpXCJ0XCI9PT10LmNoYXJBdCgwKSYmbi5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPXZvaWQgMCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciB0PXRoaXM7ZnVuY3Rpb24gcihyLG4pe3JldHVybiBvLnR5cGU9XCJ0aHJvd1wiLG8uYXJnPWUsdC5uZXh0PXIsbiYmKHQubWV0aG9kPVwibmV4dFwiLHQuYXJnPXZvaWQgMCksISFufWZvcih2YXIgYT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7YT49MDstLWEpe3ZhciBpPXRoaXMudHJ5RW50cmllc1thXSxvPWkuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWkudHJ5TG9jKXJldHVybiByKFwiZW5kXCIpO2lmKGkudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPW4uY2FsbChpLFwiY2F0Y2hMb2NcIiksYz1uLmNhbGwoaSxcImZpbmFsbHlMb2NcIik7aWYocyYmYyl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIHIoaS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gcihpLmZpbmFsbHlMb2MpfWVsc2UgaWYocyl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIHIoaS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8aS5maW5hbGx5TG9jKXJldHVybiByKGkuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tyXTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2JiZuLmNhbGwoYSxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxhLmZpbmFsbHlMb2Mpe3ZhciBpPWE7YnJlYWt9fWkmJihcImJyZWFrXCI9PT1lfHxcImNvbnRpbnVlXCI9PT1lKSYmaS50cnlMb2M8PXQmJnQ8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIG89aT9pLmNvbXBsZXRpb246e307cmV0dXJuIG8udHlwZT1lLG8uYXJnPXQsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxkKTp0aGlzLmNvbXBsZXRlKG8pfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKFwidGhyb3dcIj09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm5cImJyZWFrXCI9PT1lLnR5cGV8fFwiY29udGludWVcIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6XCJyZXR1cm5cIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCksZH0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxTKHIpLGR9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci50cnlMb2M9PT1lKXt2YXIgbj1yLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09bi50eXBlKXt2YXIgYT1uLmFyZztTKHIpfXJldHVybiBhfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpUKGUpLHJlc3VsdE5hbWU6dCxuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz12b2lkIDApLGR9fX1mdW5jdGlvbiBoKGUsdCxyLG4pe3ZhciBhPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgXz90Ol8saT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSxvPW5ldyBJKG58fFtdKTtyZXR1cm4gaS5faW52b2tlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1cInN1c3BlbmRlZFN0YXJ0XCI7cmV0dXJuIGZ1bmN0aW9uKGEsaSl7aWYoXCJleGVjdXRpbmdcIj09PW4pdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihcImNvbXBsZXRlZFwiPT09bil7aWYoXCJ0aHJvd1wiPT09YSl0aHJvdyBpO3JldHVybiBDKCl9Zm9yKHIubWV0aG9kPWEsci5hcmc9aTs7KXt2YXIgbz1yLmRlbGVnYXRlO2lmKG8pe3ZhciBzPXcobyxyKTtpZihzKXtpZihzPT09ZCljb250aW51ZTtyZXR1cm4gc319aWYoXCJuZXh0XCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PXIubWV0aG9kKXtpZihcInN1c3BlbmRlZFN0YXJ0XCI9PT1uKXRocm93IG49XCJjb21wbGV0ZWRcIixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtuPVwiZXhlY3V0aW5nXCI7dmFyIGM9dihlLHQscik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYobj1yLmRvbmU/XCJjb21wbGV0ZWRcIjpcInN1c3BlbmRlZFlpZWxkXCIsYy5hcmc9PT1kKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX19XCJ0aHJvd1wiPT09Yy50eXBlJiYobj1cImNvbXBsZXRlZFwiLHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1jLmFyZyl9fX0oZSxyLG8pLGl9ZnVuY3Rpb24gdihlLHQscil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOmUuY2FsbCh0LHIpfX1jYXRjaChlKXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOmV9fX1mdW5jdGlvbiBfKCl7fWZ1bmN0aW9uIGcoKXt9ZnVuY3Rpb24geSgpe31mdW5jdGlvbiBiKGUpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9fSkpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ7dGhpcy5faW52b2tlPWZ1bmN0aW9uKHIsYSl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxpKXshZnVuY3Rpb24gdChyLGEsaSxvKXt2YXIgcz12KGVbcl0sZSxhKTtpZihcInRocm93XCIhPT1zLnR5cGUpe3ZhciBjPXMuYXJnLHU9Yy52YWx1ZTtyZXR1cm4gdSYmXCJvYmplY3RcIj09dHlwZW9mIHUmJm4uY2FsbCh1LFwiX19hd2FpdFwiKT9Qcm9taXNlLnJlc29sdmUodS5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXt0KFwibmV4dFwiLGUsaSxvKX0pLChmdW5jdGlvbihlKXt0KFwidGhyb3dcIixlLGksbyl9KSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4oKGZ1bmN0aW9uKGUpe2MudmFsdWU9ZSxpKGMpfSksbyl9byhzLmFyZyl9KHIsYSx0LGkpfSkpfXJldHVybiB0PXQ/dC50aGVuKGksaSk6aSgpfX1mdW5jdGlvbiB3KGUsdCl7dmFyIHI9ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYodm9pZCAwPT09cil7aWYodC5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXQubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPVwicmV0dXJuXCIsdC5hcmc9dm9pZCAwLHcoZSx0KSxcInRocm93XCI9PT10Lm1ldGhvZCkpcmV0dXJuIGQ7dC5tZXRob2Q9XCJ0aHJvd1wiLHQuYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpfXJldHVybiBkfXZhciBuPXYocixlLml0ZXJhdG9yLHQuYXJnKTtpZihcInRocm93XCI9PT1uLnR5cGUpcmV0dXJuIHQubWV0aG9kPVwidGhyb3dcIix0LmFyZz1uLmFyZyx0LmRlbGVnYXRlPW51bGwsZDt2YXIgYT1uLmFyZztyZXR1cm4gYT9hLmRvbmU/KHRbZS5yZXN1bHROYW1lXT1hLnZhbHVlLHQubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PXQubWV0aG9kJiYodC5tZXRob2Q9XCJuZXh0XCIsdC5hcmc9dm9pZCAwKSx0LmRlbGVnYXRlPW51bGwsZCk6YToodC5tZXRob2Q9XCJ0aHJvd1wiLHQuYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSx0LmRlbGVnYXRlPW51bGwsZCl9ZnVuY3Rpb24gUChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBTKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPVwibm9ybWFsXCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIEkoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sZS5mb3JFYWNoKFAsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gVChlKXtpZihlKXt2YXIgdD1lW2ldO2lmKHQpcmV0dXJuIHQuY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIHI9LTEsYT1mdW5jdGlvbiB0KCl7Zm9yKDsrK3I8ZS5sZW5ndGg7KWlmKG4uY2FsbChlLHIpKXJldHVybiB0LnZhbHVlPWVbcl0sdC5kb25lPSExLHQ7cmV0dXJuIHQudmFsdWU9dm9pZCAwLHQuZG9uZT0hMCx0fTtyZXR1cm4gYS5uZXh0PWF9fXJldHVybntuZXh0OkN9fWZ1bmN0aW9uIEMoKXtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fX0oZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpKX0sZnVuY3Rpb24oZSx0LHIpe3IoNDApLHIoMzQpLGUuZXhwb3J0cz1yKDE2Mil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI1KSxhPXIoNzYpO2UuZXhwb3J0cz1yKDcpLmdldEl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3ZhciB0PWEoZSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoZStcIiBpcyBub3QgaXRlcmFibGUhXCIpO3JldHVybiBuKHQuY2FsbChlKSl9fSxmdW5jdGlvbihlLHQscil7cig1OCkscigzNCkscig0MCkscigxNjQpLHIoMTY4KSxyKDE3MCkscigxNzEpLGUuZXhwb3J0cz1yKDcpLk1hcH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMTAyKSxhPXIoNzkpO2UuZXhwb3J0cz1yKDEwMykoXCJNYXBcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSkse2dldDpmdW5jdGlvbihlKXt2YXIgdD1uLmdldEVudHJ5KGEodGhpcyxcIk1hcFwiKSxlKTtyZXR1cm4gdCYmdC52fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5kZWYoYSh0aGlzLFwiTWFwXCIpLDA9PT1lPzA6ZSx0KX19LG4sITApfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNyksYT1yKDcwKSxpPXIoMzEpLG89cig1NSkscz1yKDE2Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSxjPTI9PWUsdT0zPT1lLGQ9ND09ZSxsPTY9PWUscD01PT1lfHxsLGY9dHx8cztyZXR1cm4gZnVuY3Rpb24odCxzLG0pe2Zvcih2YXIgaCx2LF89aSh0KSxnPWEoXykseT1uKHMsbSwzKSxiPW8oZy5sZW5ndGgpLGs9MCx3PXI/Zih0LGIpOmM/Zih0LDApOnZvaWQgMDtiPms7aysrKWlmKChwfHxrIGluIGcpJiYodj15KGg9Z1trXSxrLF8pLGUpKWlmKHIpd1trXT12O2Vsc2UgaWYodilzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gaDtjYXNlIDY6cmV0dXJuIGs7Y2FzZSAyOncucHVzaChoKX1lbHNlIGlmKGQpcmV0dXJuITE7cmV0dXJuIGw/LTE6dXx8ZD9kOnd9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTY3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KG4oZSkpKHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTgpLGE9cig4OSksaT1yKDE0KShcInNwZWNpZXNcIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBhKGUpJiYoXCJmdW5jdGlvblwiIT10eXBlb2YodD1lLmNvbnN0cnVjdG9yKXx8dCE9PUFycmF5JiYhYSh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCksbih0KSYmbnVsbD09PSh0PXRbaV0pJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0FycmF5OnR9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMSk7bihuLlArbi5SLFwiTWFwXCIse3RvSlNPTjpyKDEwNCkoXCJNYXBcIil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBuKGUsITEsci5wdXNoLHIsdCkscn19LGZ1bmN0aW9uKGUsdCxyKXtyKDEwNSkoXCJNYXBcIil9LGZ1bmN0aW9uKGUsdCxyKXtyKDEwNikoXCJNYXBcIil9LGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhPWUuZXhwb3J0cz17fTtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHMoZSl7aWYocj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigocj09PWl8fCFyKSYmc2V0VGltZW91dClyZXR1cm4gcj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7cj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6aX1jYXRjaChlKXtyPWl9dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpvfWNhdGNoKGUpe249b319KCk7dmFyIGMsdT1bXSxkPSExLGw9LTE7ZnVuY3Rpb24gcCgpe2QmJmMmJihkPSExLGMubGVuZ3RoP3U9Yy5jb25jYXQodSk6bD0tMSx1Lmxlbmd0aCYmZigpKX1mdW5jdGlvbiBmKCl7aWYoIWQpe3ZhciBlPXMocCk7ZD0hMDtmb3IodmFyIHQ9dS5sZW5ndGg7dDspe2ZvcihjPXUsdT1bXTsrK2w8dDspYyYmY1tsXS5ydW4oKTtsPS0xLHQ9dS5sZW5ndGh9Yz1udWxsLGQ9ITEsZnVuY3Rpb24oZSl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChuPT09b3x8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7bihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gbShlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIGgoKXt9YS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3UucHVzaChuZXcgbShlLHQpKSwxIT09dS5sZW5ndGh8fGR8fHMoZil9LG0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGEudGl0bGU9XCJicm93c2VyXCIsYS5icm93c2VyPSEwLGEuZW52PXt9LGEuYXJndj1bXSxhLnZlcnNpb249XCJcIixhLnZlcnNpb25zPXt9LGEub249aCxhLmFkZExpc3RlbmVyPWgsYS5vbmNlPWgsYS5vZmY9aCxhLnJlbW92ZUxpc3RlbmVyPWgsYS5yZW1vdmVBbGxMaXN0ZW5lcnM9aCxhLmVtaXQ9aCxhLnByZXBlbmRMaXN0ZW5lcj1oLGEucHJlcGVuZE9uY2VMaXN0ZW5lcj1oLGEubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxhLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGEuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGEuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7bGV0IHQ9MDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl0PSh0PDw1KS10K2UuY2hhckNvZGVBdChyKSx0fD0wO3JldHVybiBuLmNvbG9yc1tNYXRoLmFicyh0KSVuLmNvbG9ycy5sZW5ndGhdfWZ1bmN0aW9uIG4oZSl7bGV0IHI7ZnVuY3Rpb24gbyguLi5lKXtpZighby5lbmFibGVkKXJldHVybjtjb25zdCB0PW8sYT1OdW1iZXIobmV3IERhdGUpLGk9YS0ocnx8YSk7dC5kaWZmPWksdC5wcmV2PXIsdC5jdXJyPWEscj1hLGVbMF09bi5jb2VyY2UoZVswXSksXCJzdHJpbmdcIiE9dHlwZW9mIGVbMF0mJmUudW5zaGlmdChcIiVPXCIpO2xldCBzPTA7ZVswXT1lWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLChyLGEpPT57aWYoXCIlJVwiPT09cilyZXR1cm4gcjtzKys7Y29uc3QgaT1uLmZvcm1hdHRlcnNbYV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7Y29uc3Qgbj1lW3NdO3I9aS5jYWxsKHQsbiksZS5zcGxpY2UocywxKSxzLS19cmV0dXJuIHJ9KSxuLmZvcm1hdEFyZ3MuY2FsbCh0LGUpLCh0LmxvZ3x8bi5sb2cpLmFwcGx5KHQsZSl9cmV0dXJuIG8ubmFtZXNwYWNlPWUsby5lbmFibGVkPW4uZW5hYmxlZChlKSxvLnVzZUNvbG9ycz1uLnVzZUNvbG9ycygpLG8uY29sb3I9dChlKSxvLmRlc3Ryb3k9YSxvLmV4dGVuZD1pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uaW5pdCYmbi5pbml0KG8pLG4uaW5zdGFuY2VzLnB1c2gobyksb31mdW5jdGlvbiBhKCl7Y29uc3QgZT1uLmluc3RhbmNlcy5pbmRleE9mKHRoaXMpO3JldHVybi0xIT09ZSYmKG4uaW5zdGFuY2VzLnNwbGljZShlLDEpLCEwKX1mdW5jdGlvbiBpKGUsdCl7Y29uc3Qgcj1uKHRoaXMubmFtZXNwYWNlKyh2b2lkIDA9PT10P1wiOlwiOnQpK2UpO3JldHVybiByLmxvZz10aGlzLmxvZyxyfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMixlLnRvU3RyaW5nKCkubGVuZ3RoLTIpLnJlcGxhY2UoL1xcLlxcKlxcPyQvLFwiKlwiKX1yZXR1cm4gbi5kZWJ1Zz1uLG4uZGVmYXVsdD1uLG4uY29lcmNlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBFcnJvcilyZXR1cm4gZS5zdGFja3x8ZS5tZXNzYWdlO3JldHVybiBlfSxuLmRpc2FibGU9ZnVuY3Rpb24oKXtjb25zdCBlPVsuLi5uLm5hbWVzLm1hcChvKSwuLi5uLnNraXBzLm1hcChvKS5tYXAoZT0+XCItXCIrZSldLmpvaW4oXCIsXCIpO3JldHVybiBuLmVuYWJsZShcIlwiKSxlfSxuLmVuYWJsZT1mdW5jdGlvbihlKXtsZXQgdDtuLnNhdmUoZSksbi5uYW1lcz1bXSxuLnNraXBzPVtdO2NvbnN0IHI9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJcIikuc3BsaXQoL1tcXHMsXSsvKSxhPXIubGVuZ3RoO2Zvcih0PTA7dDxhO3QrKylyW3RdJiYoXCItXCI9PT0oZT1yW3RdLnJlcGxhY2UoL1xcKi9nLFwiLio/XCIpKVswXT9uLnNraXBzLnB1c2gobmV3IFJlZ0V4cChcIl5cIitlLnN1YnN0cigxKStcIiRcIikpOm4ubmFtZXMucHVzaChuZXcgUmVnRXhwKFwiXlwiK2UrXCIkXCIpKSk7Zm9yKHQ9MDt0PG4uaW5zdGFuY2VzLmxlbmd0aDt0Kyspe2NvbnN0IGU9bi5pbnN0YW5jZXNbdF07ZS5lbmFibGVkPW4uZW5hYmxlZChlLm5hbWVzcGFjZSl9fSxuLmVuYWJsZWQ9ZnVuY3Rpb24oZSl7aWYoXCIqXCI9PT1lW2UubGVuZ3RoLTFdKXJldHVybiEwO2xldCB0LHI7Zm9yKHQ9MCxyPW4uc2tpcHMubGVuZ3RoO3Q8cjt0KyspaWYobi5za2lwc1t0XS50ZXN0KGUpKXJldHVybiExO2Zvcih0PTAscj1uLm5hbWVzLmxlbmd0aDt0PHI7dCsrKWlmKG4ubmFtZXNbdF0udGVzdChlKSlyZXR1cm4hMDtyZXR1cm4hMX0sbi5odW1hbml6ZT1yKDE3NCksT2JqZWN0LmtleXMoZSkuZm9yRWFjaCh0PT57blt0XT1lW3RdfSksbi5pbnN0YW5jZXM9W10sbi5uYW1lcz1bXSxuLnNraXBzPVtdLG4uZm9ybWF0dGVycz17fSxuLnNlbGVjdENvbG9yPXQsbi5lbmFibGUobi5sb2FkKCkpLG59fSxmdW5jdGlvbihlLHQpe3ZhciByPTFlMyxuPTZlNCxhPTM2ZTUsaT0yNCphO2Z1bmN0aW9uIG8oZSx0LHIsbil7dmFyIGE9dD49MS41KnI7cmV0dXJuIE1hdGgucm91bmQoZS9yKStcIiBcIituKyhhP1wic1wiOlwiXCIpfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHM9dHlwZW9mIGU7aWYoXCJzdHJpbmdcIj09PXMmJmUubGVuZ3RoPjApcmV0dXJuIGZ1bmN0aW9uKGUpe2lmKChlPVN0cmluZyhlKSkubGVuZ3RoPjEwMClyZXR1cm47dmFyIHQ9L14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKGUpO2lmKCF0KXJldHVybjt2YXIgbz1wYXJzZUZsb2F0KHRbMV0pO3N3aXRjaCgodFsyXXx8XCJtc1wiKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJ5ZWFyc1wiOmNhc2VcInllYXJcIjpjYXNlXCJ5cnNcIjpjYXNlXCJ5clwiOmNhc2VcInlcIjpyZXR1cm4gMzE1NTc2ZTUqbztjYXNlXCJ3ZWVrc1wiOmNhc2VcIndlZWtcIjpjYXNlXCJ3XCI6cmV0dXJuIDYwNDhlNSpvO2Nhc2VcImRheXNcIjpjYXNlXCJkYXlcIjpjYXNlXCJkXCI6cmV0dXJuIG8qaTtjYXNlXCJob3Vyc1wiOmNhc2VcImhvdXJcIjpjYXNlXCJocnNcIjpjYXNlXCJoclwiOmNhc2VcImhcIjpyZXR1cm4gbyphO2Nhc2VcIm1pbnV0ZXNcIjpjYXNlXCJtaW51dGVcIjpjYXNlXCJtaW5zXCI6Y2FzZVwibWluXCI6Y2FzZVwibVwiOnJldHVybiBvKm47Y2FzZVwic2Vjb25kc1wiOmNhc2VcInNlY29uZFwiOmNhc2VcInNlY3NcIjpjYXNlXCJzZWNcIjpjYXNlXCJzXCI6cmV0dXJuIG8qcjtjYXNlXCJtaWxsaXNlY29uZHNcIjpjYXNlXCJtaWxsaXNlY29uZFwiOmNhc2VcIm1zZWNzXCI6Y2FzZVwibXNlY1wiOmNhc2VcIm1zXCI6cmV0dXJuIG87ZGVmYXVsdDpyZXR1cm59fShlKTtpZihcIm51bWJlclwiPT09cyYmaXNGaW5pdGUoZSkpcmV0dXJuIHQubG9uZz9mdW5jdGlvbihlKXt2YXIgdD1NYXRoLmFicyhlKTtpZih0Pj1pKXJldHVybiBvKGUsdCxpLFwiZGF5XCIpO2lmKHQ+PWEpcmV0dXJuIG8oZSx0LGEsXCJob3VyXCIpO2lmKHQ+PW4pcmV0dXJuIG8oZSx0LG4sXCJtaW51dGVcIik7aWYodD49cilyZXR1cm4gbyhlLHQscixcInNlY29uZFwiKTtyZXR1cm4gZStcIiBtc1wifShlKTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLmFicyhlKTtpZih0Pj1pKXJldHVybiBNYXRoLnJvdW5kKGUvaSkrXCJkXCI7aWYodD49YSlyZXR1cm4gTWF0aC5yb3VuZChlL2EpK1wiaFwiO2lmKHQ+PW4pcmV0dXJuIE1hdGgucm91bmQoZS9uKStcIm1cIjtpZih0Pj1yKXJldHVybiBNYXRoLnJvdW5kKGUvcikrXCJzXCI7cmV0dXJuIGUrXCJtc1wifShlKTt0aHJvdyBuZXcgRXJyb3IoXCJ2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPVwiK0pTT04uc3RyaW5naWZ5KGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3Nik7dC5vcGVyYXRpb249ZnVuY3Rpb24oZSl7dmFyIHI9dC50aW1lb3V0cyhlKTtyZXR1cm4gbmV3IG4ocix7Zm9yZXZlcjplJiZlLmZvcmV2ZXIsdW5yZWY6ZSYmZS51bnJlZixtYXhSZXRyeVRpbWU6ZSYmZS5tYXhSZXRyeVRpbWV9KX0sdC50aW1lb3V0cz1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuW10uY29uY2F0KGUpO3ZhciB0PXtyZXRyaWVzOjEwLGZhY3RvcjoyLG1pblRpbWVvdXQ6MWUzLG1heFRpbWVvdXQ6MS8wLHJhbmRvbWl6ZTohMX07Zm9yKHZhciByIGluIGUpdFtyXT1lW3JdO2lmKHQubWluVGltZW91dD50Lm1heFRpbWVvdXQpdGhyb3cgbmV3IEVycm9yKFwibWluVGltZW91dCBpcyBncmVhdGVyIHRoYW4gbWF4VGltZW91dFwiKTtmb3IodmFyIG49W10sYT0wO2E8dC5yZXRyaWVzO2ErKyluLnB1c2godGhpcy5jcmVhdGVUaW1lb3V0KGEsdCkpO3JldHVybiBlJiZlLmZvcmV2ZXImJiFuLmxlbmd0aCYmbi5wdXNoKHRoaXMuY3JlYXRlVGltZW91dChhLHQpKSxuLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdH0pKSxufSx0LmNyZWF0ZVRpbWVvdXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnJhbmRvbWl6ZT9NYXRoLnJhbmRvbSgpKzE6MSxuPU1hdGgucm91bmQocip0Lm1pblRpbWVvdXQqTWF0aC5wb3codC5mYWN0b3IsZSkpO3JldHVybiBuPU1hdGgubWluKG4sdC5tYXhUaW1lb3V0KX0sdC53cmFwPWZ1bmN0aW9uKGUscixuKXtpZihyIGluc3RhbmNlb2YgQXJyYXkmJihuPXIscj1udWxsKSwhbilmb3IodmFyIGEgaW4gbj1bXSxlKVwiZnVuY3Rpb25cIj09dHlwZW9mIGVbYV0mJm4ucHVzaChhKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89bltpXSxzPWVbb107ZVtvXT1mdW5jdGlvbihuKXt2YXIgYT10Lm9wZXJhdGlvbihyKSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxvPWkucG9wKCk7aS5wdXNoKChmdW5jdGlvbihlKXthLnJldHJ5KGUpfHwoZSYmKGFyZ3VtZW50c1swXT1hLm1haW5FcnJvcigpKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KSksYS5hdHRlbXB0KChmdW5jdGlvbigpe24uYXBwbHkoZSxpKX0pKX0uYmluZChlLHMpLGVbb10ub3B0aW9ucz1yfX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQpe1wiYm9vbGVhblwiPT10eXBlb2YgdCYmKHQ9e2ZvcmV2ZXI6dH0pLHRoaXMuX29yaWdpbmFsVGltZW91dHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSksdGhpcy5fdGltZW91dHM9ZSx0aGlzLl9vcHRpb25zPXR8fHt9LHRoaXMuX21heFJldHJ5VGltZT10JiZ0Lm1heFJldHJ5VGltZXx8MS8wLHRoaXMuX2ZuPW51bGwsdGhpcy5fZXJyb3JzPVtdLHRoaXMuX2F0dGVtcHRzPTEsdGhpcy5fb3BlcmF0aW9uVGltZW91dD1udWxsLHRoaXMuX29wZXJhdGlvblRpbWVvdXRDYj1udWxsLHRoaXMuX3RpbWVvdXQ9bnVsbCx0aGlzLl9vcGVyYXRpb25TdGFydD1udWxsLHRoaXMuX29wdGlvbnMuZm9yZXZlciYmKHRoaXMuX2NhY2hlZFRpbWVvdXRzPXRoaXMuX3RpbWVvdXRzLnNsaWNlKDApKX1lLmV4cG9ydHM9cixyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2F0dGVtcHRzPTEsdGhpcy5fdGltZW91dHM9dGhpcy5fb3JpZ2luYWxUaW1lb3V0c30sci5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3RpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0cz1bXSx0aGlzLl9jYWNoZWRUaW1lb3V0cz1udWxsfSxyLnByb3RvdHlwZS5yZXRyeT1mdW5jdGlvbihlKXtpZih0aGlzLl90aW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCksIWUpcmV0dXJuITE7dmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoZSYmdC10aGlzLl9vcGVyYXRpb25TdGFydD49dGhpcy5fbWF4UmV0cnlUaW1lKXJldHVybiB0aGlzLl9lcnJvcnMudW5zaGlmdChuZXcgRXJyb3IoXCJSZXRyeU9wZXJhdGlvbiB0aW1lb3V0IG9jY3VycmVkXCIpKSwhMTt0aGlzLl9lcnJvcnMucHVzaChlKTt2YXIgcj10aGlzLl90aW1lb3V0cy5zaGlmdCgpO2lmKHZvaWQgMD09PXIpe2lmKCF0aGlzLl9jYWNoZWRUaW1lb3V0cylyZXR1cm4hMTt0aGlzLl9lcnJvcnMuc3BsaWNlKHRoaXMuX2Vycm9ycy5sZW5ndGgtMSx0aGlzLl9lcnJvcnMubGVuZ3RoKSx0aGlzLl90aW1lb3V0cz10aGlzLl9jYWNoZWRUaW1lb3V0cy5zbGljZSgwKSxyPXRoaXMuX3RpbWVvdXRzLnNoaWZ0KCl9dmFyIG49dGhpcyxhPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5fYXR0ZW1wdHMrKyxuLl9vcGVyYXRpb25UaW1lb3V0Q2ImJihuLl90aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5fb3BlcmF0aW9uVGltZW91dENiKG4uX2F0dGVtcHRzKX0pLG4uX29wZXJhdGlvblRpbWVvdXQpLG4uX29wdGlvbnMudW5yZWYmJm4uX3RpbWVvdXQudW5yZWYoKSksbi5fZm4obi5fYXR0ZW1wdHMpfSkscik7cmV0dXJuIHRoaXMuX29wdGlvbnMudW5yZWYmJmEudW5yZWYoKSwhMH0sci5wcm90b3R5cGUuYXR0ZW1wdD1mdW5jdGlvbihlLHQpe3RoaXMuX2ZuPWUsdCYmKHQudGltZW91dCYmKHRoaXMuX29wZXJhdGlvblRpbWVvdXQ9dC50aW1lb3V0KSx0LmNiJiYodGhpcy5fb3BlcmF0aW9uVGltZW91dENiPXQuY2IpKTt2YXIgcj10aGlzO3RoaXMuX29wZXJhdGlvblRpbWVvdXRDYiYmKHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLl9vcGVyYXRpb25UaW1lb3V0Q2IoKX0pLHIuX29wZXJhdGlvblRpbWVvdXQpKSx0aGlzLl9vcGVyYXRpb25TdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9mbih0aGlzLl9hdHRlbXB0cyl9LHIucHJvdG90eXBlLnRyeT1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcIlVzaW5nIFJldHJ5T3BlcmF0aW9uLnRyeSgpIGlzIGRlcHJlY2F0ZWRcIiksdGhpcy5hdHRlbXB0KGUpfSxyLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcIlVzaW5nIFJldHJ5T3BlcmF0aW9uLnN0YXJ0KCkgaXMgZGVwcmVjYXRlZFwiKSx0aGlzLmF0dGVtcHQoZSl9LHIucHJvdG90eXBlLnN0YXJ0PXIucHJvdG90eXBlLnRyeSxyLnByb3RvdHlwZS5lcnJvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JzfSxyLnByb3RvdHlwZS5hdHRlbXB0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRlbXB0c30sci5wcm90b3R5cGUubWFpbkVycm9yPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuX2Vycm9ycy5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBlPXt9LHQ9bnVsbCxyPTAsbj0wO248dGhpcy5fZXJyb3JzLmxlbmd0aDtuKyspe3ZhciBhPXRoaXMuX2Vycm9yc1tuXSxpPWEubWVzc2FnZSxvPShlW2ldfHwwKSsxO2VbaV09byxvPj1yJiYodD1hLHI9byl9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dmFyIG49e2F1ZGlvOiExLHZpZGVvOnttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOmU/XCJzY3JlZW5cIjpcImRlc2t0b3BcIixtYXhXaWR0aDp3aW5kb3cuc2NyZWVuLndpZHRoPjE5MjA/d2luZG93LnNjcmVlbi53aWR0aDoxOTIwLG1heEhlaWdodDp3aW5kb3cuc2NyZWVuLmhlaWdodD4xMDgwP3dpbmRvdy5zY3JlZW4uaGVpZ2h0OjEwODB9LG9wdGlvbmFsOltdfX07cmV0dXJuIHImJihuLmF1ZGlvPXttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOmU/XCJzY3JlZW5cIjpcImRlc2t0b3BcIn0sb3B0aW9uYWw6W119KSx0JiYobi52aWRlby5tYW5kYXRvcnkuY2hyb21lTWVkaWFTb3VyY2VJZD10LG4uYXVkaW8mJm4uYXVkaW8ubWFuZGF0b3J5JiYobi5hdWRpby5tYW5kYXRvcnkuY2hyb21lTWVkaWFTb3VyY2VJZD10KSksbn1mdW5jdGlvbiB0KGUpe3I/ci5pc0xvYWRlZD9lP2UuZm9yRWFjaD9yLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe2NhcHR1cmVDdXN0b21Tb3VyY2VJZDplfSxcIipcIik6ci5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHtjYXB0dXJlU291cmNlSWRXaXRoQXVkaW86ITB9LFwiKlwiKTpyLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe2NhcHR1cmVTb3VyY2VJZDohMH0sXCIqXCIpOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChlKX0pLDEwMCk6bigoZnVuY3Rpb24oKXt0KGUpfSkpfXZhciByO2Z1bmN0aW9uIG4oZSl7cj9lKCk6KChyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIikpLm9ubG9hZD1mdW5jdGlvbigpe3IuaXNMb2FkZWQ9ITAsZSgpfSxyLnNyYz1cImh0dHBzOi8vd3d3LndlYnJ0Yy1leHBlcmltZW50LmNvbS9nZXRTb3VyY2VJZC9cIixyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsKGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQocikpfWZ1bmN0aW9uIGEoKXtyP3IuaXNMb2FkZWQ/ci5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHtnZXRDaHJvbWVFeHRlbnNpb25TdGF0dXM6ITB9LFwiKlwiKTpzZXRUaW1lb3V0KGEsMTAwKTpuKGEpfXdpbmRvdy5nZXRTY3JlZW5JZD1mdW5jdGlvbihyLG4pey0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKXx8IW5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iJiYhbmF2aWdhdG9yLm1zU2F2ZUJsb2I/bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYT9yKG51bGwsXCJmaXJlZm94XCIse3ZpZGVvOnttb3pNZWRpYVNvdXJjZTpcIndpbmRvd1wiLG1lZGlhU291cmNlOlwid2luZG93XCJ9fSk6KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbiB0KG4pe2lmKCFuLmRhdGEpcmV0dXJuO24uZGF0YS5jaHJvbWVNZWRpYVNvdXJjZUlkJiYoXCJQZXJtaXNzaW9uRGVuaWVkRXJyb3JcIj09PW4uZGF0YS5jaHJvbWVNZWRpYVNvdXJjZUlkP3IoXCJwZXJtaXNzaW9uLWRlbmllZFwiKTpyKG51bGwsbi5kYXRhLmNocm9tZU1lZGlhU291cmNlSWQsZShudWxsLG4uZGF0YS5jaHJvbWVNZWRpYVNvdXJjZUlkLG4uZGF0YS5jYW5SZXF1ZXN0QXVkaW9UcmFjaykpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpKTtuLmRhdGEuY2hyb21lRXh0ZW5zaW9uU3RhdHVzJiYocihuLmRhdGEuY2hyb21lRXh0ZW5zaW9uU3RhdHVzLG51bGwsZShuLmRhdGEuY2hyb21lRXh0ZW5zaW9uU3RhdHVzKSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdCkpfSkpLG4/c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KG4pfSksMTAwKTpzZXRUaW1lb3V0KHQsMTAwKSk6cih7dmlkZW86ITB9KX0sd2luZG93LmdldFNjcmVlbkNvbnN0cmFpbnRzPWZ1bmN0aW9uKGUpe24oKGZ1bmN0aW9uKCl7Z2V0U2NyZWVuSWQoKGZ1bmN0aW9uKHQscixuKXtufHwobj17dmlkZW86ITB9KSxlKHQsbi52aWRlbyl9KSl9KSl9LHdpbmRvdy5nZXRDaHJvbWVFeHRlbnNpb25TdGF0dXM9ZnVuY3Rpb24oZSl7bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYT9lKFwiaW5zdGFsbGVkLWVuYWJsZWRcIik6KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbiB0KHIpe2lmKCFyLmRhdGEpcmV0dXJuO3IuZGF0YS5jaHJvbWVFeHRlbnNpb25TdGF0dXMmJihlKHIuZGF0YS5jaHJvbWVFeHRlbnNpb25TdGF0dXMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpKX0pKSxzZXRUaW1lb3V0KGEsMTAwKSl9fSgpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhPXIoMTgwKTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KTt2YXIgaT1udWxsO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBhO2lmKCFuKXJldHVybiByO3ZhciBvLHMsYyx1PSh0PXR8fHt9KS5zbW9vdGhpbmd8fC4xLGQ9dC5pbnRlcnZhbHx8NTAsbD10LnRocmVzaG9sZCxwPXQucGxheSxmPXQuaGlzdG9yeXx8MTAsbT0hMDtpPXQuYXVkaW9Db250ZXh0fHxpfHxuZXcgbiwoYz1pLmNyZWF0ZUFuYWx5c2VyKCkpLmZmdFNpemU9NTEyLGMuc21vb3RoaW5nVGltZUNvbnN0YW50PXUscz1uZXcgRmxvYXQzMkFycmF5KGMuZnJlcXVlbmN5QmluQ291bnQpLGUuanF1ZXJ5JiYoZT1lWzBdKSxlIGluc3RhbmNlb2YgSFRNTEF1ZGlvRWxlbWVudHx8ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/KG89aS5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoZSksdm9pZCAwPT09cCYmKHA9ITApLGw9bHx8LTUwKToobz1pLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpLGw9bHx8LTUwKSxvLmNvbm5lY3QoYykscCYmYy5jb25uZWN0KGkuZGVzdGluYXRpb24pLHIuc3BlYWtpbmc9ITEsci5zdXNwZW5kPWZ1bmN0aW9uKCl7cmV0dXJuIGkuc3VzcGVuZCgpfSxyLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBpLnJlc3VtZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLnN0YXRlfX0pLGkub25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3IuZW1pdChcInN0YXRlX2NoYW5nZVwiLGkuc3RhdGUpfSxyLnNldFRocmVzaG9sZD1mdW5jdGlvbihlKXtsPWV9LHIuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZD1lfSxyLnN0b3A9ZnVuY3Rpb24oKXttPSExLHIuZW1pdChcInZvbHVtZV9jaGFuZ2VcIiwtMTAwLGwpLHIuc3BlYWtpbmcmJihyLnNwZWFraW5nPSExLHIuZW1pdChcInN0b3BwZWRfc3BlYWtpbmdcIikpLGMuZGlzY29ubmVjdCgpLG8uZGlzY29ubmVjdCgpfSxyLnNwZWFraW5nSGlzdG9yeT1bXTtmb3IodmFyIGg9MDtoPGY7aCsrKXIuc3BlYWtpbmdIaXN0b3J5LnB1c2goMCk7dmFyIHY9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKG0pe3ZhciBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9LTEvMDtlLmdldEZsb2F0RnJlcXVlbmN5RGF0YSh0KTtmb3IodmFyIG49NCxhPXQubGVuZ3RoO248YTtuKyspdFtuXT5yJiZ0W25dPDAmJihyPXRbbl0pO3JldHVybiByfShjLHMpO3IuZW1pdChcInZvbHVtZV9jaGFuZ2VcIixlLGwpO3ZhciB0PTA7aWYoZT5sJiYhci5zcGVha2luZyl7Zm9yKHZhciBuPXIuc3BlYWtpbmdIaXN0b3J5Lmxlbmd0aC0zO248ci5zcGVha2luZ0hpc3RvcnkubGVuZ3RoO24rKyl0Kz1yLnNwZWFraW5nSGlzdG9yeVtuXTt0Pj0yJiYoci5zcGVha2luZz0hMCxyLmVtaXQoXCJzcGVha2luZ1wiKSl9ZWxzZSBpZihlPGwmJnIuc3BlYWtpbmcpe2ZvcihuPTA7bjxyLnNwZWFraW5nSGlzdG9yeS5sZW5ndGg7bisrKXQrPXIuc3BlYWtpbmdIaXN0b3J5W25dOzA9PXQmJihyLnNwZWFraW5nPSExLHIuZW1pdChcInN0b3BwZWRfc3BlYWtpbmdcIikpfXIuc3BlYWtpbmdIaXN0b3J5LnNoaWZ0KCksci5zcGVha2luZ0hpc3RvcnkucHVzaCgwKyhlPmwpKSx2KCl9fSksZCl9O3JldHVybiB2KCkscn19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe31lLmV4cG9ydHM9cixyLm1peGluPWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvdG90eXBlfHxlO3QuaXNXaWxkRW1pdHRlcj0hMCx0Lm9uPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmNhbGxiYWNrcz10aGlzLmNhbGxiYWNrc3x8e307dmFyIG49Mz09PWFyZ3VtZW50cy5sZW5ndGgsYT1uP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1uP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMV07cmV0dXJuIGkuX2dyb3VwTmFtZT1hLCh0aGlzLmNhbGxiYWNrc1tlXT10aGlzLmNhbGxiYWNrc1tlXXx8W10pLnB1c2goaSksdGhpc30sdC5vbmNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGE9Mz09PWFyZ3VtZW50cy5sZW5ndGgsaT1hP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz1hP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMV07ZnVuY3Rpb24gcygpe24ub2ZmKGUscyksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHRoaXMub24oZSxpLHMpLHRoaXN9LHQucmVsZWFzZUdyb3VwPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhO2Zvcih0IGluIHRoaXMuY2FsbGJhY2tzPXRoaXMuY2FsbGJhY2tzfHx7fSx0aGlzLmNhbGxiYWNrcylmb3Iocj0wLG49KGE9dGhpcy5jYWxsYmFja3NbdF0pLmxlbmd0aDtyPG47cisrKWFbcl0uX2dyb3VwTmFtZT09PWUmJihhLnNwbGljZShyLDEpLHItLSxuLS0pO3JldHVybiB0aGlzfSx0Lm9mZj1mdW5jdGlvbihlLHQpe3RoaXMuY2FsbGJhY2tzPXRoaXMuY2FsbGJhY2tzfHx7fTt2YXIgcixuPXRoaXMuY2FsbGJhY2tzW2VdO3JldHVybiBuPzE9PT1hcmd1bWVudHMubGVuZ3RoPyhkZWxldGUgdGhpcy5jYWxsYmFja3NbZV0sdGhpcyk6KC0xIT09KHI9bi5pbmRleE9mKHQpKSYmKG4uc3BsaWNlKHIsMSksMD09PW4ubGVuZ3RoJiZkZWxldGUgdGhpcy5jYWxsYmFja3NbZV0pLHRoaXMpOnRoaXN9LHQuZW1pdD1mdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrcz10aGlzLmNhbGxiYWNrc3x8e307dmFyIHQscixuLGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT10aGlzLmNhbGxiYWNrc1tlXSxvPXRoaXMuZ2V0V2lsZGNhcmRDYWxsYmFja3MoZSk7aWYoaSlmb3IodD0wLHI9KG49aS5zbGljZSgpKS5sZW5ndGg7dDxyJiZuW3RdOysrdCluW3RdLmFwcGx5KHRoaXMsYSk7aWYobylmb3Iocj1vLmxlbmd0aCx0PTAscj0obj1vLnNsaWNlKCkpLmxlbmd0aDt0PHImJm5bdF07Kyt0KW5bdF0uYXBwbHkodGhpcyxbZV0uY29uY2F0KGEpKTtyZXR1cm4gdGhpc30sdC5nZXRXaWxkY2FyZENhbGxiYWNrcz1mdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrcz10aGlzLmNhbGxiYWNrc3x8e307dmFyIHQscixuPVtdO2Zvcih0IGluIHRoaXMuY2FsbGJhY2tzKXI9dC5zcGxpdChcIipcIiksKFwiKlwiPT09dHx8Mj09PXIubGVuZ3RoJiZlLnNsaWNlKDAsclswXS5sZW5ndGgpPT09clswXSkmJihuPW4uY29uY2F0KHRoaXMuY2FsbGJhY2tzW3RdKSk7cmV0dXJuIG59fSxyLm1peGluKHIpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49dyhyKDE2KSksYT13KHIoOCkpLGk9dyhyKDYpKSxvPXcocigxOSkpLHM9dyhyKDIpKSxjPXcocigwKSksdT13KHIoMSkpLGQ9dyhyKDMpKSxsPXcocig0KSkscD13KHIoMTIpKSxmPXcocig1KSksbT13KHIoMTApKSxoPWsocig5KSksdj1rKHIoMTUpKSxfPWsocigyMCkpLGc9ayhyKDM1KSkseT13KHIoMzYpKSxiPXcocigyMykpO2Z1bmN0aW9uIGsoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBQPW5ldyBmLmRlZmF1bHQoXCJDaHJvbWU3MFwiKSxTPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4peygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgYT0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsUCkpO3JldHVybiBhLl9wYz1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6bi50dXJuU2VydmVyc3x8W10saWNlVHJhbnNwb3J0UG9saWN5Om4uaWNlVHJhbnNwb3J0UG9saWN5LGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwiLHNkcFNlbWFudGljczpcInVuaWZpZWQtcGxhblwifSksYS5fcnRwUGFyYW1ldGVyc0J5S2luZD1yLGEuX3JlbW90ZVNkcD1uZXcgeS5kZWZhdWx0KGUsciksYS5fcGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLChmdW5jdGlvbigpe3N3aXRjaChhLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLGF9cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiY2xvc2UoKVwiKTt0cnl7dGhpcy5fcGMuY2xvc2UoKX1jYXRjaChlKXt9fX0se2tleTpcInJlbW90ZUNsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcInJlbW90ZUNsb3NlZCgpXCIpLHRoaXMuX3RyYW5zcG9ydFJlYWR5PSExLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQmJih0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSExKX19XSksdH0obS5kZWZhdWx0KSxJPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwic2VuZFwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRSZWFkeT0hMSxuLl90cmFja0lkcz1uZXcgby5kZWZhdWx0LG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZFByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUudHJhY2s7aWYoUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpLHRoaXMuX3RyYWNrSWRzLmhhcyhyLmlkKSlyZXR1cm4gaS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJ0cmFjayBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgbj1cImlzYWNcIjtlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc10gcHJvZHVjZXIuYXVkaW9Qcm9maWxlOiAlb1wiLGUuaWQsZS5raW5kLHIuaWQsZS5hdWRpb1Byb2ZpbGUpLG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSk7dmFyIGE9dm9pZCAwLG89dm9pZCAwO3JldHVybiB0aGlzLl90cmFja0lkcy5hZGQoci5pZCksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKGE9dC5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXIua2luZCYmXCJpbmFjdGl2ZVwiPT09ZS5kaXJlY3Rpb259KSkpcmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgcmV1c2luZyBhbiBpbmFjdGl2ZSB0cmFuc2NlaXZlclwiKSxhLmRpcmVjdGlvbj1cInNlbmRvbmx5XCIsYS5zZW5kZXIucmVwbGFjZVRyYWNrKHIpO2E9dC5fcGMuYWRkVHJhbnNjZWl2ZXIocix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24oaSl7aWYoaS5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoaS5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxpLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoaS5zZHAsZS5hdWRpb1Byb2ZpbGUpLGkuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhpLnNkcCxuKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIG89cC5kZWZhdWx0LnBhcnNlKGkuc2RwKTtnLmFkZFBsYW5CU2ltdWxjYXN0KG8scix7bWlkOmEubWlkfSksaT17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShvKX19cmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGkpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oaSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0UmVhZHkpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXtvPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCB0aGlzLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcDogXCIsbyxcIiAtIHByb2R1Y2VyLnZpZGVvQml0cmF0ZU9wdGlvbnM6IFwiLGUudmlkZW9CaXRyYXRlT3B0aW9ucyk7dmFyIHI9dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChvKTtyPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLGUuYXVkaW9Qcm9maWxlKTt2YXIgYT17dHlwZTpcImFuc3dlclwiLHNkcDpyPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLG4pfTtyZXR1cm4gUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgcmVtb3RlU2RwOiBcIixyKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihhKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBpPWguY2xvbmUodC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gaSYmaS5jb2RlY3MmJihpLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIituJiZpLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxpKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGksbyxyLHttaWQ6YS5taWQscGxhbkJTaW11bGNhc3Q6ITB9KSxpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0cnl7YS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifWNhdGNoKGUpe310aHJvdyB0Ll90cmFja0lkcy5kZWxldGUoci5pZCksZX0pKX19LHtrZXk6XCJyZW1vdmVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKCF0aGlzLl90cmFja0lkcy5oYXMoci5pZCkpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgbm90IGZvdW5kXCIpKTt2YXIgbj1cImlzYWNcIjtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihuPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpLFAuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09cn0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJsb2NhbCB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIHQuX3BjLnJlbW92ZVRyYWNrKGUpLHQuX3RyYWNrSWRzLmRlbGV0ZShyLmlkKSx0Ll9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiByLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLG4pLFAuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLHIpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgcj1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApLGE9dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChyKTthPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKGEsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxhPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhhLGUuYXVkaW9Qcm9maWxlKTt2YXIgaT17dHlwZTpcImFuc3dlclwiLHNkcDphPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhhLG4pfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixpKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihpKX0pKX19LHtrZXk6XCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztQLmRlYnVnKFwicmVwbGFjZVByb2R1Y2VyVHJhY2soKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsdC5pZCk7dmFyIG49ZS50cmFjaztyZXR1cm4gaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXIuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PW59KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwibG9jYWwgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlLnJlcGxhY2VUcmFjayh0KX0pKS50aGVuKChmdW5jdGlvbigpe3IuX3RyYWNrSWRzLmRlbGV0ZShuLmlkKSxyLl90cmFja0lkcy5hZGQodC5pZCl9KSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApLHI9e3R5cGU6XCJhbnN3ZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChlKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixyKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKX0pKX19LHtrZXk6XCJfc2V0dXBUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFAuZGVidWcoXCJfc2V0dXBUcmFuc3BvcnQoKVwiKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9e30scj1lLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCxuPXAuZGVmYXVsdC5wYXJzZShyKSxhPV8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKG4pO3JldHVybiBhLnJvbGU9XCJzZXJ2ZXJcIix0LmR0bHNQYXJhbWV0ZXJzPWEsZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydExvY2FsUGFyYW1ldGVycyh0KSxlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIix0KX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRSZWFkeT0hMH0pKX19LHtrZXk6XCJnZXRQQ1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX0se2tleTpcInVwZGF0ZVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9dGhpcztQLmRlYnVnKFwidXBkYXRlIFRyYWNrKCkgW3RyYWNrSWQ6JXNdXCIsdC5pZCk7dmFyIG89XCJpc2FjXCI7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYobz1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7bj1hLl9wYy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWNlaXZlci50cmFjay5raW5kPT09dC5raW5kfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7aWYoci5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxvKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGk9cC5kZWZhdWx0LnBhcnNlKHIuc2RwKTtnLmFkZFBsYW5CU2ltdWxjYXN0KGksdCx7bWlkOm4ubWlkfSkscj17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShpKX19cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLHIpLGEuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXtyPXAuZGVmYXVsdC5wYXJzZShhLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHQ9YS5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChyKTt0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKSx0PWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyh0LGUuYXVkaW9Qcm9maWxlKTt2YXIgbj17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyh0LG8pfTtyZXR1cm4gUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixuKSxhLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBpPWguY2xvbmUoYS5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gaSYmaS5jb2RlY3MmJihpLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIitvJiZpLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwidXBkYXRlVHJhY2soKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLGEuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxpKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGkscix0LHttaWQ6bi5taWQscGxhbkJTaW11bGNhc3Q6ITB9KSxpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX1dKSx0fShTKSxUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwicmVjdlwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRDcmVhdGVkPSExLG4uX3RyYW5zcG9ydFVwZGF0ZWQ9ITEsbi5fY29uc3VtZXJJbmZvcz1uZXcgYS5kZWZhdWx0LG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZENvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIGFscmVhZHkgYWRkZWRcIikpO3ZhciByPWUucnRwUGFyYW1ldGVycy5lbmNvZGluZ3NbMF0sYT1lLnJ0cFBhcmFtZXRlcnMucnRjcC5jbmFtZSxvPXttaWQ6XCJcIitlLmtpbmRbMF0rZS5pZCxraW5kOmUua2luZCxjbG9zZWQ6ZS5jbG9zZWQsc3RyZWFtSWQ6XCJyZWN2LXN0cmVhbS1cIitlLmlkLHRyYWNrSWQ6XCJjb25zdW1lci1cIitlLmtpbmQrXCItXCIrZS5pZCxzc3JjOnIuc3NyYyxjbmFtZTphfTtyZXR1cm4gci5ydHgmJnIucnR4LnNzcmMmJihvLnJ0eFNzcmM9ci5ydHguc3NyYyksdGhpcy5fY29uc3VtZXJJbmZvcy5zZXQoZS5pZCxvKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydENyZWF0ZWQpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgcj17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIGtpbmQ6JXMgW29mZmVyOiVvXVwiLGUua2luZCxyKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBraW5kOiVzIFthbnN3ZXI6JW9dXCIsZS5raW5kLHIpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0VXBkYXRlZClyZXR1cm4gdC5fdXBkYXRlVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT10Ll9wYy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5taWQ9PT1vLm1pZH0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdGUgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlLnJlY2VpdmVyLnRyYWNrfSkpfX0se2tleTpcInJlbW92ZUNvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpO3ZhciByPXRoaXMuX2NvbnN1bWVySW5mb3MuZ2V0KGUuaWQpO3JldHVybiByPyhyLmNsb3NlZD0hMCxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpKTppLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIG5vdCBmb3VuZFwiKSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBQLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIixudWxsKX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRDcmVhdGVkPSEwfSkpfX0se2tleTpcIl91cGRhdGVUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJfdXBkYXRlVHJhbnNwb3J0KClcIik7dmFyIGU9dGhpcy5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsdD1wLmRlZmF1bHQucGFyc2UoZSkscj17ZHRsc1BhcmFtZXRlcnM6Xy5leHRyYWN0RHRsc1BhcmFtZXRlcnModCl9O3RoaXMuc2FmZUVtaXQoXCJAbmVlZHVwZGF0ZXRyYW5zcG9ydFwiLHIpLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQ9ITB9fSx7a2V5OlwiZ2V0UENTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyhlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGMuZGVmYXVsdCkodGhpcyxlKSxQLmRlYnVnKFwiY29uc3RydWN0b3IoKSBbZGlyZWN0aW9uOiVzLCBleHRlbmRlZFJ0cENhcGFiaWxpdGllczolb11cIix0LHIpO3ZhciBhPXZvaWQgMDtzd2l0Y2godCl7Y2FzZVwic2VuZFwiOnJldHVybiBhPXthdWRpbzp2LmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IEkoYSxuKTtjYXNlXCJyZWN2XCI6cmV0dXJuIGE9e2F1ZGlvOnYuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOnYuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgVChhLG4pfX1yZXR1cm4oMCx1LmRlZmF1bHQpKGUsbnVsbCxbe2tleTpcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllcygpXCIpO3ZhciBlPW5ldyBSVENQZWVyQ29ubmVjdGlvbih7aWNlU2VydmVyczpbXSxpY2VUcmFuc3BvcnRQb2xpY3k6XCJhbGxcIixidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIixzZHBTZW1hbnRpY3M6XCJ1bmlmaWVkLXBsYW5cIn0pO3JldHVybiBlLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksZS5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIpLGUuY3JlYXRlT2ZmZXIoKS50aGVuKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe312YXIgcj1wLmRlZmF1bHQucGFyc2UodC5zZHApO3JldHVybiBfLmV4dHJhY3RSdHBDYXBhYmlsaXRpZXMocil9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3RyeXtlLmNsb3NlKCl9Y2F0Y2goZSl7fXRocm93IHR9KSl9fSx7a2V5OlwidGFnXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJDaHJvbWU3MFwifX1dKSxlfSgpO3QuZGVmYXVsdD1DfSxmdW5jdGlvbihlLHQscil7cigzNCkscigxODMpLGUuZXhwb3J0cz1yKDcpLkFycmF5LmZyb219LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDI3KSxhPXIoMTEpLGk9cigzMSksbz1yKDkyKSxzPXIoOTMpLGM9cig1NSksdT1yKDE4NCksZD1yKDc2KTthKGEuUythLkYqIXIoOTkpKChmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSkpLFwiQXJyYXlcIix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLGEsbCxwPWkoZSksZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXksbT1hcmd1bWVudHMubGVuZ3RoLGg9bT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdj12b2lkIDAhPT1oLF89MCxnPWQocCk7aWYodiYmKGg9bihoLG0+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSxudWxsPT1nfHxmPT1BcnJheSYmcyhnKSlmb3Iocj1uZXcgZih0PWMocC5sZW5ndGgpKTt0Pl87XysrKXUocixfLHY/aChwW19dLF8pOnBbX10pO2Vsc2UgZm9yKGw9Zy5jYWxsKHApLHI9bmV3IGY7IShhPWwubmV4dCgpKS5kb25lO18rKyl1KHIsXyx2P28obCxoLFthLnZhbHVlLF9dLCEwKTphLnZhbHVlKTtyZXR1cm4gci5sZW5ndGg9XyxyfX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigyMSksYT1yKDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3QgaW4gZT9uLmYoZSx0LGEoMCxyKSk6ZVt0XT1yfX0sZnVuY3Rpb24oZSx0LHIpe3IoNTgpLHIoMzQpLHIoNDApLHIoMTg2KSxyKDE4NykscigxODgpLHIoMTg5KSxlLmV4cG9ydHM9cig3KS5TZXR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDEwMiksYT1yKDc5KTtlLmV4cG9ydHM9cigxMDMpKFwiU2V0XCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLHthZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKGEodGhpcyxcIlNldFwiKSxlPTA9PT1lPzA6ZSxlKX19LG4pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMSk7bihuLlArbi5SLFwiU2V0XCIse3RvSlNPTjpyKDEwNCkoXCJTZXRcIil9KX0sZnVuY3Rpb24oZSx0LHIpe3IoMTA1KShcIlNldFwiKX0sZnVuY3Rpb24oZSx0LHIpe3IoMTA2KShcIlNldFwiKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoTnVtYmVyKGUpKT09PWU/TnVtYmVyKGUpOmV9LGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPWUubmFtZSYmZS5uYW1lcztlLnB1c2gmJiF0W2UucHVzaF0/dFtlLnB1c2hdPVtdOmEmJiF0W2UubmFtZV0mJih0W2UubmFtZV09e30pO3ZhciBpPWUucHVzaD97fTphP3RbZS5uYW1lXTp0OyFmdW5jdGlvbihlLHQscixhKXtpZihhJiYhcil0W2FdPW4oZVsxXSk7ZWxzZSBmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krPTEpbnVsbCE9ZVtpKzFdJiYodFtyW2ldXT1uKGVbaSsxXSkpfShyLm1hdGNoKGUucmVnKSxpLGUubmFtZXMsZS5uYW1lKSxlLnB1c2gmJnRbZS5wdXNoXS5wdXNoKGkpfSxpPXIoMTEyKSxvPVJlZ0V4cC5wcm90b3R5cGUudGVzdC5iaW5kKC9eKFthLXpdKT0oLiopLyk7dC5wYXJzZT1mdW5jdGlvbihlKXt2YXIgdD17fSxyPVtdLG49dDtyZXR1cm4gZS5zcGxpdCgvKFxcclxcbnxcXHJ8XFxuKS8pLmZpbHRlcihvKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG89ZS5zbGljZSgyKTtcIm1cIj09PXQmJihyLnB1c2goe3J0cDpbXSxmbXRwOltdfSksbj1yW3IubGVuZ3RoLTFdKTtmb3IodmFyIHM9MDtzPChpW3RdfHxbXSkubGVuZ3RoO3MrPTEpe3ZhciBjPWlbdF1bc107aWYoYy5yZWcudGVzdChvKSlyZXR1cm4gYShjLG4sbyl9fSkpLHQubWVkaWE9cix0fTt2YXIgcz1mdW5jdGlvbihlLHQpe3ZhciByPXQuc3BsaXQoLz0oLispLywyKTtyZXR1cm4gMj09PXIubGVuZ3RoP2VbclswXV09bihyWzFdKToxPT09ci5sZW5ndGgmJnQubGVuZ3RoPjEmJihlW3JbMF1dPXZvaWQgMCksZX07dC5wYXJzZVBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgvXFw7XFxzPy8pLnJlZHVjZShzLHt9KX0sdC5wYXJzZUZtdHBDb25maWc9dC5wYXJzZVBhcmFtcyx0LnBhcnNlUGF5bG9hZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIgXCIpLm1hcChOdW1iZXIpfSx0LnBhcnNlUmVtb3RlQ2FuZGlkYXRlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj1lLnNwbGl0KFwiIFwiKS5tYXAobiksYT0wO2E8ci5sZW5ndGg7YSs9Myl0LnB1c2goe2NvbXBvbmVudDpyW2FdLGlwOnJbYSsxXSxwb3J0OnJbYSsyXX0pO3JldHVybiB0fSx0LnBhcnNlSW1hZ2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiIFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cmluZygxLGUubGVuZ3RoLTEpLnNwbGl0KFwiLFwiKS5yZWR1Y2Uocyx7fSl9KSl9LHQucGFyc2VTaW11bGNhc3RTdHJlYW1MaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiO1wiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiLFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0LHI9ITE7cmV0dXJuXCJ+XCIhPT1lWzBdP3Q9bihlKToodD1uKGUuc3Vic3RyaW5nKDEsZS5sZW5ndGgpKSxyPSEwKSx7c2NpZDp0LHBhdXNlZDpyfX0pKX0pKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDExMiksYT0vJVtzZHYlXS9nLGk9ZnVuY3Rpb24oZSl7dmFyIHQ9MSxyPWFyZ3VtZW50cyxuPXIubGVuZ3RoO3JldHVybiBlLnJlcGxhY2UoYSwoZnVuY3Rpb24oZSl7aWYodD49bilyZXR1cm4gZTt2YXIgYT1yW3RdO3N3aXRjaCh0Kz0xLGUpe2Nhc2VcIiUlXCI6cmV0dXJuXCIlXCI7Y2FzZVwiJXNcIjpyZXR1cm4gU3RyaW5nKGEpO2Nhc2VcIiVkXCI6cmV0dXJuIE51bWJlcihhKTtjYXNlXCIldlwiOnJldHVyblwiXCJ9fSkpfSxvPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bZStcIj1cIisodC5mb3JtYXQgaW5zdGFuY2VvZiBGdW5jdGlvbj90LmZvcm1hdCh0LnB1c2g/cjpyW3QubmFtZV0pOnQuZm9ybWF0KV07aWYodC5uYW1lcylmb3IodmFyIGE9MDthPHQubmFtZXMubGVuZ3RoO2ErPTEpe3ZhciBvPXQubmFtZXNbYV07dC5uYW1lP24ucHVzaChyW3QubmFtZV1bb10pOm4ucHVzaChyW3QubmFtZXNbYV1dKX1lbHNlIG4ucHVzaChyW3QubmFtZV0pO3JldHVybiBpLmFwcGx5KG51bGwsbil9LHM9W1widlwiLFwib1wiLFwic1wiLFwiaVwiLFwidVwiLFwiZVwiLFwicFwiLFwiY1wiLFwiYlwiLFwidFwiLFwiclwiLFwielwiLFwiYVwiXSxjPVtcImlcIixcImNcIixcImJcIixcImFcIl07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dD10fHx7fSxudWxsPT1lLnZlcnNpb24mJihlLnZlcnNpb249MCksbnVsbD09ZS5uYW1lJiYoZS5uYW1lPVwiIFwiKSxlLm1lZGlhLmZvckVhY2goKGZ1bmN0aW9uKGUpe251bGw9PWUucGF5bG9hZHMmJihlLnBheWxvYWRzPVwiXCIpfSkpO3ZhciByPXQub3V0ZXJPcmRlcnx8cyxhPXQuaW5uZXJPcmRlcnx8YyxpPVtdO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF0uZm9yRWFjaCgoZnVuY3Rpb24ocil7ci5uYW1lIGluIGUmJm51bGwhPWVbci5uYW1lXT9pLnB1c2gobyh0LHIsZSkpOnIucHVzaCBpbiBlJiZudWxsIT1lW3IucHVzaF0mJmVbci5wdXNoXS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnB1c2gobyh0LHIsZSkpfSkpfSkpfSkpLGUubWVkaWEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKG8oXCJtXCIsbi5tWzBdLGUpKSxhLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF0uZm9yRWFjaCgoZnVuY3Rpb24ocil7ci5uYW1lIGluIGUmJm51bGwhPWVbci5uYW1lXT9pLnB1c2gobyh0LHIsZSkpOnIucHVzaCBpbiBlJiZudWxsIT1lW3IucHVzaF0mJmVbci5wdXNoXS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnB1c2gobyh0LHIsZSkpfSkpfSkpfSkpfSkpLGkuam9pbihcIlxcclxcblwiKStcIlxcclxcblwifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDE5MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDQwKSxyKDM0KSxlLmV4cG9ydHM9cigxOTQpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1OSksYT1yKDE0KShcIml0ZXJhdG9yXCIpLGk9cigzOCk7ZS5leHBvcnRzPXIoNykuaXNJdGVyYWJsZT1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSk7cmV0dXJuIHZvaWQgMCE9PXRbYV18fFwiQEBpdGVyYXRvclwiaW4gdHx8aS5oYXNPd25Qcm9wZXJ0eShuKHQpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj13KHIoMTYpKSxhPXcocig4KSksaT13KHIoMTkpKSxvPXcocig2KSkscz13KHIoMikpLGM9dyhyKDApKSx1PXcocigxKSksZD13KHIoMykpLGw9dyhyKDQpKSxwPXcocigxMikpLGY9dyhyKDUpKSxtPXcocigxMCkpLGg9ayhyKDkpKSx2PWsocigxNSkpLF89ayhyKDIwKSksZz1rKHIoNDIpKSx5PXcocig0MykpLGI9dyhyKDIzKSk7ZnVuY3Rpb24gayhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIFA9bmV3IGYuZGVmYXVsdChcIkNocm9tZTY5XCIpLFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBhPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxQKSk7cmV0dXJuIGEuX3BjPW5ldyBSVENQZWVyQ29ubmVjdGlvbih7aWNlU2VydmVyczpuLnR1cm5TZXJ2ZXJzfHxbXSxpY2VUcmFuc3BvcnRQb2xpY3k6bi5pY2VUcmFuc3BvcnRQb2xpY3ksYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwiLHJ0Y3BNdXhQb2xpY3k6XCJyZXF1aXJlXCIsc2RwU2VtYW50aWNzOlwicGxhbi1iXCJ9KSxhLl9ydHBQYXJhbWV0ZXJzQnlLaW5kPXIsYS5fcmVtb3RlU2RwPW5ldyB5LmRlZmF1bHQoZSxyKSxhLl9wYy5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKCl7c3dpdGNoKGEuX3BjLmljZUNvbm5lY3Rpb25TdGF0ZSl7Y2FzZVwiY2hlY2tpbmdcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0aW5nXCIpO2JyZWFrO2Nhc2VcImNvbm5lY3RlZFwiOmNhc2VcImNvbXBsZXRlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNvbm5lY3RlZFwiKTticmVhaztjYXNlXCJmYWlsZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJmYWlsZWRcIik7YnJlYWs7Y2FzZVwiZGlzY29ubmVjdGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZGlzY29ubmVjdGVkXCIpO2JyZWFrO2Nhc2VcImNsb3NlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNsb3NlZFwiKX19KSksYX1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJjbG9zZSgpXCIpO3RyeXt0aGlzLl9wYy5jbG9zZSgpfWNhdGNoKGUpe319fSx7a2V5OlwicmVtb3RlQ2xvc2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwicmVtb3RlQ2xvc2VkKClcIiksdGhpcy5fdHJhbnNwb3J0UmVhZHk9ITEsdGhpcy5fdHJhbnNwb3J0VXBkYXRlZCYmKHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQ9ITEpfX1dKSx0fShtLmRlZmF1bHQpLEk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsXCJzZW5kXCIsZSxyKSk7cmV0dXJuIG4uX3RyYW5zcG9ydFJlYWR5PSExLG4uX3N0cmVhbT1uZXcgTWVkaWFTdHJlYW0sbn1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiYWRkUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS50cmFjaztpZihQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCksdGhpcy5fc3RyZWFtLmdldFRyYWNrQnlJZChyLmlkKSlyZXR1cm4gby5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJ0cmFjayBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgbj1cImlzYWNcIjtlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSk7dmFyIGE9dm9pZCAwLGk9dm9pZCAwO3JldHVybiBvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3N0cmVhbS5hZGRUcmFjayhyKSxhPXQuX3BjLmFkZFRyYWNrKHIsdC5fc3RyZWFtKSx0Ll9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGEpe2lmKGEuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKGEuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksYS5zZHA9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKGEuc2RwLGUuYXVkaW9Qcm9maWxlKSxhLnNkcD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoYS5zZHAsbiksZS5zaW11bGNhc3Qpe1AuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgZW5hYmxpbmcgc2ltdWxjYXN0XCIpO3ZhciBpPXAuZGVmYXVsdC5wYXJzZShhLnNkcCk7Zy5hZGRTaW11bGNhc3RGb3JUcmFjayhpLHIpLGE9e3R5cGU6XCJvZmZlclwiLHNkcDpwLmRlZmF1bHQud3JpdGUoaSl9fXJldHVybiBQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixhKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGEpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFJlYWR5KXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aT1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciByPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAoaSk7cj1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLGUudmlkZW9CaXRyYXRlT3B0aW9ucykscj1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMocixlLmF1ZGlvUHJvZmlsZSk7dmFyIGE9e3R5cGU6XCJhbnN3ZXJcIixzZHA6cj1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMocixuKX07cmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsYSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgYT1oLmNsb25lKHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGEmJmEuY29kZWNzJiYoYS5jb2RlY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXswPT09ZS5taW1lVHlwZS5pbmRleE9mKFwiYXVkaW9cIikmJmUubWltZVR5cGUudG9Mb3dlckNhc2UoKSE9PVwiYXVkaW8vXCIrbiYmYS5jb2RlY3Muc3BsaWNlKHQsMSl9KSksUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgX3J0cFBhcmFtZXRlcnNCeUtpbmQ6ICVvIC0gcnRwUGFyYW1ldGVyczogJW9cIix0Ll9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0sYSkpLGcuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhhLGksciksYX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dHJ5e3QuX3BjLnJlbW92ZVRyYWNrKGEpfWNhdGNoKGUpe310aHJvdyB0Ll9zdHJlYW0ucmVtb3ZlVHJhY2sociksZX0pKX19LHtrZXk6XCJyZW1vdmVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrLG49XCJpc2FjXCI7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYobj1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXJ9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiUlRDUnRwU2VuZGVyIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5fcGMucmVtb3ZlVHJhY2soZSksdC5fc3RyZWFtLnJlbW92ZVRyYWNrKHIpLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksci5zZHA9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIuc2RwLGUuYXVkaW9Qcm9maWxlKSxyLnNkcD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoci5zZHAsbiksUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoMCE9PXQuX3N0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGgpdGhyb3cgZTtQLndhcm4oXCJyZW1vdmVQcm9kdWNlcigpIHwgaWdub3JpbmcgZXhwZWN0ZWQgZXJyb3IgZHVlIG5vIHNlbmRpbmcgdHJhY2tzOiAlc1wiLGUudG9TdHJpbmcoKSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZihcInN0YWJsZVwiIT09dC5fcGMuc2lnbmFsaW5nU3RhdGUpe3ZhciByPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksYT10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO2E9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYSxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLGE9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKGEsZS5hdWRpb1Byb2ZpbGUpO3ZhciBpPXt0eXBlOlwiYW5zd2VyXCIsc2RwOmE9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKGEsbil9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGkpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpfX0pKX19LHtrZXk6XCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztQLmRlYnVnKFwicmVwbGFjZVByb2R1Y2VyVHJhY2soKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsdC5pZCk7dmFyIG49ZS50cmFjaztyZXR1cm4gby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXIuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PW59KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwibG9jYWwgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlLnJlcGxhY2VUcmFjayh0KX0pKS50aGVuKChmdW5jdGlvbigpe3IuX3N0cmVhbS5yZW1vdmVUcmFjayhuKSxyLl9zdHJlYW0uYWRkVHJhY2sodCl9KSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApLHI9e3R5cGU6XCJhbnN3ZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChlKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixyKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKX0pKX19LHtrZXk6XCJfc2V0dXBUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFAuZGVidWcoXCJfc2V0dXBUcmFuc3BvcnQoKVwiKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9e30scj1lLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCxuPXAuZGVmYXVsdC5wYXJzZShyKSxhPV8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKG4pO3JldHVybiBhLnJvbGU9XCJzZXJ2ZXJcIix0LmR0bHNQYXJhbWV0ZXJzPWEsZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydExvY2FsUGFyYW1ldGVycyh0KSxlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIix0KX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRSZWFkeT0hMH0pKX19LHtrZXk6XCJnZXRQQ1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX0se2tleTpcInVwZGF0ZVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXM7UC5kZWJ1ZyhcInVwZGF0ZSBUcmFjaygpIFt0cmFja0lkOiVzXVwiLHQuaWQpO3ZhciBhPVwiaXNhY1wiO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKGE9ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe24uX3BjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT10LmtpbmR9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtpZihyLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLGEpLGUuc2ltdWxjYXN0KXtQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKTt2YXIgaT1wLmRlZmF1bHQucGFyc2Uoci5zZHApO2cuYWRkU2ltdWxjYXN0Rm9yVHJhY2soaSx0KSxyPXt0eXBlOlwib2ZmZXJcIixzZHA6cC5kZWZhdWx0LndyaXRlKGkpfX1yZXR1cm4gUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksbi5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3I9cC5kZWZhdWx0LnBhcnNlKG4uX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgdD1uLl9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO3Q9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXModCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHQ9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHQsZS5hdWRpb1Byb2ZpbGUpO3ZhciBpPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQ9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHQsYSl9O3JldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGkpLG4uX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGk9aC5jbG9uZShuLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0pO3JldHVybiBpJiZpLmNvZGVjcyYmKGkuY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK2EmJmkuY29kZWNzLnNwbGljZSh0LDEpfSkpLFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsbi5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLGkpKSxnLmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2soaSxyLHQpLGl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsXCJyZWN2XCIsZSxyKSk7cmV0dXJuIG4uX3RyYW5zcG9ydENyZWF0ZWQ9ITEsbi5fdHJhbnNwb3J0VXBkYXRlZD0hMSxuLl9raW5kcz1uZXcgaS5kZWZhdWx0LG4uX2NvbnN1bWVySW5mb3M9bmV3IGEuZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKSlyZXR1cm4gby5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgcj1lLnJ0cFBhcmFtZXRlcnMuZW5jb2RpbmdzWzBdLGE9ZS5ydHBQYXJhbWV0ZXJzLnJ0Y3AuY25hbWUsaT17a2luZDplLmtpbmQsc3RyZWFtSWQ6XCJyZWN2LXN0cmVhbS1cIitlLmlkLHRyYWNrSWQ6XCJjb25zdW1lci1cIitlLmtpbmQrXCItXCIrZS5pZCxzc3JjOnIuc3NyYyxjbmFtZTphfTtyZXR1cm4gci5ydHgmJnIucnR4LnNzcmMmJihpLnJ0eFNzcmM9ci5ydHguc3NyYyksdGhpcy5fY29uc3VtZXJJbmZvcy5zZXQoZS5pZCxpKSx0aGlzLl9raW5kcy5hZGQoZS5raW5kKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydENyZWF0ZWQpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2tpbmRzKSwoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0VXBkYXRlZClyZXR1cm4gdC5fdXBkYXRlVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT10Ll9wYy5nZXRSZWNlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXt2YXIgdD1lLnRyYWNrO3JldHVybiEhdCYmdC5pZD09PWkudHJhY2tJZH0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdGUgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlLnRyYWNrfSkpfX0se2tleTpcInJlbW92ZUNvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKT8odGhpcy5fY29uc3VtZXJJbmZvcy5kZWxldGUoZS5pZCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fa2luZHMpLCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKSk6by5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmRcIikpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2tpbmRzKSwoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX0se2tleTpcImdldFBDU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsZSksUC5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgW2RpcmVjdGlvbjolcywgZXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXM6JW9dXCIsdCxyKTt2YXIgYT12b2lkIDA7c3dpdGNoKHQpe2Nhc2VcInNlbmRcIjpyZXR1cm4gYT17YXVkaW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBJKGEsbik7Y2FzZVwicmVjdlwiOnJldHVybiBhPXthdWRpbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IFQoYSxuKX19cmV0dXJuKDAsdS5kZWZhdWx0KShlLG51bGwsW3trZXk6XCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXMoKVwiKTt2YXIgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6W10saWNlVHJhbnNwb3J0UG9saWN5OlwiYWxsXCIsYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwiLHJ0Y3BNdXhQb2xpY3k6XCJyZXF1aXJlXCIsc2RwU2VtYW50aWNzOlwicGxhbi1iXCJ9KTtyZXR1cm4gZS5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSkudGhlbigoZnVuY3Rpb24odCl7dHJ5e2UuY2xvc2UoKX1jYXRjaChlKXt9dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuc2RwKTtyZXR1cm4gXy5leHRyYWN0UnRwQ2FwYWJpbGl0aWVzKHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe310aHJvdyB0fSkpfX0se2tleTpcInRhZ1wiLGdldDpmdW5jdGlvbigpe3JldHVyblwiQ2hyb21lNjlcIn19XSksZX0oKTt0LmRlZmF1bHQ9Q30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXcocigxNikpLGE9dyhyKDgpKSxpPXcocigxOSkpLG89dyhyKDYpKSxzPXcocigyKSksYz13KHIoMCkpLHU9dyhyKDEpKSxkPXcocigzKSksbD13KHIoNCkpLHA9dyhyKDEyKSksZj13KHIoNSkpLG09dyhyKDEwKSksaD1rKHIoOSkpLHY9ayhyKDE1KSksXz1rKHIoMjApKSxnPWsocig0MikpLHk9dyhyKDQzKSksYj13KHIoMjMpKTtmdW5jdGlvbiBrKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiB3KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgUD1uZXcgZi5kZWZhdWx0KFwiQ2hyb21lNjdcIiksUz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIGE9KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFApKTtyZXR1cm4gYS5fcGM9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOm4udHVyblNlcnZlcnN8fFtdLGljZVRyYW5zcG9ydFBvbGljeTpuLmljZVRyYW5zcG9ydFBvbGljeSxidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIixzZHBTZW1hbnRpY3M6XCJwbGFuLWJcIn0pLGEuX3J0cFBhcmFtZXRlcnNCeUtpbmQ9cixhLl9yZW1vdGVTZHA9bmV3IHkuZGVmYXVsdChlLHIpLGEuX3BjLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oKXtzd2l0Y2goYS5fcGMuaWNlQ29ubmVjdGlvblN0YXRlKXtjYXNlXCJjaGVja2luZ1wiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNvbm5lY3RpbmdcIik7YnJlYWs7Y2FzZVwiY29ubmVjdGVkXCI6Y2FzZVwiY29tcGxldGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGVkXCIpO2JyZWFrO2Nhc2VcImZhaWxlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImZhaWxlZFwiKTticmVhaztjYXNlXCJkaXNjb25uZWN0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJkaXNjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiY2xvc2VkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY2xvc2VkXCIpfX0pKSxhfXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImNsb3NlKClcIik7dHJ5e3RoaXMuX3BjLmNsb3NlKCl9Y2F0Y2goZSl7fX19LHtrZXk6XCJyZW1vdGVDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJyZW1vdGVDbG9zZWQoKVwiKSx0aGlzLl90cmFuc3BvcnRSZWFkeT0hMSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkJiYodGhpcy5fdHJhbnNwb3J0VXBkYXRlZD0hMSl9fV0pLHR9KG0uZGVmYXVsdCksST1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInNlbmRcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0UmVhZHk9ITEsbi5fc3RyZWFtPW5ldyBNZWRpYVN0cmVhbSxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl9zdHJlYW0uZ2V0VHJhY2tCeUlkKHIuaWQpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInRyYWNrIGFscmVhZHkgYWRkZWRcIikpO3ZhciBuPVwiaXNhY1wiO2UuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYobj1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKTt2YXIgYT12b2lkIDA7cmV0dXJuIG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RyZWFtLmFkZFRyYWNrKHIpLHQuX3BjLmFkZFN0cmVhbSh0Ll9zdHJlYW0pLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24oYSl7aWYoYS5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYS5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxhLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoYS5zZHAsZS5hdWRpb1Byb2ZpbGUpLGEuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhhLnNkcCxuKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGk9cC5kZWZhdWx0LnBhcnNlKGEuc2RwKTtnLmFkZFNpbXVsY2FzdEZvclRyYWNrKGksciksYT17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShpKX19cmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGEpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0UmVhZHkpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXthPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHI9dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChhKTtyPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLGUuYXVkaW9Qcm9maWxlKTt2YXIgaT17dHlwZTpcImFuc3dlclwiLHNkcDpyPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLG4pfTtyZXR1cm4gUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixpKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihpKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBpPWguY2xvbmUodC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gaSYmaS5jb2RlY3MmJihpLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIituJiZpLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxpKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGksYSxyKSxpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyB0Ll9zdHJlYW0ucmVtb3ZlVHJhY2sociksdC5fcGMuYWRkU3RyZWFtKHQuX3N0cmVhbSksZX0pKX19LHtrZXk6XCJyZW1vdmVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO1AuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKTt2YXIgbj1cImlzYWNcIjtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihuPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RyZWFtLnJlbW92ZVRyYWNrKHIpLHQuX3BjLmFkZFN0cmVhbSh0Ll9zdHJlYW0pLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksci5zZHA9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIuc2RwLGUuYXVkaW9Qcm9maWxlKSxyLnNkcD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoci5zZHAsbiksUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoMCE9PXQuX3N0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGgpdGhyb3cgZTtQLndhcm4oXCJyZW1vdmVQcm9kdWNlcigpIHwgaWdub3JpbmcgZXhwZWN0ZWQgZXJyb3IgZHVlIG5vIHNlbmRpbmcgdHJhY2tzOiAlc1wiLGUudG9TdHJpbmcoKSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZihcInN0YWJsZVwiIT09dC5fcGMuc2lnbmFsaW5nU3RhdGUpe3ZhciByPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksYT10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO2E9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYSxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLGE9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKGEsZS5hdWRpb1Byb2ZpbGUpO3ZhciBpPXt0eXBlOlwiYW5zd2VyXCIsc2RwOmE9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKGEsbil9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGkpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpfX0pKX19LHtrZXk6XCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztQLmRlYnVnKFwicmVwbGFjZVByb2R1Y2VyVHJhY2soKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsdC5pZCk7dmFyIG49ZS50cmFjaztyZXR1cm4gby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXIuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PW59KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwibG9jYWwgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlLnJlcGxhY2VUcmFjayh0KX0pKS50aGVuKChmdW5jdGlvbigpe3IuX3N0cmVhbS5yZW1vdmVUcmFjayhuKSxyLl9zdHJlYW0uYWRkVHJhY2sodCl9KSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApLHI9e3R5cGU6XCJhbnN3ZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChlKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixyKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKX0pKX19LHtrZXk6XCJfc2V0dXBUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFAuZGVidWcoXCJfc2V0dXBUcmFuc3BvcnQoKVwiKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9e30scj1lLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCxuPXAuZGVmYXVsdC5wYXJzZShyKSxhPV8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKG4pO3JldHVybiBhLnJvbGU9XCJzZXJ2ZXJcIix0LmR0bHNQYXJhbWV0ZXJzPWEsZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydExvY2FsUGFyYW1ldGVycyh0KSxlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIix0KX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRSZWFkeT0hMH0pKX19LHtrZXk6XCJnZXRQQ1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX0se2tleTpcInVwZGF0ZVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXM7UC5kZWJ1ZyhcInVwZGF0ZSBUcmFjaygpIFt0cmFja0lkOiVzXVwiLHQuaWQpO3ZhciBhPVwiaXNhY1wiO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKGE9ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe24uX3BjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT10LmtpbmR9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtpZihyLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLGEpLGUuc2ltdWxjYXN0KXtQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKTt2YXIgaT1wLmRlZmF1bHQucGFyc2Uoci5zZHApO2cuYWRkU2ltdWxjYXN0Rm9yVHJhY2soaSx0KSxyPXt0eXBlOlwib2ZmZXJcIixzZHA6cC5kZWZhdWx0LndyaXRlKGkpfX1yZXR1cm4gUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksbi5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3I9cC5kZWZhdWx0LnBhcnNlKG4uX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgdD1uLl9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO3Q9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXModCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHQ9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHQsZS5hdWRpb1Byb2ZpbGUpO3ZhciBpPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQ9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHQsYSl9O3JldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGkpLG4uX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGk9aC5jbG9uZShuLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0pO3JldHVybiBpJiZpLmNvZGVjcyYmKGkuY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK2EmJmkuY29kZWNzLnNwbGljZSh0LDEpfSkpLFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsbi5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLGkpKSxnLmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2soaSxyLHQpLGl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsXCJyZWN2XCIsZSxyKSk7cmV0dXJuIG4uX3RyYW5zcG9ydENyZWF0ZWQ9ITEsbi5fdHJhbnNwb3J0VXBkYXRlZD0hMSxuLl9raW5kcz1uZXcgaS5kZWZhdWx0LG4uX2NvbnN1bWVySW5mb3M9bmV3IGEuZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKSlyZXR1cm4gby5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgcj1lLnJ0cFBhcmFtZXRlcnMuZW5jb2RpbmdzWzBdLGE9ZS5ydHBQYXJhbWV0ZXJzLnJ0Y3AuY25hbWUsaT17a2luZDplLmtpbmQsc3RyZWFtSWQ6XCJyZWN2LXN0cmVhbS1cIitlLmlkLHRyYWNrSWQ6XCJjb25zdW1lci1cIitlLmtpbmQrXCItXCIrZS5pZCxzc3JjOnIuc3NyYyxjbmFtZTphfTtyZXR1cm4gci5ydHgmJnIucnR4LnNzcmMmJihpLnJ0eFNzcmM9ci5ydHguc3NyYyksdGhpcy5fY29uc3VtZXJJbmZvcy5zZXQoZS5pZCxpKSx0aGlzLl9raW5kcy5hZGQoZS5raW5kKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydENyZWF0ZWQpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2tpbmRzKSwoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0VXBkYXRlZClyZXR1cm4gdC5fdXBkYXRlVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT10Ll9wYy5nZXRSZW1vdGVTdHJlYW1zKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1pLnN0cmVhbUlkfSkpLmdldFRyYWNrQnlJZChpLnRyYWNrSWQpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcInJlbW90ZSB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIGV9KSl9fSx7a2V5OlwicmVtb3ZlQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpPyh0aGlzLl9jb25zdW1lckluZm9zLmRlbGV0ZShlLmlkKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9raW5kcyksKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpKTpvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIG5vdCBmb3VuZFwiKSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fa2luZHMpLCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBQLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIixudWxsKX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRDcmVhdGVkPSEwfSkpfX0se2tleTpcIl91cGRhdGVUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJfdXBkYXRlVHJhbnNwb3J0KClcIik7dmFyIGU9dGhpcy5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsdD1wLmRlZmF1bHQucGFyc2UoZSkscj17ZHRsc1BhcmFtZXRlcnM6Xy5leHRyYWN0RHRsc1BhcmFtZXRlcnModCl9O3RoaXMuc2FmZUVtaXQoXCJAbmVlZHVwZGF0ZXRyYW5zcG9ydFwiLHIpLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQ9ITB9fSx7a2V5OlwiZ2V0UENTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyhlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGMuZGVmYXVsdCkodGhpcyxlKSxQLmRlYnVnKFwiY29uc3RydWN0b3IoKSBbZGlyZWN0aW9uOiVzLCBleHRlbmRlZFJ0cENhcGFiaWxpdGllczolb11cIix0LHIpO3ZhciBhPXZvaWQgMDtzd2l0Y2godCl7Y2FzZVwic2VuZFwiOnJldHVybiBhPXthdWRpbzp2LmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IEkoYSxuKTtjYXNlXCJyZWN2XCI6cmV0dXJuIGE9e2F1ZGlvOnYuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOnYuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgVChhLG4pfX1yZXR1cm4oMCx1LmRlZmF1bHQpKGUsbnVsbCxbe2tleTpcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllcygpXCIpO3ZhciBlPW5ldyBSVENQZWVyQ29ubmVjdGlvbih7aWNlU2VydmVyczpbXSxpY2VUcmFuc3BvcnRQb2xpY3k6XCJhbGxcIixidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIixzZHBTZW1hbnRpY3M6XCJwbGFuLWJcIn0pO3JldHVybiBlLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KS50aGVuKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe312YXIgcj1wLmRlZmF1bHQucGFyc2UodC5zZHApO3JldHVybiBfLmV4dHJhY3RSdHBDYXBhYmlsaXRpZXMocil9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3RyeXtlLmNsb3NlKCl9Y2F0Y2goZSl7fXRocm93IHR9KSl9fSx7a2V5OlwidGFnXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJDaHJvbWU2N1wifX1dKSxlfSgpO3QuZGVmYXVsdD1DfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49dyhyKDE2KSksYT13KHIoOCkpLGk9dyhyKDE5KSksbz13KHIoNikpLHM9dyhyKDIpKSxjPXcocigwKSksdT13KHIoMSkpLGQ9dyhyKDMpKSxsPXcocig0KSkscD13KHIoMTIpKSxmPXcocig1KSksbT13KHIoMTApKSxoPWsocig5KSksdj1rKHIoMTUpKSxfPWsocigyMCkpLGc9ayhyKDQyKSkseT13KHIoNDMpKSxiPXcocigyMykpO2Z1bmN0aW9uIGsoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBQPW5ldyBmLmRlZmF1bHQoXCJDaHJvbWU1NVwiKSxTPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4peygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgYT0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsUCkpO3JldHVybiBhLl9wYz1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6bi50dXJuU2VydmVyc3x8W10saWNlVHJhbnNwb3J0UG9saWN5Om4uaWNlVHJhbnNwb3J0UG9saWN5LGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSksYS5fcnRwUGFyYW1ldGVyc0J5S2luZD1yLGEuX3JlbW90ZVNkcD1uZXcgeS5kZWZhdWx0KGUsciksYS5fcGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLChmdW5jdGlvbigpe3N3aXRjaChhLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLGF9cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiY2xvc2UoKVwiKTt0cnl7dGhpcy5fcGMuY2xvc2UoKX1jYXRjaChlKXt9fX0se2tleTpcInJlbW90ZUNsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcInJlbW90ZUNsb3NlZCgpXCIpLHRoaXMuX3RyYW5zcG9ydFJlYWR5PSExLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQmJih0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSExKX19XSksdH0obS5kZWZhdWx0KSxJPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwic2VuZFwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRSZWFkeT0hMSxuLl9zdHJlYW09bmV3IE1lZGlhU3RyZWFtLG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZFByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUudHJhY2s7aWYoUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpLHRoaXMuX3N0cmVhbS5nZXRUcmFja0J5SWQoci5pZCkpcmV0dXJuIG8uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIG49XCJpc2FjXCI7ZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihuPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpO3ZhciBhPXZvaWQgMDtyZXR1cm4gby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdHJlYW0uYWRkVHJhY2sociksdC5fcGMuYWRkU3RyZWFtKHQuX3N0cmVhbSksdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihhKXtpZihhLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhhLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLGEuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhhLnNkcCxlLmF1ZGlvUHJvZmlsZSksYS5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKGEuc2RwLG4pLGUuc2ltdWxjYXN0KXtQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKTt2YXIgaT1wLmRlZmF1bHQucGFyc2UoYS5zZHApO2cuYWRkU2ltdWxjYXN0Rm9yVHJhY2soaSxyKSxhPXt0eXBlOlwib2ZmZXJcIixzZHA6cC5kZWZhdWx0LndyaXRlKGkpfX1yZXR1cm4gUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsYSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihhKX0pKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRSZWFkeSlyZXR1cm4gdC5fc2V0dXBUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe2E9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgcj10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKGEpO3I9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMocixlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHI9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIsZS5hdWRpb1Byb2ZpbGUpO3ZhciBpPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnI9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIsbil9O3JldHVybiBQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGkpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGk9aC5jbG9uZSh0Ll9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0pO3JldHVybiBpJiZpLmNvZGVjcyYmKGkuY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK24mJmkuY29kZWNzLnNwbGljZSh0LDEpfSkpLFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsdC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLGkpKSxnLmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2soaSxhLHIpLGl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IHQuX3N0cmVhbS5yZW1vdmVUcmFjayhyKSx0Ll9wYy5hZGRTdHJlYW0odC5fc3RyZWFtKSxlfSkpfX0se2tleTpcInJlbW92ZVByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUudHJhY2s7UC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpO3ZhciBuPVwiaXNhY1wiO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdHJlYW0ucmVtb3ZlVHJhY2sociksdC5fcGMuYWRkU3RyZWFtKHQuX3N0cmVhbSksdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gci5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxuKSxQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpZigwIT09dC5fc3RyZWFtLmdldFRyYWNrcygpLmxlbmd0aCl0aHJvdyBlO1Aud2FybihcInJlbW92ZVByb2R1Y2VyKCkgfCBpZ25vcmluZyBleHBlY3RlZCBlcnJvciBkdWUgbm8gc2VuZGluZyB0cmFja3M6ICVzXCIsZS50b1N0cmluZygpKX0pKS50aGVuKChmdW5jdGlvbigpe2lmKFwic3RhYmxlXCIhPT10Ll9wYy5zaWduYWxpbmdTdGF0ZSl7dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxhPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAocik7YT1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhhLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksYT1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoYSxlLmF1ZGlvUHJvZmlsZSk7dmFyIGk9e3R5cGU6XCJhbnN3ZXJcIixzZHA6YT1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoYSxuKX07cmV0dXJuIFAuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsaSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oaSl9fSkpfX0se2tleTpcInJlcGxhY2VQcm9kdWNlclRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO1AuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCx0LmlkKTt2YXIgbj1cImlzYWNcIjtlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSk7dmFyIGE9ZS50cmFjayxpPXZvaWQgMDtyZXR1cm4gby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiByLl9zdHJlYW0ucmVtb3ZlVHJhY2soYSksci5fc3RyZWFtLmFkZFRyYWNrKHQpLHIuX3BjLmFkZFN0cmVhbShyLl9zdHJlYW0pLHIuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24oYSl7aWYoYS5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYS5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxhLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoYS5zZHAsZS5hdWRpb1Byb2ZpbGUpLGEuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhhLnNkcCxuKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGk9cC5kZWZhdWx0LnBhcnNlKGEuc2RwKTtnLmFkZFNpbXVsY2FzdEZvclRyYWNrKGksdCksYT17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShpKX19cmV0dXJuIFAuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGEpLHIuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXtpPXAuZGVmYXVsdC5wYXJzZShyLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHQ9ci5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChpKTt0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKSx0PWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyh0LGUuYXVkaW9Qcm9maWxlKTt2YXIgYT17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyh0LG4pfTtyZXR1cm4gUC5kZWJ1ZyhcInJlcGxhY2VQcm9kdWNlclRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixhKSxyLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihhKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBhPWguY2xvbmUoci5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTthJiZhLmNvZGVjcyYmKGEuY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK24mJmEuY29kZWNzLnNwbGljZSh0LDEpfSkpLFAuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsci5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLGEpKSxnLmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2soYSxpLHQpLHIuc2FmZUVtaXQoXCJAbmVlZHVwZGF0ZXByb2R1Y2VyXCIsZSxhKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgci5fc3RyZWFtLnJlbW92ZVRyYWNrKHQpLHIuX3N0cmVhbS5hZGRUcmFjayhhKSxyLl9wYy5hZGRTdHJlYW0oci5fc3RyZWFtKSxlfSkpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxyPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAoZSl9O3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsciksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24ocil9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBQLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PXt9LHI9ZS5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsbj1wLmRlZmF1bHQucGFyc2UociksYT1fLmV4dHJhY3REdGxzUGFyYW1ldGVycyhuKTtyZXR1cm4gYS5yb2xlPVwic2VydmVyXCIsdC5kdGxzUGFyYW1ldGVycz1hLGUuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRMb2NhbFBhcmFtZXRlcnModCksZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsdCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0UmVhZHk9ITB9KSl9fSx7a2V5OlwiZ2V0UENTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyhlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19LHtrZXk6XCJ1cGRhdGVUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10aGlzO1AuZGVidWcoXCJ1cGRhdGUgVHJhY2soKSBbdHJhY2tJZDolc11cIix0LmlkKTt2YXIgYT1cImlzYWNcIjtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihhPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtuLl9wYy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWNlaXZlci50cmFjay5raW5kPT09dC5raW5kfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7aWYoci5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxhKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGk9cC5kZWZhdWx0LnBhcnNlKHIuc2RwKTtnLmFkZFNpbXVsY2FzdEZvclRyYWNrKGksdCkscj17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShpKX19cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLHIpLG4uX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXtyPXAuZGVmYXVsdC5wYXJzZShuLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHQ9bi5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChyKTt0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKSx0PWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyh0LGUuYXVkaW9Qcm9maWxlKTt2YXIgaT17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyh0LGEpfTtyZXR1cm4gUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixpKSxuLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihpKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBpPWguY2xvbmUobi5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gaSYmaS5jb2RlY3MmJihpLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIithJiZpLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwidXBkYXRlVHJhY2soKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLG4uX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxpKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGkscix0KSxpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX1dKSx0fShTKSxUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwicmVjdlwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRDcmVhdGVkPSExLG4uX3RyYW5zcG9ydFVwZGF0ZWQ9ITEsbi5fa2luZHM9bmV3IGkuZGVmYXVsdCxuLl9jb25zdW1lckluZm9zPW5ldyBhLmRlZmF1bHQsbn1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiYWRkQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKFAuZGVidWcoXCJhZGRDb25zdW1lcigpIFtpZDolcywga2luZDolc11cIixlLmlkLGUua2luZCksdGhpcy5fY29uc3VtZXJJbmZvcy5oYXMoZS5pZCkpcmV0dXJuIG8uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiQ29uc3VtZXIgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIHI9ZS5ydHBQYXJhbWV0ZXJzLmVuY29kaW5nc1swXSxhPWUucnRwUGFyYW1ldGVycy5ydGNwLmNuYW1lLGk9e2tpbmQ6ZS5raW5kLHN0cmVhbUlkOlwicmVjdi1zdHJlYW0tXCIrZS5pZCx0cmFja0lkOlwiY29uc3VtZXItXCIrZS5raW5kK1wiLVwiK2UuaWQsc3NyYzpyLnNzcmMsY25hbWU6YX07cmV0dXJuIHIucnR4JiZyLnJ0eC5zc3JjJiYoaS5ydHhTc3JjPXIucnR4LnNzcmMpLHRoaXMuX2NvbnN1bWVySW5mb3Muc2V0KGUuaWQsaSksdGhpcy5fa2luZHMuYWRkKGUua2luZCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRDcmVhdGVkKXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9raW5kcyksKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFVwZGF0ZWQpcmV0dXJuIHQuX3VwZGF0ZVRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0UmVtb3RlU3RyZWFtcygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09aS5zdHJlYW1JZH0pKS5nZXRUcmFja0J5SWQoaS50cmFja0lkKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdGUgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlfSkpfX0se2tleTpcInJlbW92ZUNvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKT8odGhpcy5fY29uc3VtZXJJbmZvcy5kZWxldGUoZS5pZCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fa2luZHMpLCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKSk6by5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmRcIikpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2tpbmRzKSwoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX0se2tleTpcImdldFBDU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsZSksUC5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgW2RpcmVjdGlvbjolcywgZXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXM6JW9dXCIsdCxyKTt2YXIgYT12b2lkIDA7c3dpdGNoKHQpe2Nhc2VcInNlbmRcIjpyZXR1cm4gYT17YXVkaW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBJKGEsbik7Y2FzZVwicmVjdlwiOnJldHVybiBhPXthdWRpbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IFQoYSxuKX19cmV0dXJuKDAsdS5kZWZhdWx0KShlLG51bGwsW3trZXk6XCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXMoKVwiKTt2YXIgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6W10saWNlVHJhbnNwb3J0UG9saWN5OlwiYWxsXCIsYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwiLHJ0Y3BNdXhQb2xpY3k6XCJyZXF1aXJlXCJ9KTtyZXR1cm4gZS5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSkudGhlbigoZnVuY3Rpb24odCl7dHJ5e2UuY2xvc2UoKX1jYXRjaChlKXt9dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuc2RwKTtyZXR1cm4gXy5leHRyYWN0UnRwQ2FwYWJpbGl0aWVzKHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe310aHJvdyB0fSkpfX0se2tleTpcInRhZ1wiLGdldDpmdW5jdGlvbigpe3JldHVyblwiQ2hyb21lNTVcIn19XSksZX0oKTt0LmRlZmF1bHQ9Q30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXcocigxNikpLGE9dyhyKDgpKSxpPXcocig2KSksbz13KHIoMTkpKSxzPXcocigyKSksYz13KHIoMCkpLHU9dyhyKDEpKSxkPXcocigzKSksbD13KHIoNCkpLHA9dyhyKDEyKSksZj13KHIoNSkpLG09dyhyKDEwKSksaD1rKHIoOSkpLHY9ayhyKDE1KSksXz1rKHIoMjApKSxnPWsocigzNSkpLHk9dyhyKDM2KSksYj13KHIoMjMpKTtmdW5jdGlvbiBrKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiB3KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgUD1uZXcgZi5kZWZhdWx0KFwiU2FmYXJpMTNcIiksUz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIGE9KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFApKTtyZXR1cm4gYS5fcGM9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOm4udHVyblNlcnZlcnN8fFtdLGljZVRyYW5zcG9ydFBvbGljeTpuLmljZVRyYW5zcG9ydFBvbGljeSxidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIn0pLGEuX3J0cFBhcmFtZXRlcnNCeUtpbmQ9cixhLl9yZW1vdGVTZHA9bmV3IHkuZGVmYXVsdChlLHIpLGEuX3BjLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oKXtzd2l0Y2goYS5fcGMuaWNlQ29ubmVjdGlvblN0YXRlKXtjYXNlXCJjaGVja2luZ1wiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNvbm5lY3RpbmdcIik7YnJlYWs7Y2FzZVwiY29ubmVjdGVkXCI6Y2FzZVwiY29tcGxldGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGVkXCIpO2JyZWFrO2Nhc2VcImZhaWxlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImZhaWxlZFwiKTticmVhaztjYXNlXCJkaXNjb25uZWN0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJkaXNjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiY2xvc2VkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY2xvc2VkXCIpfX0pKSxhfXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImNsb3NlKClcIik7dHJ5e3RoaXMuX3BjLmNsb3NlKCl9Y2F0Y2goZSl7fX19LHtrZXk6XCJyZW1vdGVDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJyZW1vdGVDbG9zZWQoKVwiKSx0aGlzLl90cmFuc3BvcnRSZWFkeT0hMSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkJiYodGhpcy5fdHJhbnNwb3J0VXBkYXRlZD0hMSl9fV0pLHR9KG0uZGVmYXVsdCksST1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInNlbmRcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0UmVhZHk9ITEsbi5fdHJhY2tJZHM9bmV3IG8uZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl90cmFja0lkcy5oYXMoci5pZCkpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIG49dm9pZCAwLGE9dm9pZCAwO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSx0aGlzLl90cmFja0lkcy5hZGQoci5pZCksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKG49dC5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXIua2luZCYmXCJpbmFjdGl2ZVwiPT09ZS5kaXJlY3Rpb259KSkpcmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgcmV1c2luZyBhbiBpbmFjdGl2ZSB0cmFuc2NlaXZlclwiKSxuLmRpcmVjdGlvbj1cInNlbmRvbmx5XCIsbi5zZW5kZXIucmVwbGFjZVRyYWNrKHIpO249dC5fcGMuYWRkVHJhbnNjZWl2ZXIocix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24oYSl7aWYoYS5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYS5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGk9cC5kZWZhdWx0LnBhcnNlKGEuc2RwKTtnLmFkZFBsYW5CU2ltdWxjYXN0KGkscix7bWlkOm4ubWlkfSksYT17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShpKX19cmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGEpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0UmVhZHkpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXthPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHI9dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChhKSxuPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnI9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMocixlLnZpZGVvQml0cmF0ZU9wdGlvbnMpfTtyZXR1cm4gUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixuKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBpPWguY2xvbmUodC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGksYSxyLHttaWQ6bi5taWQscGxhbkJTaW11bGNhc3Q6ITB9KSxpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0cnl7bi5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifWNhdGNoKGUpe310aHJvdyB0Ll90cmFja0lkcy5kZWxldGUoci5pZCksZX0pKX19LHtrZXk6XCJyZW1vdmVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKCF0aGlzLl90cmFja0lkcy5oYXMoci5pZCkpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgbm90IGZvdW5kXCIpKTtQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCk7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT10Ll9wYy5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT1yfSkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImxvY2FsIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5fcGMucmVtb3ZlVHJhY2soZSksdC5fdHJhY2tJZHMuZGVsZXRlKHIuaWQpLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciByPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksbj10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpLGE9e3R5cGU6XCJhbnN3ZXJcIixzZHA6bj1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhuLGUudmlkZW9CaXRyYXRlT3B0aW9ucyl9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGEpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGEpfSkpfX0se2tleTpcInJlcGxhY2VQcm9kdWNlclRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO1AuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCx0LmlkKTt2YXIgbj1lLnRyYWNrO3JldHVybiBpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9ci5fcGMuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09bn0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJsb2NhbCB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIGUucmVwbGFjZVRyYWNrKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7ci5fdHJhY2tJZHMuZGVsZXRlKG4uaWQpLHIuX3RyYWNrSWRzLmFkZCh0LmlkKX0pKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9yZW1vdGVTZHAudXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVycyhlKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCkscj17dHlwZTpcImFuc3dlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKGUpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLHIpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHIpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgdD17fSxyPWUuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLG49cC5kZWZhdWx0LnBhcnNlKHIpLGE9Xy5leHRyYWN0RHRsc1BhcmFtZXRlcnMobik7cmV0dXJuIGEucm9sZT1cInNlcnZlclwiLHQuZHRsc1BhcmFtZXRlcnM9YSxlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzKHQpLGUuc2FmZUVtaXRBc1Byb21pc2UoXCJAbmVlZGNyZWF0ZXRyYW5zcG9ydFwiLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKHQpLGUuX3RyYW5zcG9ydFJlYWR5PSEwfSkpfX0se2tleTpcImdldFBDU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fSx7a2V5OlwidXBkYXRlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO1AuZGVidWcoXCJ1cGRhdGUgVHJhY2soKSBbdHJhY2tJZDolc11cIix0LmlkKTtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJmUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe249YS5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXQua2luZH0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBhLl9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe2lmKHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksZS5zaW11bGNhc3Qpe1AuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgZW5hYmxpbmcgc2ltdWxjYXN0XCIpO3ZhciBpPXAuZGVmYXVsdC5wYXJzZShyLnNkcCk7Zy5hZGRQbGFuQlNpbXVsY2FzdChpLHQse21pZDpuLm1pZH0pLHI9e3R5cGU6XCJvZmZlclwiLHNkcDpwLmRlZmF1bHQud3JpdGUoaSl9fXJldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSxhLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cj1wLmRlZmF1bHQucGFyc2UoYS5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciB0PWEuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAociksbj17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKX07cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsbiksYS5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obil9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT1oLmNsb25lKGEuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGcuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhpLHIsdCx7bWlkOm4ubWlkLHBsYW5CU2ltdWxjYXN0OiEwfSksaX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksVD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInJlY3ZcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0Q3JlYXRlZD0hMSxuLl90cmFuc3BvcnRVcGRhdGVkPSExLG4uX2NvbnN1bWVySW5mb3M9bmV3IGEuZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKSlyZXR1cm4gaS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgcj1lLnJ0cFBhcmFtZXRlcnMuZW5jb2RpbmdzWzBdLGE9ZS5ydHBQYXJhbWV0ZXJzLnJ0Y3AuY25hbWUsbz17bWlkOlwiXCIrZS5raW5kWzBdK2UuaWQsa2luZDplLmtpbmQsY2xvc2VkOmUuY2xvc2VkLHN0cmVhbUlkOlwicmVjdi1zdHJlYW0tXCIrZS5pZCx0cmFja0lkOlwiY29uc3VtZXItXCIrZS5raW5kK1wiLVwiK2UuaWQsc3NyYzpyLnNzcmMsY25hbWU6YX07cmV0dXJuIHIucnR4JiZyLnJ0eC5zc3JjJiYoby5ydHhTc3JjPXIucnR4LnNzcmMpLHRoaXMuX2NvbnN1bWVySW5mb3Muc2V0KGUuaWQsbyksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRDcmVhdGVkKXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFVwZGF0ZWQpcmV0dXJuIHQuX3VwZGF0ZVRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWlkPT09by5taWR9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwicmVtb3RlIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5yZWNlaXZlci50cmFja30pKX19LHtrZXk6XCJyZW1vdmVDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKTt2YXIgcj10aGlzLl9jb25zdW1lckluZm9zLmdldChlLmlkKTtyZXR1cm4gcj8oci5jbG9zZWQ9ITAsaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKSk6aS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmRcIikpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX0se2tleTpcImdldFBDU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsZSksUC5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgW2RpcmVjdGlvbjolcywgZXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXM6JW9dXCIsdCxyKTt2YXIgYT12b2lkIDA7c3dpdGNoKHQpe2Nhc2VcInNlbmRcIjpyZXR1cm4gYT17YXVkaW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBJKGEsbik7Y2FzZVwicmVjdlwiOnJldHVybiBhPXthdWRpbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IFQoYSxuKX19cmV0dXJuKDAsdS5kZWZhdWx0KShlLG51bGwsW3trZXk6XCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXMoKVwiKTt2YXIgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6W10saWNlVHJhbnNwb3J0UG9saWN5OlwiYWxsXCIsYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwiLHJ0Y3BNdXhQb2xpY3k6XCJyZXF1aXJlXCJ9KTtyZXR1cm4gZS5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIpLGUuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiKSxlLmNyZWF0ZU9mZmVyKCkudGhlbigoZnVuY3Rpb24odCl7dHJ5e2UuY2xvc2UoKX1jYXRjaChlKXt9dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuc2RwKTtyZXR1cm4gXy5leHRyYWN0UnRwQ2FwYWJpbGl0aWVzKHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe310aHJvdyB0fSkpfX0se2tleTpcInRhZ1wiLGdldDpmdW5jdGlvbigpe3JldHVyblwiU2FmYXJpMTNcIn19XSksZX0oKTt0LmRlZmF1bHQ9Q30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXcocigxNikpLGE9dyhyKDgpKSxpPXcocig2KSksbz13KHIoMTkpKSxzPXcocigyKSksYz13KHIoMCkpLHU9dyhyKDEpKSxkPXcocigzKSksbD13KHIoNCkpLHA9dyhyKDEyKSksZj13KHIoNSkpLG09dyhyKDEwKSksaD1rKHIoOSkpLHY9ayhyKDE1KSksXz1rKHIoMjApKSxnPWsocigzNSkpLHk9dyhyKDM2KSksYj13KHIoMjMpKTtmdW5jdGlvbiBrKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiB3KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgUD1uZXcgZi5kZWZhdWx0KFwiU2FmYXJpMTJcIiksUz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIGE9KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFApKTtyZXR1cm4gYS5fcGM9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOm4udHVyblNlcnZlcnN8fFtdLGljZVRyYW5zcG9ydFBvbGljeTpuLmljZVRyYW5zcG9ydFBvbGljeSxidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIn0pLGEuX3J0cFBhcmFtZXRlcnNCeUtpbmQ9cixhLl9yZW1vdGVTZHA9bmV3IHkuZGVmYXVsdChlLHIpLGEuX3BjLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oKXtzd2l0Y2goYS5fcGMuaWNlQ29ubmVjdGlvblN0YXRlKXtjYXNlXCJjaGVja2luZ1wiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNvbm5lY3RpbmdcIik7YnJlYWs7Y2FzZVwiY29ubmVjdGVkXCI6Y2FzZVwiY29tcGxldGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGVkXCIpO2JyZWFrO2Nhc2VcImZhaWxlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImZhaWxlZFwiKTticmVhaztjYXNlXCJkaXNjb25uZWN0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJkaXNjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiY2xvc2VkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY2xvc2VkXCIpfX0pKSxhfXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImNsb3NlKClcIik7dHJ5e3RoaXMuX3BjLmNsb3NlKCl9Y2F0Y2goZSl7fX19LHtrZXk6XCJyZW1vdGVDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJyZW1vdGVDbG9zZWQoKVwiKSx0aGlzLl90cmFuc3BvcnRSZWFkeT0hMSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkJiYodGhpcy5fdHJhbnNwb3J0VXBkYXRlZD0hMSl9fV0pLHR9KG0uZGVmYXVsdCksST1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInNlbmRcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0UmVhZHk9ITEsbi5fdHJhY2tJZHM9bmV3IG8uZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl90cmFja0lkcy5oYXMoci5pZCkpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIG49dm9pZCAwLGE9dm9pZCAwO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSx0aGlzLl90cmFja0lkcy5hZGQoci5pZCksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKG49dC5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXIua2luZCYmXCJpbmFjdGl2ZVwiPT09ZS5kaXJlY3Rpb259KSkpcmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgcmV1c2luZyBhbiBpbmFjdGl2ZSB0cmFuc2NlaXZlclwiKSxuLmRpcmVjdGlvbj1cInNlbmRvbmx5XCIsbi5zZW5kZXIucmVwbGFjZVRyYWNrKHIpO249dC5fcGMuYWRkVHJhbnNjZWl2ZXIocix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24oYSl7aWYoYS5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYS5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGk9cC5kZWZhdWx0LnBhcnNlKGEuc2RwKTtnLmFkZFBsYW5CU2ltdWxjYXN0KGkscix7bWlkOm4ubWlkfSksYT17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShpKX19cmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGEpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0UmVhZHkpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXthPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHI9dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChhKSxuPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnI9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMocixlLnZpZGVvQml0cmF0ZU9wdGlvbnMpfTtyZXR1cm4gUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixuKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBpPWguY2xvbmUodC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGksYSxyLHttaWQ6bi5taWQscGxhbkJTaW11bGNhc3Q6ITB9KSxpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0cnl7bi5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifWNhdGNoKGUpe310aHJvdyB0Ll90cmFja0lkcy5kZWxldGUoci5pZCksZX0pKX19LHtrZXk6XCJyZW1vdmVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKCF0aGlzLl90cmFja0lkcy5oYXMoci5pZCkpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgbm90IGZvdW5kXCIpKTtQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCk7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT10Ll9wYy5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT1yfSkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImxvY2FsIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5fcGMucmVtb3ZlVHJhY2soZSksdC5fdHJhY2tJZHMuZGVsZXRlKHIuaWQpLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciByPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksbj10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpLGE9e3R5cGU6XCJhbnN3ZXJcIixzZHA6bj1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhuLGUudmlkZW9CaXRyYXRlT3B0aW9ucyl9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGEpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGEpfSkpfX0se2tleTpcInJlcGxhY2VQcm9kdWNlclRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO1AuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCx0LmlkKTt2YXIgbj1lLnRyYWNrO3JldHVybiBpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9ci5fcGMuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09bn0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJsb2NhbCB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIGUucmVwbGFjZVRyYWNrKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7ci5fdHJhY2tJZHMuZGVsZXRlKG4uaWQpLHIuX3RyYWNrSWRzLmFkZCh0LmlkKX0pKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9yZW1vdGVTZHAudXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVycyhlKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCkscj17dHlwZTpcImFuc3dlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKGUpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLHIpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHIpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgdD17fSxyPWUuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLG49cC5kZWZhdWx0LnBhcnNlKHIpLGE9Xy5leHRyYWN0RHRsc1BhcmFtZXRlcnMobik7cmV0dXJuIGEucm9sZT1cInNlcnZlclwiLHQuZHRsc1BhcmFtZXRlcnM9YSxlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzKHQpLGUuc2FmZUVtaXRBc1Byb21pc2UoXCJAbmVlZGNyZWF0ZXRyYW5zcG9ydFwiLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKHQpLGUuX3RyYW5zcG9ydFJlYWR5PSEwfSkpfX0se2tleTpcImdldFBDU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fSx7a2V5OlwidXBkYXRlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO1AuZGVidWcoXCJ1cGRhdGUgVHJhY2soKSBbdHJhY2tJZDolc11cIix0LmlkKTtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJmUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe249YS5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXQua2luZH0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBhLl9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe2lmKHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksZS5zaW11bGNhc3Qpe1AuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgZW5hYmxpbmcgc2ltdWxjYXN0XCIpO3ZhciBpPXAuZGVmYXVsdC5wYXJzZShyLnNkcCk7Zy5hZGRQbGFuQlNpbXVsY2FzdChpLHQse21pZDpuLm1pZH0pLHI9e3R5cGU6XCJvZmZlclwiLHNkcDpwLmRlZmF1bHQud3JpdGUoaSl9fXJldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSxhLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cj1wLmRlZmF1bHQucGFyc2UoYS5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciB0PWEuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAociksbj17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKX07cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsbiksYS5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obil9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT1oLmNsb25lKGEuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGcuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhpLHIsdCx7bWlkOm4ubWlkLHBsYW5CU2ltdWxjYXN0OiEwfSksaX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksVD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInJlY3ZcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0Q3JlYXRlZD0hMSxuLl90cmFuc3BvcnRVcGRhdGVkPSExLG4uX2NvbnN1bWVySW5mb3M9bmV3IGEuZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKSlyZXR1cm4gaS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgcj1lLnJ0cFBhcmFtZXRlcnMuZW5jb2RpbmdzWzBdLGE9ZS5ydHBQYXJhbWV0ZXJzLnJ0Y3AuY25hbWUsbz17bWlkOlwiXCIrZS5raW5kWzBdK2UuaWQsa2luZDplLmtpbmQsY2xvc2VkOmUuY2xvc2VkLHN0cmVhbUlkOlwicmVjdi1zdHJlYW0tXCIrZS5pZCx0cmFja0lkOlwiY29uc3VtZXItXCIrZS5raW5kK1wiLVwiK2UuaWQsc3NyYzpyLnNzcmMsY25hbWU6YX07cmV0dXJuIHIucnR4JiZyLnJ0eC5zc3JjJiYoby5ydHhTc3JjPXIucnR4LnNzcmMpLHRoaXMuX2NvbnN1bWVySW5mb3Muc2V0KGUuaWQsbyksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRDcmVhdGVkKXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFVwZGF0ZWQpcmV0dXJuIHQuX3VwZGF0ZVRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWlkPT09by5taWR9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwicmVtb3RlIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5yZWNlaXZlci50cmFja30pKX19LHtrZXk6XCJyZW1vdmVDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKTt2YXIgcj10aGlzLl9jb25zdW1lckluZm9zLmdldChlLmlkKTtyZXR1cm4gcj8oci5jbG9zZWQ9ITAsaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKSk6aS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmRcIikpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX0se2tleTpcImdldFBDU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsZSksUC5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgW2RpcmVjdGlvbjolcywgZXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXM6JW9dXCIsdCxyKTt2YXIgYT12b2lkIDA7c3dpdGNoKHQpe2Nhc2VcInNlbmRcIjpyZXR1cm4gYT17YXVkaW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRTZW5kaW5nUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBJKGEsbik7Y2FzZVwicmVjdlwiOnJldHVybiBhPXthdWRpbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFJlY2VpdmluZ0Z1bGxSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IFQoYSxuKX19cmV0dXJuKDAsdS5kZWZhdWx0KShlLG51bGwsW3trZXk6XCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXMoKVwiKTt2YXIgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6W10saWNlVHJhbnNwb3J0UG9saWN5OlwiYWxsXCIsYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwiLHJ0Y3BNdXhQb2xpY3k6XCJyZXF1aXJlXCJ9KTtyZXR1cm4gZS5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIpLGUuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiKSxlLmNyZWF0ZU9mZmVyKCkudGhlbigoZnVuY3Rpb24odCl7dHJ5e2UuY2xvc2UoKX1jYXRjaChlKXt9dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuc2RwKTtyZXR1cm4gXy5leHRyYWN0UnRwQ2FwYWJpbGl0aWVzKHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe310aHJvdyB0fSkpfX0se2tleTpcInRhZ1wiLGdldDpmdW5jdGlvbigpe3JldHVyblwiU2FmYXJpMTJcIn19XSksZX0oKTt0LmRlZmF1bHQ9Q30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXcocigxNikpLGE9dyhyKDgpKSxpPXcocigxOSkpLG89dyhyKDYpKSxzPXcocigyKSksYz13KHIoMCkpLHU9dyhyKDEpKSxkPXcocigzKSksbD13KHIoNCkpLHA9dyhyKDEyKSksZj13KHIoNSkpLG09dyhyKDEwKSksaD1rKHIoOSkpLHY9ayhyKDE1KSksXz1rKHIoMjApKSxnPWsocig0MikpLHk9dyhyKDQzKSksYj13KHIoMjMpKTtmdW5jdGlvbiBrKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiB3KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgUD1uZXcgZi5kZWZhdWx0KFwiU2FmYXJpMTFcIiksUz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIGE9KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFApKTtyZXR1cm4gYS5fcGM9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOm4udHVyblNlcnZlcnN8fFtdLGljZVRyYW5zcG9ydFBvbGljeTpuLmljZVRyYW5zcG9ydFBvbGljeSxidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIn0pLGEuX3J0cFBhcmFtZXRlcnNCeUtpbmQ9cixhLl9yZW1vdGVTZHA9bmV3IHkuZGVmYXVsdChlLHIpLGEuX3BjLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oKXtzd2l0Y2goYS5fcGMuaWNlQ29ubmVjdGlvblN0YXRlKXtjYXNlXCJjaGVja2luZ1wiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNvbm5lY3RpbmdcIik7YnJlYWs7Y2FzZVwiY29ubmVjdGVkXCI6Y2FzZVwiY29tcGxldGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGVkXCIpO2JyZWFrO2Nhc2VcImZhaWxlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImZhaWxlZFwiKTticmVhaztjYXNlXCJkaXNjb25uZWN0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJkaXNjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiY2xvc2VkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY2xvc2VkXCIpfX0pKSxhfXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImNsb3NlKClcIik7dHJ5e3RoaXMuX3BjLmNsb3NlKCl9Y2F0Y2goZSl7fX19LHtrZXk6XCJyZW1vdGVDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJyZW1vdGVDbG9zZWQoKVwiKSx0aGlzLl90cmFuc3BvcnRSZWFkeT0hMSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkJiYodGhpcy5fdHJhbnNwb3J0VXBkYXRlZD0hMSl9fV0pLHR9KG0uZGVmYXVsdCksST1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInNlbmRcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0UmVhZHk9ITEsbi5fc3RyZWFtPW5ldyBNZWRpYVN0cmVhbSxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl9zdHJlYW0uZ2V0VHJhY2tCeUlkKHIuaWQpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInRyYWNrIGFscmVhZHkgYWRkZWRcIikpO3ZhciBuPXZvaWQgMCxhPXZvaWQgMDtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJmUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9zdHJlYW0uYWRkVHJhY2sociksbj10Ll9wYy5hZGRUcmFjayhyLHQuX3N0cmVhbSksdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gci5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFJlYWR5KXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7YT1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciByPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAoYSksbj17dHlwZTpcImFuc3dlclwiLHNkcDpyPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIsZS52aWRlb0JpdHJhdGVPcHRpb25zKX07cmV0dXJuIFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsbiksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obil9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgbj1oLmNsb25lKHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGcuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhuLGEsciksbn0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dHJ5e3QuX3BjLnJlbW92ZVRyYWNrKG4pfWNhdGNoKGUpe310aHJvdyB0Ll9zdHJlYW0ucmVtb3ZlVHJhY2sociksZX0pKX19LHtrZXk6XCJyZW1vdmVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO1AuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKTtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJmUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXJ9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiUlRDUnRwU2VuZGVyIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5fcGMucmVtb3ZlVHJhY2soZSksdC5fc3RyZWFtLnJlbW92ZVRyYWNrKHIpLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoMCE9PXQuX3N0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGgpdGhyb3cgZTtQLndhcm4oXCJyZW1vdmVQcm9kdWNlcigpIHwgaWdub3JpbmcgZXhwZWN0ZWQgZXJyb3IgZHVlIG5vIHNlbmRpbmcgdHJhY2tzOiAlc1wiLGUudG9TdHJpbmcoKSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZihcInN0YWJsZVwiIT09dC5fcGMuc2lnbmFsaW5nU3RhdGUpe3ZhciByPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksbj10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpLGE9e3R5cGU6XCJhbnN3ZXJcIixzZHA6bj1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhuLGUudmlkZW9CaXRyYXRlT3B0aW9ucyl9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGEpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGEpfX0pKX19LHtrZXk6XCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztQLmRlYnVnKFwicmVwbGFjZVByb2R1Y2VyVHJhY2soKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsdC5pZCk7dmFyIG49ZS50cmFjaztyZXR1cm4gby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXIuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PW59KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwibG9jYWwgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiBlLnJlcGxhY2VUcmFjayh0KX0pKS50aGVuKChmdW5jdGlvbigpe3IuX3N0cmVhbS5yZW1vdmVUcmFjayhuKSxyLl9zdHJlYW0uYWRkVHJhY2sodCl9KSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApLHI9e3R5cGU6XCJhbnN3ZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChlKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixyKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKX0pKX19LHtrZXk6XCJfc2V0dXBUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFAuZGVidWcoXCJfc2V0dXBUcmFuc3BvcnQoKVwiKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9e30scj1lLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCxuPXAuZGVmYXVsdC5wYXJzZShyKSxhPV8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKG4pO3JldHVybiBhLnJvbGU9XCJzZXJ2ZXJcIix0LmR0bHNQYXJhbWV0ZXJzPWEsZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydExvY2FsUGFyYW1ldGVycyh0KSxlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIix0KX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRSZWFkeT0hMH0pKX19LHtrZXk6XCJnZXRQQ1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX0se2tleTpcInVwZGF0ZVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXRoaXM7UC5kZWJ1ZyhcInVwZGF0ZSBUcmFjaygpIFt0cmFja0lkOiVzXVwiLHQuaWQpO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7bi5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXQua2luZH0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe2lmKHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksZS5zaW11bGNhc3Qpe1AuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgZW5hYmxpbmcgc2ltdWxjYXN0XCIpO3ZhciBhPXAuZGVmYXVsdC5wYXJzZShyLnNkcCk7Zy5hZGRTaW11bGNhc3RGb3JUcmFjayhhLHQpLHI9e3R5cGU6XCJvZmZlclwiLHNkcDpwLmRlZmF1bHQud3JpdGUoYSl9fXJldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSxuLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cj1wLmRlZmF1bHQucGFyc2Uobi5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciB0PW4uX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAociksYT17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKX07cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsYSksbi5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgYT1oLmNsb25lKG4uX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGcuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhhLHIsdCksYX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksVD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInJlY3ZcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0Q3JlYXRlZD0hMSxuLl90cmFuc3BvcnRVcGRhdGVkPSExLG4uX2tpbmRzPW5ldyBpLmRlZmF1bHQsbi5fY29uc3VtZXJJbmZvcz1uZXcgYS5kZWZhdWx0LG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZENvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIGFscmVhZHkgYWRkZWRcIikpO3ZhciByPWUucnRwUGFyYW1ldGVycy5lbmNvZGluZ3NbMF0sYT1lLnJ0cFBhcmFtZXRlcnMucnRjcC5jbmFtZSxpPXtraW5kOmUua2luZCxzdHJlYW1JZDpcInJlY3Ytc3RyZWFtLVwiK2UuaWQsdHJhY2tJZDpcImNvbnN1bWVyLVwiK2Uua2luZCtcIi1cIitlLmlkLHNzcmM6ci5zc3JjLGNuYW1lOmF9O3JldHVybiByLnJ0eCYmci5ydHguc3NyYyYmKGkucnR4U3NyYz1yLnJ0eC5zc3JjKSx0aGlzLl9jb25zdW1lckluZm9zLnNldChlLmlkLGkpLHRoaXMuX2tpbmRzLmFkZChlLmtpbmQpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0Q3JlYXRlZClyZXR1cm4gdC5fc2V0dXBUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fa2luZHMpLCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRVcGRhdGVkKXJldHVybiB0Ll91cGRhdGVUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQuX3BjLmdldFJlY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudHJhY2s7cmV0dXJuISF0JiZ0LmlkPT09aS50cmFja0lkfSkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcInJlbW90ZSB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIGUudHJhY2t9KSl9fSx7a2V5OlwicmVtb3ZlQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpPyh0aGlzLl9jb25zdW1lckluZm9zLmRlbGV0ZShlLmlkKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9raW5kcyksKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpKTpvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIG5vdCBmb3VuZFwiKSl9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKClcIiksdGhpcy5fcmVtb3RlU2RwLnVwZGF0ZVRyYW5zcG9ydFJlbW90ZUljZVBhcmFtZXRlcnMoZSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fa2luZHMpLCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBQLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnNhZmVFbWl0QXNQcm9taXNlKFwiQG5lZWRjcmVhdGV0cmFuc3BvcnRcIixudWxsKX0pKS50aGVuKChmdW5jdGlvbih0KXtlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycyh0KSxlLl90cmFuc3BvcnRDcmVhdGVkPSEwfSkpfX0se2tleTpcIl91cGRhdGVUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJfdXBkYXRlVHJhbnNwb3J0KClcIik7dmFyIGU9dGhpcy5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsdD1wLmRlZmF1bHQucGFyc2UoZSkscj17ZHRsc1BhcmFtZXRlcnM6Xy5leHRyYWN0RHRsc1BhcmFtZXRlcnModCl9O3RoaXMuc2FmZUVtaXQoXCJAbmVlZHVwZGF0ZXRyYW5zcG9ydFwiLHIpLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQ9ITB9fSx7a2V5OlwiZ2V0UENTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyhlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGMuZGVmYXVsdCkodGhpcyxlKSxQLmRlYnVnKFwiY29uc3RydWN0b3IoKSBbZGlyZWN0aW9uOiVzLCBleHRlbmRlZFJ0cENhcGFiaWxpdGllczolb11cIix0LHIpO3ZhciBhPXZvaWQgMDtzd2l0Y2godCl7Y2FzZVwic2VuZFwiOnJldHVybiBhPXthdWRpbzp2LmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzp2LmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IEkoYSxuKTtjYXNlXCJyZWN2XCI6cmV0dXJuIGE9e2F1ZGlvOnYuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOnYuZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgVChhLG4pfX1yZXR1cm4oMCx1LmRlZmF1bHQpKGUsbnVsbCxbe2tleTpcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllcygpXCIpO3ZhciBlPW5ldyBSVENQZWVyQ29ubmVjdGlvbih7aWNlU2VydmVyczpbXSxpY2VUcmFuc3BvcnRQb2xpY3k6XCJhbGxcIixidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIn0pO3JldHVybiBlLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksZS5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIpLGUuY3JlYXRlT2ZmZXIoKS50aGVuKChmdW5jdGlvbih0KXt0cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe312YXIgcj1wLmRlZmF1bHQucGFyc2UodC5zZHApO3JldHVybiBfLmV4dHJhY3RSdHBDYXBhYmlsaXRpZXMocil9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3RyeXtlLmNsb3NlKCl9Y2F0Y2goZSl7fXRocm93IHR9KSl9fSx7a2V5OlwidGFnXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJTYWZhcmkxMVwifX1dKSxlfSgpO3QuZGVmYXVsdD1DfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49UChyKDE2KSksYT1QKHIoOCkpLGk9UChyKDgyKSksbz1QKHIoNikpLHM9UChyKDE5KSksYz1QKHIoMikpLHU9UChyKDApKSxkPVAocigxKSksbD1QKHIoMykpLHA9UChyKDQpKSxmPVAocigxMikpLG09UChyKDUpKSxoPVAocigxMCkpLHY9dyhyKDkpKSxfPXcocigxNSkpLGc9dyhyKDIwKSkseT13KHIoMzUpKSxiPVAocigzNikpLGs9UChyKDIzKSk7ZnVuY3Rpb24gdyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gUChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIFM9bmV3IG0uZGVmYXVsdChcIkZpcmVmb3g2NVwiKSxJPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4peygwLHUuZGVmYXVsdCkodGhpcyx0KTt2YXIgYT0oMCxsLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxjLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsUykpO3JldHVybiBhLl9wYz1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6bi50dXJuU2VydmVyc3x8W10saWNlVHJhbnNwb3J0UG9saWN5Om4uaWNlVHJhbnNwb3J0UG9saWN5LGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSksYS5fcnRwUGFyYW1ldGVyc0J5S2luZD1yLGEuX3JlbW90ZVNkcD1uZXcgYi5kZWZhdWx0KGUsciksYS5fcGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLChmdW5jdGlvbigpe3N3aXRjaChhLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLGF9cmV0dXJuKDAscC5kZWZhdWx0KSh0LGUpLCgwLGQuZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtTLmRlYnVnKFwiY2xvc2UoKVwiKTt0cnl7dGhpcy5fcGMuY2xvc2UoKX1jYXRjaChlKXt9fX0se2tleTpcInJlbW90ZUNsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7Uy5kZWJ1ZyhcInJlbW90ZUNsb3NlZCgpXCIpLHRoaXMuX3RyYW5zcG9ydFJlYWR5PSExLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQmJih0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSExKX19XSksdH0oaC5kZWZhdWx0KSxUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCx1LmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsbC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsYy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwic2VuZFwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRSZWFkeT0hMSxuLl90cmFja0lkcz1uZXcgcy5kZWZhdWx0LG4uX25leHRSaWQ9MSxufXJldHVybigwLHAuZGVmYXVsdCkodCxlKSwoMCxkLmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFMuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl90cmFja0lkcy5oYXMoci5pZCkpcmV0dXJuIG8uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIG49XCJpc2FjXCI7ZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihuPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpO3ZhciBhPXZvaWQgMCxzPXZvaWQgMDtyZXR1cm4gdGhpcy5fdHJhY2tJZHMuYWRkKHIuaWQpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtpZihhPXQuX3BjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT1yLmtpbmQmJlwiaW5hY3RpdmVcIj09PWUuZGlyZWN0aW9ufSkpKXJldHVybiBTLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IHJldXNpbmcgYW4gaW5hY3RpdmUgdHJhbnNjZWl2ZXJcIiksYS5kaXJlY3Rpb249XCJzZW5kb25seVwiLGEuc2VuZGVyLnJlcGxhY2VUcmFjayhyKTthPXQuX3BjLmFkZFRyYW5zY2VpdmVyKHIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciByPWEuc2VuZGVyLG49W107ZS5zaW11bGNhc3QmJihTLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKSxlLnNpbXVsY2FzdC5oaWdoJiZuLnB1c2goe3JpZDpcImhpZ2hcIit0Ll9uZXh0UmlkLGFjdGl2ZTohMCxwcmlvcml0eTpcImxvd1wiLG1heEJpdHJhdGU6ZS5zaW11bGNhc3QuaGlnaH0pLGUuc2ltdWxjYXN0Lm1lZGl1bSYmbi5wdXNoKHtyaWQ6XCJtZWRpdW1cIit0Ll9uZXh0UmlkLGFjdGl2ZTohMCxwcmlvcml0eTpcIm1lZGl1bVwiLG1heEJpdHJhdGU6ZS5zaW11bGNhc3QubWVkaXVtfSksZS5zaW11bGNhc3QubG93JiZuLnB1c2goe3JpZDpcImxvd1wiK3QuX25leHRSaWQsYWN0aXZlOiEwLHByaW9yaXR5OlwiaGlnaFwiLG1heEJpdHJhdGU6ZS5zaW11bGNhc3QubG93fSksdC5fbmV4dFJpZCsrKTt2YXIgbz1yLmdldFBhcmFtZXRlcnMoKTtyZXR1cm4gci5zZXRQYXJhbWV0ZXJzKCgwLGkuZGVmYXVsdCkoe30sbyx7ZW5jb2RpbmdzOm59KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gci5zZHA9ay5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1rLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWsuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxuKSxTLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFJlYWR5KXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cz1mLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciByPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAocyk7cj1rLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLGUudmlkZW9CaXRyYXRlT3B0aW9ucykscj1rLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMocixlLmF1ZGlvUHJvZmlsZSk7dmFyIGE9e3R5cGU6XCJhbnN3ZXJcIixzZHA6cj1rLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMocixuKX07cmV0dXJuIFMuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsYSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT12LmNsb25lKHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGkmJmkuY29kZWNzJiYoaS5jb2RlY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXswPT09ZS5taW1lVHlwZS5pbmRleE9mKFwiYXVkaW9cIikmJmUubWltZVR5cGUudG9Mb3dlckNhc2UoKSE9PVwiYXVkaW8vXCIrbiYmaS5jb2RlY3Muc3BsaWNlKHQsMSl9KSksUy5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgX3J0cFBhcmFtZXRlcnNCeUtpbmQ6ICVvIC0gcnRwUGFyYW1ldGVyczogJW9cIix0Ll9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0saSkpLHkuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhpLHMscix7bWlkOmEubWlkfSksaX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dHJ5e2EuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn1jYXRjaChlKXt9dGhyb3cgdC5fdHJhY2tJZHMuZGVsZXRlKHIuaWQpLGV9KSl9fSx7a2V5OlwicmVtb3ZlUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS50cmFjaztpZighdGhpcy5fdHJhY2tJZHMuaGFzKHIuaWQpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInRyYWNrIG5vdCBmb3VuZFwiKSk7Uy5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpO3ZhciBuPVwiaXNhY1wiO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXJ9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwibG9jYWwgdHJhY2sgbm90IGZvdW5kXCIpO3JldHVybiB0Ll9wYy5yZW1vdmVUcmFjayhlKSx0Ll90cmFja0lkcy5kZWxldGUoci5pZCksdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gci5zZHA9ay5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1rLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWsuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxuKSxTLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHI9Zi5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxhPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAocik7YT1rLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhhLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksYT1rLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoYSxlLmF1ZGlvUHJvZmlsZSk7dmFyIGk9e3R5cGU6XCJhbnN3ZXJcIixzZHA6YT1rLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoYSxuKX07cmV0dXJuIFMuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsaSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oaSl9KSl9fSx7a2V5OlwicmVwbGFjZVByb2R1Y2VyVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Uy5kZWJ1ZyhcInJlcGxhY2VQcm9kdWNlclRyYWNrKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHQuaWQpO3ZhciBuPWUudHJhY2s7cmV0dXJuIG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT1yLl9wYy5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT1ufSkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImxvY2FsIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5yZXBsYWNlVHJhY2sodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyLl90cmFja0lkcy5kZWxldGUobi5pZCksci5fdHJhY2tJZHMuYWRkKHQuaWQpfSkpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBTLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUy5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9Zi5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxyPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAoZSl9O3JldHVybiBTLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsciksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24ocil9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBTLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PXt9LHI9ZS5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsbj1mLmRlZmF1bHQucGFyc2UociksYT1nLmV4dHJhY3REdGxzUGFyYW1ldGVycyhuKTtyZXR1cm4gYS5yb2xlPVwic2VydmVyXCIsdC5kdGxzUGFyYW1ldGVycz1hLGUuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRMb2NhbFBhcmFtZXRlcnModCksZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsdCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0UmVhZHk9ITB9KSl9fSx7a2V5OlwidXBkYXRlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO1MuZGVidWcoXCJ1cGRhdGUgVHJhY2soKSBbdHJhY2tJZDolc11cIix0LmlkKTt2YXIgaT1cImlzYWNcIjtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihpPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtuPWEuX3BjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT10LmtpbmR9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYS5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtpZihyLnNkcD1rLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWsuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9ay5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLGkpLGUuc2ltdWxjYXN0KXtTLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKTt2YXIgbz1mLmRlZmF1bHQucGFyc2Uoci5zZHApO3kuYWRkUGxhbkJTaW11bGNhc3Qobyx0LHttaWQ6bi5taWR9KSxyPXt0eXBlOlwib2ZmZXJcIixzZHA6Zi5kZWZhdWx0LndyaXRlKG8pfX1yZXR1cm4gUy5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksYS5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3I9Zi5kZWZhdWx0LnBhcnNlKGEuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgdD1hLl9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO3Q9ay5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXModCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHQ9ay5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHQsZS5hdWRpb1Byb2ZpbGUpO3ZhciBuPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQ9ay5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHQsaSl9O3JldHVybiBTLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLG4pLGEuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKG4pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIG89di5jbG9uZShhLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0pO3JldHVybiBvJiZvLmNvZGVjcyYmKG8uY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK2kmJm8uY29kZWNzLnNwbGljZSh0LDEpfSkpLFMuZGVidWcoXCJ1cGRhdGVUcmFjaygpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsYS5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLG8pKSx5LmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2sobyxyLHQse21pZDpuLm1pZCxwbGFuQlNpbXVsY2FzdDohMH0pLG99KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KEkpLEM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLHUuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxsLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxjLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsXCJyZWN2XCIsZSxyKSk7cmV0dXJuIG4uX3RyYW5zcG9ydENyZWF0ZWQ9ITEsbi5fdHJhbnNwb3J0VXBkYXRlZD0hMSxuLl9jb25zdW1lckluZm9zPW5ldyBhLmRlZmF1bHQsbn1yZXR1cm4oMCxwLmRlZmF1bHQpKHQsZSksKDAsZC5kZWZhdWx0KSh0LFt7a2V5OlwiYWRkQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKFMuZGVidWcoXCJhZGRDb25zdW1lcigpIFtpZDolcywga2luZDolc11cIixlLmlkLGUua2luZCksdGhpcy5fY29uc3VtZXJJbmZvcy5oYXMoZS5pZCkpcmV0dXJuIG8uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiQ29uc3VtZXIgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIHI9ZS5ydHBQYXJhbWV0ZXJzLmVuY29kaW5nc1swXSxhPWUucnRwUGFyYW1ldGVycy5ydGNwLmNuYW1lLGk9e21pZDpcIlwiK2Uua2luZFswXStlLmlkLGtpbmQ6ZS5raW5kLGNsb3NlZDplLmNsb3NlZCxzdHJlYW1JZDpcInJlY3Ytc3RyZWFtLVwiK2UuaWQsdHJhY2tJZDpcImNvbnN1bWVyLVwiK2Uua2luZCtcIi1cIitlLmlkLHNzcmM6ci5zc3JjLGNuYW1lOmF9O3JldHVybiByLnJ0eCYmci5ydHguc3NyYyYmKGkucnR4U3NyYz1yLnJ0eC5zc3JjKSx0aGlzLl9jb25zdW1lckluZm9zLnNldChlLmlkLGkpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0Q3JlYXRlZClyZXR1cm4gdC5fc2V0dXBUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUy5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBTLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRVcGRhdGVkKXJldHVybiB0Ll91cGRhdGVUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQuX3BjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1pZD09PWkubWlkfSkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcInJlbW90ZSB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2t9KSl9fSx7a2V5OlwicmVtb3ZlQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO1MuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIFtpZDolcywga2luZDolc11cIixlLmlkLGUua2luZCk7dmFyIHI9dGhpcy5fY29uc3VtZXJJbmZvcy5nZXQoZS5pZCk7cmV0dXJuIHI/KHIuY2xvc2VkPSEwLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFMuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUy5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkpOm8uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiQ29uc3VtZXIgbm90IGZvdW5kXCIpKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUy5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9yZW1vdGVTZHAudXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVycyhlKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBTLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUy5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKX19LHtrZXk6XCJfc2V0dXBUcmFuc3BvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFMuZGVidWcoXCJfc2V0dXBUcmFuc3BvcnQoKVwiKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2FmZUVtaXRBc1Byb21pc2UoXCJAbmVlZGNyZWF0ZXRyYW5zcG9ydFwiLG51bGwpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKHQpLGUuX3RyYW5zcG9ydENyZWF0ZWQ9ITB9KSl9fSx7a2V5OlwiX3VwZGF0ZVRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7Uy5kZWJ1ZyhcIl91cGRhdGVUcmFuc3BvcnQoKVwiKTt2YXIgZT10aGlzLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCx0PWYuZGVmYXVsdC5wYXJzZShlKSxyPXtkdGxzUGFyYW1ldGVyczpnLmV4dHJhY3REdGxzUGFyYW1ldGVycyh0KX07dGhpcy5zYWZlRW1pdChcIkBuZWVkdXBkYXRldHJhbnNwb3J0XCIsciksdGhpcy5fdHJhbnNwb3J0VXBkYXRlZD0hMH19XSksdH0oSSksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLHUuZGVmYXVsdCkodGhpcyxlKSxTLmRlYnVnKFwiY29uc3RydWN0b3IoKSBbZGlyZWN0aW9uOiVzLCBleHRlbmRlZFJ0cENhcGFiaWxpdGllczolb11cIix0LHIpO3ZhciBhPXZvaWQgMDtzd2l0Y2godCl7Y2FzZVwic2VuZFwiOnJldHVybiBhPXthdWRpbzpfLmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzpfLmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sbmV3IFQoYSxuKTtjYXNlXCJyZWN2XCI6cmV0dXJuIGE9e2F1ZGlvOl8uZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOl8uZ2V0UmVjZWl2aW5nRnVsbFJ0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgQyhhLG4pfX1yZXR1cm4oMCxkLmRlZmF1bHQpKGUsbnVsbCxbe2tleTpcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Uy5kZWJ1ZyhcImdldE5hdGl2ZVJ0cENhcGFiaWxpdGllcygpXCIpO3ZhciBlPW5ldyBSVENQZWVyQ29ubmVjdGlvbih7aWNlU2VydmVyczpbXSxpY2VUcmFuc3BvcnRQb2xpY3k6XCJhbGxcIixidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCIscnRjcE11eFBvbGljeTpcInJlcXVpcmVcIn0pLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0LmdldENvbnRleHQoXCIyZFwiKTt2YXIgcj10LmNhcHR1cmVTdHJlYW0oKSxuPXIuZ2V0VmlkZW9UcmFja3MoKVswXTtyZXR1cm4gZS5hZGRUcmFjayhuLHIpLnNldFBhcmFtZXRlcnMoe2VuY29kaW5nczpbe3JpZDpcIlJJRDFcIixtYXhCaXRyYXRlOjRlNH0se3JpZDpcIlJJRDJcIixtYXhCaXRyYXRlOjFlNH1dfSksZS5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSkudGhlbigoZnVuY3Rpb24ocil7dHJ5e3QucmVtb3ZlKCl9Y2F0Y2goZSl7fXRyeXtuLnN0b3AoKX1jYXRjaChlKXt9dHJ5e2UuY2xvc2UoKX1jYXRjaChlKXt9dmFyIGE9Zi5kZWZhdWx0LnBhcnNlKHIuc2RwKTtyZXR1cm4gZy5leHRyYWN0UnRwQ2FwYWJpbGl0aWVzKGEpfSkpLmNhdGNoKChmdW5jdGlvbihyKXt0cnl7dC5yZW1vdmUoKX1jYXRjaChlKXt9dHJ5e24uc3RvcCgpfWNhdGNoKGUpe310cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe310aHJvdyByfSkpfX0se2tleTpcInRhZ1wiLGdldDpmdW5jdGlvbigpe3JldHVyblwiRmlyZWZveDY1XCJ9fV0pLGV9KCk7dC5kZWZhdWx0PVJ9LGZ1bmN0aW9uKGUsdCxyKXtyKDIwMyksZS5leHBvcnRzPXIoNykuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpO24obi5TK24uRixcIk9iamVjdFwiLHthc3NpZ246cigyMDQpfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDIyKSxhPXIoNDcpLGk9cig3NCksbz1yKDU3KSxzPXIoMzEpLGM9cig3MCksdT1PYmplY3QuYXNzaWduO2UuZXhwb3J0cz0hdXx8cigzMykoKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPVN5bWJvbCgpLG49XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiBlW3JdPTcsbi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWV9KSksNyE9dSh7fSxlKVtyXXx8T2JqZWN0LmtleXModSh7fSx0KSkuam9pbihcIlwiKSE9bn0pKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1zKGUpLHU9YXJndW1lbnRzLmxlbmd0aCxkPTEsbD1pLmYscD1vLmY7dT5kOylmb3IodmFyIGYsbT1jKGFyZ3VtZW50c1tkKytdKSxoPWw/YShtKS5jb25jYXQobChtKSk6YShtKSx2PWgubGVuZ3RoLF89MDt2Pl87KWY9aFtfKytdLG4mJiFwLmNhbGwobSxmKXx8KHJbZl09bVtmXSk7cmV0dXJuIHJ9OnV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj13KHIoMTYpKSxhPXcocig4KSksaT13KHIoODIpKSxvPXcocig2KSkscz13KHIoMikpLGM9dyhyKDApKSx1PXcocigxKSksZD13KHIoMykpLGw9dyhyKDQpKSxwPXcocigxMikpLGY9dyhyKDUpKSxtPXcocigxMCkpLGg9ayhyKDkpKSx2PWsocigxNSkpLF89ayhyKDIwKSksZz1rKHIoMzUpKSx5PXcocigzNikpLGI9dyhyKDIzKSk7ZnVuY3Rpb24gayhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIFA9bmV3IGYuZGVmYXVsdChcIkZpcmVmb3g1OVwiKSxTPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4peygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgYT0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsUCkpO3JldHVybiBhLl9wYz1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6bi50dXJuU2VydmVyc3x8W10saWNlVHJhbnNwb3J0UG9saWN5Om4uaWNlVHJhbnNwb3J0UG9saWN5LGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSksYS5fcnRwUGFyYW1ldGVyc0J5S2luZD1yLGEuX3JlbW90ZVNkcD1uZXcgeS5kZWZhdWx0KGUsciksYS5fcGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLChmdW5jdGlvbigpe3N3aXRjaChhLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLGF9cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiY2xvc2UoKVwiKTt0cnl7dGhpcy5fcGMuY2xvc2UoKX1jYXRjaChlKXt9fX0se2tleTpcInJlbW90ZUNsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcInJlbW90ZUNsb3NlZCgpXCIpLHRoaXMuX3RyYW5zcG9ydFJlYWR5PSExLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQmJih0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSExKX19XSksdH0obS5kZWZhdWx0KSxJPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwic2VuZFwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRSZWFkeT0hMSxuLl9zdHJlYW09bmV3IE1lZGlhU3RyZWFtLG4uX25leHRSaWQ9MSxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl9zdHJlYW0uZ2V0VHJhY2tCeUlkKHIuaWQpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInRyYWNrIGFscmVhZHkgYWRkZWRcIikpO3ZhciBuPVwiaXNhY1wiO2UuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYobj1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKTt2YXIgYT12b2lkIDAscz12b2lkIDA7cmV0dXJuIG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0Ll9zdHJlYW0uYWRkVHJhY2sociksYT10Ll9wYy5hZGRUcmFjayhyLHQuX3N0cmVhbSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgcj1bXTtlLnNpbXVsY2FzdCYmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgZW5hYmxpbmcgc2ltdWxjYXN0XCIpLGUuc2ltdWxjYXN0LmhpZ2gmJnIucHVzaCh7cmlkOlwiaGlnaFwiK3QuX25leHRSaWQsYWN0aXZlOiEwLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTplLnNpbXVsY2FzdC5oaWdofSksZS5zaW11bGNhc3QubWVkaXVtJiZyLnB1c2goe3JpZDpcIm1lZGl1bVwiK3QuX25leHRSaWQsYWN0aXZlOiEwLHByaW9yaXR5OlwibWVkaXVtXCIsbWF4Qml0cmF0ZTplLnNpbXVsY2FzdC5tZWRpdW19KSxlLnNpbXVsY2FzdC5sb3cmJnIucHVzaCh7cmlkOlwibG93XCIrdC5fbmV4dFJpZCxhY3RpdmU6ITAscHJpb3JpdHk6XCJoaWdoXCIsbWF4Qml0cmF0ZTplLnNpbXVsY2FzdC5sb3d9KSx0Ll9uZXh0UmlkKyspO3ZhciBuPWEuZ2V0UGFyYW1ldGVycygpO3JldHVybiBhLnNldFBhcmFtZXRlcnMoKDAsaS5kZWZhdWx0KSh7fSxuLHtlbmNvZGluZ3M6cn0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiByLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLG4pLFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLHIpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0UmVhZHkpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXtzPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHI9dC5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChzKTtyPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLGUuYXVkaW9Qcm9maWxlKTt2YXIgYT17dHlwZTpcImFuc3dlclwiLHNkcDpyPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLG4pfTtyZXR1cm4gUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixhKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihhKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBhPWguY2xvbmUodC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gYSYmYS5jb2RlY3MmJihhLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIituJiZhLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxhKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGEscyxyKSxhfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0cnl7dC5fcGMucmVtb3ZlVHJhY2soYSl9Y2F0Y2goZSl7fXRocm93IHQuX3N0cmVhbS5yZW1vdmVUcmFjayhyKSxlfSkpfX0se2tleTpcInJlbW92ZVByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUudHJhY2s7UC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpO3ZhciBuPVwiaXNhY1wiO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQuX3BjLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXJ9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiUlRDUnRwU2VuZGVyIG5vdCBmb3VuZFwiKTtyZXR1cm4gdC5fcGMucmVtb3ZlVHJhY2soZSksdC5fc3RyZWFtLnJlbW92ZVRyYWNrKHIpLHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksci5zZHA9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIuc2RwLGUuYXVkaW9Qcm9maWxlKSxyLnNkcD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoci5zZHAsbiksUC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciByPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCksYT10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO2E9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoYSxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLGE9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKGEsZS5hdWRpb1Byb2ZpbGUpO3ZhciBpPXt0eXBlOlwiYW5zd2VyXCIsc2RwOmE9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKGEsbil9O3JldHVybiBQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGkpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpfSkpfX0se2tleTpcInJlcGxhY2VQcm9kdWNlclRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO1AuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCx0LmlkKTt2YXIgbj1lLnRyYWNrO3JldHVybiBvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9ci5fcGMuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09bn0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJsb2NhbCB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIGUucmVwbGFjZVRyYWNrKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7ci5fc3RyZWFtLnJlbW92ZVRyYWNrKG4pLHIuX3N0cmVhbS5hZGRUcmFjayh0KX0pKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9yZW1vdGVTZHAudXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVycyhlKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCkscj17dHlwZTpcImFuc3dlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKGUpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLHIpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHIpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgdD17fSxyPWUuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLG49cC5kZWZhdWx0LnBhcnNlKHIpLGE9Xy5leHRyYWN0RHRsc1BhcmFtZXRlcnMobik7cmV0dXJuIGEucm9sZT1cInNlcnZlclwiLHQuZHRsc1BhcmFtZXRlcnM9YSxlLl9yZW1vdGVTZHAuc2V0VHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzKHQpLGUuc2FmZUVtaXRBc1Byb21pc2UoXCJAbmVlZGNyZWF0ZXRyYW5zcG9ydFwiLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKHQpLGUuX3RyYW5zcG9ydFJlYWR5PSEwfSkpfX0se2tleTpcInVwZGF0ZVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9dGhpcztQLmRlYnVnKFwidXBkYXRlIFRyYWNrKCkgW3RyYWNrSWQ6JXNdXCIsdC5pZCk7dmFyIGk9XCJpc2FjXCI7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYoaT1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7bj1hLl9wYy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWNlaXZlci50cmFjay5raW5kPT09dC5raW5kfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7aWYoci5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxpKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIG89cC5kZWZhdWx0LnBhcnNlKHIuc2RwKTtnLmFkZFBsYW5CU2ltdWxjYXN0KG8sdCx7bWlkOm4ubWlkfSkscj17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShvKX19cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLHIpLGEuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXtyPXAuZGVmYXVsdC5wYXJzZShhLl9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dmFyIHQ9YS5fcmVtb3RlU2RwLmNyZWF0ZUFuc3dlclNkcChyKTt0PWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHQsZS52aWRlb0JpdHJhdGVPcHRpb25zKSx0PWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyh0LGUuYXVkaW9Qcm9maWxlKTt2YXIgbj17dHlwZTpcImFuc3dlclwiLHNkcDp0PWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyh0LGkpfTtyZXR1cm4gUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixuKSxhLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBvPWguY2xvbmUoYS5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gbyYmby5jb2RlY3MmJihvLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIitpJiZvLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwidXBkYXRlVHJhY2soKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLGEuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxvKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKG8scix0LHttaWQ6bi5taWQscGxhbkJTaW11bGNhc3Q6ITB9KSxvfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyBlfSkpfX1dKSx0fShTKSxUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwicmVjdlwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRDcmVhdGVkPSExLG4uX3RyYW5zcG9ydFVwZGF0ZWQ9ITEsbi5fY29uc3VtZXJJbmZvcz1uZXcgYS5kZWZhdWx0LG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZENvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIGFscmVhZHkgYWRkZWRcIikpO3ZhciByPWUucnRwUGFyYW1ldGVycy5lbmNvZGluZ3NbMF0sYT1lLnJ0cFBhcmFtZXRlcnMucnRjcC5jbmFtZSxpPXttaWQ6XCJcIitlLmtpbmRbMF0rZS5pZCxraW5kOmUua2luZCxjbG9zZWQ6ZS5jbG9zZWQsc3RyZWFtSWQ6XCJyZWN2LXN0cmVhbS1cIitlLmlkLHRyYWNrSWQ6XCJjb25zdW1lci1cIitlLmtpbmQrXCItXCIrZS5pZCxzc3JjOnIuc3NyYyxjbmFtZTphfTtyZXR1cm4gci5ydHgmJnIucnR4LnNzcmMmJihpLnJ0eFNzcmM9ci5ydHguc3NyYyksdGhpcy5fY29uc3VtZXJJbmZvcy5zZXQoZS5pZCxpKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydENyZWF0ZWQpcmV0dXJuIHQuX3NldHVwVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0VXBkYXRlZClyZXR1cm4gdC5fdXBkYXRlVHJhbnNwb3J0KCl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT10Ll9wYy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXt2YXIgdD1lLnJlY2VpdmVyO3JldHVybiEhdCYmKCEhdC50cmFjayYmZS5taWQ9PT1pLm1pZCl9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwicmVtb3RlIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5yZWNlaXZlci50cmFja30pKX19LHtrZXk6XCJyZW1vdmVDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKTt2YXIgcj10aGlzLl9jb25zdW1lckluZm9zLmdldChlLmlkKTtyZXR1cm4gcj8oci5jbG9zZWQ9ITAsby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKSk6by5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmRcIikpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX1dKSx0fShTKSxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYy5kZWZhdWx0KSh0aGlzLGUpLFAuZGVidWcoXCJjb25zdHJ1Y3RvcigpIFtkaXJlY3Rpb246JXMsIGV4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzOiVvXVwiLHQscik7dmFyIGE9dm9pZCAwO3N3aXRjaCh0KXtjYXNlXCJzZW5kXCI6cmV0dXJuIGE9e2F1ZGlvOnYuZ2V0U2VuZGluZ1J0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOnYuZ2V0U2VuZGluZ1J0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgSShhLG4pO2Nhc2VcInJlY3ZcIjpyZXR1cm4gYT17YXVkaW86di5nZXRSZWNlaXZpbmdGdWxsUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRSZWNlaXZpbmdGdWxsUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBUKGEsbil9fXJldHVybigwLHUuZGVmYXVsdCkoZSxudWxsLFt7a2V5OlwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzKClcIik7dmFyIGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOltdLGljZVRyYW5zcG9ydFBvbGljeTpcImFsbFwiLGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSksdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3QuZ2V0Q29udGV4dChcIjJkXCIpO3ZhciByPXQuY2FwdHVyZVN0cmVhbSgpLG49ci5nZXRWaWRlb1RyYWNrcygpWzBdO3JldHVybiBlLmFkZFRyYWNrKG4scikuc2V0UGFyYW1ldGVycyh7ZW5jb2RpbmdzOlt7cmlkOlwiUklEMVwiLG1heEJpdHJhdGU6NGU0fSx7cmlkOlwiUklEMlwiLG1heEJpdHJhdGU6MWU0fV19KSxlLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KS50aGVuKChmdW5jdGlvbihyKXt0cnl7dC5yZW1vdmUoKX1jYXRjaChlKXt9dHJ5e24uc3RvcCgpfWNhdGNoKGUpe310cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe312YXIgYT1wLmRlZmF1bHQucGFyc2Uoci5zZHApO3JldHVybiBfLmV4dHJhY3RSdHBDYXBhYmlsaXRpZXMoYSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHIpe3RyeXt0LnJlbW92ZSgpfWNhdGNoKGUpe310cnl7bi5zdG9wKCl9Y2F0Y2goZSl7fXRyeXtlLmNsb3NlKCl9Y2F0Y2goZSl7fXRocm93IHJ9KSl9fSx7a2V5OlwidGFnXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJGaXJlZm94NTlcIn19XSksZX0oKTt0LmRlZmF1bHQ9Q30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXcocigxNikpLGE9dyhyKDgpKSxpPXcocig4MikpLG89dyhyKDYpKSxzPXcocigyKSksYz13KHIoMCkpLHU9dyhyKDEpKSxkPXcocigzKSksbD13KHIoNCkpLHA9dyhyKDEyKSksZj13KHIoNSkpLG09dyhyKDEwKSksaD1rKHIoOSkpLHY9ayhyKDE1KSksXz1rKHIoMjApKSxnPWsocigzNSkpLHk9dyhyKDM2KSksYj13KHIoMjMpKTtmdW5jdGlvbiBrKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiB3KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgUD1uZXcgZi5kZWZhdWx0KFwiRmlyZWZveDUwXCIpLFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBhPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxQKSk7cmV0dXJuIGEuX3BjPW5ldyBSVENQZWVyQ29ubmVjdGlvbih7aWNlU2VydmVyczpuLnR1cm5TZXJ2ZXJzfHxbXSxpY2VUcmFuc3BvcnRQb2xpY3k6bi5pY2VUcmFuc3BvcnRQb2xpY3ksYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwiLHJ0Y3BNdXhQb2xpY3k6XCJyZXF1aXJlXCJ9KSxhLl9ydHBQYXJhbWV0ZXJzQnlLaW5kPXIsYS5fcmVtb3RlU2RwPW5ldyB5LmRlZmF1bHQoZSxyKSxhLl9wYy5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKCl7c3dpdGNoKGEuX3BjLmljZUNvbm5lY3Rpb25TdGF0ZSl7Y2FzZVwiY2hlY2tpbmdcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0aW5nXCIpO2JyZWFrO2Nhc2VcImNvbm5lY3RlZFwiOmNhc2VcImNvbXBsZXRlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNvbm5lY3RlZFwiKTticmVhaztjYXNlXCJmYWlsZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJmYWlsZWRcIik7YnJlYWs7Y2FzZVwiZGlzY29ubmVjdGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZGlzY29ubmVjdGVkXCIpO2JyZWFrO2Nhc2VcImNsb3NlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNsb3NlZFwiKX19KSksYX1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVidWcoXCJjbG9zZSgpXCIpO3RyeXt0aGlzLl9wYy5jbG9zZSgpfWNhdGNoKGUpe319fSx7a2V5OlwicmVtb3RlQ2xvc2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwicmVtb3RlQ2xvc2VkKClcIiksdGhpcy5fdHJhbnNwb3J0UmVhZHk9ITEsdGhpcy5fdHJhbnNwb3J0VXBkYXRlZCYmKHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQ9ITEpfX1dKSx0fShtLmRlZmF1bHQpLEk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsXCJzZW5kXCIsZSxyKSk7cmV0dXJuIG4uX3RyYW5zcG9ydFJlYWR5PSExLG4uX3N0cmVhbT1uZXcgTWVkaWFTdHJlYW0sbi5fbmV4dFJpZD0xLG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZFByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUudHJhY2s7aWYoUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpLHRoaXMuX3N0cmVhbS5nZXRUcmFja0J5SWQoci5pZCkpcmV0dXJuIG8uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwidHJhY2sgYWxyZWFkeSBhZGRlZFwiKSk7dmFyIG49XCJpc2FjXCI7ZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihuPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpO3ZhciBhPXZvaWQgMCxzPXZvaWQgMDtyZXR1cm4gby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3QuX3N0cmVhbS5hZGRUcmFjayhyKSxhPXQuX3BjLmFkZFRyYWNrKHIsdC5fc3RyZWFtKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciByPVtdO2Uuc2ltdWxjYXN0JiYoUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIiksZS5zaW11bGNhc3QuaGlnaCYmci5wdXNoKHtyaWQ6XCJoaWdoXCIrdC5fbmV4dFJpZCxhY3RpdmU6ITAscHJpb3JpdHk6XCJsb3dcIixtYXhCaXRyYXRlOmUuc2ltdWxjYXN0LmhpZ2h9KSxlLnNpbXVsY2FzdC5tZWRpdW0mJnIucHVzaCh7cmlkOlwibWVkaXVtXCIrdC5fbmV4dFJpZCxhY3RpdmU6ITAscHJpb3JpdHk6XCJtZWRpdW1cIixtYXhCaXRyYXRlOmUuc2ltdWxjYXN0Lm1lZGl1bX0pLGUuc2ltdWxjYXN0LmxvdyYmci5wdXNoKHtyaWQ6XCJsb3dcIit0Ll9uZXh0UmlkLGFjdGl2ZTohMCxwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOmUuc2ltdWxjYXN0Lmxvd30pLHQuX25leHRSaWQrKyk7dmFyIG49YS5nZXRQYXJhbWV0ZXJzKCk7cmV0dXJuIGEuc2V0UGFyYW1ldGVycygoMCxpLmRlZmF1bHQpKHt9LG4se2VuY29kaW5nczpyfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksci5zZHA9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIuc2RwLGUuYXVkaW9Qcm9maWxlKSxyLnNkcD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoci5zZHAsbiksUC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRSZWFkeSlyZXR1cm4gdC5fc2V0dXBUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe3M9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgcj10Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHMpO3I9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMocixlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHI9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIsZS5hdWRpb1Byb2ZpbGUpO3ZhciBhPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnI9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIsbil9O3JldHVybiBQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGEpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGEpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGE9aC5jbG9uZSh0Ll9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0pO3JldHVybiBhJiZhLmNvZGVjcyYmKGEuY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK24mJmEuY29kZWNzLnNwbGljZSh0LDEpfSkpLFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsdC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLGEpKSxnLmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2soYSxzLHIpLGF9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3RyeXt0Ll9wYy5yZW1vdmVUcmFjayhhKX1jYXRjaChlKXt9dGhyb3cgdC5fc3RyZWFtLnJlbW92ZVRyYWNrKHIpLGV9KSl9fSx7a2V5OlwicmVtb3ZlUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS50cmFjaztQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCk7dmFyIG49XCJpc2FjXCI7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYobj1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09cn0pKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJSVENSdHBTZW5kZXIgbm90IGZvdW5kXCIpO3JldHVybiB0Ll9wYy5yZW1vdmVUcmFjayhlKSx0Ll9zdHJlYW0ucmVtb3ZlVHJhY2sociksdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gci5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMoci5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxyLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoci5zZHAsZS5hdWRpb1Byb2ZpbGUpLHIuc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhyLnNkcCxuKSxQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxhPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAocik7YT1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhhLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksYT1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoYSxlLmF1ZGlvUHJvZmlsZSk7dmFyIGk9e3R5cGU6XCJhbnN3ZXJcIixzZHA6YT1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoYSxuKX07cmV0dXJuIFAuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsaSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oaSl9KSl9fSx7a2V5OlwicmVwbGFjZVByb2R1Y2VyVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7UC5kZWJ1ZyhcInJlcGxhY2VQcm9kdWNlclRyYWNrKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHQuaWQpO3ZhciBuPWUudHJhY2s7cmV0dXJuIG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT1yLl9wYy5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT1ufSkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImxvY2FsIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5yZXBsYWNlVHJhY2sodCl9KSkudGhlbigoZnVuY3Rpb24oKXtyLl9zdHJlYW0ucmVtb3ZlVHJhY2sobiksci5fc3RyZWFtLmFkZFRyYWNrKHQpfSkpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxyPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAoZSl9O3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsciksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24ocil9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBQLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PXt9LHI9ZS5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsbj1wLmRlZmF1bHQucGFyc2UociksYT1fLmV4dHJhY3REdGxzUGFyYW1ldGVycyhuKTtyZXR1cm4gYS5yb2xlPVwic2VydmVyXCIsdC5kdGxzUGFyYW1ldGVycz1hLGUuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRMb2NhbFBhcmFtZXRlcnModCksZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsdCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0UmVhZHk9ITB9KSl9fSx7a2V5OlwidXBkYXRlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4sYT10aGlzO1AuZGVidWcoXCJ1cGRhdGUgVHJhY2soKSBbdHJhY2tJZDolc11cIix0LmlkKTt2YXIgaT1cImlzYWNcIjtyZXR1cm4gZS5hdWRpb1Byb2ZpbGUmJmUuYXVkaW9Qcm9maWxlLmNvZGVjJiZcIlwiIT09ZS5hdWRpb1Byb2ZpbGUuY29kZWMmJihpPWUuYXVkaW9Qcm9maWxlLmNvZGVjLnRvTG93ZXJDYXNlKCkpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtuPWEuX3BjLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT10LmtpbmR9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYS5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihyKXtpZihyLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLGkpLGUuc2ltdWxjYXN0KXtQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKTt2YXIgbz1wLmRlZmF1bHQucGFyc2Uoci5zZHApO2cuYWRkUGxhbkJTaW11bGNhc3Qobyx0LHttaWQ6bi5taWR9KSxyPXt0eXBlOlwib2ZmZXJcIixzZHA6cC5kZWZhdWx0LndyaXRlKG8pfX1yZXR1cm4gUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsciksYS5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3I9cC5kZWZhdWx0LnBhcnNlKGEuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgdD1hLl9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKHIpO3Q9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXModCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHQ9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHQsZS5hdWRpb1Byb2ZpbGUpO3ZhciBuPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQ9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHQsaSl9O3JldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLG4pLGEuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKG4pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIG89aC5jbG9uZShhLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0pO3JldHVybiBvJiZvLmNvZGVjcyYmKG8uY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7MD09PWUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpJiZlLm1pbWVUeXBlLnRvTG93ZXJDYXNlKCkhPT1cImF1ZGlvL1wiK2kmJm8uY29kZWNzLnNwbGljZSh0LDEpfSkpLFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIF9ydHBQYXJhbWV0ZXJzQnlLaW5kOiAlbyAtIHJ0cFBhcmFtZXRlcnM6ICVvXCIsYS5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdLG8pKSxnLmZpbGxSdHBQYXJhbWV0ZXJzRm9yVHJhY2sobyxyLHQse21pZDpuLm1pZCxwbGFuQlNpbXVsY2FzdDohMH0pLG99KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IGV9KSl9fV0pLHR9KFMpLFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpeygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgbj0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsXCJyZWN2XCIsZSxyKSk7bi5fdHJhbnNwb3J0Q3JlYXRlZD0hMSxuLl90cmFuc3BvcnRVcGRhdGVkPSExLG4uX2NvbnN1bWVySW5mb3M9bmV3IGEuZGVmYXVsdDtyZXR1cm4gbi5fY29uc3VtZXJJbmZvcy5zZXQoNTU1LHttaWQ6XCJmYWtlLWRjXCIsa2luZDpcImFwcGxpY2F0aW9uXCIsY2xvc2VkOiExLGNuYW1lOm51bGx9KSxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoUC5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKSx0aGlzLl9jb25zdW1lckluZm9zLmhhcyhlLmlkKSlyZXR1cm4gby5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGFkZGVkXCIpKTt2YXIgcj1lLnJ0cFBhcmFtZXRlcnMuZW5jb2RpbmdzWzBdLGE9ZS5ydHBQYXJhbWV0ZXJzLnJ0Y3AuY25hbWUsaT17bWlkOlwiXCIrZS5raW5kWzBdK2UuaWQsa2luZDplLmtpbmQsY2xvc2VkOmUuY2xvc2VkLHN0cmVhbUlkOlwicmVjdi1zdHJlYW0tXCIrZS5pZCx0cmFja0lkOlwiY29uc3VtZXItXCIrZS5raW5kK1wiLVwiK2UuaWQsc3NyYzpyLnNzcmMsY25hbWU6YX07cmV0dXJuIHIucnR4JiZyLnJ0eC5zc3JjJiYoaS5ydHhTc3JjPXIucnR4LnNzcmMpLHRoaXMuX2NvbnN1bWVySW5mb3Muc2V0KGUuaWQsaSksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2lmKCF0Ll90cmFuc3BvcnRDcmVhdGVkKXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O3JldHVybiBQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFVwZGF0ZWQpcmV0dXJuIHQuX3VwZGF0ZVRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0UmVjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cmFjaztyZXR1cm4hIXQmJnQuaWQ9PT1pLnRyYWNrSWR9KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwicmVtb3RlIHRyYWNrIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS50cmFja30pKX19LHtrZXk6XCJyZW1vdmVDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2lkOiVzLCBraW5kOiVzXVwiLGUuaWQsZS5raW5kKTt2YXIgcj10aGlzLl9jb25zdW1lckluZm9zLmdldChlLmlkKTtyZXR1cm4gcj8oci5jbG9zZWQ9ITAsby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKSk6by5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmRcIikpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpXCIpLHRoaXMuX3JlbW90ZVNkcC51cGRhdGVUcmFuc3BvcnRSZW1vdGVJY2VQYXJhbWV0ZXJzKGUpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT17dHlwZTpcIm9mZmVyXCIsc2RwOnQuX3JlbW90ZVNkcC5jcmVhdGVPZmZlclNkcCgoMCxuLmRlZmF1bHQpKHQuX2NvbnN1bWVySW5mb3MudmFsdWVzKCkpKX07cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpLHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX1dKSx0fShTKSxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYy5kZWZhdWx0KSh0aGlzLGUpLFAuZGVidWcoXCJjb25zdHJ1Y3RvcigpIFtkaXJlY3Rpb246JXMsIGV4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzOiVvXVwiLHQscik7dmFyIGE9dm9pZCAwO3N3aXRjaCh0KXtjYXNlXCJzZW5kXCI6cmV0dXJuIGE9e2F1ZGlvOnYuZ2V0U2VuZGluZ1J0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOnYuZ2V0U2VuZGluZ1J0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgSShhLG4pO2Nhc2VcInJlY3ZcIjpyZXR1cm4gYT17YXVkaW86di5nZXRSZWNlaXZpbmdGdWxsUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRSZWNlaXZpbmdGdWxsUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBUKGEsbil9fXJldHVybigwLHUuZGVmYXVsdCkoZSxudWxsLFt7a2V5OlwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzKClcIik7dmFyIGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOltdLGljZVRyYW5zcG9ydFBvbGljeTpcImFsbFwiLGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSksdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3QuZ2V0Q29udGV4dChcIjJkXCIpO3ZhciByPXQuY2FwdHVyZVN0cmVhbSgpLG49ci5nZXRWaWRlb1RyYWNrcygpWzBdO3JldHVybiBlLmFkZFRyYWNrKG4scikuc2V0UGFyYW1ldGVycyh7ZW5jb2RpbmdzOlt7cmlkOlwiUklEMVwiLG1heEJpdHJhdGU6NGU0fSx7cmlkOlwiUklEMlwiLG1heEJpdHJhdGU6MWU0fV19KSxlLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KS50aGVuKChmdW5jdGlvbihyKXt0cnl7dC5yZW1vdmUoKX1jYXRjaChlKXt9dHJ5e24uc3RvcCgpfWNhdGNoKGUpe310cnl7ZS5jbG9zZSgpfWNhdGNoKGUpe312YXIgYT1wLmRlZmF1bHQucGFyc2Uoci5zZHApO3JldHVybiBfLmV4dHJhY3RSdHBDYXBhYmlsaXRpZXMoYSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHIpe3RyeXt0LnJlbW92ZSgpfWNhdGNoKGUpe310cnl7bi5zdG9wKCl9Y2F0Y2goZSl7fXRyeXtlLmNsb3NlKCl9Y2F0Y2goZSl7fXRocm93IHJ9KSl9fSx7a2V5OlwidGFnXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJGaXJlZm94NTBcIn19XSksZX0oKTt0LmRlZmF1bHQ9Q30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPV8ocigxNykpLGE9XyhyKDgpKSxpPV8ocigyKSksbz1fKHIoNikpLHM9XyhyKDApKSxjPV8ocigzKSksdT1fKHIoMSkpLGQ9XyhyKDQpKSxsPV8ocig1KSkscD1fKHIoMTApKSxmPXYocig5KSksbT12KHIoMTUpKSxoPXYocigyMDgpKTtmdW5jdGlvbiB2KGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgZz1cIkNOQU1FLUVER0UtXCIrZi5yYW5kb21OdW1iZXIoKSx5PW5ldyBsLmRlZmF1bHQoXCJFZGdlMTFcIiksYj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG89KDAsYy5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsaS5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLHkpKTtyZXR1cm4geS5kZWJ1ZyhcImNvbnN0cnVjdG9yKCkgW2RpcmVjdGlvbjolcywgZXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXM6JW9dXCIsZSxyKSxvLl9ydHBQYXJhbWV0ZXJzQnlLaW5kPXthdWRpbzptLmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwiYXVkaW9cIixyKSx2aWRlbzptLmdldFNlbmRpbmdSdHBQYXJhbWV0ZXJzKFwidmlkZW9cIixyKX0sby5fdHJhbnNwb3J0UmVhZHk9ITEsby5faWNlR2F0aGVyZXI9bnVsbCxvLl9pY2VUcmFuc3BvcnQ9bnVsbCxvLl9kdGxzVHJhbnNwb3J0PW51bGwsby5fcnRwU2VuZGVycz1uZXcgYS5kZWZhdWx0LG8uX3J0cFJlY2VpdmVycz1uZXcgYS5kZWZhdWx0LG8uX3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnM9bnVsbCxvLl9zZXRJY2VHYXRoZXJlcihuKSxvLl9zZXRJY2VUcmFuc3BvcnQoKSxvLl9zZXREdGxzVHJhbnNwb3J0KCksb31yZXR1cm4oMCxkLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LG51bGwsW3trZXk6XCJnZXROYXRpdmVSdHBDYXBhYmlsaXRpZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5LmRlYnVnKFwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzKClcIiksby5kZWZhdWx0LnJlc29sdmUoaC5nZXRDYXBhYmlsaXRpZXMoKSl9fSx7a2V5OlwidGFnXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJFZGdlMTFcIn19XSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3kuZGVidWcoXCJjbG9zZSgpXCIpO3RyeXt0aGlzLl9pY2VHYXRoZXJlci5jbG9zZSgpfWNhdGNoKGUpe310cnl7dGhpcy5faWNlVHJhbnNwb3J0LnN0b3AoKX1jYXRjaChlKXt9dHJ5e3RoaXMuX2R0bHNUcmFuc3BvcnQuc3RvcCgpfWNhdGNoKGUpe312YXIgZT0hMCx0PSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGEsaT0oMCxuLmRlZmF1bHQpKHRoaXMuX3J0cFNlbmRlcnMudmFsdWVzKCkpOyEoZT0oYT1pLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIG89YS52YWx1ZTt0cnl7by5zdG9wKCl9Y2F0Y2goZSl7fX19Y2F0Y2goZSl7dD0hMCxyPWV9ZmluYWxseXt0cnl7IWUmJmkucmV0dXJuJiZpLnJldHVybigpfWZpbmFsbHl7aWYodCl0aHJvdyByfX12YXIgcz0hMCxjPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGQsbD0oMCxuLmRlZmF1bHQpKHRoaXMuX3J0cFJlY2VpdmVycy52YWx1ZXMoKSk7IShzPShkPWwubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgcD1kLnZhbHVlO3RyeXtwLnN0b3AoKX1jYXRjaChlKXt9fX1jYXRjaChlKXtjPSEwLHU9ZX1maW5hbGx5e3RyeXshcyYmbC5yZXR1cm4mJmwucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IHV9fX19LHtrZXk6XCJyZW1vdGVDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe3kuZGVidWcoXCJyZW1vdGVDbG9zZWQoKVwiKSx0aGlzLl90cmFuc3BvcnRSZWFkeT0hMX19LHtrZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO3JldHVybiB5LmRlYnVnKFwiYWRkUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCksdGhpcy5fcnRwU2VuZGVycy5oYXMoZS5pZCk/by5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJQcm9kdWNlciBhbHJlYWR5IGFkZGVkXCIpKTpvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFJlYWR5KXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7eS5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIG5ldyBSVENSdHBTZW5kZXIoKVwiKTt2YXIgbj1uZXcgUlRDUnRwU2VuZGVyKHIsdC5fZHRsc1RyYW5zcG9ydCksYT1mLmNsb25lKHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSksaT17c3NyYzpmLnJhbmRvbU51bWJlcigpfTthLmNvZGVjcy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm5cInJ0eFwiPT09ZS5uYW1lfSkpJiYoaS5ydHg9e3NzcmM6Zi5yYW5kb21OdW1iZXIoKX0pLGEuZW5jb2RpbmdzLnB1c2goaSksYS5ydGNwPXtjbmFtZTpnLHJlZHVjZWRTaXplOiEwLG11eDohMH07dmFyIG89aC5tYW5nbGVSdHBQYXJhbWV0ZXJzKGEpO3JldHVybiB5LmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcnRwU2VuZGVyLnNlbmQoKSBbcGFyYW1zOiVvXVwiLG8pLG4uc2VuZChvKSx0Ll9ydHBTZW5kZXJzLnNldChlLmlkLG4pLGF9KSl9fSx7a2V5OlwicmVtb3ZlUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS50cmFjaztyZXR1cm4geS5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHIuaWQpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgcj10Ll9ydHBTZW5kZXJzLmdldChlLmlkKTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJSVENSdHBTZW5kZXIgbm90IGZvdW5kXCIpO3QuX3J0cFNlbmRlcnMuZGVsZXRlKGUuaWQpO3RyeXt5LmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSB8IGNhbGxpbmcgcnRwU2VuZGVyLnN0b3AoKVwiKSxyLnN0b3AoKX1jYXRjaChlKXt5Lndhcm4oXCJydHBTZW5kZXIuc3RvcCgpIGZhaWxlZDolb1wiLGUpfX0pKX19LHtrZXk6XCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4geS5kZWJ1ZyhcInJlcGxhY2VQcm9kdWNlclRyYWNrKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHQuaWQpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgbj1yLl9ydHBTZW5kZXJzLmdldChlLmlkKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJSVENSdHBTZW5kZXIgbm90IGZvdW5kXCIpO24uc2V0VHJhY2sodCl9KSl9fSx7a2V5OlwiYWRkQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB5LmRlYnVnKFwiYWRkQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX3J0cFJlY2VpdmVycy5oYXMoZS5pZCk/by5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGFkZGVkXCIpKTpvLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFJlYWR5KXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7eS5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIG5ldyBSVENSdHBSZWNlaXZlcigpXCIpO3ZhciByPW5ldyBSVENSdHBSZWNlaXZlcih0Ll9kdGxzVHJhbnNwb3J0LGUua2luZCk7ci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoZnVuY3Rpb24oZSl7eS5lcnJvcignaWNlR2F0aGVyZXIgXCJlcnJvclwiIGV2ZW50IFtldmVudDolb10nLGUpfSkpO3ZhciBuPWgubWFuZ2xlUnRwUGFyYW1ldGVycyhlLnJ0cFBhcmFtZXRlcnMpO3JldHVybiBuLmhlYWRlckV4dGVuc2lvbnM9bi5oZWFkZXJFeHRlbnNpb25zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJ1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzZGVzOm1pZFwiIT09ZS51cml9KSkseS5kZWJ1ZyhcImFkZENvbnN1bWVyKCkgfCBjYWxsaW5nIHJ0cFJlY2VpdmVyLnJlY2VpdmUoKSBbcGFyYW1zOiVvXVwiLG4pLHIucmVjZWl2ZShuKSx0Ll9ydHBSZWNlaXZlcnMuc2V0KGUuaWQsciksci50cmFja30pKX19LHtrZXk6XCJyZW1vdmVDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHkuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIFtpZDolcywga2luZDolc11cIixlLmlkLGUua2luZCksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciByPXQuX3J0cFJlY2VpdmVycy5nZXQoZS5pZCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiUlRDUnRwUmVjZWl2ZXIgbm90IGZvdW5kXCIpO3QuX3J0cFJlY2VpdmVycy5kZWxldGUoZS5pZCk7dHJ5e3kuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIHwgY2FsbGluZyBydHBSZWNlaXZlci5zdG9wKClcIiksci5zdG9wKCl9Y2F0Y2goZSl7eS53YXJuKFwicnRwUmVjZWl2ZXIuc3RvcCgpIGZhaWxlZDolb1wiLGUpfX0pKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt5LmRlYnVnKFwicmVzdGFydEljZSgpXCIpLG8uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0Ll90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZVBhcmFtZXRlcnM9ZTt2YXIgcj10Ll90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLmljZUNhbmRpZGF0ZXM7eS5kZWJ1ZyhcInJlc3RhcnRJY2UoKSB8IGNhbGxpbmcgaWNlVHJhbnNwb3J0LnN0YXJ0KClcIiksdC5faWNlVHJhbnNwb3J0LnN0YXJ0KHQuX2ljZUdhdGhlcmVyLGUsXCJjb250cm9sbGluZ1wiKTt2YXIgYT0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsYz0oMCxuLmRlZmF1bHQpKHIpOyEoYT0ocz1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIHU9cy52YWx1ZTt0Ll9pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHUpfX1jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXshYSYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXQuX2ljZVRyYW5zcG9ydC5hZGRSZW1vdGVDYW5kaWRhdGUoe30pfSkpfX0se2tleTpcIl9zZXRJY2VHYXRoZXJlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBSVENJY2VHYXRoZXJlcih7aWNlU2VydmVyczplLnR1cm5TZXJ2ZXJzfHxbXSxnYXRoZXJQb2xpY3k6ZS5pY2VUcmFuc3BvcnRQb2xpY3l9KTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLChmdW5jdGlvbihlKXt5LmVycm9yKCdpY2VHYXRoZXJlciBcImVycm9yXCIgZXZlbnQgW2V2ZW50OiVvXScsZSl9KSk7dHJ5e3QuZ2F0aGVyKCl9Y2F0Y2goZSl7eS5kZWJ1ZyhcImljZUdhdGhlcmVyLmdhdGhlcigpIGZhaWxlZDogJXNcIixlLnRvU3RyaW5nKCkpfXRoaXMuX2ljZUdhdGhlcmVyPXR9fSx7a2V5OlwiX3NldEljZVRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBSVENJY2VUcmFuc3BvcnQodGhpcy5faWNlR2F0aGVyZXIpO3QuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKCl7c3dpdGNoKHQuc3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6ZS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjplLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6ZS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmUuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjplLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImljZXN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKCl7c3dpdGNoKHQuc3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6ZS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjplLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6ZS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmUuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjplLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImNhbmRpZGF0ZXBhaXJjaGFuZ2VcIiwoZnVuY3Rpb24oZSl7eS5kZWJ1ZygnaWNlVHJhbnNwb3J0IFwiY2FuZGlkYXRlcGFpcmNoYW5nZVwiIGV2ZW50IFtwYWlyOiVvXScsZS5wYWlyKX0pKSx0aGlzLl9pY2VUcmFuc3BvcnQ9dH19LHtrZXk6XCJfc2V0RHRsc1RyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBSVENEdGxzVHJhbnNwb3J0KHRoaXMuX2ljZVRyYW5zcG9ydCk7dC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oKXt5LmRlYnVnKCdkdGxzVHJhbnNwb3J0IFwic3RhdGVjaGFuZ2VcIiBldmVudCBbc3RhdGU6JXNdJyx0LnN0YXRlKX0pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJkdGxzc3RhdGVjaGFuZ2VcIiwoZnVuY3Rpb24oKXt5LmRlYnVnKCdkdGxzVHJhbnNwb3J0IFwiZHRsc3N0YXRlY2hhbmdlXCIgZXZlbnQgW3N0YXRlOiVzXScsdC5zdGF0ZSksXCJjbG9zZWRcIj09PXQuc3RhdGUmJmUuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImNsb3NlZFwiKX0pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLChmdW5jdGlvbihlKXt5LmVycm9yKCdkdGxzVHJhbnNwb3J0IFwiZXJyb3JcIiBldmVudCBbZXZlbnQ6JW9dJyxlKX0pKSx0aGlzLl9kdGxzVHJhbnNwb3J0PXR9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB5LmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksby5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PXt9LHI9ZS5fZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKTtyZXR1cm4gci5yb2xlPVwic2VydmVyXCIsdC5kdGxzUGFyYW1ldGVycz1yLGUuc2FmZUVtaXRBc1Byb21pc2UoXCJAbmVlZGNyZWF0ZXRyYW5zcG9ydFwiLHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnM9dDt2YXIgcj10LmljZVBhcmFtZXRlcnMsYT10LmljZUNhbmRpZGF0ZXMsaT10LmR0bHNQYXJhbWV0ZXJzO2UuX2ljZVRyYW5zcG9ydC5zdGFydChlLl9pY2VHYXRoZXJlcixyLFwiY29udHJvbGxpbmdcIik7dmFyIG89ITAscz0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGQ9KDAsbi5kZWZhdWx0KShhKTshKG89KHU9ZC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBsPXUudmFsdWU7ZS5faWNlVHJhbnNwb3J0LmFkZFJlbW90ZUNhbmRpZGF0ZShsKX19Y2F0Y2goZSl7cz0hMCxjPWV9ZmluYWxseXt0cnl7IW8mJmQucmV0dXJuJiZkLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBjfX1lLl9pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KSxpLmZpbmdlcnByaW50cz1pLmZpbmdlcnByaW50cy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwic2hhLTI1NlwiPT09ZS5hbGdvcml0aG18fFwic2hhLTM4NFwiPT09ZS5hbGdvcml0aG18fFwic2hhLTUxMlwiPT09ZS5hbGdvcml0aG19KSksZS5fZHRsc1RyYW5zcG9ydC5zdGFydChpKSxlLl90cmFuc3BvcnRSZWFkeT0hMH0pKX19XSksdH0ocC5kZWZhdWx0KTt0LmRlZmF1bHQ9Yn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuLGE9cigxNyksaT0obj1hKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dC5nZXRDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXt2YXIgZT1SVENSdHBSZWNlaXZlci5nZXRDYXBhYmlsaXRpZXMoKSx0PW8uY2xvbmUoZSkscj0hMCxuPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHMsYz0oMCxpLmRlZmF1bHQpKHQuY29kZWNzKTshKHI9KHM9Yy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PXMudmFsdWU7aWYodS5jaGFubmVscz11Lm51bUNoYW5uZWxzLGRlbGV0ZSB1Lm51bUNoYW5uZWxzLFwiYXVkaW9cIiE9PXUua2luZD9kZWxldGUgdS5jaGFubmVsczp1LmNoYW5uZWxzfHwodS5jaGFubmVscz0xKSx1Lm1pbWVUeXBlPXUua2luZCtcIi9cIit1Lm5hbWUsdS5wYXJhbWV0ZXJzKXt2YXIgZD11LnBhcmFtZXRlcnM7ZC5hcHQmJihkLmFwdD1OdW1iZXIoZC5hcHQpKSxkW1wicGFja2V0aXphdGlvbi1tb2RlXCJdJiYoZFtcInBhY2tldGl6YXRpb24tbW9kZVwiXT1OdW1iZXIoZFtcInBhY2tldGl6YXRpb24tbW9kZVwiXSkpfXZhciBsPSEwLHA9ITEsZj12b2lkIDA7dHJ5e2Zvcih2YXIgbSxoPSgwLGkuZGVmYXVsdCkodS5ydGNwRmVlZGJhY2t8fFtdKTshKGw9KG09aC5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciB2PW0udmFsdWU7di5wYXJhbWV0ZXJ8fGRlbGV0ZSB2LnBhcmFtZXRlcn19Y2F0Y2goZSl7cD0hMCxmPWV9ZmluYWxseXt0cnl7IWwmJmgucmV0dXJuJiZoLnJldHVybigpfWZpbmFsbHl7aWYocCl0aHJvdyBmfX19fWNhdGNoKGUpe249ITAsYT1lfWZpbmFsbHl7dHJ5eyFyJiZjLnJldHVybiYmYy5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgYX19cmV0dXJuIHR9LHQubWFuZ2xlUnRwUGFyYW1ldGVycz1mdW5jdGlvbihlKXt2YXIgdD1vLmNsb25lKGUpLHI9ITAsbj0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBzLGM9KDAsaS5kZWZhdWx0KSh0LmNvZGVjcyk7IShyPShzPWMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1zLnZhbHVlO3UuY2hhbm5lbHMmJih1Lm51bUNoYW5uZWxzPXUuY2hhbm5lbHMsZGVsZXRlIHUuY2hhbm5lbHMpLGRlbGV0ZSB1Lm1pbWVUeXBlfX1jYXRjaChlKXtuPSEwLGE9ZX1maW5hbGx5e3RyeXshciYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IGF9fXJldHVybiB0fTt2YXIgbz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoOSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49dyhyKDE2KSksYT13KHIoOCkpLGk9dyhyKDYpKSxvPXcocigxOSkpLHM9dyhyKDIpKSxjPXcocigwKSksdT13KHIoMSkpLGQ9dyhyKDMpKSxsPXcocig0KSkscD13KHIoMTIpKSxmPXcocig1KSksbT13KHIoMTApKSxoPWsocig5KSksdj1rKHIoMTUpKSxfPWsocigyMCkpLGc9ayhyKDQyKSkseT13KHIoNDMpKSxiPXcocigyMykpO2Z1bmN0aW9uIGsoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBQPW5ldyBmLmRlZmF1bHQoXCJSZWFjdE5hdGl2ZVwiKSxTPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4peygwLGMuZGVmYXVsdCkodGhpcyx0KTt2YXIgYT0oMCxkLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxzLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsUCkpO3JldHVybiBhLl9wYz1uZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6bi50dXJuU2VydmVyc3x8W10saWNlVHJhbnNwb3J0UG9saWN5Om4uaWNlVHJhbnNwb3J0UG9saWN5LGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSksYS5fcnRwUGFyYW1ldGVyc0J5S2luZD1yLGEuX3JlbW90ZVNkcD1uZXcgeS5kZWZhdWx0KGUsciksYS5fcGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLChmdW5jdGlvbigpe3N3aXRjaChhLl9wYy5pY2VDb25uZWN0aW9uU3RhdGUpe2Nhc2VcImNoZWNraW5nXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiY29ubmVjdGluZ1wiKTticmVhaztjYXNlXCJjb25uZWN0ZWRcIjpjYXNlXCJjb21wbGV0ZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjb25uZWN0ZWRcIik7YnJlYWs7Y2FzZVwiZmFpbGVkXCI6YS5lbWl0KFwiQGNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLFwiZmFpbGVkXCIpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmEuZW1pdChcIkBjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixcImRpc2Nvbm5lY3RlZFwiKTticmVhaztjYXNlXCJjbG9zZWRcIjphLmVtaXQoXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsXCJjbG9zZWRcIil9fSkpLGF9cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiY2xvc2UoKVwiKTt0cnl7dGhpcy5fcGMuY2xvc2UoKX1jYXRjaChlKXt9fX0se2tleTpcInJlbW90ZUNsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZWJ1ZyhcInJlbW90ZUNsb3NlZCgpXCIpLHRoaXMuX3RyYW5zcG9ydFJlYWR5PSExLHRoaXMuX3RyYW5zcG9ydFVwZGF0ZWQmJih0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSExKX19XSksdH0obS5kZWZhdWx0KSxJPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFwic2VuZFwiLGUscikpO3JldHVybiBuLl90cmFuc3BvcnRSZWFkeT0hMSxuLl90cmFja3M9bmV3IG8uZGVmYXVsdCxufXJldHVybigwLGwuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJhZGRQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnRyYWNrO2lmKFAuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtpZDolcywga2luZDolcywgdHJhY2tJZDolc11cIixlLmlkLGUua2luZCxyLmlkKSx0aGlzLl90cmFja3MuaGFzKHIpKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInRyYWNrIGFscmVhZHkgYWRkZWRcIikpO2lmKCFyLnN0cmVhbVJlYWN0VGFnKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIm5vIHRyYWNrLnN0cmVhbVJlYWN0VGFnIHByb3BlcnR5XCIpKTt2YXIgbj1cImlzYWNcIjtlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSk7dmFyIGE9dm9pZCAwLG89dm9pZCAwO3JldHVybiBpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3RyYWNrcy5hZGQociksKGE9bmV3IE1lZGlhU3RyZWFtKHIuc3RyZWFtUmVhY3RUYWcpKS5hZGRUcmFjayhyKSx0Ll9wYy5hZGRTdHJlYW0oYSksdC5fcGMuY3JlYXRlT2ZmZXIoKX0pKS50aGVuKChmdW5jdGlvbihhKXtpZihhLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhhLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLGEuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhhLnNkcCxlLmF1ZGlvUHJvZmlsZSksYS5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKGEuc2RwLG4pLGUuc2ltdWxjYXN0KXtQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGVuYWJsaW5nIHNpbXVsY2FzdFwiKTt2YXIgaT1wLmRlZmF1bHQucGFyc2UoYS5zZHApO2cuYWRkU2ltdWxjYXN0Rm9yVHJhY2soaSxyKSxhPXt0eXBlOlwib2ZmZXJcIixzZHA6cC5kZWZhdWx0LndyaXRlKGkpfX1QLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixhKTt2YXIgbz1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGEpO3JldHVybiB0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKG8pfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFJlYWR5KXJldHVybiB0Ll9zZXR1cFRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7bz1wLmRlZmF1bHQucGFyc2UodC5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciByPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAobyk7cj1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLGUudmlkZW9CaXRyYXRlT3B0aW9ucykscj1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMocixlLmF1ZGlvUHJvZmlsZSk7dmFyIGE9e3R5cGU6XCJhbnN3ZXJcIixzZHA6cj1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMocixuKX07UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixhKTt2YXIgaT1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGEpO3JldHVybiB0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihpKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBhPWguY2xvbmUodC5fcnRwUGFyYW1ldGVyc0J5S2luZFtlLmtpbmRdKTtyZXR1cm4gYSYmYS5jb2RlY3MmJihhLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIituJiZhLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwiYWRkUHJvZHVjZXIoKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLHQuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxhKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKGEsbyxyKSxhfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyB0Ll90cmFja3MuZGVsZXRlKHIpLGEucmVtb3ZlVHJhY2sociksdC5fcGMucmVtb3ZlU3RyZWFtKGEpLGV9KSl9fSx7a2V5OlwicmVtb3ZlUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS50cmFjaztpZihQLmRlYnVnKFwicmVtb3ZlUHJvZHVjZXIoKSBbaWQ6JXMsIGtpbmQ6JXMsIHRyYWNrSWQ6JXNdXCIsZS5pZCxlLmtpbmQsci5pZCksIXIuc3RyZWFtUmVhY3RUYWcpcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwibm8gdHJhY2suc3RyZWFtUmVhY3RUYWcgcHJvcGVydHlcIikpO3ZhciBuPVwiaXNhY1wiO3JldHVybiBlLmF1ZGlvUHJvZmlsZSYmZS5hdWRpb1Byb2ZpbGUuY29kZWMmJlwiXCIhPT1lLmF1ZGlvUHJvZmlsZS5jb2RlYyYmKG49ZS5hdWRpb1Byb2ZpbGUuY29kZWMudG9Mb3dlckNhc2UoKSksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3QuX3RyYWNrcy5kZWxldGUocik7dmFyIGU9bmV3IE1lZGlhU3RyZWFtKHIuc3RyZWFtUmVhY3RUYWcpO3JldHVybiBlLmFkZFRyYWNrKHIpLHQuX3BjLnJlbW92ZVN0cmVhbShlKSx0Ll9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe3JldHVybiByLnNkcD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhyLnNkcCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHIuc2RwPWIuZGVmYXVsdC5zZXRPcHVzQXR0cmlidXRlcyhyLnNkcCxlLmF1ZGlvUHJvZmlsZSksci5zZHA9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHIuc2RwLG4pLFAuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLHIpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24ocil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKDAhPT10Ll90cmFja3Muc2l6ZSl0aHJvdyBlO1Aud2FybihcInJlbW92ZVByb2R1Y2VyKCkgfCBpZ25vcmluZyBleHBlY3RlZCBlcnJvciBkdWUgbm8gc2VuZGluZyB0cmFja3M6ICVzXCIsZS50b1N0cmluZygpKX0pKS50aGVuKChmdW5jdGlvbigpe2lmKFwic3RhYmxlXCIhPT10Ll9wYy5zaWduYWxpbmdTdGF0ZSl7dmFyIHI9cC5kZWZhdWx0LnBhcnNlKHQuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKSxhPXQuX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAocik7YT1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyhhLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksYT1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMoYSxlLmF1ZGlvUHJvZmlsZSk7dmFyIGk9e3R5cGU6XCJhbnN3ZXJcIixzZHA6YT1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoYSxuKX07UC5kZWJ1ZyhcInJlbW92ZVByb2R1Y2VyKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixpKTt2YXIgbz1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGkpO3JldHVybiB0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihvKX19KSl9fSx7a2V5OlwicmVwbGFjZVByb2R1Y2VyVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoUC5kZWJ1ZyhcInJlcGxhY2VQcm9kdWNlclRyYWNrKCkgW2lkOiVzLCBraW5kOiVzLCB0cmFja0lkOiVzXVwiLGUuaWQsZS5raW5kLHQuaWQpLCF0LnN0cmVhbVJlYWN0VGFnKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIm5vIHRyYWNrLnN0cmVhbVJlYWN0VGFnIHByb3BlcnR5XCIpKTt2YXIgbj1lLnRyYWNrLGE9dm9pZCAwLG89dm9pZCAwLHM9XCJpc2FjXCI7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYocz1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHIuX3RyYWNrcy5hZGQodCksci5fdHJhY2tzLmRlbGV0ZShuKSwoYT1uZXcgTWVkaWFTdHJlYW0odC5zdHJlYW1SZWFjdFRhZykpLmFkZFRyYWNrKHQpLGEucmVtb3ZlVHJhY2sobiksci5fcGMuYWRkU3RyZWFtKGEpLHIuX3BjLmNyZWF0ZU9mZmVyKCl9KSkudGhlbigoZnVuY3Rpb24obil7aWYobi5zZHA9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXMobi5zZHAsZS52aWRlb0JpdHJhdGVPcHRpb25zKSxuLnNkcD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXMobi5zZHAsZS5hdWRpb1Byb2ZpbGUpLG4uc2RwPWIuZGVmYXVsdC5zZXRTcGVjaWFsQXVkaW9Db2RlYyhuLnNkcCxzKSxlLnNpbXVsY2FzdCl7UC5kZWJ1ZyhcImFkZFByb2R1Y2VyKCkgfCBlbmFibGluZyBzaW11bGNhc3RcIik7dmFyIGE9cC5kZWZhdWx0LnBhcnNlKG4uc2RwKTtnLmFkZFNpbXVsY2FzdEZvclRyYWNrKGEsdCksbj17dHlwZTpcIm9mZmVyXCIsc2RwOnAuZGVmYXVsdC53cml0ZShhKX19UC5kZWJ1ZyhcInJlcGxhY2VQcm9kdWNlclRyYWNrKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsbik7dmFyIGk9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihuKTtyZXR1cm4gci5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihpKX0pKS50aGVuKChmdW5jdGlvbigpe289cC5kZWZhdWx0LnBhcnNlKHIuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwKTt2YXIgdD1yLl9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKG8pO3Q9Yi5kZWZhdWx0LnNldFZpZGVvQml0cmF0ZXModCxlLnZpZGVvQml0cmF0ZU9wdGlvbnMpLHQ9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHQsZS5hdWRpb1Byb2ZpbGUpO3ZhciBuPXt0eXBlOlwiYW5zd2VyXCIsc2RwOnQ9Yi5kZWZhdWx0LnNldFNwZWNpYWxBdWRpb0NvZGVjKHQscyl9O1AuZGVidWcoXCJyZXBsYWNlUHJvZHVjZXJUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsbik7dmFyIGE9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihuKTtyZXR1cm4gci5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oYSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgbj1oLmNsb25lKHIuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7biYmbi5jb2RlY3MmJihuLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpezA9PT1lLm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKSYmZS5taW1lVHlwZS50b0xvd2VyQ2FzZSgpIT09XCJhdWRpby9cIitzJiZuLmNvZGVjcy5zcGxpY2UodCwxKX0pKSxQLmRlYnVnKFwicmVwbGFjZVByb2R1Y2VyVHJhY2soKSBfcnRwUGFyYW1ldGVyc0J5S2luZDogJW8gLSBydHBQYXJhbWV0ZXJzOiAlb1wiLHIuX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSxuKSksZy5maWxsUnRwUGFyYW1ldGVyc0ZvclRyYWNrKG4sbyx0KSxyLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGVwcm9kdWNlclwiLGUsbil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IHIuX3RyYWNrcy5kZWxldGUodCksYS5yZW1vdmVUcmFjayh0KSxyLl9wYy5hZGRTdHJlYW0oYSksZX0pKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9yZW1vdGVTZHAudXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVycyhlKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSksdC5fcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXAuZGVmYXVsdC5wYXJzZSh0Ll9wYy5sb2NhbERlc2NyaXB0aW9uLnNkcCkscj17dHlwZTpcImFuc3dlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlQW5zd2VyU2RwKGUpfTtQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIscik7dmFyIG49bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihyKTtyZXR1cm4gdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obil9KSl9fSx7a2V5OlwiX3NldHVwVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBQLmRlYnVnKFwiX3NldHVwVHJhbnNwb3J0KClcIiksaS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3ZhciB0PXt9LHI9ZS5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHAsbj1wLmRlZmF1bHQucGFyc2UociksYT1fLmV4dHJhY3REdGxzUGFyYW1ldGVycyhuKTtyZXR1cm4gYS5yb2xlPVwic2VydmVyXCIsdC5kdGxzUGFyYW1ldGVycz1hLGUuX3JlbW90ZVNkcC5zZXRUcmFuc3BvcnRMb2NhbFBhcmFtZXRlcnModCksZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsdCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0UmVhZHk9ITB9KSl9fSx7a2V5OlwidXBkYXRlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcztQLmRlYnVnKFwidXBkYXRlIFRyYWNrKCkgW3RyYWNrSWQ6JXNdXCIsdC5pZCk7dmFyIGE9XCJpc2FjXCI7cmV0dXJuIGUuYXVkaW9Qcm9maWxlJiZlLmF1ZGlvUHJvZmlsZS5jb2RlYyYmXCJcIiE9PWUuYXVkaW9Qcm9maWxlLmNvZGVjJiYoYT1lLmF1ZGlvUHJvZmlsZS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7bi5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIudHJhY2sua2luZD09PXQua2luZH0pKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLl9wYy5jcmVhdGVPZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe2lmKHIuc2RwPWIuZGVmYXVsdC5zZXRWaWRlb0JpdHJhdGVzKHIuc2RwLGUudmlkZW9CaXRyYXRlT3B0aW9ucyksci5zZHA9Yi5kZWZhdWx0LnNldE9wdXNBdHRyaWJ1dGVzKHIuc2RwLGUuYXVkaW9Qcm9maWxlKSxyLnNkcD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWMoci5zZHAsYSksZS5zaW11bGNhc3Qpe1AuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgZW5hYmxpbmcgc2ltdWxjYXN0XCIpO3ZhciBpPXAuZGVmYXVsdC5wYXJzZShyLnNkcCk7Zy5hZGRTaW11bGNhc3RGb3JUcmFjayhpLHQpLHI9e3R5cGU6XCJvZmZlclwiLHNkcDpwLmRlZmF1bHQud3JpdGUoaSl9fXJldHVybiBQLmRlYnVnKFwidXBkYXRlVHJhY2soKSB8IGNhbGxpbmcgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixyKSxuLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cj1wLmRlZmF1bHQucGFyc2Uobi5fcGMubG9jYWxEZXNjcmlwdGlvbi5zZHApO3ZhciB0PW4uX3JlbW90ZVNkcC5jcmVhdGVBbnN3ZXJTZHAocik7dD1iLmRlZmF1bHQuc2V0VmlkZW9CaXRyYXRlcyh0LGUudmlkZW9CaXRyYXRlT3B0aW9ucyksdD1iLmRlZmF1bHQuc2V0T3B1c0F0dHJpYnV0ZXModCxlLmF1ZGlvUHJvZmlsZSk7dmFyIGk9e3R5cGU6XCJhbnN3ZXJcIixzZHA6dD1iLmRlZmF1bHQuc2V0U3BlY2lhbEF1ZGlvQ29kZWModCxhKX07cmV0dXJuIFAuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFthbnN3ZXI6JW9dXCIsaSksbi5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oaSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgaT1oLmNsb25lKG4uX3J0cFBhcmFtZXRlcnNCeUtpbmRbZS5raW5kXSk7cmV0dXJuIGkmJmkuY29kZWNzJiYoaS5jb2RlY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXswPT09ZS5taW1lVHlwZS5pbmRleE9mKFwiYXVkaW9cIikmJmUubWltZVR5cGUudG9Mb3dlckNhc2UoKSE9PVwiYXVkaW8vXCIrYSYmaS5jb2RlY3Muc3BsaWNlKHQsMSl9KSksUC5kZWJ1ZyhcInVwZGF0ZVRyYWNrKCkgX3J0cFBhcmFtZXRlcnNCeUtpbmQ6ICVvIC0gcnRwUGFyYW1ldGVyczogJW9cIixuLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2Uua2luZF0saSkpLGcuZmlsbFJ0cFBhcmFtZXRlcnNGb3JUcmFjayhpLHIsdCksaX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgZX0pKX19XSksdH0oUyksVD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7KDAsYy5kZWZhdWx0KSh0aGlzLHQpO3ZhciBuPSgwLGQuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkodCkpLmNhbGwodGhpcyxcInJlY3ZcIixlLHIpKTtyZXR1cm4gbi5fdHJhbnNwb3J0Q3JlYXRlZD0hMSxuLl90cmFuc3BvcnRVcGRhdGVkPSExLG4uX2tpbmRzPW5ldyBvLmRlZmF1bHQsbi5fY29uc3VtZXJJbmZvcz1uZXcgYS5kZWZhdWx0LG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxbe2tleTpcImFkZENvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpKXJldHVybiBpLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIkNvbnN1bWVyIGFscmVhZHkgYWRkZWRcIikpO3ZhciByPWUucnRwUGFyYW1ldGVycy5lbmNvZGluZ3NbMF0sYT1lLnJ0cFBhcmFtZXRlcnMucnRjcC5jbmFtZSxvPXtraW5kOmUua2luZCxzdHJlYW1JZDpcInJlY3Ytc3RyZWFtLVwiK2UuaWQsdHJhY2tJZDpcImNvbnN1bWVyLVwiK2Uua2luZCtcIi1cIitlLmlkLHNzcmM6ci5zc3JjLGNuYW1lOmF9O3JldHVybiByLnJ0eCYmci5ydHguc3NyYyYmKG8ucnR4U3NyYz1yLnJ0eC5zc3JjKSx0aGlzLl9jb25zdW1lckluZm9zLnNldChlLmlkLG8pLHRoaXMuX2tpbmRzLmFkZChlLmtpbmQpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtpZighdC5fdHJhbnNwb3J0Q3JlYXRlZClyZXR1cm4gdC5fc2V0dXBUcmFuc3BvcnQoKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOlwib2ZmZXJcIixzZHA6dC5fcmVtb3RlU2RwLmNyZWF0ZU9mZmVyU2RwKCgwLG4uZGVmYXVsdCkodC5fa2luZHMpLCgwLG4uZGVmYXVsdCkodC5fY29uc3VtZXJJbmZvcy52YWx1ZXMoKSkpfTtQLmRlYnVnKFwiYWRkQ29uc3VtZXIoKSB8IGNhbGxpbmcgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oKSBbb2ZmZXI6JW9dXCIsZSk7dmFyIHI9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihlKTtyZXR1cm4gdC5fcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24ocil9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcGMuY3JlYXRlQW5zd2VyKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFAuZGVidWcoXCJhZGRDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7aWYoIXQuX3RyYW5zcG9ydFVwZGF0ZWQpcmV0dXJuIHQuX3VwZGF0ZVRyYW5zcG9ydCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGMuZ2V0UmVtb3RlU3RyZWFtcygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09by5zdHJlYW1JZH0pKSxyPWUuZ2V0VHJhY2tCeUlkKG8udHJhY2tJZCk7aWYoci5zdHJlYW1SZWFjdFRhZz1lLnJlYWN0VGFnLCFyKXRocm93IG5ldyBFcnJvcihcInJlbW90ZSB0cmFjayBub3QgZm91bmRcIik7cmV0dXJuIHJ9KSl9fSx7a2V5OlwicmVtb3ZlQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBQLmRlYnVnKFwicmVtb3ZlQ29uc3VtZXIoKSBbaWQ6JXMsIGtpbmQ6JXNdXCIsZS5pZCxlLmtpbmQpLHRoaXMuX2NvbnN1bWVySW5mb3MuaGFzKGUuaWQpPyh0aGlzLl9jb25zdW1lckluZm9zLmRlbGV0ZShlLmlkKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9raW5kcyksKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O1AuZGVidWcoXCJyZW1vdmVDb25zdW1lcigpIHwgY2FsbGluZyBwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbigpIFtvZmZlcjolb11cIixlKTt2YXIgcj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGUpO3JldHVybiB0Ll9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9wYy5jcmVhdGVBbnN3ZXIoKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gUC5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgfCBjYWxsaW5nIHBjLnNldExvY2FsRGVzY3JpcHRpb24oKSBbYW5zd2VyOiVvXVwiLGUpLHQuX3BjLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkpOmkuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiQ29uc3VtZXIgbm90IGZvdW5kXCIpKX19LHtrZXk6XCJyZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9yZW1vdGVTZHAudXBkYXRlVHJhbnNwb3J0UmVtb3RlSWNlUGFyYW1ldGVycyhlKSxpLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJvZmZlclwiLHNkcDp0Ll9yZW1vdGVTZHAuY3JlYXRlT2ZmZXJTZHAoKDAsbi5kZWZhdWx0KSh0Ll9raW5kcyksKDAsbi5kZWZhdWx0KSh0Ll9jb25zdW1lckluZm9zLnZhbHVlcygpKSl9O1AuZGVidWcoXCJyZXN0YXJ0SWNlKCkgfCBjYWxsaW5nIHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKCkgW29mZmVyOiVvXVwiLGUpO3ZhciByPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZSk7cmV0dXJuIHQuX3BjLnNldFJlbW90ZURlc2NyaXB0aW9uKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3BjLmNyZWF0ZUFuc3dlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlYnVnKFwicmVzdGFydEljZSgpIHwgY2FsbGluZyBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKCkgW2Fuc3dlcjolb11cIixlKSx0Ll9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkpfX0se2tleTpcIl9zZXR1cFRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5kZWJ1ZyhcIl9zZXR1cFRyYW5zcG9ydCgpXCIpLGkuZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zYWZlRW1pdEFzUHJvbWlzZShcIkBuZWVkY3JlYXRldHJhbnNwb3J0XCIsbnVsbCl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcmVtb3RlU2RwLnNldFRyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnModCksZS5fdHJhbnNwb3J0Q3JlYXRlZD0hMH0pKX19LHtrZXk6XCJfdXBkYXRlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiX3VwZGF0ZVRyYW5zcG9ydCgpXCIpO3ZhciBlPXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQ9cC5kZWZhdWx0LnBhcnNlKGUpLHI9e2R0bHNQYXJhbWV0ZXJzOl8uZXh0cmFjdER0bHNQYXJhbWV0ZXJzKHQpfTt0aGlzLnNhZmVFbWl0KFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIixyKSx0aGlzLl90cmFuc3BvcnRVcGRhdGVkPSEwfX1dKSx0fShTKSxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7KDAsYy5kZWZhdWx0KSh0aGlzLGUpLFAuZGVidWcoXCJjb25zdHJ1Y3RvcigpIFtkaXJlY3Rpb246JXMsIGV4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzOiVvXVwiLHQscik7dmFyIGE9dm9pZCAwO3N3aXRjaCh0KXtjYXNlXCJzZW5kXCI6cmV0dXJuIGE9e2F1ZGlvOnYuZ2V0U2VuZGluZ1J0cFBhcmFtZXRlcnMoXCJhdWRpb1wiLHIpLHZpZGVvOnYuZ2V0U2VuZGluZ1J0cFBhcmFtZXRlcnMoXCJ2aWRlb1wiLHIpfSxuZXcgSShhLG4pO2Nhc2VcInJlY3ZcIjpyZXR1cm4gYT17YXVkaW86di5nZXRSZWNlaXZpbmdGdWxsUnRwUGFyYW1ldGVycyhcImF1ZGlvXCIsciksdmlkZW86di5nZXRSZWNlaXZpbmdGdWxsUnRwUGFyYW1ldGVycyhcInZpZGVvXCIscil9LG5ldyBUKGEsbil9fXJldHVybigwLHUuZGVmYXVsdCkoZSxudWxsLFt7a2V5OlwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmRlYnVnKFwiZ2V0TmF0aXZlUnRwQ2FwYWJpbGl0aWVzKClcIik7dmFyIGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOltdLGljZVRyYW5zcG9ydFBvbGljeTpcImFsbFwiLGJ1bmRsZVBvbGljeTpcIm1heC1idW5kbGVcIixydGNwTXV4UG9saWN5OlwicmVxdWlyZVwifSk7cmV0dXJuIGUuY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pLnRoZW4oKGZ1bmN0aW9uKHQpe3RyeXtlLmNsb3NlKCl9Y2F0Y2goZSl7fXZhciByPXAuZGVmYXVsdC5wYXJzZSh0LnNkcCk7cmV0dXJuIF8uZXh0cmFjdFJ0cENhcGFiaWxpdGllcyhyKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7dHJ5e2UuY2xvc2UoKX1jYXRjaChlKXt9dGhyb3cgdH0pKX19LHtrZXk6XCJ0YWdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlJlYWN0TmF0aXZlXCJ9fV0pLGV9KCk7dC5kZWZhdWx0PUN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1QKHIoMTYpKSxhPVAocig2MSkpLGk9UChyKDI2KSksbz1QKHIoMTcpKSxzPVAocig2KSksYz1QKHIoOCkpLHU9UChyKDIpKSxkPVAocigwKSksbD1QKHIoMSkpLHA9UChyKDMpKSxmPVAocig0KSksbT1QKHIoNSkpLGg9UChyKDEwKSksdj1yKDUyKSxfPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocigxNSkpLGc9UChyKDgxKSkseT1QKHIoMjExKSksYj1QKHIoMjEzKSksaz1QKHIoMjE0KSksdz1QKHIoMjE1KSk7ZnVuY3Rpb24gUChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIFM9bmV3IG0uZGVmYXVsdChcIjxSb29tPlwiKSxJPVwibmV3XCIsVD1cImpvaW5pbmdcIixDPVwiam9pbmVkXCIsUj1cImNsb3NlZFwiLHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXsoMCxkLmRlZmF1bHQpKHRoaXMsdCk7dmFyIHI9KDAscC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLFMpKTtpZihTLmRlYnVnKFwiY29uc3RydWN0b3IoKSBbb3B0aW9uczolb11cIixlKSwhZy5kZWZhdWx0LmlzU3VwcG9ydGVkKCkpdGhyb3cgbmV3IEVycm9yKFwiY3VycmVudCBicm93c2VyL2RldmljZSBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBlPWV8fHt9LHIuX3NldHRpbmdzPXtyb29tU2V0dGluZ3M6ZS5yb29tU2V0dGluZ3MscmVxdWVzdFRpbWVvdXQ6ZS5yZXF1ZXN0VGltZW91dHx8M2U0LHRyYW5zcG9ydE9wdGlvbnM6ZS50cmFuc3BvcnRPcHRpb25zfHx7fSx0dXJuU2VydmVyczplLnR1cm5TZXJ2ZXJzfHxbXSxpY2VUcmFuc3BvcnRQb2xpY3k6ZS5pY2VUcmFuc3BvcnRQb2xpY3l8fFwiYWxsXCIsc3B5OkJvb2xlYW4oZS5zcHkpfSxyLl9zdGF0ZT1JLHIuX3BlZXJOYW1lPW51bGwsci5fdHJhbnNwb3J0cz1uZXcgYy5kZWZhdWx0LHIuX3Byb2R1Y2Vycz1uZXcgYy5kZWZhdWx0LHIuX3BlZXJzPW5ldyBjLmRlZmF1bHQsci5fZXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXM9bnVsbCxyLl9jYW5TZW5kQnlLaW5kPXthdWRpbzohMSx2aWRlbzohMX0scn1yZXR1cm4oMCxmLmRlZmF1bHQpKHQsZSksKDAsbC5kZWZhdWx0KSh0LFt7a2V5OlwiZ2V0VHJhbnNwb3J0QnlJZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl90cmFuc3BvcnRzLmdldChlKX19LHtrZXk6XCJnZXRQcm9kdWNlckJ5SWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHJvZHVjZXJzLmdldChlKX19LHtrZXk6XCJnZXRQZWVyQnlOYW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BlZXJzLmdldChlKX19LHtrZXk6XCJqb2luXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKFMuZGVidWcoJ2pvaW4oKSBbcGVlck5hbWU6XCIlc1wiXScsZSksXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHMuZGVmYXVsdC5yZWplY3QobmV3IFR5cGVFcnJvcihcImludmFsaWQgcGVlck5hbWVcIikpO2lmKHRoaXMuX3N0YXRlIT09SSYmdGhpcy5fc3RhdGUhPT1SKXJldHVybiBzLmRlZmF1bHQucmVqZWN0KG5ldyB2LkludmFsaWRTdGF0ZUVycm9yKCdpbnZhbGlkIHN0YXRlIFwiJyt0aGlzLl9zdGF0ZSsnXCInKSk7dGhpcy5fcGVlck5hbWU9ZSx0aGlzLl9zdGF0ZT1UO3ZhciBuPXZvaWQgMDtyZXR1cm4gcy5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiByLl9zZXR0aW5ncy5yb29tU2V0dGluZ3M/dm9pZChuPXIuX3NldHRpbmdzLnJvb21TZXR0aW5ncyk6ci5fc2VuZFJlcXVlc3QoXCJxdWVyeVJvb21cIix7dGFyZ2V0Olwicm9vbVwifSkudGhlbigoZnVuY3Rpb24oZSl7bj1lLFMuZGVidWcoXCJqb2luKCkgfCBnb3QgUm9vbSBzZXR0aW5nczolb1wiLG4pfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGcuZGVmYXVsdC5IYW5kbGVyLmdldE5hdGl2ZVJ0cENhcGFiaWxpdGllcygpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe1MuZGVidWcoXCJqb2luKCkgfCBuYXRpdmUgUlRQIGNhcGFiaWxpdGllczolb1wiLGUpLHIuX2V4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzPV8uZ2V0RXh0ZW5kZWRSdHBDYXBhYmlsaXRpZXMoZSxuLnJ0cENhcGFiaWxpdGllcyksUy5kZWJ1ZyhcImpvaW4oKSB8IGV4dGVuZGVkIFJUUCBjYXBhYmlsaXRpZXM6JW9cIixyLl9leHRlbmRlZFJ0cENhcGFiaWxpdGllcyk7dmFyIGE9Xy5nZXRVbnN1cHBvcnRlZENvZGVjcyhuLnJ0cENhcGFiaWxpdGllcyxuLm1hbmRhdG9yeUNvZGVjUGF5bG9hZFR5cGVzLHIuX2V4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzKTtpZihhLmxlbmd0aD4wKXRocm93IFMuZXJyb3IoXCIlcyBtYW5kYXRvcnkgcm9vbSBjb2RlY3Mgbm90IHN1cHBvcnRlZDolb1wiLGEubGVuZ3RoLGEpLG5ldyB2LlVuc3VwcG9ydGVkRXJyb3IoXCJtYW5kYXRvcnkgcm9vbSBjb2RlY3Mgbm90IHN1cHBvcnRlZFwiLGEpO3IuX2NhblNlbmRCeUtpbmQuYXVkaW89Xy5jYW5TZW5kKFwiYXVkaW9cIixyLl9leHRlbmRlZFJ0cENhcGFiaWxpdGllcyksci5fY2FuU2VuZEJ5S2luZC52aWRlbz1fLmNhblNlbmQoXCJ2aWRlb1wiLHIuX2V4dGVuZGVkUnRwQ2FwYWJpbGl0aWVzKTt2YXIgaT1fLmdldFJ0cENhcGFiaWxpdGllcyhyLl9leHRlbmRlZFJ0cENhcGFiaWxpdGllcyk7Uy5kZWJ1ZyhcImpvaW4oKSB8IGVmZmVjdGl2ZSBsb2NhbCBSVFAgY2FwYWJpbGl0aWVzIGZvciByZWNlaXZpbmc6JW9cIixpKTt2YXIgbz17dGFyZ2V0Olwicm9vbVwiLHBlZXJOYW1lOnIuX3BlZXJOYW1lLHJ0cENhcGFiaWxpdGllczppLHNweTpyLl9zZXR0aW5ncy5zcHksYXBwRGF0YTp0fTtyZXR1cm4gci5fc2VuZFJlcXVlc3QoXCJqb2luXCIsbykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGVlcnN9KSl9KSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9ITAsbj0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBpLHM9KDAsby5kZWZhdWx0KShlfHxbXSk7ISh0PShpPXMubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgYz1pLnZhbHVlO3RyeXtyLl9oYW5kbGVQZWVyRGF0YShjKX1jYXRjaChlKXtTLmVycm9yKFwiam9pbigpIHwgZXJyb3IgaGFuZGxpbmcgUGVlcjolb1wiLGUpfX19Y2F0Y2goZSl7bj0hMCxhPWV9ZmluYWxseXt0cnl7IXQmJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBhfX1yZXR1cm4gci5fc3RhdGU9QyxTLmRlYnVnKFwiam9pbigpIHwgam9pbmVkIHRoZSBSb29tXCIpLHIucGVlcnN9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IHIuX3N0YXRlPUksZX0pKX19LHtrZXk6XCJsZWF2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFMuZGVidWcoXCJsZWF2ZSgpXCIpLCF0aGlzLmNsb3NlZCl7dGhpcy5fc2VuZE5vdGlmaWNhdGlvbihcImxlYXZlXCIse2FwcERhdGE6ZX0pLHRoaXMuX3N0YXRlPVIsdGhpcy5zYWZlRW1pdChcImNsb3NlXCIsXCJsb2NhbFwiLGUpO3ZhciB0PSEwLHI9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgYSxpPSgwLG8uZGVmYXVsdCkodGhpcy5fdHJhbnNwb3J0cy52YWx1ZXMoKSk7ISh0PShhPWkubmV4dCgpKS5kb25lKTt0PSEwKXthLnZhbHVlLmNsb3NlKCl9fWNhdGNoKGUpe3I9ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZpLnJldHVybiYmaS5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgbn19dmFyIHM9ITAsYz0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBkLGw9KDAsby5kZWZhdWx0KSh0aGlzLl9wcm9kdWNlcnMudmFsdWVzKCkpOyEocz0oZD1sLm5leHQoKSkuZG9uZSk7cz0hMCl7ZC52YWx1ZS5jbG9zZSgpfX1jYXRjaChlKXtjPSEwLHU9ZX1maW5hbGx5e3RyeXshcyYmbC5yZXR1cm4mJmwucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IHV9fXZhciBwPSEwLGY9ITEsbT12b2lkIDA7dHJ5e2Zvcih2YXIgaCx2PSgwLG8uZGVmYXVsdCkodGhpcy5fcGVlcnMudmFsdWVzKCkpOyEocD0oaD12Lm5leHQoKSkuZG9uZSk7cD0hMCl7aC52YWx1ZS5jbG9zZSgpfX1jYXRjaChlKXtmPSEwLG09ZX1maW5hbGx5e3RyeXshcCYmdi5yZXR1cm4mJnYucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IG19fX19fSx7a2V5OlwicmVtb3RlQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihTLmRlYnVnKFwicmVtb3RlQ2xvc2UoKVwiKSwhdGhpcy5jbG9zZWQpe3RoaXMuX3N0YXRlPVIsdGhpcy5zYWZlRW1pdChcImNsb3NlXCIsXCJyZW1vdGVcIixlKTt2YXIgdD0hMCxyPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIGEsaT0oMCxvLmRlZmF1bHQpKHRoaXMuX3RyYW5zcG9ydHMudmFsdWVzKCkpOyEodD0oYT1pLm5leHQoKSkuZG9uZSk7dD0hMCl7YS52YWx1ZS5yZW1vdGVDbG9zZShudWxsLHtkZXN0cm95OiEwfSl9fWNhdGNoKGUpe3I9ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZpLnJldHVybiYmaS5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgbn19dmFyIHM9ITAsYz0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBkLGw9KDAsby5kZWZhdWx0KSh0aGlzLl9wcm9kdWNlcnMudmFsdWVzKCkpOyEocz0oZD1sLm5leHQoKSkuZG9uZSk7cz0hMCl7ZC52YWx1ZS5yZW1vdGVDbG9zZSgpfX1jYXRjaChlKXtjPSEwLHU9ZX1maW5hbGx5e3RyeXshcyYmbC5yZXR1cm4mJmwucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IHV9fXZhciBwPSEwLGY9ITEsbT12b2lkIDA7dHJ5e2Zvcih2YXIgaCx2PSgwLG8uZGVmYXVsdCkodGhpcy5fcGVlcnMudmFsdWVzKCkpOyEocD0oaD12Lm5leHQoKSkuZG9uZSk7cD0hMCl7aC52YWx1ZS5yZW1vdGVDbG9zZSgpfX1jYXRjaChlKXtmPSEwLG09ZX1maW5hbGx5e3RyeXshcCYmdi5yZXR1cm4mJnYucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IG19fX19fSx7a2V5OlwiY2FuU2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwiYXVkaW9cIiE9PWUmJlwidmlkZW9cIiE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBraW5kIFwiJytlKydcIicpO3JldHVybiEoIXRoaXMuam9pbmVkfHx0aGlzLl9zZXR0aW5ncy5zcHkpJiZ0aGlzLl9jYW5TZW5kQnlLaW5kW2VdfX0se2tleTpcImNyZWF0ZVRyYW5zcG9ydFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihTLmRlYnVnKFwiY3JlYXRlVHJhbnNwb3J0KCkgW2RpcmVjdGlvbjolc11cIixlKSwhdGhpcy5qb2luZWQpdGhyb3cgbmV3IHYuSW52YWxpZFN0YXRlRXJyb3IoJ2ludmFsaWQgc3RhdGUgXCInK3RoaXMuX3N0YXRlKydcIicpO2lmKFwic2VuZFwiIT09ZSYmXCJyZWN2XCIhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgZGlyZWN0aW9uIFwiJytlKydcIicpO2lmKFwic2VuZFwiPT09ZSYmdGhpcy5fc2V0dGluZ3Muc3B5KXRocm93IG5ldyBUeXBlRXJyb3IoXCJhIHNweSBwZWVyIGNhbm5vdCBzZW5kIG1lZGlhIHRvIHRoZSByb29tXCIpO3ZhciBuPW5ldyB5LmRlZmF1bHQoZSx0aGlzLl9leHRlbmRlZFJ0cENhcGFiaWxpdGllcyx0aGlzLl9zZXR0aW5ncyx0KTtyZXR1cm4gdGhpcy5fdHJhbnNwb3J0cy5zZXQobi5pZCxuKSxuLm9uKFwiQHJlcXVlc3RcIiwoZnVuY3Rpb24oZSx0LG4sYSl7ci5fc2VuZFJlcXVlc3QoZSx0KS50aGVuKG4pLmNhdGNoKGEpfSkpLG4ub24oXCJAbm90aWZ5XCIsKGZ1bmN0aW9uKGUsdCl7ci5fc2VuZE5vdGlmaWNhdGlvbihlLHQpfSkpLG4ub24oXCJAY2xvc2VcIiwoZnVuY3Rpb24oKXtyLl90cmFuc3BvcnRzLmRlbGV0ZShuLmlkKX0pKSxufX0se2tleTpcImNyZWF0ZVByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7aWYoUy5kZWJ1ZyhcImNyZWF0ZVByb2R1Y2VyKCkgW3RyYWNrOiVvLCBvcHRpb25zOiVvXVwiLGUsdCksIXRoaXMuam9pbmVkKXRocm93IG5ldyB2LkludmFsaWRTdGF0ZUVycm9yKCdpbnZhbGlkIHN0YXRlIFwiJyt0aGlzLl9zdGF0ZSsnXCInKTtpZih0aGlzLl9zZXR0aW5ncy5zcHkpdGhyb3cgbmV3IEVycm9yKFwiYSBzcHkgcGVlciBjYW5ub3Qgc2VuZCBtZWRpYSB0byB0aGUgcm9vbVwiKTtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm8gdHJhY2sgZ2l2ZW5cIik7aWYoIXRoaXMuX2NhblNlbmRCeUtpbmRbZS5raW5kXSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3Qgc2VuZCBcIitlLmtpbmQpO2lmKFwiZW5kZWRcIj09PWUucmVhZHlTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoJ3RyYWNrLnJlYWR5U3RhdGUgaXMgXCJlbmRlZFwiJyk7dD10fHx7fTt2YXIgYT1uZXcgYi5kZWZhdWx0KGUsdCxyKTtyZXR1cm4gdGhpcy5fcHJvZHVjZXJzLnNldChhLmlkLGEpLGEub24oXCJAY2xvc2VcIiwoZnVuY3Rpb24oKXtuLl9wcm9kdWNlcnMuZGVsZXRlKGEuaWQpfSkpLGF9fSx7a2V5OlwicmVzdGFydEljZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5qb2luZWQpe3ZhciByPSEwLG49ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgaSxzPSgwLG8uZGVmYXVsdCkodGhpcy5fdHJhbnNwb3J0cy52YWx1ZXMoKSk7IShyPShpPXMubmV4dCgpKS5kb25lKTtyPSEwKXtpLnZhbHVlLnJlc3RhcnRJY2UoZSx0KX19Y2F0Y2goZSl7bj0hMCxhPWV9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBhfX19ZWxzZSBTLndhcm4oJ3Jlc3RhcnRJY2UoKSB8IGludmFsaWQgc3RhdGUgXCInK3RoaXMuX3N0YXRlKydcIicpfX0se2tleTpcInJlY2VpdmVOb3RpZmljYXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuY2xvc2VkKXJldHVybiBzLmRlZmF1bHQucmVqZWN0KG5ldyB2LkludmFsaWRTdGF0ZUVycm9yKFwiUm9vbSBjbG9zZWRcIikpO2lmKFwib2JqZWN0XCIhPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOigwLGkuZGVmYXVsdCkoZSkpKXJldHVybiBzLmRlZmF1bHQucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJ3cm9uZyBub3RpZmljYXRpb24gT2JqZWN0XCIpKTtpZighMCE9PWUubm90aWZpY2F0aW9uKXJldHVybiBzLmRlZmF1bHQucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJub3QgYSBub3RpZmljYXRpb25cIikpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLm1ldGhvZClyZXR1cm4gcy5kZWZhdWx0LnJlamVjdChuZXcgVHlwZUVycm9yKFwid3JvbmcvbWlzc2luZyBub3RpZmljYXRpb24gbWV0aG9kXCIpKTt2YXIgcj1lLm1ldGhvZDtyZXR1cm5cInByb2R1Y2VyU3RhdHNcIiE9PXImJlwiY29uc3VtZXJTdGF0c1wiIT09ciYmUy5kZWJ1ZyhcInJlY2VpdmVOb3RpZmljYXRpb24oKSBbbWV0aG9kOiVzLCBub3RpZmljYXRpb246JW9dXCIscixlKSxzLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7c3dpdGNoKHIpe2Nhc2VcImNsb3NlZFwiOnZhciBuPWUuYXBwRGF0YTt0LnJlbW90ZUNsb3NlKG4pO2JyZWFrO2Nhc2VcInRyYW5zcG9ydENsb3NlZFwiOnZhciBhPWUuaWQsaT1lLmFwcERhdGEsbz10Ll90cmFuc3BvcnRzLmdldChhKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBub3QgZm91bmQgW2lkOlwiJythKydcIl0nKTtvLnJlbW90ZUNsb3NlKGkse2Rlc3Ryb3k6ITF9KTticmVhaztjYXNlXCJ0cmFuc3BvcnRTdGF0c1wiOnZhciBzPWUuaWQsYz1lLnN0YXRzLHU9dC5fdHJhbnNwb3J0cy5nZXQocyk7aWYoIXUpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNwb3J0IG5vdCBmb3VuZCBbaWQ6XCIrcytcIl1cIik7dS5yZW1vdGVTdGF0cyhjKTticmVhaztjYXNlXCJuZXdQZWVyXCI6dmFyIGQ9ZS5uYW1lO2lmKHQuX3BlZXJzLmhhcyhkKSl0aHJvdyBuZXcgRXJyb3IoJ1BlZXIgYWxyZWFkeSBleGlzdHMgW25hbWU6XCInK2QrJ1wiXScpO3ZhciBsPWU7dC5faGFuZGxlUGVlckRhdGEobCk7YnJlYWs7Y2FzZVwicGVlckNsb3NlZFwiOnZhciBwPWUubmFtZSxmPWUuYXBwRGF0YSxtPXQuX3BlZXJzLmdldChwKTtpZighbSl0aHJvdyBuZXcgRXJyb3IoJ25vIFBlZXIgZm91bmQgW25hbWU6XCInK3ArJ1wiXScpO20ucmVtb3RlQ2xvc2UoZik7YnJlYWs7Y2FzZVwicHJvZHVjZXJQYXVzZWRcIjp2YXIgaD1lLmlkLHY9ZS5hcHBEYXRhLF89dC5fcHJvZHVjZXJzLmdldChoKTtpZighXyl0aHJvdyBuZXcgRXJyb3IoXCJQcm9kdWNlciBub3QgZm91bmQgW2lkOlwiK2grXCJdXCIpO18ucmVtb3RlUGF1c2Uodik7YnJlYWs7Y2FzZVwicHJvZHVjZXJSZXN1bWVkXCI6dmFyIGc9ZS5pZCx5PWUuYXBwRGF0YSxiPXQuX3Byb2R1Y2Vycy5nZXQoZyk7aWYoIWIpdGhyb3cgbmV3IEVycm9yKFwiUHJvZHVjZXIgbm90IGZvdW5kIFtpZDpcIitnK1wiXVwiKTtiLnJlbW90ZVJlc3VtZSh5KTticmVhaztjYXNlXCJwcm9kdWNlckNsb3NlZFwiOnZhciBrPWUuaWQsdz1lLmFwcERhdGEsUD10Ll9wcm9kdWNlcnMuZ2V0KGspO2lmKCFQKXRocm93IG5ldyBFcnJvcihcIlByb2R1Y2VyIG5vdCBmb3VuZCBbaWQ6XCIraytcIl1cIik7UC5yZW1vdGVDbG9zZSh3KTticmVhaztjYXNlXCJwcm9kdWNlclN0YXRzXCI6dmFyIFM9ZS5pZCxJPWUuc3RhdHMsVD10Ll9wcm9kdWNlcnMuZ2V0KFMpO2lmKCFUKXRocm93IG5ldyBFcnJvcihcIlByb2R1Y2VyIG5vdCBmb3VuZCBbaWQ6XCIrUytcIl1cIik7VC5yZW1vdGVTdGF0cyhJKTticmVhaztjYXNlXCJuZXdDb25zdW1lclwiOnZhciBDPWUucGVlck5hbWUsUj10Ll9wZWVycy5nZXQoQyk7aWYoIVIpdGhyb3cgbmV3IEVycm9yKCdubyBQZWVyIGZvdW5kIFtuYW1lOlwiJytDKydcIl0nKTt2YXIgeD1lO3QuX2hhbmRsZUNvbnN1bWVyRGF0YSh4LFIpO2JyZWFrO2Nhc2VcImNvbnN1bWVyQ2xvc2VkXCI6dmFyIEE9ZS5pZCxFPWUucGVlck5hbWUsRD1lLmFwcERhdGEsTz10Ll9wZWVycy5nZXQoRSk7aWYoIU8pdGhyb3cgbmV3IEVycm9yKCdubyBQZWVyIGZvdW5kIFtuYW1lOlwiJytFKydcIl0nKTt2YXIgTD1PLmdldENvbnN1bWVyQnlJZChBKTtpZighTCl0aHJvdyBuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmQgW2lkOlwiK0ErXCJdXCIpO0wucmVtb3RlQ2xvc2UoRCk7YnJlYWs7Y2FzZVwiY29uc3VtZXJQYXVzZWRcIjp2YXIgTT1lLmlkLGo9ZS5wZWVyTmFtZSxCPWUuYXBwRGF0YSxWPXQuX3BlZXJzLmdldChqKTtpZighVil0aHJvdyBuZXcgRXJyb3IoJ25vIFBlZXIgZm91bmQgW25hbWU6XCInK2orJ1wiXScpO3ZhciBOPVYuZ2V0Q29uc3VtZXJCeUlkKE0pO2lmKCFOKXRocm93IG5ldyBFcnJvcihcIkNvbnN1bWVyIG5vdCBmb3VuZCBbaWQ6XCIrTStcIl1cIik7Ti5yZW1vdGVQYXVzZShCKTticmVhaztjYXNlXCJjb25zdW1lclJlc3VtZWRcIjp2YXIgRj1lLmlkLFU9ZS5wZWVyTmFtZSxHPWUuYXBwRGF0YSxXPXQuX3BlZXJzLmdldChVKTtpZighVyl0aHJvdyBuZXcgRXJyb3IoJ25vIFBlZXIgZm91bmQgW25hbWU6XCInK1UrJ1wiXScpO3ZhciBLPVcuZ2V0Q29uc3VtZXJCeUlkKEYpO2lmKCFLKXRocm93IG5ldyBFcnJvcihcIkNvbnN1bWVyIG5vdCBmb3VuZCBbaWQ6XCIrRitcIl1cIik7Sy5yZW1vdGVSZXN1bWUoRyk7YnJlYWs7Y2FzZVwiY29uc3VtZXJQcmVmZXJyZWRQcm9maWxlU2V0XCI6dmFyIHo9ZS5pZCxxPWUucGVlck5hbWUsSD1lLnByb2ZpbGUsSj10Ll9wZWVycy5nZXQocSk7aWYoIUopdGhyb3cgbmV3IEVycm9yKCdubyBQZWVyIGZvdW5kIFtuYW1lOlwiJytxKydcIl0nKTt2YXIgUT1KLmdldENvbnN1bWVyQnlJZCh6KTtpZighUSl0aHJvdyBuZXcgRXJyb3IoXCJDb25zdW1lciBub3QgZm91bmQgW2lkOlwiK3orXCJdXCIpO1EucmVtb3RlU2V0UHJlZmVycmVkUHJvZmlsZShIKTticmVhaztjYXNlXCJjb25zdW1lckVmZmVjdGl2ZVByb2ZpbGVDaGFuZ2VkXCI6dmFyIFk9ZS5pZCwkPWUucGVlck5hbWUsWD1lLnByb2ZpbGUsWj10Ll9wZWVycy5nZXQoJCk7aWYoIVopdGhyb3cgbmV3IEVycm9yKCdubyBQZWVyIGZvdW5kIFtuYW1lOlwiJyskKydcIl0nKTt2YXIgZWU9Wi5nZXRDb25zdW1lckJ5SWQoWSk7aWYoIWVlKXRocm93IG5ldyBFcnJvcihcIkNvbnN1bWVyIG5vdCBmb3VuZCBbaWQ6XCIrWStcIl1cIik7ZWUucmVtb3RlRWZmZWN0aXZlUHJvZmlsZUNoYW5nZWQoWCk7YnJlYWs7Y2FzZVwiY29uc3VtZXJTdGF0c1wiOnZhciB0ZT1lLmlkLHJlPWUucGVlck5hbWUsbmU9ZS5zdGF0cyxhZT10Ll9wZWVycy5nZXQocmUpO2lmKCFhZSl0aHJvdyBuZXcgRXJyb3IoJ25vIFBlZXIgZm91bmQgW25hbWU6XCInK3JlKydcIl0nKTt2YXIgaWU9YWUuZ2V0Q29uc3VtZXJCeUlkKHRlKTtpZighaWUpdGhyb3cgbmV3IEVycm9yKFwiQ29uc3VtZXIgbm90IGZvdW5kIFtpZDpcIit0ZStcIl1cIik7aWUucmVtb3RlU3RhdHMobmUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG5vdGlmaWNhdGlvbiBtZXRob2QgXCInK3IrJ1wiJyl9fSkpLmNhdGNoKChmdW5jdGlvbih0KXtTLmVycm9yKFwicmVjZWl2ZU5vdGlmaWNhdGlvbigpIGZhaWxlZCBbbm90aWZpY2F0aW9uOiVvXTogJXNcIixlLHQpfSkpfX0se2tleTpcIl9zZW5kUmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSgwLGEuZGVmYXVsdCkoe21ldGhvZDplLHRhcmdldDpcInBlZXJcIn0sdCk7cmV0dXJuIHRoaXMuY2xvc2VkPyhTLmVycm9yKFwiX3NlbmRSZXF1ZXN0KCkgfCBSb29tIGNsb3NlZCBbbWV0aG9kOiVzLCByZXF1ZXN0OiVvXVwiLGUsbikscy5kZWZhdWx0LnJlamVjdChuZXcgdi5JbnZhbGlkU3RhdGVFcnJvcihcIlJvb20gY2xvc2VkXCIpKSk6KFMuZGVidWcoXCJfc2VuZFJlcXVlc3QoKSBbbWV0aG9kOiVzLCByZXF1ZXN0OiVvXVwiLGUsbiksbmV3IHMuZGVmYXVsdCgoZnVuY3Rpb24odCxhKXt2YXIgaT0hMSxvPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Uy5lcnJvcihcInJlcXVlc3QgZmFpbGVkIFttZXRob2Q6JXNdOiB0aW1lb3V0XCIsZSksaT0hMCxhKG5ldyB2LlRpbWVvdXRFcnJvcihcInRpbWVvdXRcIikpfSksci5fc2V0dGluZ3MucmVxdWVzdFRpbWVvdXQpO3Iuc2FmZUVtaXQoXCJyZXF1ZXN0XCIsbiwoZnVuY3Rpb24obil7aWYoIWkpe2lmKGk9ITAsY2xlYXJUaW1lb3V0KG8pLHIuY2xvc2VkKXJldHVybiBTLmVycm9yKFwicmVxdWVzdCBmYWlsZWQgW21ldGhvZDolc106IFJvb20gY2xvc2VkXCIsZSksdm9pZCBhKG5ldyBFcnJvcihcIlJvb20gY2xvc2VkXCIpKTtTLmRlYnVnKFwicmVxdWVzdCBzdWNjZWVkZWQgW21ldGhvZDolcywgcmVzcG9uc2U6JW9dXCIsZSxuKSx0KG4pfX0pLChmdW5jdGlvbih0KXtpZighaSl7aWYoaT0hMCxjbGVhclRpbWVvdXQobyksci5jbG9zZWQpcmV0dXJuIFMuZXJyb3IoXCJyZXF1ZXN0IGZhaWxlZCBbbWV0aG9kOiVzXTogUm9vbSBjbG9zZWRcIixlKSx2b2lkIGEobmV3IEVycm9yKFwiUm9vbSBjbG9zZWRcIikpO3QgaW5zdGFuY2VvZiBFcnJvcnx8KHQ9bmV3IEVycm9yKFN0cmluZyh0KSkpLFMuZXJyb3IoXCJyZXF1ZXN0IGZhaWxlZCBbbWV0aG9kOiVzXTolb1wiLGUsdCksYSh0KX19KSl9KSkpfX0se2tleTpcIl9zZW5kTm90aWZpY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5jbG9zZWQpe3ZhciByPSgwLGEuZGVmYXVsdCkoe21ldGhvZDplLHRhcmdldDpcInBlZXJcIixub3RpZmljYXRpb246ITB9LHQpO1MuZGVidWcoXCJfc2VuZE5vdGlmaWNhdGlvbigpIFttZXRob2Q6JXMsIG5vdGlmaWNhdGlvbjolb11cIixlLHIpLHRoaXMuc2FmZUVtaXQoXCJub3RpZnlcIixyKX19fSx7a2V5OlwiX2hhbmRsZVBlZXJEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUubmFtZSxuPWUuY29uc3VtZXJzLGE9ZS5hcHBEYXRhLGk9bmV3IGsuZGVmYXVsdChyLGEpO3RoaXMuX3BlZXJzLnNldChpLm5hbWUsaSksaS5vbihcIkBjbG9zZVwiLChmdW5jdGlvbigpe3QuX3BlZXJzLmRlbGV0ZShpLm5hbWUpfSkpO3ZhciBzPSEwLGM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgZCxsPSgwLG8uZGVmYXVsdCkobik7IShzPShkPWwubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgcD1kLnZhbHVlO3RyeXt0aGlzLl9oYW5kbGVDb25zdW1lckRhdGEocCxpKX1jYXRjaChlKXtTLmVycm9yKFwiZXJyb3IgaGFuZGxpbmcgZXhpc3RpbmcgQ29uc3VtZXIgaW4gUGVlcjolb1wiLGUpfX19Y2F0Y2goZSl7Yz0hMCx1PWV9ZmluYWxseXt0cnl7IXMmJmwucmV0dXJuJiZsLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyB1fX10aGlzLmpvaW5lZCYmdGhpcy5zYWZlRW1pdChcIm5ld3BlZXJcIixpKX19LHtrZXk6XCJfaGFuZGxlQ29uc3VtZXJEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmlkLG49ZS5raW5kLGE9ZS5ydHBQYXJhbWV0ZXJzLGk9ZS5wYXVzZWQsbz1lLmFwcERhdGEscz1uZXcgdy5kZWZhdWx0KHIsbixhLHQsbyk7Xy5jYW5SZWNlaXZlKHMucnRwUGFyYW1ldGVycyx0aGlzLl9leHRlbmRlZFJ0cENhcGFiaWxpdGllcykmJnMuc2V0U3VwcG9ydGVkKCEwKSxpJiZzLnJlbW90ZVBhdXNlKCksdC5hZGRDb25zdW1lcihzKX19LHtrZXk6XCJqb2luZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGU9PT1DfX0se2tleTpcImNsb3NlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZT09PVJ9fSx7a2V5OlwicGVlck5hbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVlck5hbWV9fSx7a2V5OlwidHJhbnNwb3J0c1wiLGdldDpmdW5jdGlvbigpe3JldHVybigwLG4uZGVmYXVsdCkodGhpcy5fdHJhbnNwb3J0cy52YWx1ZXMoKSl9fSx7a2V5OlwicHJvZHVjZXJzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKDAsbi5kZWZhdWx0KSh0aGlzLl9wcm9kdWNlcnMudmFsdWVzKCkpfX0se2tleTpcInBlZXJzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKDAsbi5kZWZhdWx0KSh0aGlzLl9wZWVycy52YWx1ZXMoKSl9fV0pLHR9KGguZGVmYXVsdCk7dC5kZWZhdWx0PXh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1oKHIoNikpLGE9aChyKDIpKSxpPWgocigwKSksbz1oKHIoMSkpLHM9aChyKDMpKSxjPWgocig0KSksdT1oKHIoNSkpLGQ9aChyKDEwKSksbD1yKDUyKSxwPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocig5KSksZj1oKHIoODEpKSxtPWgocigyMTIpKTtmdW5jdGlvbiBoKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdj1uZXcgdS5kZWZhdWx0KFwiPFRyYW5zcG9ydD5cIiksXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8peygwLGkuZGVmYXVsdCkodGhpcyx0KTt2YXIgYz0oMCxzLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxhLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsdikpO3JldHVybiB2LmRlYnVnKFwiY29uc3RydWN0b3IoKSBbZGlyZWN0aW9uOiVzLCBleHRlbmRlZFJ0cENhcGFiaWxpdGllczolb11cIixlLHIpLGMuX2lkPXAucmFuZG9tTnVtYmVyKCksYy5fY2xvc2VkPSExLGMuX2RpcmVjdGlvbj1lLGMuX3NldHRpbmdzPW4sYy5fYXBwRGF0YT1vLGMuX3N0YXRzRW5hYmxlZD0hMSxjLl9jb21tYW5kUXVldWU9bmV3IG0uZGVmYXVsdCxjLl9oYW5kbGVyPW5ldyBmLmRlZmF1bHQuSGFuZGxlcihlLHIsbiksYy5fcmV0cnlUaW1lPTAsYy5faWNlUmVzdGFydEludGVydmFsPW51bGwsYy5fY29ubmVjdGlvblN0YXRlPVwibmV3XCIsYy5fYXVkaW9TZW50PSExLGMuX3ZpZGVvU2VudD0hMSxjLl9jb21tYW5kUXVldWUub24oXCJleGVjXCIsYy5fZXhlY0NvbW1hbmQuYmluZChjKSksYy5faGFuZGxlSGFuZGxlcigpLGN9cmV0dXJuKDAsYy5kZWZhdWx0KSh0LGUpLCgwLG8uZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7di5kZWJ1ZyhcImNsb3NlKClcIiksdGhpcy5fY2xvc2VkfHwodGhpcy5fcmV0cnlUaW1lPTAsdGhpcy5fY2xvc2VkPSEwLHRoaXMuX2F1ZGlvU2VudD0hMSx0aGlzLl92aWRlb1NlbnQ9ITEsdGhpcy5fc3RhdHNFbmFibGVkJiYodGhpcy5fc3RhdHNFbmFibGVkPSExLHRoaXMuZGlzYWJsZVN0YXRzKCkpLHRoaXMuc2FmZUVtaXQoXCJAbm90aWZ5XCIsXCJjbG9zZVRyYW5zcG9ydFwiLHtpZDp0aGlzLl9pZCxhcHBEYXRhOmV9KSx0aGlzLmVtaXQoXCJAY2xvc2VcIiksdGhpcy5zYWZlRW1pdChcImNsb3NlXCIsXCJsb2NhbFwiLGUpLHRoaXMuX2Rlc3Ryb3koKSl9fSx7a2V5OlwicmVtb3RlQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXQuZGVzdHJveTt2LmRlYnVnKFwicmVtb3RlQ2xvc2UoKSBbZGVzdHJveTolc11cIixyKSx0aGlzLl9jbG9zZWR8fChyPyh0aGlzLl9yZXRyeVRpbWU9MCx0aGlzLl9jbG9zZWQ9ITAsdGhpcy5fYXVkaW9TZW50PSExLHRoaXMuX3ZpZGVvU2VudD0hMSx0aGlzLmVtaXQoXCJAY2xvc2VcIiksdGhpcy5zYWZlRW1pdChcImNsb3NlXCIsXCJyZW1vdGVcIixlKSx0aGlzLl9kZXN0cm95KCkpOnRoaXMuX2hhbmRsZXIucmVtb3RlQ2xvc2VkKCkpfX0se2tleTpcIl9kZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlUmVzdGFydEljZSgpLHRoaXMuX2NvbW1hbmRRdWV1ZS5jbG9zZSgpLHRoaXMuX2hhbmRsZXIuY2xvc2UoKX19LHtrZXk6XCJjbG9zZVJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2ljZVJlc3RhcnRJbnRlcnZhbCYmY2xlYXJJbnRlcnZhbCh0aGlzLl9pY2VSZXN0YXJ0SW50ZXJ2YWwpLHRoaXMuX2ljZVJlc3RhcnRJbnRlcnZhbD1udWxsfX0se2tleTpcImF0dGVtcHRSZXN0YXJ0SWNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO1wiY29ubmVjdGVkXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuY2xvc2VkfHwodGhpcy5jbG9zZVJlc3RhcnRJY2UoKSx0aGlzLl9yZXRyeVRpbWU9MCx0aGlzLl9pY2VSZXN0YXJ0SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2VkfHxcImNvbm5lY3RlZFwiPT09ZS5jb25uZWN0aW9uU3RhdGU/KGUuY2xvc2VSZXN0YXJ0SWNlKCksdm9pZCB2LmRlYnVnKFwiYXR0ZW1wdFJlc3RhcnRJY2UoKSAtIGlkOiBcIitlLmlkK1wiIFtGSU4tRU5EXSBfcmV0cnlUaW1lOiBcIitlLl9yZXRyeVRpbWUrXCIgY2xvc2VkOiBcIitlLmNsb3NlZCtcIiBjb25uZWN0aW9uU3RhdGU6IFwiK2UuY29ubmVjdGlvblN0YXRlKSk6KytlLl9yZXRyeVRpbWU+PTE1PyhlLmNsb3NlUmVzdGFydEljZSgpLHYuZGVidWcoXCJhdHRlbXB0UmVzdGFydEljZSgpIC0gaWQ6IFwiK2UuaWQrXCIgW0ZJTi1FTkRdIF9yZXRyeVRpbWU6IFwiK2UuX3JldHJ5VGltZStcIiBjbG9zZWQ6IFwiK2UuY2xvc2VkK1wiIGNvbm5lY3Rpb25TdGF0ZTogXCIrZS5jb25uZWN0aW9uU3RhdGUpLHZvaWQgZS5zYWZlRW1pdChcInJlc3RhcnQtaWNlLWZhaWxcIix7cmV0cnlUaW1lOmUuX3JldHJ5VGltZX0pKToodi5kZWJ1ZyhcImF0dGVtcHRSZXN0YXJ0SWNlKCkgLSByZXRyeWluZyAuLi4gaWQ6IFwiK2UuaWQrXCIgX3JldHJ5VGltZTogXCIrZS5fcmV0cnlUaW1lKSx2b2lkIGUucmVzdGFydEljZShudWxsLChmdW5jdGlvbih0KXt2Lndhcm4oXCJhdHRlbXB0UmVzdGFydEljZSgpIGZhaWwgLSBpZDogXCIrZS5pZCtcIiBlcnJvciAtIFwiK3QudG9TdHJpbmcoKSl9KSkpfSksMmUzKSkpfX0se2tleTpcInJlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7di5kZWJ1ZyhcInJlc3RhcnRJY2UoKVwiKSx0aGlzLl9jbG9zZWR8fFwibmV3XCIhPT10aGlzLl9jb25uZWN0aW9uU3RhdGUmJm4uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyLnNhZmVFbWl0KFwicmVzdGFydC1pY2UtdHJ5aW5nXCIse3JldHJ5VGltZTpyLl9yZXRyeVRpbWV9KTt2YXIgZT17aWQ6ci5faWR9O3JldHVybiByLnNhZmVFbWl0QXNQcm9taXNlKFwiQHJlcXVlc3RcIixcInJlc3RhcnRUcmFuc3BvcnRcIixlKX0pKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1lLmljZVBhcmFtZXRlcnM7cmV0dXJuIHIuX2NvbW1hbmRRdWV1ZS5wdXNoKFwicmVzdGFydEljZVwiLHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnR9KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dCYmdChlKX0pKX19LHtrZXk6XCJlbmFibGVTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjFlMzt2LmRlYnVnKFwiZW5hYmxlU3RhdHMoKSBbaW50ZXJ2YWw6JXNdXCIsZSksKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDFlMykmJihlPTFlMyksdGhpcy5fc3RhdHNFbmFibGVkPSEwO3ZhciB0PXtpZDp0aGlzLl9pZCxpbnRlcnZhbDplfTt0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiZW5hYmxlVHJhbnNwb3J0U3RhdHNcIix0KX19LHtrZXk6XCJkaXNhYmxlU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3YuZGVidWcoXCJkaXNhYmxlU3RhdHMoKVwiKSx0aGlzLl9zdGF0c0VuYWJsZWQ9ITE7dmFyIGU9e2lkOnRoaXMuX2lkfTt0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiZGlzYWJsZVRyYW5zcG9ydFN0YXRzXCIsZSl9fSx7a2V5OlwiX2hhbmRsZUhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9oYW5kbGVyO3Qub24oXCJAY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKHQpe1wiY29ubmVjdGVkXCI9PT10JiYoZS5fcmV0cnlUaW1lPTApLGUuX2Nvbm5lY3Rpb25TdGF0ZSE9PXQmJih2LmRlYnVnKFwiVHJhbnNwb3J0IGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlZCB0byBbXCIrdCtcIl1cIiksZS5fY29ubmVjdGlvblN0YXRlPXQsZS5fY2xvc2VkfHxlLnNhZmVFbWl0KFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdCkpfSkpLHQub24oXCJAbmVlZGNyZWF0ZXRyYW5zcG9ydFwiLChmdW5jdGlvbih0LHIsbil7dmFyIGE9e2lkOmUuX2lkLGRpcmVjdGlvbjplLl9kaXJlY3Rpb24sb3B0aW9uczplLl9zZXR0aW5ncy50cmFuc3BvcnRPcHRpb25zLGFwcERhdGE6ZS5fYXBwRGF0YX07dCYmKHQuZHRsc1BhcmFtZXRlcnM/YS5kdGxzUGFyYW1ldGVycz10LmR0bHNQYXJhbWV0ZXJzOnQucGxhaW5SdHBQYXJhbWV0ZXJzJiYoYS5wbGFpblJ0cFBhcmFtZXRlcnM9dC5wbGFpblJ0cFBhcmFtZXRlcnMpKSxlLnNhZmVFbWl0KFwiQHJlcXVlc3RcIixcImNyZWF0ZVRyYW5zcG9ydFwiLGEscixuKX0pKSx0Lm9uKFwiQG5lZWR1cGRhdGV0cmFuc3BvcnRcIiwoZnVuY3Rpb24odCl7dmFyIHI9e2lkOmUuX2lkfTt0JiYodC5kdGxzUGFyYW1ldGVycz9yLmR0bHNQYXJhbWV0ZXJzPXQuZHRsc1BhcmFtZXRlcnM6dC5wbGFpblJ0cFBhcmFtZXRlcnMmJihyLnBsYWluUnRwUGFyYW1ldGVycz10LnBsYWluUnRwUGFyYW1ldGVycykpLGUuc2FmZUVtaXQoXCJAbm90aWZ5XCIsXCJ1cGRhdGVUcmFuc3BvcnRcIixyKX0pKSx0Lm9uKFwiQG5lZWR1cGRhdGVwcm9kdWNlclwiLChmdW5jdGlvbih0LHIpe3ZhciBuPXtpZDp0LmlkLHJ0cFBhcmFtZXRlcnM6cn07dC5zZXRSdHBQYXJhbWV0ZXJzKHIpLGUuc2FmZUVtaXQoXCJAbm90aWZ5XCIsXCJ1cGRhdGVQcm9kdWNlclwiLG4pfSkpfX0se2tleTpcImFkZFByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZGVidWcoXCJhZGRQcm9kdWNlcigpIFtwcm9kdWNlcjolb11cIixlKSx0aGlzLl9jbG9zZWQ/bi5kZWZhdWx0LnJlamVjdChuZXcgbC5JbnZhbGlkU3RhdGVFcnJvcihcIlRyYW5zcG9ydCBjbG9zZWRcIikpOlwic2VuZFwiIT09dGhpcy5fZGlyZWN0aW9uP24uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwibm90IGEgc2VuZGluZyBUcmFuc3BvcnRcIikpOnRoaXMuX2NvbW1hbmRRdWV1ZS5wdXNoKFwiYWRkUHJvZHVjZXJcIix7cHJvZHVjZXI6ZX0pfX0se2tleTpcInJlbW92ZVByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3YuZGVidWcoXCJyZW1vdmVQcm9kdWNlcigpIFtwcm9kdWNlcjolb11cIixlKSx0aGlzLl9jbG9zZWR8fHRoaXMuX2NvbW1hbmRRdWV1ZS5wdXNoKFwicmVtb3ZlUHJvZHVjZXJcIix7cHJvZHVjZXI6ZX0pLmNhdGNoKChmdW5jdGlvbigpe30pKSxcImxvY2FsXCI9PT10JiZ0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiY2xvc2VQcm9kdWNlclwiLHtpZDplLmlkLGFwcERhdGE6cn0pfX0se2tleTpcInBhdXNlUHJvZHVjZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3YuZGVidWcoXCJwYXVzZVByb2R1Y2VyKCkgW3Byb2R1Y2VyOiVvXVwiLGUpO3ZhciByPXtpZDplLmlkLGFwcERhdGE6dH07dGhpcy5zYWZlRW1pdChcIkBub3RpZnlcIixcInBhdXNlUHJvZHVjZXJcIixyKX19LHtrZXk6XCJyZXN1bWVQcm9kdWNlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7di5kZWJ1ZyhcInJlc3VtZVByb2R1Y2VyKCkgW3Byb2R1Y2VyOiVvXVwiLGUpO3ZhciByPXtpZDplLmlkLGFwcERhdGE6dH07dGhpcy5zYWZlRW1pdChcIkBub3RpZnlcIixcInJlc3VtZVByb2R1Y2VyXCIscil9fSx7a2V5OlwicmVwbGFjZVByb2R1Y2VyVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2LmRlYnVnKFwicmVwbGFjZVByb2R1Y2VyVHJhY2soKSBbcHJvZHVjZXI6JW9dXCIsZSksdGhpcy5fY29tbWFuZFF1ZXVlLnB1c2goXCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiLHtwcm9kdWNlcjplLHRyYWNrOnR9KX19LHtrZXk6XCJlbmFibGVQcm9kdWNlclN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2LmRlYnVnKFwiZW5hYmxlUHJvZHVjZXJTdGF0cygpIFtwcm9kdWNlcjolb11cIixlKTt2YXIgcj17aWQ6ZS5pZCxpbnRlcnZhbDp0fTt0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiZW5hYmxlUHJvZHVjZXJTdGF0c1wiLHIpfX0se2tleTpcImRpc2FibGVQcm9kdWNlclN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7di5kZWJ1ZyhcImRpc2FibGVQcm9kdWNlclN0YXRzKCkgW3Byb2R1Y2VyOiVvXVwiLGUpO3ZhciB0PXtpZDplLmlkfTt0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiZGlzYWJsZVByb2R1Y2VyU3RhdHNcIix0KX19LHtrZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB2LmRlYnVnKFwiYWRkQ29uc3VtZXIoKSBbY29uc3VtZXI6JW9dXCIsZSksdGhpcy5fY2xvc2VkP24uZGVmYXVsdC5yZWplY3QobmV3IGwuSW52YWxpZFN0YXRlRXJyb3IoXCJUcmFuc3BvcnQgY2xvc2VkXCIpKTpcInJlY3ZcIiE9PXRoaXMuX2RpcmVjdGlvbj9uLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcIm5vdCBhIHJlY2VpdmluZyBUcmFuc3BvcnRcIikpOnRoaXMuX2NvbW1hbmRRdWV1ZS5wdXNoKFwiYWRkQ29uc3VtZXJcIix7Y29uc3VtZXI6ZX0pfX0se2tleTpcInJlbW92ZUNvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7di5kZWJ1ZyhcInJlbW92ZUNvbnN1bWVyKCkgW2NvbnN1bWVyOiVvXVwiLGUpLHRoaXMuX2NvbW1hbmRRdWV1ZS5wdXNoKFwicmVtb3ZlQ29uc3VtZXJcIix7Y29uc3VtZXI6ZX0pLmNhdGNoKChmdW5jdGlvbigpe30pKX19LHtrZXk6XCJwYXVzZUNvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2LmRlYnVnKFwicGF1c2VDb25zdW1lcigpIFtjb25zdW1lcjolb11cIixlKTt2YXIgcj17aWQ6ZS5pZCxhcHBEYXRhOnR9O3RoaXMuc2FmZUVtaXQoXCJAbm90aWZ5XCIsXCJwYXVzZUNvbnN1bWVyXCIscil9fSx7a2V5OlwicmVzdW1lQ29uc3VtZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3YuZGVidWcoXCJyZXN1bWVDb25zdW1lcigpIFtjb25zdW1lcjolb11cIixlKTt2YXIgcj17aWQ6ZS5pZCxhcHBEYXRhOnR9O3RoaXMuc2FmZUVtaXQoXCJAbm90aWZ5XCIsXCJyZXN1bWVDb25zdW1lclwiLHIpfX0se2tleTpcInNldENvbnN1bWVyUHJlZmVycmVkUHJvZmlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7di5kZWJ1ZyhcInNldENvbnN1bWVyUHJlZmVycmVkUHJvZmlsZSgpIFtjb25zdW1lcjolb11cIixlKTt2YXIgcj17aWQ6ZS5pZCxwcm9maWxlOnR9O3RoaXMuc2FmZUVtaXQoXCJAbm90aWZ5XCIsXCJzZXRDb25zdW1lclByZWZlcnJlZFByb2ZpbGVcIixyKX19LHtrZXk6XCJlbmFibGVDb25zdW1lclN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2LmRlYnVnKFwiZW5hYmxlQ29uc3VtZXJTdGF0cygpIFtjb25zdW1lcjolb11cIixlKTt2YXIgcj17aWQ6ZS5pZCxpbnRlcnZhbDp0fTt0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiZW5hYmxlQ29uc3VtZXJTdGF0c1wiLHIpfX0se2tleTpcImRpc2FibGVDb25zdW1lclN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7di5kZWJ1ZyhcImRpc2FibGVDb25zdW1lclN0YXRzKCkgW2NvbnN1bWVyOiVvXVwiLGUpO3ZhciB0PXtpZDplLmlkfTt0aGlzLnNhZmVFbWl0KFwiQG5vdGlmeVwiLFwiZGlzYWJsZUNvbnN1bWVyU3RhdHNcIix0KX19LHtrZXk6XCJyZW1vdGVTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc2FmZUVtaXQoXCJzdGF0c1wiLGUpfX0se2tleTpcImdldFN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2hhbmRsZXIuZ2V0UENTdGF0cyhlKX19LHtrZXk6XCJyZW1vdmVUcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9oYW5kbGVyLnJlbW92ZVRyYWNrKGUpfX0se2tleTpcImF1ZGlvU2VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1ZGlvU2VudH19LHtrZXk6XCJ2aWRlb1NlbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWRlb1NlbnR9fSx7a2V5OlwidXBkYXRlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9oYW5kbGVyLnVwZGF0ZVRyYWNrKGUsdCl9fSx7a2V5OlwiX2V4ZWNDb21tYW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA7dHJ5e3N3aXRjaChlLm1ldGhvZCl7Y2FzZVwiYWRkUHJvZHVjZXJcIjp2YXIgYT1lLnByb2R1Y2VyO3I9dGhpcy5fZXhlY0FkZFByb2R1Y2VyKGEpO2JyZWFrO2Nhc2VcInJlbW92ZVByb2R1Y2VyXCI6dmFyIGk9ZS5wcm9kdWNlcjtyPXRoaXMuX2V4ZWNSZW1vdmVQcm9kdWNlcihpKTticmVhaztjYXNlXCJyZXBsYWNlUHJvZHVjZXJUcmFja1wiOnZhciBvPWUucHJvZHVjZXIscz1lLnRyYWNrO3I9dGhpcy5fZXhlY1JlcGxhY2VQcm9kdWNlclRyYWNrKG8scyk7YnJlYWs7Y2FzZVwiYWRkQ29uc3VtZXJcIjp2YXIgYz1lLmNvbnN1bWVyO3I9dGhpcy5fZXhlY0FkZENvbnN1bWVyKGMpO2JyZWFrO2Nhc2VcInJlbW92ZUNvbnN1bWVyXCI6dmFyIHU9ZS5jb25zdW1lcjtyPXRoaXMuX2V4ZWNSZW1vdmVDb25zdW1lcih1KTticmVhaztjYXNlXCJyZXN0YXJ0SWNlXCI6dmFyIGQ9ZS5yZW1vdGVJY2VQYXJhbWV0ZXJzO3I9dGhpcy5fZXhlY1Jlc3RhcnRJY2UoZCk7YnJlYWs7ZGVmYXVsdDpyPW4uZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgbWV0aG9kIFwiJytlLm1ldGhvZCsnXCInKSl9fWNhdGNoKGUpe3I9bi5kZWZhdWx0LnJlamVjdChlKX10LnByb21pc2U9cn19LHtrZXk6XCJfZXhlY0FkZFByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2LmRlYnVnKFwiX2V4ZWNBZGRQcm9kdWNlcigpXCIpO3ZhciByPXZvaWQgMDtyZXR1cm4gbi5kZWZhdWx0LnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0Ll9oYW5kbGVyLmFkZFByb2R1Y2VyKGUpfSkpLnRoZW4oKGZ1bmN0aW9uKG4pe3I9bjt2YXIgYT17aWQ6ZS5pZCxraW5kOmUua2luZCx0cmFuc3BvcnRJZDp0Ll9pZCxydHBQYXJhbWV0ZXJzOm4scGF1c2VkOmUubG9jYWxseVBhdXNlZCxhcHBEYXRhOmUuYXBwRGF0YX07cmV0dXJuIHQuc2FmZUVtaXRBc1Byb21pc2UoXCJAcmVxdWVzdFwiLFwiY3JlYXRlUHJvZHVjZXJcIixhKX0pKS50aGVuKChmdW5jdGlvbigpe2Uuc2V0UnRwUGFyYW1ldGVycyhyKX0pKX19LHtrZXk6XCJfZXhlY1JlbW92ZVByb2R1Y2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZGVidWcoXCJfZXhlY1JlbW92ZVByb2R1Y2VyKClcIiksdGhpcy5faGFuZGxlci5yZW1vdmVQcm9kdWNlcihlKX19LHtrZXk6XCJfZXhlY1JlcGxhY2VQcm9kdWNlclRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdi5kZWJ1ZyhcIl9leGVjUmVwbGFjZVByb2R1Y2VyVHJhY2soKVwiKSx0aGlzLl9oYW5kbGVyLnJlcGxhY2VQcm9kdWNlclRyYWNrKGUsdCl9fSx7a2V5OlwiX2V4ZWNBZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7di5kZWJ1ZyhcIl9leGVjQWRkQ29uc3VtZXIoKVwiKTt2YXIgcj12b2lkIDA7cmV0dXJuIG4uZGVmYXVsdC5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5faGFuZGxlci5hZGRDb25zdW1lcihlKX0pKS50aGVuKChmdW5jdGlvbihuKXtyPW47dmFyIGE9e2lkOmUuaWQsdHJhbnNwb3J0SWQ6dC5pZCxwYXVzZWQ6ZS5sb2NhbGx5UGF1c2VkLHByZWZlcnJlZFByb2ZpbGU6ZS5wcmVmZXJyZWRQcm9maWxlfTtyZXR1cm4gdC5zYWZlRW1pdEFzUHJvbWlzZShcIkByZXF1ZXN0XCIsXCJlbmFibGVDb25zdW1lclwiLGEpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXQucGF1c2VkLGE9dC5wcmVmZXJyZWRQcm9maWxlLGk9dC5lZmZlY3RpdmVQcm9maWxlO3JldHVybiBuJiZlLnJlbW90ZVBhdXNlKCksYSYmZS5yZW1vdGVTZXRQcmVmZXJyZWRQcm9maWxlKGEpLGkmJmUucmVtb3RlRWZmZWN0aXZlUHJvZmlsZUNoYW5nZWQoaSkscn0pKX19LHtrZXk6XCJfZXhlY1JlbW92ZUNvbnN1bWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZGVidWcoXCJfZXhlY1JlbW92ZUNvbnN1bWVyKClcIiksdGhpcy5faGFuZGxlci5yZW1vdmVDb25zdW1lcihlKX19LHtrZXk6XCJfZXhlY1Jlc3RhcnRJY2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdi5kZWJ1ZyhcIl9leGVjUmVzdGFydEljZSgpXCIpLHRoaXMuX2hhbmRsZXIucmVzdGFydEljZShlKX19LHtrZXk6XCJpZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6XCJjbG9zZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkfX0se2tleTpcImRpcmVjdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJlY3Rpb259fSx7a2V5OlwiYXBwRGF0YVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBEYXRhfX0se2tleTpcImNvbm5lY3Rpb25TdGF0ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9fSx7a2V5OlwicmV0cnlUaW1lc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXRyeVRpbWV9fSx7a2V5OlwiaGFuZGxlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYW5kbGVyfX1dKSx0fShkLmRlZmF1bHQpO3QuZGVmYXVsdD1ffSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZihyKDYpKSxhPWYocig2MSkpLGk9ZihyKDIpKSxvPWYocigwKSkscz1mKHIoMSkpLGM9ZihyKDMpKSx1PWYocig0KSksZD1yKDI5KSxsPWYocig1KSkscD1yKDUyKTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbT1uZXcgbC5kZWZhdWx0KFwiPENvbW1hbmRRdWV1ZT5cIiksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7KDAsby5kZWZhdWx0KSh0aGlzLHQpO3ZhciBlPSgwLGMuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnNldE1heExpc3RlbmVycygxLzApLGUuX2Nsb3NlZD0hMSxlLl9idXN5PSExLGUuX3F1ZXVlPVtdLGV9cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbG9zZWQ9ITB9fSx7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPSgwLGEuZGVmYXVsdCkoe21ldGhvZDplfSx0KTtyZXR1cm4gbS5kZWJ1ZyhcInB1c2goKSBbbWV0aG9kOiVzXVwiLGUpLG5ldyBuLmRlZmF1bHQoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5fcXVldWU7aS5yZXNvbHZlPWUsaS5yZWplY3Q9dCxuLnB1c2goaSksci5faGFuZGxlUGVuZGluZ0NvbW1hbmRzKCl9KSl9fSx7a2V5OlwiX2hhbmRsZVBlbmRpbmdDb21tYW5kc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fYnVzeSl7dmFyIHQ9dGhpcy5fcXVldWUscj10WzBdO3ImJih0aGlzLl9idXN5PSEwLHRoaXMuX2hhbmRsZUNvbW1hbmQocikudGhlbigoZnVuY3Rpb24oKXtlLl9idXN5PSExLHQuc2hpZnQoKSxlLl9oYW5kbGVQZW5kaW5nQ29tbWFuZHMoKX0pKSl9fX0se2tleTpcIl9oYW5kbGVDb21tYW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihtLmRlYnVnKFwiX2hhbmRsZUNvbW1hbmQoKSBbbWV0aG9kOiVzXVwiLGUubWV0aG9kKSx0aGlzLl9jbG9zZWQpcmV0dXJuIGUucmVqZWN0KG5ldyBwLkludmFsaWRTdGF0ZUVycm9yKFwiY2xvc2VkXCIpKSxuLmRlZmF1bHQucmVzb2x2ZSgpO3ZhciByPXtwcm9taXNlOm51bGx9O3JldHVybiB0aGlzLmVtaXQoXCJleGVjXCIsZSxyKSxuLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHIucHJvbWlzZX0pKS50aGVuKChmdW5jdGlvbihyKXttLmRlYnVnKFwiX2hhbmRsZUNvbW1hbmQoKSB8IGNvbW1hbmQgc3VjY2VlZGVkIFttZXRob2Q6JXNdXCIsZS5tZXRob2QpLHQuX2Nsb3NlZD9lLnJlamVjdChuZXcgcC5JbnZhbGlkU3RhdGVFcnJvcihcImNsb3NlZFwiKSk6ZS5yZXNvbHZlKHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXttLmVycm9yKFwiX2hhbmRsZUNvbW1hbmQoKSB8IGNvbW1hbmQgZmFpbGVkIFttZXRob2Q6JXNdOiAlb1wiLGUubWV0aG9kLHQpLGUucmVqZWN0KHQpfSkpfX1dKSx0fShkLkV2ZW50RW1pdHRlcik7dC5kZWZhdWx0PWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj12KHIoMjQpKSxhPXYocig2KSksaT12KHIoNjEpKSxvPXYocigyNikpLHM9dihyKDIpKSxjPXYocigwKSksdT12KHIoMSkpLGQ9dihyKDMpKSxsPXYocig0KSkscD12KHIoNSkpLGY9dihyKDEwKSksbT1yKDUyKSxoPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocig5KSk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIF89e2xvdzoxZTUsbWVkaXVtOjNlNSxoaWdoOjE1ZTV9LGc9bmV3IHAuZGVmYXVsdChcIjxQcm9kdWNlcj5cIikseT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuKXsoMCxjLmRlZmF1bHQpKHRoaXMsdCk7dmFyIGE9KDAsZC5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLGcpKTthLl9pZD1oLnJhbmRvbU51bWJlcigpLGEuX2Nsb3NlZD0hMSxhLl9vcmlnaW5hbFRyYWNrPWU7dHJ5e2EuX3RyYWNrPWUuY2xvbmUoKX1jYXRjaCh0KXthLl90cmFjaz1lfXJldHVybiBhLl9hcHBEYXRhPW4sYS5fc2ltdWxjYXN0PSExLFwib2JqZWN0XCI9PT0oMCxvLmRlZmF1bHQpKHIuc2ltdWxjYXN0KT9hLl9zaW11bGNhc3Q9KDAsaS5kZWZhdWx0KSh7fSxfLHIuc2ltdWxjYXN0KTohMD09PXIuc2ltdWxjYXN0JiYoYS5fc2ltdWxjYXN0PSgwLGkuZGVmYXVsdCkoe30sXykpLGEuX2F1ZGlvUHJvZmlsZT1udWxsLFwib2JqZWN0XCI9PSgwLG8uZGVmYXVsdCkoci5hdWRpb1Byb2ZpbGUpJiYoYS5fYXVkaW9Qcm9maWxlPXIuYXVkaW9Qcm9maWxlKSxhLl92aWRlb0JpdHJhdGVPcHRpb25zPW51bGwsXCJvYmplY3RcIj09PSgwLG8uZGVmYXVsdCkoci5jb2RlY09wdGlvbnMpJiYoYS5fdmlkZW9CaXRyYXRlT3B0aW9ucz1yLmNvZGVjT3B0aW9ucyksYS5fdHJhbnNwb3J0PW51bGwsYS5fcnRwUGFyYW1ldGVycz1udWxsLGEuX2xvY2FsbHlQYXVzZWQ9IWEuX3RyYWNrLmVuYWJsZWQsYS5fcmVtb3RlbHlQYXVzZWQ9ITEsYS5fc3RhdHNFbmFibGVkPSExLGEuX3N0YXRzSW50ZXJ2YWw9MWUzLGEuX2hhbmRsZVRyYWNrKCksYX1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXtnLmRlYnVnKFwiY2xvc2UoKVwiKSx0aGlzLl9jbG9zZWR8fCh0aGlzLl9jbG9zZWQ9ITAsdGhpcy5fc3RhdHNFbmFibGVkJiYodGhpcy5fc3RhdHNFbmFibGVkPSExLHRoaXMudHJhbnNwb3J0JiZ0aGlzLnRyYW5zcG9ydC5kaXNhYmxlUHJvZHVjZXJTdGF0cyh0aGlzKSksdGhpcy5fdHJhbnNwb3J0JiZ0aGlzLl90cmFuc3BvcnQucmVtb3ZlUHJvZHVjZXIodGhpcyxcImxvY2FsXCIsZSksdGhpcy5fZGVzdHJveSgpLHRoaXMuZW1pdChcIkBjbG9zZVwiLFwibG9jYWxcIixlKSx0aGlzLnNhZmVFbWl0KFwiY2xvc2VcIixcImxvY2FsXCIsZSkpfX0se2tleTpcInJlbW90ZUNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5kZWJ1ZyhcInJlbW90ZUNsb3NlKClcIiksdGhpcy5fY2xvc2VkfHwodGhpcy5fY2xvc2VkPSEwLHRoaXMuX3RyYW5zcG9ydCYmdGhpcy5fdHJhbnNwb3J0LnJlbW92ZVByb2R1Y2VyKHRoaXMsXCJyZW1vdGVcIixlKSx0aGlzLl9kZXN0cm95KCksdGhpcy5lbWl0KFwiQGNsb3NlXCIsXCJyZW1vdGVcIixlKSx0aGlzLnNhZmVFbWl0KFwiY2xvc2VcIixcInJlbW90ZVwiLGUpKX19LHtrZXk6XCJfZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdHJhbnNwb3J0PSExLHRoaXMuX3J0cFBhcmFtZXRlcnM9bnVsbDt0cnl7dGhpcy5fdHJhY2suc3RvcCgpfWNhdGNoKGUpe319fSx7a2V5Olwic2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGcuZGVidWcoXCJzZW5kKCkgW3RyYW5zcG9ydDolb11cIixlKSx0aGlzLl9jbG9zZWQ/YS5kZWZhdWx0LnJlamVjdChuZXcgbS5JbnZhbGlkU3RhdGVFcnJvcihcIlByb2R1Y2VyIGNsb3NlZFwiKSk6dGhpcy5fdHJhbnNwb3J0P2EuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiYWxyZWFkeSBoYW5kbGVkIGJ5IGEgVHJhbnNwb3J0XCIpKTpcIm9iamVjdFwiIT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjooMCxvLmRlZmF1bHQpKGUpKT9hLmRlZmF1bHQucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIFRyYW5zcG9ydFwiKSk6KFwiYXVkaW9cIj09PXRoaXMuX29yaWdpbmFsVHJhY2sua2luZD9lLl9hdWRpb1NlbnQ9ITA6XCJ2aWRlb1wiPT09dGhpcy5fb3JpZ2luYWxUcmFjay5raW5kJiYoZS5fdmlkZW9TZW50PSEwKSx0aGlzLl90cmFuc3BvcnQ9ZSxlLmFkZFByb2R1Y2VyKHRoaXMpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5vbmNlKFwiQGNsb3NlXCIsKGZ1bmN0aW9uKCl7dC5fY2xvc2VkfHx0Ll90cmFuc3BvcnQhPT1lfHwodC5fdHJhbnNwb3J0LnJlbW92ZVByb2R1Y2VyKHQsXCJsb2NhbFwiKSx0Ll90cmFuc3BvcnQ9bnVsbCx0Ll9ydHBQYXJhbWV0ZXJzPW51bGwsdC5zYWZlRW1pdChcInVuaGFuZGxlZFwiKSl9KSksdC5zYWZlRW1pdChcImhhbmRsZWRcIiksdC5fc3RhdHNFbmFibGVkJiZlLmVuYWJsZVByb2R1Y2VyU3RhdHModCx0Ll9zdGF0c0ludGVydmFsKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dGhyb3cgdC5fdHJhbnNwb3J0PW51bGwsZX0pKSl9fSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZy5kZWJ1ZyhcInBhdXNlKClcIiksIXRoaXMuX2Nsb3NlZCYmKCEhdGhpcy5fbG9jYWxseVBhdXNlZHx8KHRoaXMuX2xvY2FsbHlQYXVzZWQ9ITAsdGhpcy5fdHJhY2suZW5hYmxlZD0hMSx0aGlzLl90cmFuc3BvcnQmJnRoaXMuX3RyYW5zcG9ydC5wYXVzZVByb2R1Y2VyKHRoaXMsZSksdGhpcy5zYWZlRW1pdChcInBhdXNlXCIsXCJsb2NhbFwiLGUpLHRoaXMucGF1c2VkKSl9fSx7a2V5OlwicmVtb3RlUGF1c2VcIix2YWx1ZTpmdW5jdGlvbihlKXtnLmRlYnVnKFwicmVtb3RlUGF1c2UoKVwiKSx0aGlzLl9jbG9zZWR8fHRoaXMuX3JlbW90ZWx5UGF1c2VkfHwodGhpcy5fcmVtb3RlbHlQYXVzZWQ9ITAsdGhpcy5fdHJhY2suZW5hYmxlZD0hMSx0aGlzLnNhZmVFbWl0KFwicGF1c2VcIixcInJlbW90ZVwiLGUpKX19LHtrZXk6XCJyZXN1bWVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZy5kZWJ1ZyhcInJlc3VtZSgpXCIpLCF0aGlzLl9jbG9zZWQmJighdGhpcy5fbG9jYWxseVBhdXNlZHx8KHRoaXMuX2xvY2FsbHlQYXVzZWQ9ITEsdGhpcy5fcmVtb3RlbHlQYXVzZWR8fCh0aGlzLl90cmFjay5lbmFibGVkPSEwKSx0aGlzLl90cmFuc3BvcnQmJnRoaXMuX3RyYW5zcG9ydC5yZXN1bWVQcm9kdWNlcih0aGlzLGUpLHRoaXMuc2FmZUVtaXQoXCJyZXN1bWVcIixcImxvY2FsXCIsZSksIXRoaXMucGF1c2VkKSl9fSx7a2V5OlwicmVtb3RlUmVzdW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5kZWJ1ZyhcInJlbW90ZVJlc3VtZSgpXCIpLCF0aGlzLl9jbG9zZWQmJnRoaXMuX3JlbW90ZWx5UGF1c2VkJiYodGhpcy5fcmVtb3RlbHlQYXVzZWQ9ITEsdGhpcy5fbG9jYWxseVBhdXNlZHx8KHRoaXMuX3RyYWNrLmVuYWJsZWQ9ITApLHRoaXMuc2FmZUVtaXQoXCJyZXN1bWVcIixcInJlbW90ZVwiLGUpKX19LHtrZXk6XCJzdG9wVHJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe2cuZGVidWcoXCJzdG9wVHJhY2soKSBcIik7dHJ5e3RoaXMuX3RyYWNrLm9uZW5kZWQ9bnVsbCx0aGlzLl90cmFjay5zdG9wKCl9Y2F0Y2goZSl7Zy5kZWJ1ZyhcInN0b3BUcmFjaygpIGZhaWwgLSBcIitlLnRvU3RyaW5nKCkpfX19LHtrZXk6XCJyZXBsYWNlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGcuZGVidWcoXCJyZXBsYWNlVHJhY2soKSBbdHJhY2s6JW9dXCIsZSksdGhpcy5fY2xvc2VkKXJldHVybiBhLmRlZmF1bHQucmVqZWN0KG5ldyBtLkludmFsaWRTdGF0ZUVycm9yKFwiUHJvZHVjZXIgY2xvc2VkXCIpKTtpZighZSlyZXR1cm4gYS5kZWZhdWx0LnJlamVjdChuZXcgVHlwZUVycm9yKFwibm8gdHJhY2sgZ2l2ZW5cIikpO2lmKFwiZW5kZWRcIj09PWUucmVhZHlTdGF0ZSlyZXR1cm4gYS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJ0cmFjay5yZWFkeVN0YXRlIGlzIFtlbmRlZF1cIikpO3ZhciByPXZvaWQgMDt0cnl7cj1lLmNsb25lKCl9Y2F0Y2godCl7cj1lfXJldHVybiBhLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYodC5fdHJhbnNwb3J0KXJldHVybiB0Ll90cmFuc3BvcnQucmVwbGFjZVByb2R1Y2VyVHJhY2sodCxyKX0pKS50aGVuKChmdW5jdGlvbigpe3RyeXt0Ll90cmFjay5vbmVuZGVkPW51bGwsdC5fdHJhY2suc3RvcCgpfWNhdGNoKGUpe2cuZGVidWcoXCJyZXBsYWNlVHJhY2soKSBmYWlsIC0gXCIrZS50b1N0cmluZygpKX1yZXR1cm4gdC5wYXVzZWQ/ci5lbmFibGVkPSExOnIuZW5hYmxlZD0hMCx0Ll9vcmlnaW5hbFRyYWNrPWUsdC5fdHJhY2s9cix0Ll9oYW5kbGVUcmFjaygpLHQuX3RyYWNrfSkpfX0se2tleTpcInVwZGF0ZVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXRoaXM7dGhpcy5fdHJhY2suYXBwbHlDb25zdHJhaW50cyh0KS50aGVuKChmdW5jdGlvbigpe2cuZGVidWcoXCJ1cGRhdGVUcmFjaygpIHRyYWNrLmFwcGx5Q29uc3RyYWludHMgb2sgLS0gY29uc3RyYWludHM6IFwiKygwLG4uZGVmYXVsdCkodCkpLGEuc2V0Q29kZWNPcHRpb24ociksYS5fdHJhbnNwb3J0LnVwZGF0ZVRyYWNrKGEsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2cud2FybihcInVwZGF0ZVRyYWNrKCkgZXJyb3IgLSB0cmFjay5hcHBseUNvbnN0cmFpbnRzIGZhaWxlZCAtIFwiK2UudG9TdHJpbmcoKSl9KSl9fSx7a2V5Olwic2V0Q29kZWNPcHRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl92aWRlb0JpdHJhdGVPcHRpb25zPXt2aWRlb0dvb2dsZVN0YXJ0Qml0cmF0ZTplLmlkZWFsQmFuZHdpZHRoLHZpZGVvR29vZ2xlTWF4Qml0cmF0ZTplLm1heEJhbmR3aWR0aCx2aWRlb0dvb2dsZU1pbkJpdHJhdGU6ZS5taW5CYW5kd2lkdGh9fX0se2tleTpcInNldFJ0cFBhcmFtZXRlcnNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9ydHBQYXJhbWV0ZXJzPWV9fSx7a2V5OlwiZW5hYmxlU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxZTM7Zy5kZWJ1ZyhcImVuYWJsZVN0YXRzKCkgW2ludGVydmFsOiVzXVwiLGUpLHRoaXMuX2Nsb3NlZHx8dGhpcy5fc3RhdHNFbmFibGVkfHwodGhpcy5fc3RhdHNJbnRlcnZhbD1cIm51bWJlclwiIT10eXBlb2YgZXx8ZTwxZTM/MWUzOmUsdGhpcy5fc3RhdHNFbmFibGVkPSEwLHRoaXMuX3RyYW5zcG9ydCYmdGhpcy5fdHJhbnNwb3J0LmVuYWJsZVByb2R1Y2VyU3RhdHModGhpcyx0aGlzLl9zdGF0c0ludGVydmFsKSl9fSx7a2V5OlwiZGlzYWJsZVN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbG9zZWR8fHRoaXMuX3N0YXRzRW5hYmxlZCYmKHRoaXMuX3N0YXRzRW5hYmxlZD0hMSx0aGlzLl90cmFuc3BvcnQmJnRoaXMuX3RyYW5zcG9ydC5kaXNhYmxlUHJvZHVjZXJTdGF0cyh0aGlzKSl9fSx7a2V5OlwiZW5hYmxlSW50ZXJuYWxTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxZTM7Zy5kZWJ1ZyhcImVuYWJsZUludGVybmFsU3RhdHMoKSBbaW50ZXJ2YWw6JXNdXCIsdCksdGhpcy5fY2xvc2VkfHx0aGlzLl9pbnRlcm5hbFN0YXRzRW5hYmxlZHx8KFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDFlMz90aGlzLl9pbnRlcmFubFN0YXRzSW50ZXJ2YWw9MWUzOnRoaXMuX3N0YXRzSW50ZXJ2YWw9dCx0aGlzLl9pbnRlcm5hbFN0YXRzRW5hYmxlZD0hMCx0aGlzLl90cmFuc3BvcnQmJih0aGlzLl9pbnRlcm5hbFRpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe3JldHVybiBlLmdldFN0YXRzKCkudGhlbigoZnVuY3Rpb24odCl7ZS5lbWl0KFwiaW50ZXJuYWxTdGF0c1wiLHQpfSkpfSksdCkpKX19LHtrZXk6XCJkaXNhYmxlSW50ZXJuYWxTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxTdGF0c0VuYWJsZWQmJmNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJuYWxUaW1lciksdGhpcy5faW50ZXJuYWxUaW1lcj1udWxsLHRoaXMuX2ludGVybmFsU3RhdHNFbmFibGVkPSExfX0se2tleTpcInJlbW90ZVN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zYWZlRW1pdChcInN0YXRzXCIsZSl9fSx7a2V5OlwiZ2V0U3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRTdGF0cyh0aGlzLnRyYWNrKX19LHtrZXk6XCJfaGFuZGxlVHJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fdHJhY2sub25lbmRlZD1mdW5jdGlvbigpe2UuX2Nsb3NlZHx8KGcud2FybigndHJhY2sgXCJlbmRlZFwiIGV2ZW50JyksZS5zYWZlRW1pdChcInRyYWNrZW5kZWRcIikpfX19LHtrZXk6XCJpZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6XCJjbG9zZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkfX0se2tleTpcImtpbmRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2sua2luZH19LHtrZXk6XCJ0cmFja1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja319LHtrZXk6XCJvcmlnaW5hbFRyYWNrXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWdpbmFsVHJhY2t9fSx7a2V5Olwic2ltdWxjYXN0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpbXVsY2FzdH19LHtrZXk6XCJhcHBEYXRhXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcERhdGF9fSx7a2V5OlwidHJhbnNwb3J0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcG9ydH19LHtrZXk6XCJydHBQYXJhbWV0ZXJzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J0cFBhcmFtZXRlcnN9fSx7a2V5OlwibG9jYWxseVBhdXNlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbGx5UGF1c2VkfX0se2tleTpcInJlbW90ZWx5UGF1c2VkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZWx5UGF1c2VkfX0se2tleTpcInBhdXNlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbGx5UGF1c2VkfHx0aGlzLl9yZW1vdGVseVBhdXNlZH19LHtrZXk6XCJ2aWRlb0JpdHJhdGVPcHRpb25zXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZGVvQml0cmF0ZU9wdGlvbnN9fSx7a2V5OlwiYXVkaW9Qcm9maWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1ZGlvUHJvZmlsZX19XSksdH0oZi5kZWZhdWx0KTt0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWYocigxNikpLGE9ZihyKDE3KSksaT1mKHIoOCkpLG89ZihyKDIpKSxzPWYocigwKSksYz1mKHIoMSkpLHU9ZihyKDMpKSxkPWYocig0KSksbD1mKHIoNSkpLHA9ZihyKDEwKSk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIG09bmV3IGwuZGVmYXVsdChcIjxQZWVyPlwiKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7dmFyIG49KDAsdS5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLG0pKTtyZXR1cm4gbi5fbmFtZT1lLG4uX2Nsb3NlZD0hMSxuLl9hcHBEYXRhPXIsbi5fY29uc3VtZXJzPW5ldyBpLmRlZmF1bHQsbn1yZXR1cm4oMCxkLmRlZmF1bHQpKHQsZSksKDAsYy5kZWZhdWx0KSh0LFt7a2V5OlwiY2xvc2VcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG0uZGVidWcoXCJjbG9zZSgpXCIpLCF0aGlzLl9jbG9zZWQpe3RoaXMuX2Nsb3NlZD0hMCx0aGlzLmVtaXQoXCJAY2xvc2VcIiksdGhpcy5zYWZlRW1pdChcImNsb3NlXCIsXCJsb2NhbFwiKTt2YXIgZT0hMCx0PSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIG4saT0oMCxhLmRlZmF1bHQpKHRoaXMuX2NvbnN1bWVycy52YWx1ZXMoKSk7IShlPShuPWkubmV4dCgpKS5kb25lKTtlPSEwKXtuLnZhbHVlLmNsb3NlKCl9fWNhdGNoKGUpe3Q9ITAscj1lfWZpbmFsbHl7dHJ5eyFlJiZpLnJldHVybiYmaS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgcn19fX19LHtrZXk6XCJyZW1vdGVDbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKG0uZGVidWcoXCJyZW1vdGVDbG9zZSgpXCIpLCF0aGlzLl9jbG9zZWQpe3RoaXMuX2Nsb3NlZD0hMCx0aGlzLmVtaXQoXCJAY2xvc2VcIiksdGhpcy5zYWZlRW1pdChcImNsb3NlXCIsXCJyZW1vdGVcIixlKTt2YXIgdD0hMCxyPSExLG49dm9pZCAwO3RyeXtmb3IodmFyIGksbz0oMCxhLmRlZmF1bHQpKHRoaXMuX2NvbnN1bWVycy52YWx1ZXMoKSk7ISh0PShpPW8ubmV4dCgpKS5kb25lKTt0PSEwKXtpLnZhbHVlLnJlbW90ZUNsb3NlKCl9fWNhdGNoKGUpe3I9ITAsbj1lfWZpbmFsbHl7dHJ5eyF0JiZvLnJldHVybiYmby5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgbn19fX19LHtrZXk6XCJnZXRDb25zdW1lckJ5SWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29uc3VtZXJzLmdldChlKX19LHtrZXk6XCJhZGRDb25zdW1lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fY29uc3VtZXJzLmhhcyhlLmlkKSl0aHJvdyBuZXcgRXJyb3IoXCJDb25zdW1lciBhbHJlYWR5IGV4aXN0cyBbaWQ6XCIrZS5pZCtcIl1cIik7dGhpcy5fY29uc3VtZXJzLnNldChlLmlkLGUpLGUub24oXCJAY2xvc2VcIiwoZnVuY3Rpb24oKXt0Ll9jb25zdW1lcnMuZGVsZXRlKGUuaWQpfSkpLHRoaXMuc2FmZUVtaXQoXCJuZXdjb25zdW1lclwiLGUpfX0se2tleTpcIm5hbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX19LHtrZXk6XCJjbG9zZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2VkfX0se2tleTpcImFwcERhdGFcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwRGF0YX19LHtrZXk6XCJjb25zdW1lcnNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxuLmRlZmF1bHQpKHRoaXMuX2NvbnN1bWVycy52YWx1ZXMoKSl9fV0pLHR9KHAuZGVmYXVsdCk7dC5kZWZhdWx0PWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1tKHIoMjYpKSxhPW0ocig2KSksaT1tKHIoMikpLG89bShyKDApKSxzPW0ocigxKSksYz1tKHIoMykpLHU9bShyKDQpKSxkPW0ocigxOSkpLGw9bShyKDUpKSxwPW0ocigxMCkpLGY9cig1Mik7ZnVuY3Rpb24gbShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGg9bmV3IGQuZGVmYXVsdChbXCJkZWZhdWx0XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSksdj1uZXcgbC5kZWZhdWx0KFwiQ29uc3VtZXJcIiksXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLGEscyl7KDAsby5kZWZhdWx0KSh0aGlzLHQpO3ZhciB1PSgwLGMuZGVmYXVsdCkodGhpcywodC5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkodCkpLmNhbGwodGhpcyx2KSk7cmV0dXJuIHUuX2lkPWUsdS5fY2xvc2VkPSExLHUuX2tpbmQ9cix1Ll9ydHBQYXJhbWV0ZXJzPW4sdS5fcGVlcj1hLHUuX2FwcERhdGE9cyx1Ll9zdXBwb3J0ZWQ9ITEsdS5fdHJhbnNwb3J0PW51bGwsdS5fdHJhY2s9bnVsbCx1Ll9sb2NhbGx5UGF1c2VkPSExLHUuX3JlbW90ZWx5UGF1c2VkPSExLHUuX3N0YXRzRW5hYmxlZD0hMSx1Ll9zdGF0c0ludGVydmFsPTFlMyx1Ll9wcmVmZXJyZWRQcm9maWxlPVwiZGVmYXVsdFwiLHUuX2VmZmVjdGl2ZVByb2ZpbGU9bnVsbCx1fXJldHVybigwLHUuZGVmYXVsdCkodCxlKSwoMCxzLmRlZmF1bHQpKHQsW3trZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7di5kZWJ1ZyhcImNsb3NlKClcIiksdGhpcy5fY2xvc2VkfHwodGhpcy5fY2xvc2VkPSEwLHRoaXMuX3N0YXRzRW5hYmxlZCYmKHRoaXMuX3N0YXRzRW5hYmxlZD0hMSx0aGlzLnRyYW5zcG9ydCYmdGhpcy50cmFuc3BvcnQuZGlzYWJsZUNvbnN1bWVyU3RhdHModGhpcykpLHRoaXMuZW1pdChcIkBjbG9zZVwiKSx0aGlzLnNhZmVFbWl0KFwiY2xvc2VcIixcImxvY2FsXCIpLHRoaXMuX2Rlc3Ryb3koKSl9fSx7a2V5OlwicmVtb3RlQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3YuZGVidWcoXCJyZW1vdGVDbG9zZSgpXCIpLHRoaXMuX2Nsb3NlZHx8KHRoaXMuX2Nsb3NlZD0hMCx0aGlzLl90cmFuc3BvcnQmJnRoaXMuX3RyYW5zcG9ydC5yZW1vdmVDb25zdW1lcih0aGlzKSx0aGlzLl9kZXN0cm95KCksdGhpcy5lbWl0KFwiQGNsb3NlXCIpLHRoaXMuc2FmZUVtaXQoXCJjbG9zZVwiLFwicmVtb3RlXCIpKX19LHtrZXk6XCJfZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdHJhbnNwb3J0PW51bGw7dHJ5e3RoaXMuX3RyYWNrLnN0b3AoKX1jYXRjaChlKXt9dGhpcy5fdHJhY2s9bnVsbH19LHtrZXk6XCJyZWNlaXZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdi5kZWJ1ZyhcInJlY2VpdmUoKSBbdHJhbnNwb3J0OiVvXVwiLGUpLHRoaXMuX2Nsb3NlZD9hLmRlZmF1bHQucmVqZWN0KG5ldyBmLkludmFsaWRTdGF0ZUVycm9yKFwiQ29uc3VtZXIgY2xvc2VkXCIpKTp0aGlzLl9zdXBwb3J0ZWQ/dGhpcy5fdHJhbnNwb3J0P2EuZGVmYXVsdC5yZWplY3QobmV3IEVycm9yKFwiYWxyZWFkeSBoYW5kbGVkIGJ5IGEgVHJhbnNwb3J0XCIpKTpcIm9iamVjdFwiIT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjooMCxuLmRlZmF1bHQpKGUpKT9hLmRlZmF1bHQucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIFRyYW5zcG9ydFwiKSk6KHRoaXMuX3RyYW5zcG9ydD1lLGUuYWRkQ29uc3VtZXIodGhpcykudGhlbigoZnVuY3Rpb24ocil7cmV0dXJuIHQuX3RyYWNrPXIsdC5wYXVzZWQmJihyLmVuYWJsZWQ9ITEpLGUub25jZShcIkBjbG9zZVwiLChmdW5jdGlvbigpe2lmKCF0Ll9jbG9zZWQmJnQuX3RyYW5zcG9ydD09PWUpe3QuX3RyYW5zcG9ydD1udWxsO3RyeXt0Ll90cmFjay5zdG9wKCl9Y2F0Y2goZSl7fXQuX3RyYWNrPW51bGwsdC5zYWZlRW1pdChcInVuaGFuZGxlZFwiKX19KSksdC5zYWZlRW1pdChcImhhbmRsZWRcIiksdC5fc3RhdHNFbmFibGVkJiZlLmVuYWJsZUNvbnN1bWVyU3RhdHModCx0Ll9zdGF0c0ludGVydmFsKSxyfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0aHJvdyB0Ll90cmFuc3BvcnQ9bnVsbCxlfSkpKTphLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGNvZGVjc1wiKSl9fSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdi5kZWJ1ZyhcInBhdXNlKClcIiksIXRoaXMuX2Nsb3NlZCYmKCEhdGhpcy5fbG9jYWxseVBhdXNlZHx8KHRoaXMuX2xvY2FsbHlQYXVzZWQ9ITAsdGhpcy5fdHJhY2smJih0aGlzLl90cmFjay5lbmFibGVkPSExKSx0aGlzLl90cmFuc3BvcnQmJnRoaXMuX3RyYW5zcG9ydC5wYXVzZUNvbnN1bWVyKHRoaXMsZSksdGhpcy5zYWZlRW1pdChcInBhdXNlXCIsXCJsb2NhbFwiLGUpLHRoaXMucGF1c2VkKSl9fSx7a2V5OlwicmVtb3RlUGF1c2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2LmRlYnVnKFwicmVtb3RlUGF1c2UoKVwiKSx0aGlzLl9jbG9zZWR8fHRoaXMuX3JlbW90ZWx5UGF1c2VkfHwodGhpcy5fcmVtb3RlbHlQYXVzZWQ9ITAsdGhpcy5fdHJhY2smJih0aGlzLl90cmFjay5lbmFibGVkPSExKSx0aGlzLnNhZmVFbWl0KFwicGF1c2VcIixcInJlbW90ZVwiLGUpKX19LHtrZXk6XCJyZXN1bWVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdi5kZWJ1ZyhcInJlc3VtZSgpXCIpLCF0aGlzLl9jbG9zZWQmJighdGhpcy5fbG9jYWxseVBhdXNlZHx8KHRoaXMuX2xvY2FsbHlQYXVzZWQ9ITEsdGhpcy5fdHJhY2smJiF0aGlzLl9yZW1vdGVseVBhdXNlZCYmKHRoaXMuX3RyYWNrLmVuYWJsZWQ9ITApLHRoaXMuX3RyYW5zcG9ydCYmdGhpcy5fdHJhbnNwb3J0LnJlc3VtZUNvbnN1bWVyKHRoaXMsZSksdGhpcy5zYWZlRW1pdChcInJlc3VtZVwiLFwibG9jYWxcIixlKSwhdGhpcy5wYXVzZWQpKX19LHtrZXk6XCJyZW1vdGVSZXN1bWVcIix2YWx1ZTpmdW5jdGlvbihlKXt2LmRlYnVnKFwicmVtb3RlUmVzdW1lKClcIiksIXRoaXMuX2Nsb3NlZCYmdGhpcy5fcmVtb3RlbHlQYXVzZWQmJih0aGlzLl9yZW1vdGVseVBhdXNlZD0hMSx0aGlzLl90cmFjayYmIXRoaXMuX2xvY2FsbHlQYXVzZWQmJih0aGlzLl90cmFjay5lbmFibGVkPSEwKSx0aGlzLnNhZmVFbWl0KFwicmVzdW1lXCIsXCJyZW1vdGVcIixlKSl9fSx7a2V5Olwic2V0UHJlZmVycmVkUHJvZmlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3YuZGVidWcoXCJzZXRQcmVmZXJyZWRQcm9maWxlKCkgW3Byb2ZpbGU6JXNdXCIsZSksdGhpcy5fY2xvc2VkP3Yud2FybihcInNldFByZWZlcnJlZFByb2ZpbGUoKSB8IENvbnN1bWVyIGNsb3NlZFwiKTplIT09dGhpcy5fcHJlZmVycmVkUHJvZmlsZSYmKGguaGFzKGUpPyh0aGlzLl9wcmVmZXJyZWRQcm9maWxlPWUsdGhpcy5fdHJhbnNwb3J0JiZ0aGlzLl90cmFuc3BvcnQuc2V0Q29uc3VtZXJQcmVmZXJyZWRQcm9maWxlKHRoaXMsdGhpcy5fcHJlZmVycmVkUHJvZmlsZSkpOnYuZXJyb3IoJ3NldFByZWZlcnJlZFByb2ZpbGUoKSB8IGludmFsaWQgcHJvZmlsZSBcIiVzXCInLGUpKX19LHtrZXk6XCJyZW1vdGVTZXRQcmVmZXJyZWRQcm9maWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7di5kZWJ1ZyhcInJlbW90ZVNldFByZWZlcnJlZFByb2ZpbGUoKSBbcHJvZmlsZTolc11cIixlKSx0aGlzLl9jbG9zZWR8fGU9PT10aGlzLl9wcmVmZXJyZWRQcm9maWxlfHwodGhpcy5fcHJlZmVycmVkUHJvZmlsZT1lKX19LHtrZXk6XCJyZW1vdGVFZmZlY3RpdmVQcm9maWxlQ2hhbmdlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3YuZGVidWcoXCJyZW1vdGVFZmZlY3RpdmVQcm9maWxlQ2hhbmdlZCgpIFtwcm9maWxlOiVzXVwiLGUpLHRoaXMuX2Nsb3NlZHx8ZT09PXRoaXMuX2VmZmVjdGl2ZVByb2ZpbGV8fCh0aGlzLl9lZmZlY3RpdmVQcm9maWxlPWUsdGhpcy5zYWZlRW1pdChcImVmZmVjdGl2ZXByb2ZpbGVjaGFuZ2VcIix0aGlzLl9lZmZlY3RpdmVQcm9maWxlKSl9fSx7a2V5OlwiZW5hYmxlU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxZTM7di5kZWJ1ZyhcImVuYWJsZVN0YXRzKCkgW2ludGVydmFsOiVzXVwiLGUpLHRoaXMuX2Nsb3NlZHx8dGhpcy5fc3RhdHNFbmFibGVkfHwodGhpcy5fc3RhdHNJbnRlcnZhbD1cIm51bWJlclwiIT10eXBlb2YgZXx8ZTwxZTM/MWUzOmUsdGhpcy5fc3RhdHNFbmFibGVkPSEwLHRoaXMuX3RyYW5zcG9ydCYmdGhpcy5fdHJhbnNwb3J0LmVuYWJsZUNvbnN1bWVyU3RhdHModGhpcyx0aGlzLl9zdGF0c0ludGVydmFsKSl9fSx7a2V5OlwiZGlzYWJsZVN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbG9zZWR8fHRoaXMuX3N0YXRzRW5hYmxlZCYmKHRoaXMuX3N0YXRzRW5hYmxlZD0hMSx0aGlzLl90cmFuc3BvcnQmJnRoaXMuX3RyYW5zcG9ydC5kaXNhYmxlQ29uc3VtZXJTdGF0cyh0aGlzKSl9fSx7a2V5Olwic2V0U3VwcG9ydGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3VwcG9ydGVkPWV9fSx7a2V5OlwicmVtb3RlU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNhZmVFbWl0KFwic3RhdHNcIixlKX19LHtrZXk6XCJnZXRTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRTdGF0cyhlKX19LHtrZXk6XCJlbmFibGVJbnRlcm5hbFN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWU+MCYmdm9pZCAwIT09ZT9lOjFlMzt0aGlzLl9jbG9zZWR8fHRoaXMuX2ludGVybmFsU3RhdHNFbmFibGVkfHwodGhpcy5faW50ZXJhbmxTdGF0c0ludGVydmFsPVwibnVtYmVyXCIhPXR5cGVvZiByfHxyPDFlMz8xZTM6cix0aGlzLl9pbnRlcm5hbFN0YXRzRW5hYmxlZD0hMCx0aGlzLl90cmFuc3BvcnQmJih0aGlzLl9pbnRlcm5hbFRpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe3JldHVybiB0LmdldFN0YXRzKCkudGhlbigoZnVuY3Rpb24oZSl7dC5lbWl0KFwiaW50ZXJuYWxTdGF0c1wiLGUpfSkpfSkscikpKX19LHtrZXk6XCJkaXNhYmxlSW50ZXJuYWxTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxTdGF0c0VuYWJsZWQmJmNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJuYWxUaW1lciksdGhpcy5faW50ZXJuYWxUaW1lcj1udWxsLHRoaXMuX2ludGVybmFsU3RhdHNFbmFibGVkPSExfX0se2tleTpcImlkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfX0se2tleTpcImNsb3NlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9zZWR9fSx7a2V5Olwia2luZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9raW5kfX0se2tleTpcInJ0cFBhcmFtZXRlcnNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnRwUGFyYW1ldGVyc319LHtrZXk6XCJwZWVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlZXJ9fSx7a2V5OlwiYXBwRGF0YVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBEYXRhfX0se2tleTpcInN1cHBvcnRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdXBwb3J0ZWR9fSx7a2V5OlwidHJhbnNwb3J0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcG9ydH19LHtrZXk6XCJ0cmFja1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja319LHtrZXk6XCJsb2NhbGx5UGF1c2VkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsbHlQYXVzZWR9fSx7a2V5OlwicmVtb3RlbHlQYXVzZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlbHlQYXVzZWR9fSx7a2V5OlwicGF1c2VkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsbHlQYXVzZWR8fHRoaXMuX3JlbW90ZWx5UGF1c2VkfX0se2tleTpcInByZWZlcnJlZFByb2ZpbGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJlZmVycmVkUHJvZmlsZX19LHtrZXk6XCJlZmZlY3RpdmVQcm9maWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVByb2ZpbGV9fV0pLHR9KHAuZGVmYXVsdCk7dC5kZWZhdWx0PV99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJlbW90ZVBsYWluUnRwU2RwPXQuUmVtb3RlUGxhbkJTZHA9dC5SZW1vdGVVbmlmaWVkUGxhblNkcD10LnNkcFBsYWluUnRwVXRpbHM9dC5zZHBQbGFuQlV0aWxzPXQuc2RwVW5pZmllZFBsYW5VdGlscz10LnNkcENvbW1vblV0aWxzPXQub3J0Yz10LnV0aWxzPXQuRW5oYW5jZWRFdmVudEVtaXR0ZXI9dC5Mb2dnZXI9dm9pZCAwO3ZhciBuPWgocig1KSksYT1oKHIoMTApKSxpPW0ocig5KSksbz1tKHIoMTUpKSxzPW0ocigyMCkpLGM9bShyKDM1KSksdT1tKHIoNDIpKSxkPW0ocigyMTcpKSxsPWgocigzNikpLHA9aChyKDQzKSksZj1oKHIoMjE4KSk7ZnVuY3Rpb24gbShlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5Mb2dnZXI9bi5kZWZhdWx0LHQuRW5oYW5jZWRFdmVudEVtaXR0ZXI9YS5kZWZhdWx0LHQudXRpbHM9aSx0Lm9ydGM9byx0LnNkcENvbW1vblV0aWxzPXMsdC5zZHBVbmlmaWVkUGxhblV0aWxzPWMsdC5zZHBQbGFuQlV0aWxzPXUsdC5zZHBQbGFpblJ0cFV0aWxzPWQsdC5SZW1vdGVVbmlmaWVkUGxhblNkcD1sLmRlZmF1bHQsdC5SZW1vdGVQbGFuQlNkcD1wLmRlZmF1bHQsdC5SZW1vdGVQbGFpblJ0cFNkcD1mLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4dHJhY3RQbGFpblJ0cFBhcmFtZXRlcnNCeUtpbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oZS5tZWRpYXx8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10fSkpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIm09XCIrdCtcIiBzZWN0aW9uIG5vdCBmb3VuZFwiKTtyZXR1cm57aXA6ZS5jb25uZWN0aW9uLmlwLHBvcnQ6ci5wb3J0fX0sdC5maWxsUnRwUGFyYW1ldGVyc0ZvcktpbmQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtjbmFtZTpudWxsLHJlZHVjZWRTaXplOiEwLG11eDohMH0sYT0odC5tZWRpYXx8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT1yfSkpO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIm09XCIrcitcIiBzZWN0aW9uIG5vdCBmb3VuZFwiKTt2YXIgaT0oYS5zc3Jjc3x8W10pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuYXR0cmlidXRlfSkpLG89dm9pZCAwO2kmJihvPWkuaWQsbi5jbmFtZT1pLnZhbHVlKTtlLnJ0Y3A9bixlLmVuY29kaW5ncz1bXTt2YXIgcz17c3NyYzpvfTtlLmVuY29kaW5ncy5wdXNoKHMpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWYocig0MSkpLGE9ZihyKDE3KSksaT1mKHIoMikpLG89ZihyKDMpKSxzPWYocig0KSksYz1mKHIoMCkpLHU9ZihyKDEpKSxkPWYocigxMikpLGw9ZihyKDUpKSxwPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocig5KSk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIG09bmV3IGwuZGVmYXVsdChcIjxSZW1vdGVQbGFpblJ0cFNkcD5cIiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7KDAsYy5kZWZhdWx0KSh0aGlzLGUpLHRoaXMuX3J0cFBhcmFtZXRlcnNCeUtpbmQ9dCx0aGlzLl90cmFuc3BvcnRMb2NhbFBhcmFtZXRlcnM9bnVsbCx0aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzPW51bGwsdGhpcy5fc2RwR2xvYmFsRmllbGRzPXtpZDpwLnJhbmRvbU51bWJlcigpLHZlcnNpb246MH19cmV0dXJuKDAsdS5kZWZhdWx0KShlLFt7a2V5Olwic2V0VHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7bS5kZWJ1ZyhcInNldFRyYW5zcG9ydExvY2FsUGFyYW1ldGVycygpIFt0cmFuc3BvcnRMb2NhbFBhcmFtZXRlcnM6JW9dXCIsZSksdGhpcy5fdHJhbnNwb3J0TG9jYWxQYXJhbWV0ZXJzPWV9fSx7a2V5Olwic2V0VHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVyc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe20uZGVidWcoXCJzZXRUcmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKCkgW3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnM6JW9dXCIsZSksdGhpcy5fdHJhbnNwb3J0UmVtb3RlUGFyYW1ldGVycz1lfX1dKSxlfSgpLHY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4oMCxjLmRlZmF1bHQpKHRoaXMsdCksKDAsby5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsaS5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzLGUpKX1yZXR1cm4oMCxzLmRlZmF1bHQpKHQsZSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwiY3JlYXRlQW5zd2VyU2RwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYobS5kZWJ1ZyhcImNyZWF0ZUFuc3dlclNkcCgpXCIpLCF0aGlzLl90cmFuc3BvcnRMb2NhbFBhcmFtZXRlcnMpdGhyb3cgbmV3IEVycm9yKFwibm8gdHJhbnNwb3J0IGxvY2FsIHBhcmFtZXRlcnNcIik7aWYoIXRoaXMuX3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnMpdGhyb3cgbmV3IEVycm9yKFwibm8gdHJhbnNwb3J0IHJlbW90ZSBwYXJhbWV0ZXJzXCIpO3ZhciB0PXRoaXMuX3RyYW5zcG9ydFJlbW90ZVBhcmFtZXRlcnMucGxhaW5SdHBQYXJhbWV0ZXJzLHI9e30saT0oZS5tZWRpYXx8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkoXCJtaWRcIil9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUubWlkKX0pKTt0aGlzLl9zZHBHbG9iYWxGaWVsZHMudmVyc2lvbisrLHIudmVyc2lvbj0wLHIub3JpZ2luPXthZGRyZXNzOnQuaXAsaXBWZXI6dC52ZXJzaW9uLG5ldFR5cGU6XCJJTlwiLHNlc3Npb25JZDp0aGlzLl9zZHBHbG9iYWxGaWVsZHMuaWQsc2Vzc2lvblZlcnNpb246dGhpcy5fc2RwR2xvYmFsRmllbGRzLnZlcnNpb24sdXNlcm5hbWU6XCJtZWRpYXNvdXAtY2xpZW50XCJ9LHIubmFtZT1cIi1cIixyLnRpbWluZz17c3RhcnQ6MCxzdG9wOjB9LHIubXNpZFNlbWFudGljPXtzZW1hbnRpYzpcIldNU1wiLHRva2VuOlwiKlwifSxpLmxlbmd0aD4wJiYoci5ncm91cHM9W3t0eXBlOlwiQlVORExFXCIsbWlkczppLmpvaW4oXCIgXCIpfV0pLHIubWVkaWE9W107dmFyIG89ITAscz0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGw9KDAsYS5kZWZhdWx0KShlLm1lZGlhfHxbXSk7IShvPSh1PWwubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgcD11LnZhbHVlLGY9XCJpbmFjdGl2ZVwiPT09cC5kaXJlY3Rpb24saD1wLnR5cGUsdj10aGlzLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2hdLmNvZGVjcyxfPXRoaXMuX3J0cFBhcmFtZXRlcnNCeUtpbmRbaF0uaGVhZGVyRXh0ZW5zaW9ucyxnPXt9O3N3aXRjaChnLnR5cGU9cC50eXBlLGcucG9ydD10LnBvcnQsZy5wcm90b2NvbD1cIlJUUC9BVlBcIixnLmNvbm5lY3Rpb249e2lwOnQuaXAsdmVyc2lvbjp0LnZlcnNpb259LGcubWlkPXAubWlkLHAuZGlyZWN0aW9uKXtjYXNlXCJzZW5kcmVjdlwiOmNhc2VcInNlbmRvbmx5XCI6Zy5kaXJlY3Rpb249XCJyZWN2b25seVwiO2JyZWFrO2Nhc2VcInJlY3Zvbmx5XCI6Y2FzZVwiaW5hY3RpdmVcIjpnLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9Zy5ydHA9W10sZy5ydGNwRmI9W10sZy5mbXRwPVtdO3ZhciB5PSEwLGI9ITEsaz12b2lkIDA7dHJ5e2Zvcih2YXIgdyxQPSgwLGEuZGVmYXVsdCkodik7ISh5PSh3PVAubmV4dCgpKS5kb25lKTt5PSEwKXt2YXIgUz13LnZhbHVlLEk9e3BheWxvYWQ6Uy5wYXlsb2FkVHlwZSxjb2RlYzpTLm5hbWUscmF0ZTpTLmNsb2NrUmF0ZX07aWYoUy5jaGFubmVscz4xJiYoSS5lbmNvZGluZz1TLmNoYW5uZWxzKSxnLnJ0cC5wdXNoKEkpLFMucGFyYW1ldGVycyl7dmFyIFQ9e3BheWxvYWQ6Uy5wYXlsb2FkVHlwZSxjb25maWc6XCJcIn0sQz0hMCxSPSExLHg9dm9pZCAwO3RyeXtmb3IodmFyIEEsRT0oMCxhLmRlZmF1bHQpKCgwLG4uZGVmYXVsdCkoUy5wYXJhbWV0ZXJzKSk7IShDPShBPUUubmV4dCgpKS5kb25lKTtDPSEwKXt2YXIgRD1BLnZhbHVlO1QuY29uZmlnJiYoVC5jb25maWcrPVwiO1wiKSxULmNvbmZpZys9RCtcIj1cIitTLnBhcmFtZXRlcnNbRF19fWNhdGNoKGUpe1I9ITAseD1lfWZpbmFsbHl7dHJ5eyFDJiZFLnJldHVybiYmRS5yZXR1cm4oKX1maW5hbGx5e2lmKFIpdGhyb3cgeH19VC5jb25maWcmJmcuZm10cC5wdXNoKFQpfWlmKFMucnRjcEZlZWRiYWNrKXt2YXIgTz0hMCxMPSExLE09dm9pZCAwO3RyeXtmb3IodmFyIGosQj0oMCxhLmRlZmF1bHQpKFMucnRjcEZlZWRiYWNrKTshKE89KGo9Qi5uZXh0KCkpLmRvbmUpO089ITApe3ZhciBWPWoudmFsdWU7Zy5ydGNwRmIucHVzaCh7cGF5bG9hZDpTLnBheWxvYWRUeXBlLHR5cGU6Vi50eXBlLHN1YnR5cGU6Vi5wYXJhbWV0ZXJ8fFwiXCJ9KX19Y2F0Y2goZSl7TD0hMCxNPWV9ZmluYWxseXt0cnl7IU8mJkIucmV0dXJuJiZCLnJldHVybigpfWZpbmFsbHl7aWYoTCl0aHJvdyBNfX19fX1jYXRjaChlKXtiPSEwLGs9ZX1maW5hbGx5e3RyeXsheSYmUC5yZXR1cm4mJlAucmV0dXJuKCl9ZmluYWxseXtpZihiKXRocm93IGt9fWlmKGcucGF5bG9hZHM9di5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBheWxvYWRUeXBlfSkpLmpvaW4oXCIgXCIpLCFmKXtnLmV4dD1bXTt2YXIgTj0hMCxGPSExLFU9dm9pZCAwO3RyeXtmb3IodmFyIEcsVz1mdW5jdGlvbigpe3ZhciBlPUcudmFsdWU7aWYoIShwLmV4dHx8W10pLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVyaT09PWUudXJpfSkpKXJldHVyblwiY29udGludWVcIjtnLmV4dC5wdXNoKHt1cmk6ZS51cmksdmFsdWU6ZS5pZH0pfSxLPSgwLGEuZGVmYXVsdCkoXyk7IShOPShHPUsubmV4dCgpKS5kb25lKTtOPSEwKVcoKX1jYXRjaChlKXtGPSEwLFU9ZX1maW5hbGx5e3RyeXshTiYmSy5yZXR1cm4mJksucmV0dXJuKCl9ZmluYWxseXtpZihGKXRocm93IFV9fX1pZihwLnNpbXVsY2FzdF8wMyl7Zy5zaW11bGNhc3RfMDM9e3ZhbHVlOnAuc2ltdWxjYXN0XzAzLnZhbHVlLnJlcGxhY2UoL3NlbmQvZyxcInJlY3ZcIil9LGcucmlkcz1bXTt2YXIgej0hMCxxPSExLEg9dm9pZCAwO3RyeXtmb3IodmFyIEosUT0oMCxhLmRlZmF1bHQpKHAucmlkc3x8W10pOyEoej0oSj1RLm5leHQoKSkuZG9uZSk7ej0hMCl7dmFyIFk9Si52YWx1ZTtcInNlbmRcIj09PVkuZGlyZWN0aW9uJiZnLnJpZHMucHVzaCh7aWQ6WS5pZCxkaXJlY3Rpb246XCJyZWN2XCJ9KX19Y2F0Y2goZSl7cT0hMCxIPWV9ZmluYWxseXt0cnl7IXomJlEucmV0dXJuJiZRLnJldHVybigpfWZpbmFsbHl7aWYocSl0aHJvdyBIfX19Zy5ydGNwTXV4PVwicnRjcC1tdXhcIixnLnJ0Y3BSc2l6ZT1cInJ0Y3AtcnNpemVcIixyLm1lZGlhLnB1c2goZyl9fWNhdGNoKGUpe3M9ITAsYz1lfWZpbmFsbHl7dHJ5eyFvJiZsLnJldHVybiYmbC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgY319cmV0dXJuIGQuZGVmYXVsdC53cml0ZShyKX19XSksdH0oaCksXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybigwLGMuZGVmYXVsdCkodGhpcyx0KSwoMCxvLmRlZmF1bHQpKHRoaXMsKHQuX19wcm90b19ffHwoMCxpLmRlZmF1bHQpKHQpKS5jYWxsKHRoaXMsZSkpfXJldHVybigwLHMuZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJjcmVhdGVPZmZlclNkcFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKG0uZGVidWcoXCJjcmVhdGVPZmZlclNkcCgpXCIpLCF0aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzKXRocm93IG5ldyBFcnJvcihcIm5vIHRyYW5zcG9ydCByZW1vdGUgcGFyYW1ldGVyc1wiKTt2YXIgdD10aGlzLl90cmFuc3BvcnRSZW1vdGVQYXJhbWV0ZXJzLnBsYWluUnRwUGFyYW1ldGVycyxyPXt9LGk9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZS5taWQpfSkpO3RoaXMuX3NkcEdsb2JhbEZpZWxkcy52ZXJzaW9uKyssci52ZXJzaW9uPTAsci5vcmlnaW49e2FkZHJlc3M6dC5pcCxpcFZlcjp0LnZlcnNpb24sbmV0VHlwZTpcIklOXCIsc2Vzc2lvbklkOnRoaXMuX3NkcEdsb2JhbEZpZWxkcy5pZCxzZXNzaW9uVmVyc2lvbjp0aGlzLl9zZHBHbG9iYWxGaWVsZHMudmVyc2lvbix1c2VybmFtZTpcIm1lZGlhc291cC1jbGllbnRcIn0sci5uYW1lPVwiLVwiLHIudGltaW5nPXtzdGFydDowLHN0b3A6MH0sci5tc2lkU2VtYW50aWM9e3NlbWFudGljOlwiV01TXCIsdG9rZW46XCIqXCJ9LGkubGVuZ3RoPjAmJihyLmdyb3Vwcz1be3R5cGU6XCJCVU5ETEVcIixtaWRzOmkuam9pbihcIiBcIil9XSksci5tZWRpYT1bXTt2YXIgbz0hMCxzPSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIHUsbD0oMCxhLmRlZmF1bHQpKGUpOyEobz0odT1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIHA9dS52YWx1ZSxmPXAuY2xvc2VkLGg9cC5raW5kLHY9dGhpcy5fcnRwUGFyYW1ldGVyc0J5S2luZFtoXS5jb2RlY3MsXz10aGlzLl9ydHBQYXJhbWV0ZXJzQnlLaW5kW2hdLmhlYWRlckV4dGVuc2lvbnMsZz17fTtnLnR5cGU9aCxnLm1pZD1wLm1pZCxnLm1zaWQ9cC5zdHJlYW1JZCtcIiBcIitwLnRyYWNrSWQsZy5wb3J0PXQucG9ydCxnLnByb3RvY29sPVwiUlRQL0FWUFwiLGcuY29ubmVjdGlvbj17aXA6dC5pcCx2ZXJzaW9uOnQudmVyc2lvbn0sZy5kaXJlY3Rpb249Zj9cImluYWN0aXZlXCI6XCJzZW5kb25seVwiLGcucnRwPVtdLGcucnRjcEZiPVtdLGcuZm10cD1bXTt2YXIgeT0hMCxiPSExLGs9dm9pZCAwO3RyeXtmb3IodmFyIHcsUD0oMCxhLmRlZmF1bHQpKHYpOyEoeT0odz1QLm5leHQoKSkuZG9uZSk7eT0hMCl7dmFyIFM9dy52YWx1ZSxJPXtwYXlsb2FkOlMucGF5bG9hZFR5cGUsY29kZWM6Uy5uYW1lLHJhdGU6Uy5jbG9ja1JhdGV9O2lmKFMuY2hhbm5lbHM+MSYmKEkuZW5jb2Rpbmc9Uy5jaGFubmVscyksZy5ydHAucHVzaChJKSxTLnBhcmFtZXRlcnMpe3ZhciBUPXtwYXlsb2FkOlMucGF5bG9hZFR5cGUsY29uZmlnOlwiXCJ9LEM9ITAsUj0hMSx4PXZvaWQgMDt0cnl7Zm9yKHZhciBBLEU9KDAsYS5kZWZhdWx0KSgoMCxuLmRlZmF1bHQpKFMucGFyYW1ldGVycykpOyEoQz0oQT1FLm5leHQoKSkuZG9uZSk7Qz0hMCl7dmFyIEQ9QS52YWx1ZTtULmNvbmZpZyYmKFQuY29uZmlnKz1cIjtcIiksVC5jb25maWcrPUQrXCI9XCIrUy5wYXJhbWV0ZXJzW0RdfX1jYXRjaChlKXtSPSEwLHg9ZX1maW5hbGx5e3RyeXshQyYmRS5yZXR1cm4mJkUucmV0dXJuKCl9ZmluYWxseXtpZihSKXRocm93IHh9fVQuY29uZmlnJiZnLmZtdHAucHVzaChUKX1pZihTLnJ0Y3BGZWVkYmFjayl7dmFyIE89ITAsTD0hMSxNPXZvaWQgMDt0cnl7Zm9yKHZhciBqLEI9KDAsYS5kZWZhdWx0KShTLnJ0Y3BGZWVkYmFjayk7IShPPShqPUIubmV4dCgpKS5kb25lKTtPPSEwKXt2YXIgVj1qLnZhbHVlO2cucnRjcEZiLnB1c2goe3BheWxvYWQ6Uy5wYXlsb2FkVHlwZSx0eXBlOlYudHlwZSxzdWJ0eXBlOlYucGFyYW1ldGVyfHxcIlwifSl9fWNhdGNoKGUpe0w9ITAsTT1lfWZpbmFsbHl7dHJ5eyFPJiZCLnJldHVybiYmQi5yZXR1cm4oKX1maW5hbGx5e2lmKEwpdGhyb3cgTX19fX19Y2F0Y2goZSl7Yj0hMCxrPWV9ZmluYWxseXt0cnl7IXkmJlAucmV0dXJuJiZQLnJldHVybigpfWZpbmFsbHl7aWYoYil0aHJvdyBrfX1pZihnLnBheWxvYWRzPXYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXlsb2FkVHlwZX0pKS5qb2luKFwiIFwiKSwhZil7Zy5leHQ9W107dmFyIE49ITAsRj0hMSxVPXZvaWQgMDt0cnl7Zm9yKHZhciBHLFc9KDAsYS5kZWZhdWx0KShfKTshKE49KEc9Vy5uZXh0KCkpLmRvbmUpO049ITApe3ZhciBLPUcudmFsdWU7XCJ1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzZGVzOm1pZFwiIT09Sy51cmkmJmcuZXh0LnB1c2goe3VyaTpLLnVyaSx2YWx1ZTpLLmlkfSl9fWNhdGNoKGUpe0Y9ITAsVT1lfWZpbmFsbHl7dHJ5eyFOJiZXLnJldHVybiYmVy5yZXR1cm4oKX1maW5hbGx5e2lmKEYpdGhyb3cgVX19fWcucnRjcE11eD1cInJ0Y3AtbXV4XCIsZy5ydGNwUnNpemU9XCJydGNwLXJzaXplXCIsZnx8KGcuc3NyY3M9W10sZy5zc3JjR3JvdXBzPVtdLGcuc3NyY3MucHVzaCh7aWQ6cC5zc3JjLGF0dHJpYnV0ZTpcImNuYW1lXCIsdmFsdWU6cC5jbmFtZX0pLHAucnR4U3NyYyYmKGcuc3NyY3MucHVzaCh7aWQ6cC5ydHhTc3JjLGF0dHJpYnV0ZTpcImNuYW1lXCIsdmFsdWU6cC5jbmFtZX0pLGcuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpY3M6XCJGSURcIixzc3JjczpwLnNzcmMrXCIgXCIrcC5ydHhTc3JjfSkpKSxyLm1lZGlhLnB1c2goZyl9fWNhdGNoKGUpe3M9ITAsYz1lfWZpbmFsbHl7dHJ5eyFvJiZsLnJldHVybiYmbC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgY319cmV0dXJuIGQuZGVmYXVsdC53cml0ZShyKX19XSksdH0oaCk7dC5kZWZhdWx0PWZ1bmN0aW9uIGUodCxyKXtzd2l0Y2goKDAsYy5kZWZhdWx0KSh0aGlzLGUpLG0uZGVidWcoXCJjb25zdHJ1Y3RvcigpIFtkaXJlY3Rpb246JXMsIHJ0cFBhcmFtZXRlcnNCeUtpbmQ6JW9dXCIsdCxyKSx0KXtjYXNlXCJzZW5kXCI6cmV0dXJuIG5ldyB2KHIpO2Nhc2VcInJlY3ZcIjpyZXR1cm4gbmV3IF8ocil9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuV2ViU29ja2V0VHJhbnNwb3J0PXQuUGVlcj12b2lkIDA7dmFyIG49aShyKDIyMCkpLGE9aShyKDExNykpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuUGVlcj1uLmRlZmF1bHQsdC5XZWJTb2NrZXRUcmFuc3BvcnQ9YS5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aChyKDI0KSksYT1oKHIoNikpLGk9aChyKDgpKSxvPWgocigyKSkscz1oKHIoMCkpLGM9aChyKDEpKSx1PWgocigzKSksZD1oKHIoNCkpLGw9cigyOSkscD1oKHIoMzApKSxmPWgocigxMTUpKSxtPWgocigxMTcpKTtmdW5jdGlvbiBoKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdj1uZXcgcC5kZWZhdWx0KFwiPHByb3Rvb1BlZXI+XCIpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbil7KDAscy5kZWZhdWx0KSh0aGlzLHQpLHYuZGVidWcoXCJjb25zdHJ1Y3RvcigpIHByb3Rvb1VybDogXCIrZSk7dmFyIGE9KDAsdS5kZWZhdWx0KSh0aGlzLCh0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KSh0KSkuY2FsbCh0aGlzKSk7YS5zZXRNYXhMaXN0ZW5lcnMoMS8wKSxhLl9zZXNzaW9uSWQ9cixhLl9wcm90b29Vcmw9ZTt2YXIgYz17cmV0cmllczpufHwxMCxmYWN0b3I6MixtaW5UaW1lb3V0OjFlMyxtYXhUaW1lb3V0OjRlM307cmV0dXJuIGEuX3RyYW5zcG9ydD1uZXcgbS5kZWZhdWx0KGUse3JldHJ5OmN9KSxhLl9jbG9zZWQ9ITEsYS5fY29ubmVjdGVkPSExLGEuX2RhdGE9e30sYS5fcmVxdWVzdEhhbmRsZXJzPW5ldyBpLmRlZmF1bHQsYS5faGFuZGxlVHJhbnNwb3J0KCksYX1yZXR1cm4oMCxkLmRlZmF1bHQpKHQsZSksKDAsYy5kZWZhdWx0KSh0LFt7a2V5Olwic2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLmNvbm5lY3RlZCl7dmFyIG49Zi5kZWZhdWx0LnJlcXVlc3RGYWN0b3J5KGUsdCk7cmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5zZW5kKG4pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhLmRlZmF1bHQoKGZ1bmN0aW9uKGUsdCl7dmFyIGE9e3Jlc29sdmU6ZnVuY3Rpb24odCl7ci5fcmVxdWVzdEhhbmRsZXJzLmRlbGV0ZShuLmlkKSYmKGNsZWFyVGltZW91dChhLnRpbWVyKSxlKHQpKX0scmVqZWN0OmZ1bmN0aW9uKGUpe3IuX3JlcXVlc3RIYW5kbGVycy5kZWxldGUobi5pZCkmJihjbGVhclRpbWVvdXQoYS50aW1lciksdChlKSl9LHRpbWVyOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5fcmVxdWVzdEhhbmRsZXJzLmRlbGV0ZShuLmlkKSYmKHIuY2xvc2VkfHx0KG5ldyBFcnJvcihcInJlcXVlc3QgdGltZW91dFwiKSkpfSksMmU0KSxjbG9zZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dChhLnRpbWVyKSx0KG5ldyBFcnJvcihcInBlZXIgY2xvc2VkXCIpKX19O3IuX3JlcXVlc3RIYW5kbGVycy5zZXQobi5pZCxhKX0pKX0pKX19fSx7a2V5Olwibm90aWZ5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmNvbm5lY3RlZCl7dmFyIHI9Zi5kZWZhdWx0Lm5vdGlmaWNhdGlvbkZhY3RvcnkoZSx0KTtyZXR1cm4gdGhpcy5fdHJhbnNwb3J0LnNlbmQocil9fX0se2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2LmRlYnVnKFwiY2xvc2UoKVwiKSx0aGlzLl9jbG9zZWR8fCh0aGlzLl9jbG9zZWQ9ITAsdGhpcy5fdHJhbnNwb3J0LmNsb3NlKCksdGhpcy5fcmVxdWVzdEhhbmRsZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsb3NlKCl9KSksdGhpcy5lbWl0KFwiY2xvc2VcIix7c2lkOnRoaXMuX3Nlc3Npb25JZH0pKX19LHtrZXk6XCJfaGFuZGxlVHJhbnNwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX3RyYW5zcG9ydC5jbG9zZWQpcmV0dXJuIHRoaXMuX2Nsb3NlZD0hMCx2b2lkIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZW1pdChcImNsb3NlXCIse3NpZDplLl9zZXNzaW9uSWR9KX0pKTt0aGlzLl90cmFuc3BvcnQub24oXCJjb25uZWN0aW5nXCIsKGZ1bmN0aW9uKHQpe3YuZGVidWcoXCJfaGFuZGxlVHJhbnNwb3J0KCkgX3RyYW5zcG9ydCBldmVudCBbY29ubmVjdGluZ10gLSBbY3VycmVudEF0dGVtcHQ6IFwiK3QrXCJdXCIpLGUuZW1pdChcImNvbm5lY3RpbmdcIix7c2lkOmUuX3Nlc3Npb25JZCxjdXJyZW50QXR0ZW1wdDp0fSl9KSksdGhpcy5fdHJhbnNwb3J0Lm9uKFwib3BlblwiLChmdW5jdGlvbigpe2UuX2Nsb3NlZHx8KHYuZGVidWcoXCJfaGFuZGxlVHJhbnNwb3J0KCkgX3RyYW5zcG9ydCBldmVudCBbb3Blbl1cIiksZS5fY29ubmVjdGVkPSEwLGUuZW1pdChcIm9wZW5cIix7c2lkOmUuX3Nlc3Npb25JZH0pKX0pKSx0aGlzLl90cmFuc3BvcnQub24oXCJjb25uLWludGVycnVwdFwiLChmdW5jdGlvbigpe2UuX2Nsb3NlZHx8KHYuZGVidWcoXCJfaGFuZGxlVHJhbnNwb3J0KCkgX3RyYW5zcG9ydCBldmVudCBbY29ubi1pbnRlcnJ1cHRdXCIpLGUuX2Nvbm5lY3RlZD0hMSxlLmVtaXQoXCJjb25uLWludGVycnVwdFwiLHtzaWQ6ZS5fc2Vzc2lvbklkfSkpfSkpLHRoaXMuX3RyYW5zcG9ydC5vbihcInJlaW5pdFwiLChmdW5jdGlvbigpe2UuX2Nsb3NlZHx8KHYuZGVidWcoXCJfaGFuZGxlVHJhbnNwb3J0KDAgX3RyYW5zcG9ydCBldmVudCBbcmVpbml0XVwiKSxlLl9jb25uZWN0ZWQ9ITAsZS5lbWl0KFwicmVpbml0XCIse3NpZDplLl9zZXNzaW9uSWR9KSl9KSksdGhpcy5fdHJhbnNwb3J0Lm9uKFwiY29ubi1yZWNvbm5cIiwoZnVuY3Rpb24oKXtlLl9jbG9zZWR8fCh2LmRlYnVnKFwiX2hhbmRsZVRyYW5zcG9ydCgpIF90cmFuc3BvcnQgZXZlbnQgW2Nvbm4tcmVjb25uXVwiKSxlLl9jb25uZWN0ZWQ9ITAsZS5lbWl0KFwiY29ubi1yZWNvbm5cIix7c2lkOmUuX3Nlc3Npb25JZH0pKX0pKSx0aGlzLl90cmFuc3BvcnQub24oXCJkaXNjb25uZWN0ZWRcIiwoZnVuY3Rpb24oKXt2LmRlYnVnKFwiX2hhbmRsZVRyYW5zcG9ydCgpIF90cmFuc3BvcnQgW2Rpc2Nvbm5lY3RlZF1cIiksZS5fY29ubmVjdGVkPSExLGUuZW1pdChcImRpc2Nvbm5lY3RlZFwiLHtzaWQ6ZS5fc2Vzc2lvbklkfSl9KSksdGhpcy5fdHJhbnNwb3J0Lm9uKFwiZmFpbGVkXCIsKGZ1bmN0aW9uKHQpe3YuZGVidWcoXCJfaGFuZGxlVHJhbnNwb3J0KCkgX3RyYW5zcG9ydCBldmVudCBbZmFpbGVkXSAtIFtjdXJyZW50QXR0ZW1wdDogXCIrdCtcIl1cIiksZS5fY29ubmVjdGVkPSExLGUuZW1pdChcImZhaWxlZFwiLHtzaWQ6ZS5fc2Vzc2lvbklkLGN1cnJlbnRBdHRlbXB0OnR9KX0pKSx0aGlzLl90cmFuc3BvcnQub24oXCJjbG9zZVwiLChmdW5jdGlvbigpe2UuX2Nsb3NlZHx8KGUuX2Nsb3NlZD0hMCxlLl9jb25uZWN0ZWQ9ITEsdi5kZWJ1ZyhcIl9oYW5kbGVUcmFuc3BvcnQoKSBfdHJhbnNwb3J0IGV2ZW50IFtjbG9zZV1cIiksZS5lbWl0KFwiY2xvc2VcIix7c2lkOmUuX3Nlc3Npb25JZH0pKX0pKSx0aGlzLl90cmFuc3BvcnQub24oXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKHQpe2UuY2xvc2VkfHwodC5yZXF1ZXN0P2UuX2hhbmRsZVJlcXVlc3QodCk6dC5yZXNwb25zZT9lLl9oYW5kbGVSZXNwb25zZSh0KTp0Lm5vdGlmaWNhdGlvbiYmZS5faGFuZGxlTm90aWZpY2F0aW9uKHQpKX0pKX19LHtrZXk6XCJfaGFuZGxlUmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5lbWl0KFwicmVxdWVzdFwiLHtzaWQ6dGhpcy5fc2Vzc2lvbklkfSxlLChmdW5jdGlvbihyKXt2YXIgYT1mLmRlZmF1bHQuc3VjY2Vzc1Jlc3BvbnNlRmFjdG9yeShlLHIpO3QuX3RyYW5zcG9ydC5zZW5kKGEpLmNhdGNoKChmdW5jdGlvbihlKXt2Lndhcm4oXCJfaGFuZGxlUmVxdWVzdCgpIGFjY2VwdCgpIF90cmFuc3BvcnQuc2VuZCBlcnJvciAtIFwiKygwLG4uZGVmYXVsdCkoZSkpfSkpfSksKGZ1bmN0aW9uKHIsYSl7ciBpbnN0YW5jZW9mIEVycm9yPyhhPXIudG9TdHJpbmcoKSxyPTUwMCk6XCJudW1iZXJcIj09dHlwZW9mIHImJmEgaW5zdGFuY2VvZiBFcnJvciYmKGE9YS50b1N0cmluZygpKTt2YXIgaT1mLmRlZmF1bHQuZXJyb3JSZXNwb25zZUZhY3RvcnkoZSxyLGEpO3QuX3RyYW5zcG9ydC5zZW5kKGkpLmNhdGNoKChmdW5jdGlvbihlKXt2Lndhcm4oXCJfaGFuZGxlUmVxdWVzdCgpIHJlamVjdCgpIGVycm9yIC0gXCIrKDAsbi5kZWZhdWx0KShlKSl9KSl9KSl9fSx7a2V5OlwiX2hhbmRsZVJlc3BvbnNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVxdWVzdEhhbmRsZXJzLmdldChlLmlkKTtpZih0KWlmKGUub2spdC5yZXNvbHZlKGUuZGF0YSk7ZWxzZXt2YXIgcj1uZXcgRXJyb3IoZS5lcnJvclJlYXNvbik7ci5jb2RlPWUuZXJyb3JDb2RlLHQucmVqZWN0KHIpfWVsc2Ugdi5lcnJvcihcIl9oYW5kbGVSZXNwb25zZSgpIHJlY2VpdmVkIHJlc3BvbnNlIGRvZXMgbm90IG1hdGNoIGFueSBzZW50IHJlcXVlc3RcIil9fSx7a2V5OlwiX2hhbmRsZU5vdGlmaWNhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZW1pdChcIm5vdGlmaWNhdGlvblwiLHtzaWQ6dGhpcy5fc2Vzc2lvbklkfSxlKX19LHtrZXk6XCJkYXRhXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kYXRhPWV8fHt9fX0se2tleTpcImNsb3NlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9zZWR9fSx7a2V5OlwiY29ubmVjdGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3RlZH19XSksdH0obC5FdmVudEVtaXR0ZXIpO3QuZGVmYXVsdD1ffSxmdW5jdGlvbihlLHQscil7dmFyIG47dHJ5e249cigyMjIpfWNhdGNoKGUpe31maW5hbGx5e2lmKG58fFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fChuPXdpbmRvdyksIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBnbG9iYWwgdGhpc1wiKX12YXIgYT1uLldlYlNvY2tldHx8bi5Nb3pXZWJTb2NrZXQsaT1yKDIyMyk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiB0P25ldyBhKGUsdCk6bmV3IGEoZSl9YSYmW1wiQ09OTkVDVElOR1wiLFwiT1BFTlwiLFwiQ0xPU0lOR1wiLFwiQ0xPU0VEXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLGUse2dldDpmdW5jdGlvbigpe3JldHVybiBhW2VdfX0pfSkpLGUuZXhwb3J0cz17dzNjd2Vic29ja2V0OmE/bzpudWxsLHZlcnNpb246aX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZilyZXR1cm4gc2VsZjtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpcmV0dXJuIHdpbmRvdzt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVzb2x2ZSBnbG9iYWwgYHRoaXNgXCIpfTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtpZih0aGlzKXJldHVybiB0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXJldHVybiBnbG9iYWxUaGlzO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSxcIl9fZ2xvYmFsX19cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGNvbmZpZ3VyYWJsZTohMH0pfWNhdGNoKGUpe3JldHVybiByKCl9dHJ5e3JldHVybiBfX2dsb2JhbF9ffHxyKCl9ZmluYWxseXtkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5fX2dsb2JhbF9ffX0oKX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDIyNCkudmVyc2lvbn0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcIm5hbWVcIjpcIndlYnNvY2tldFwiLFwiZGVzY3JpcHRpb25cIjpcIldlYnNvY2tldCBDbGllbnQgJiBTZXJ2ZXIgTGlicmFyeSBpbXBsZW1lbnRpbmcgdGhlIFdlYlNvY2tldCBwcm90b2NvbCBhcyBzcGVjaWZpZWQgaW4gUkZDIDY0NTUuXCIsXCJrZXl3b3Jkc1wiOltcIndlYnNvY2tldFwiLFwid2Vic29ja2V0c1wiLFwic29ja2V0XCIsXCJuZXR3b3JraW5nXCIsXCJjb21ldFwiLFwicHVzaFwiLFwiUkZDLTY0NTVcIixcInJlYWx0aW1lXCIsXCJzZXJ2ZXJcIixcImNsaWVudFwiXSxcImF1dGhvclwiOlwiQnJpYW4gTWNLZWx2ZXkgPHRoZXR1cnRsZTMyQGdtYWlsLmNvbT4gKGh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMilcIixcImNvbnRyaWJ1dG9yc1wiOltcIknDsWFraSBCYXogQ2FzdGlsbG8gPGliY0BhbGlheC5uZXQ+IChodHRwOi8vZGV2LnNpcGRvYy5uZXQpXCJdLFwidmVyc2lvblwiOlwiMS4wLjMxXCIsXCJyZXBvc2l0b3J5XCI6e1widHlwZVwiOlwiZ2l0XCIsXCJ1cmxcIjpcImh0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMi9XZWJTb2NrZXQtTm9kZS5naXRcIn0sXCJob21lcGFnZVwiOlwiaHR0cHM6Ly9naXRodWIuY29tL3RoZXR1cnRsZTMyL1dlYlNvY2tldC1Ob2RlXCIsXCJlbmdpbmVzXCI6e1wibm9kZVwiOlwiPj0wLjEwLjBcIn0sXCJkZXBlbmRlbmNpZXNcIjp7XCJkZWJ1Z1wiOlwiXjIuMi4wXCIsXCJlczUtZXh0XCI6XCJeMC4xMC41MFwiLFwibmFuXCI6XCJeMi4xNC4wXCIsXCJ0eXBlZGFycmF5LXRvLWJ1ZmZlclwiOlwiXjMuMS41XCIsXCJ5YWV0aVwiOlwiXjAuMC42XCJ9LFwiZGV2RGVwZW5kZW5jaWVzXCI6e1wiYnVmZmVyLWVxdWFsXCI6XCJeMS4wLjBcIixcImZhdWNldFwiOlwiXjAuMC4xXCIsXCJndWxwXCI6XCJeNC4wLjJcIixcImd1bHAtanNoaW50XCI6XCJeMi4wLjRcIixcImpzaGludC1zdHlsaXNoXCI6XCJeMi4yLjFcIixcImpzaGludFwiOlwiXjIuMC4wXCIsXCJ0YXBlXCI6XCJeNC45LjFcIn0sXCJjb25maWdcIjp7XCJ2ZXJib3NlXCI6ZmFsc2V9LFwic2NyaXB0c1wiOntcImluc3RhbGxcIjpcIihub2RlLWd5cCByZWJ1aWxkIDI+IGJ1aWxkZXJyb3IubG9nKSB8fCAoZXhpdCAwKVwiLFwidGVzdFwiOlwiZmF1Y2V0IHRlc3QvdW5pdFwiLFwiZ3VscFwiOlwiZ3VscFwifSxcIm1haW5cIjpcImluZGV4XCIsXCJkaXJlY3Rvcmllc1wiOntcImxpYlwiOlwiLi9saWJcIn0sXCJicm93c2VyXCI6XCJsaWIvYnJvd3Nlci5qc1wiLFwibGljZW5zZVwiOlwiQXBhY2hlLTIuMFwiLFwiX19ucG1pbnN0YWxsX2RvbmVcIjpcIkZyaSBGZWIgMjggMjAyMCAxNDo0MDowOSBHTVQrMDgwMCAoR01UKzA4OjAwKVwiLFwiX2Zyb21cIjpcIndlYnNvY2tldEAxLjAuMzFcIixcIl9yZXNvbHZlZFwiOlwiaHR0cHM6Ly9yZWdpc3RyeS5ucG0udGFvYmFvLm9yZy93ZWJzb2NrZXQvZG93bmxvYWQvd2Vic29ja2V0LTEuMC4zMS50Z3pcIn0nKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXAocigyNCkpLGE9cChyKDgpKSxpPXAocigwKSksbz1wKHIoMSkpLHM9cChyKDIyNikpLGM9cChyKDMwKSksdT1sKHIoNTEpKSxkPWwocig2MCkpO2Z1bmN0aW9uIGwoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBmPXIoMTE4KSxtPSgwLHMuZGVmYXVsdCkoe0hFQVJUX0JFQVQ6XCJldmVudD1zZGtIZWFydGJlYXRcIixFTlRFUl9GQUlMOlwiZXZlbnQ9RU5URVJfRkFJTFwiLEVOVEVSX1RJTUVPVVQ6XCJldmVudD1FTlRFUl9USU1FT1VUXCJ9KSxoPW5ldyBjLmRlZmF1bHQoXCJTdGF0c1wiKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGkuZGVmYXVsdCkodGhpcyxlKSx0aGlzLl9hcHBJZD1cIlwiLHRoaXMuX3Jvb21JZD1cIlwiLHRoaXMuX3Nlc3Npb25JZD1cIlwiLHRoaXMuX3VzZXJJZD1cIlwiLHRoaXMuX2Nvbm5lY3Rpb25JZD1cIlwiLHRoaXMuX3JvbGVUeXBlPVwiXCIsdGhpcy5fZG9tYWluPVwiXCIsdGhpcy5fc2lnbmFsUmVjb25uZWN0VGltZXM9MCx0aGlzLl9uZXRUeXBlPVwiXCIsdGhpcy5faXNNb2JpbGU9L21vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5fb3V0cHV0QWRqdXN0Vm9sdW1lPTEsdGhpcy5fbWljQWRqdXN0Vm9sdW1lPTEsdGhpcy5fcHJlc2V0QXVkaW9CaXRyYXRlPTAsdGhpcy5faXNBdWRpb09wZW49ITEsdGhpcy5faXNWaWRlb09wZW49ITEsdGhpcy5fd2VicnRjSW50ZXJuYWxTZW5kU3RhdHM9bmV3IEFycmF5LHRoaXMuX3dlYnJ0Y0ludGVybmFsUmVjdlN0YXRzPW5ldyBBcnJheSx0aGlzLl9yZXBvcnRJbnRlcnZhbD1udWxsLHRoaXMuX3dlYnJ0Y1N0YXRzPVtdLHRoaXMuX2F1ZGlvUmVjdlN0YXRzPW5ldyBhLmRlZmF1bHQsdGhpcy5fdmlkZW9SZWN2U3RhdHM9bmV3IGEuZGVmYXVsdCx0aGlzLl9hdWRpb1NlbmRTdGF0cz1uZXcgYS5kZWZhdWx0LHRoaXMuX3ZpZGVvU2VuZFN0YXRzPW5ldyBhLmRlZmF1bHQsdGhpcy5fc2VuZFJUVD0wLHRoaXMuX3JlY3ZSVFQ9MCx0aGlzLl9zdW1tYXJpemU9e3J0dDowLG5ldHdvcmtUeXBlOlwiXCIsdXBTcGVlZDowLHVwRnJhY3Rpb25Mb3N0OjAsZG93blNwZWVkOjAsZG93bkZyYWN0aW9uTG9zdDowfSx0aGlzLl9uZXRzdGF0PXtmcmFjdGlvbkxvc3Q6MCxyb3VuZFRyaXBUaW1lOjAscXVhbGl0eTowLHdzU3RhdGU6XCJcIixzZW5kSWNlU3RhdGU6XCJcIixyZWN2SWNlU3RhdGU6XCJcIixhdWRpb1VwOnt0aW1lc3RhbXA6MCxiaXRyYXRlOjAscGFja2V0Q291bnQ6MCxwYWNrZXRzTG9zdDowLG5hY2tDb3VudDowLGppdHRlcjowLHBsaUNvdW50OjAsc2xpQ291bnQ6MCxmcmFjdGlvbkxvc3Q6MCxyb3VuZFRyaXBUaW1lOjB9LGF1ZGlvRG93bjp7dGltZXN0YW1wOjAsYml0cmF0ZTowLHBhY2tldENvdW50OjAscGFja2V0c0xvc3Q6MCxuYWNrQ291bnQ6MCxwbGlDb3VudDowLHNsaUNvdW50OjAsZnJhY3Rpb25Mb3N0OjAscm91bmRUcmlwVGltZTowfSx2aWRlb1VwOnt0aW1lc3RhbXA6MCxiaXRyYXRlOjAscGFja2V0Q291bnQ6MCxwYWNrZXRzTG9zdDowLG5hY2tDb3VudDowLGppdHRlcjowLHBsaUNvdW50OjAsc2xpQ291bnQ6MCxmcmFjdGlvbkxvc3Q6MCxyb3VuZFRyaXBUaW1lOjB9LHZpZGVvRG93bjp7dGltZXN0YW1wOjAsYml0cmF0ZTowLHBhY2tldENvdW50OjAscGFja2V0c0xvc3Q6MCxuYWNrQ291bnQ6MCxwbGlDb3VudDowLHNsaUNvdW50OjAsZnJhY3Rpb25Mb3N0OjAscm91bmRUcmlwVGltZTowfX0sdGhpcy5fY3N0YXQ9e3BlZXJJZDpcIlwiLGFwcElkOlwiXCIsY29ubmVjdGlvbklkOlwiXCIscm9vbUlkOlwiXCIsY29uc3VtZXI6XCJcIixzdGF0OltdfSx0aGlzLnN0cmVhbVNzcmNQYWlycz1uZXcgYS5kZWZhdWx0LHRoaXMuU1RBVFNfSU5URVJWQUw9NGUzLHRoaXMuU1RBVFNfSU5URVJWQUxfUz0yZTMsdGhpcy5fZ3dJbmZvPXt9LHRoaXMuX2lwbG9jYXRpb25JbmZvPXt9LHRoaXMuc2V0TmV0d29ya1R5cGUoKX1yZXR1cm4oMCxvLmRlZmF1bHQpKGUsW3trZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9yZXBvcnRJbnRlcnZhbCYmKGNsZWFySW50ZXJ2YWwodGhpcy5fcmVwb3J0SW50ZXJ2YWwpLHRoaXMuX3JlcG9ydEludGVydmFsPW51bGwpLHRoaXMuX3dlYnJ0Y0ludGVybmFsU2VuZFN0YXRzLmNsZWFyKCksdGhpcy5fd2VicnRjSW50ZXJuYWxSZWN2U3RhdHMuY2xlYXIoKX19LHtrZXk6XCJnZXRBdWRpb1VwU3RhdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdWRpb1NlbmRTdGF0cz90aGlzLl9hdWRpb1NlbmRTdGF0cy5nZXQoZSk6bnVsbH19LHtrZXk6XCJnZXRWaWRlb1VwU3RhdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl92aWRlb1NlbmRTdGF0cz90aGlzLl92aWRlb1NlbmRTdGF0cy5nZXQoZSk6bnVsbH19LHtrZXk6XCJnZXRBdWRpb0Rvd25TdGF0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2F1ZGlvUmVjdlN0YXRzP3RoaXMuX2F1ZGlvUmVjdlN0YXRzLmdldChlKTpudWxsfX0se2tleTpcImdldFZpZGVvRG93blN0YXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdmlkZW9SZWN2U3RhdHM/dGhpcy5fdmlkZW9SZWN2U3RhdHMuZ2V0KGUpOm51bGx9fSx7a2V5Olwic2V0U3RyZWFtU1NSQ1BhaXJzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9e3NzcmM6dCxhY3RpdmU6bixzdHJlYW06cn07dGhpcy5zdHJlYW1Tc3JjUGFpcnMuc2V0KGUsYSl9fSx7a2V5OlwiYWN0U3RyZWFtU1NSQ1BhaXJzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnN0cmVhbVNzcmNQYWlycy5nZXQoZSk7ciYmKHIuYWN0aXZlPXQpfX0se2tleTpcImlzQWN0U3RyZWFtU1NSQ1BhaXJzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHJlYW1Tc3JjUGFpcnMuZ2V0KGUpO3JldHVybiEhdCYmdC5hY3RpdmV9fSx7a2V5OlwiZ2V0U3RyZWFtUHJvcGVydHlCeVNTUkNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPVwiXCIsbj0hMSxhPVwiXCI7cmV0dXJuIHRoaXMuc3RyZWFtU3NyY1BhaXJzLmZvckVhY2goKGZ1bmN0aW9uKGksbyl7IW4mJmkmJlwiXCIraS5zc3JjPT1cIlwiK2UmJihyPW8sYT1pLnN0cmVhbVt0XSxuPSEwKX0pKSx7aWQ6cix2YWx1ZTphfX19LHtrZXk6XCJyZW1vdmVTdHJlYW1CeUlkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zdHJlYW1Tc3JjUGFpcnMuZGVsZXRlKGUpfX0se2tleTpcInNldFdzU3RhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9uZXRzdGF0LndzU3RhdGU9ZX19LHtrZXk6XCJzZXRTZW5kSWNlU3RhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9uZXRzdGF0LnNlbmRJY2VTdGF0ZT1lfX0se2tleTpcInNldFJlY3ZJY2VTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX25ldHN0YXQucmVjdkljZVN0YXRlPWV9fSx7a2V5Olwic2V0QXBwaWRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9hcHBJZD1lLHRoaXMuX2NzdGF0LmFwcElkPWV9fSx7a2V5Olwic2V0Um9vbUlkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fcm9vbUlkPWUsdGhpcy5fY3N0YXQucm9vbUlkPWV9fSx7a2V5Olwic2V0U2Vzc2lvbklkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc2Vzc2lvbklkPWV9fSx7a2V5Olwic2V0VXNlcklkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdXNlcklkPWUsdGhpcy5fY3N0YXQucGVlcklkPWV9fSx7a2V5Olwic2V0Q29ubmVjdGlvbklkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fY29ubmVjdGlvbklkPWUsdGhpcy5fY3N0YXQuY29ubmVjdGlvbklkPWV9fSx7a2V5Olwic2V0Um9sZVR5cGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9yb2xlVHlwZT1cIlwiK2V9fSx7a2V5Olwic2V0T3V0cHV0QWRqdXN0Vm9sdW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb3V0cHV0QWRqdXN0Vm9sdW1lPWV9fSx7a2V5Olwic2V0TWljQWRqdXN0Vm9sdW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbWljQWRqdXN0Vm9sdW1lPWV9fSx7a2V5Olwic2V0UHJlc2V0QXVkaW9CaXRyYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fcHJlc2V0QXVkaW9CaXRyYXRlPWV9fSx7a2V5Olwic2V0U2lnbmFsUmVjb25uZWN0VGltZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zaWduYWxSZWNvbm5lY3RUaW1lcz1lfX0se2tleTpcInNldERldmljZUluZm9cIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5Olwic2V0RG9tYWluXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZG9tYWluPWV9fSx7a2V5Olwic2V0R1dJbmZvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZ3dJbmZvPWVbMF19fSx7a2V5Olwic2V0SVBsb2NhdGlvbkluZm9cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9pcGxvY2F0aW9uSW5mbz1lfX0se2tleTpcInNldE5ldHdvcmtUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0cnl7c3dpdGNoKChuYXZpZ2F0b3IuY29ubmVjdGlvbnx8bmF2aWdhdG9yLm1vekNvbm5lY3Rpb258fG5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKS50eXBlKXtjYXNlXCJ3aWZpXCI6dGhpcy5fbmV0VHlwZT1cIjBcIjticmVhaztjYXNlXCJldGhlcm5ldFwiOmRlZmF1bHQ6dGhpcy5fbmV0VHlwZT1cIjRcIn19Y2F0Y2goZSl7fX19LHtrZXk6XCJfcmVwb3J0V2VicnRjU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fd2VicnRjSW50ZXJuYWxTZW5kU3RhdHN8fHRoaXMuX3dlYnJ0Y0ludGVybmFsUmVjdlN0YXRzKXt2YXIgdD10aGlzLl93ZWJydGNJbnRlcm5hbFNlbmRTdGF0cy5sZW5ndGgscj10aGlzLl93ZWJydGNJbnRlcm5hbFJlY3ZTdGF0cy5sZW5ndGgsbj1NYXRoLm1pbihNYXRoLm1heCh0LHIpLDEwKTt0aGlzLl93ZWJydGNTdGF0cz1bXTtmb3IodmFyIGE9ZnVuY3Rpb24odCl7dmFyIHI9e307ci5hcHBJZD1cIlwiK2UuX2FwcElkLHIucm9vbUlkPVwiXCIrZS5fcm9vbUlkLHIuc2Vzc2lvbklkPVwiXCIrZS5fc2Vzc2lvbklkLHIudXNlcklkPVwiXCIrZS5fdXNlcklkLHIuY29ubmVjdGlvbklkPVwiXCIrZS5fY29ubmVjdGlvbklkLHIucm9sZVR5cGU9XCJcIitlLl9yb2xlVHlwZSxyLnNpZ25hbFJlY29ubmVjdFRpbWVzPWUuX3NpZ25hbFJlY29ubmVjdFRpbWVzLHIuZXF1aXBJbmZvPXtzZGtWZXJzaW9uOmYudmVyc2lvbitcIl9cIitmLmJ1aWxkRGF0ZSxuZXRUeXBlOlwiXCIrZS5fbmV0VHlwZSxlcXVpcE1vZGVsOmUuX2lzTW9iaWxlP1wid2ViX21vYmlsZVwiOlwid2ViXCIsaW5CYWNrZ3JvdW5kOjAsc3lzdGVtVmVyc2lvbjpcIndlYlwiLHB1YmxpY1ZlcnNpb246XCIzVF9XZWJfU0RLX1ZcIitmLnZlcnNpb24rXCJfXCIrZi5idWlsZERhdGV9LHIuYXVkaW9JbmZvPXt9LHIuYXVkaW9JbmZvLkFfU0VOVD17fSxyLmF1ZGlvSW5mby5BX1JFQ1Y9W10sci52aWRlb0luZm89e30sci52aWRlb0luZm8uVl9TRU5UPVtdLHIudmlkZW9JbmZvLlZfUkVDVj1bXTt2YXIgbj1lLl93ZWJydGNJbnRlcm5hbFNlbmRTdGF0cy5zaGlmdCgpO2lmKG4pe3IubG9nVGltZT1uLnN0YXRUaW1lVGljazt2YXIgYT0wO24ucmVzdWx0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihcIlZpZGVvQndlXCI9PT10LnR5cGUpO2Vsc2UgaWYoXCJnb29nQ2FuZGlkYXRlUGFpclwiPT09dC50eXBlKVwidHJ1ZVwiPT09dC5nb29nQWN0aXZlQ29ubmVjdGlvbiYmcGFyc2VJbnQodC5nb29nUnR0LDEwKTtlbHNlIGlmKFwic3NyY1wiPT09dC50eXBlKXt2YXIgaT1wYXJzZUludCh0LnNzcmMsMTApO2lmKFwiYXVkaW9cIj09PXQubWVkaWFUeXBlKXt2YXIgbz1uLmF1ZGlvW2ldLnVwU3BlZWRLQlBTP24uYXVkaW9baV0udXBTcGVlZEtCUFM6MDtyLmF1ZGlvSW5mby5BX1NFTlQuQV9CUj1wYXJzZUludChvLDEwKSxyLmF1ZGlvSW5mby5BX1NFTlQuQV9TU1JDPWksci5hdWRpb0luZm8uQV9TRU5ULkFfUlRUPXBhcnNlSW50KHQuZ29vZ1J0dCwxMCksci5hdWRpb0luZm8uQV9TRU5ULkFfTVVURUQ9ZS5faXNBdWRpb09wZW4/MDoxO3ZhciBzPXBhcnNlSW50KG4uYXVkaW9baV0ucGFja2V0c0xvc3Q/bi5hdWRpb1tpXS5wYWNrZXRzTG9zdDowLDEwKSxjPXBhcnNlSW50KG4uYXVkaW9baV0ucGFja2V0c1NlbnQ/bi5hdWRpb1tpXS5wYWNrZXRzU2VudDowLDEwKSx1PWM+MD9zL2M6MDtyLmF1ZGlvSW5mby5BX1NFTlQuQV9GUkFDVElPTkxPU1Q9cGFyc2VGbG9hdCh1LnRvRml4ZWQoMSkpLHIuYXVkaW9JbmZvLkFfU0VOVC5BX1JFQ1Y9MCxyLmF1ZGlvSW5mby5BX1NFTlQuQV9TRU5UPXBhcnNlSW50KHQuYnl0ZXNTZW50LDEwKSxyLmF1ZGlvSW5mby5BX1NFTlQuQV9SRUNPTk5FQ1Q9e30sci5hdWRpb0luZm8uQV9TRU5ULkFfTEVWRUxTVU09MSxyLmF1ZGlvSW5mby5BX1NFTlQuQV9QUkVMRVZFTFNVTT0xLHIuYXVkaW9JbmZvLkFfU0VOVC5BX01JQ19WT0w9ZS5fbWljQWRqdXN0Vm9sdW1lLHIuYXVkaW9JbmZvLkFfU0VOVC5BX0NBUF9TVEFUPTEsci5hdWRpb0luZm8uQV9TRU5ULkFfU1BFQUtJTkc9MSxyLmF1ZGlvSW5mby5BX1NFTlQuQV9CSVRSQVRFPWUuX3ByZXNldEF1ZGlvQml0cmF0ZX1lbHNlIGlmKFwidmlkZW9cIj09PXQubWVkaWFUeXBlKXt2YXIgZCxsPWUuZ2V0U3RyZWFtUHJvcGVydHlCeVNTUkMoaSxcImlubmVyU3RyZWFtSURcIikscD1sLmlkLGY9bC52YWx1ZTtpZighZS5pc0FjdFN0cmVhbVNTUkNQYWlycyhwKSlyZXR1cm47ZD1mLHIudmlkZW9JbmZvLlZfU0VOVFthXT17fSxyLnZpZGVvSW5mby5WX1NFTlRbYV0uREVWSUQ9XCJcIitkLHIudmlkZW9JbmZvLlZfU0VOVFthXS5WX1NTUkM9K2k7dmFyIG09bi52aWRlb1tpXS51cFNwZWVkS0JQUz9uLnZpZGVvW2ldLnVwU3BlZWRLQlBTOjA7ci52aWRlb0luZm8uVl9TRU5UW2FdLlZfVkJSPXBhcnNlSW50KG0sMTApLHIudmlkZW9JbmZvLlZfU0VOVFthXS5WX0ZQUz1wYXJzZUludCh0Lmdvb2dGcmFtZVJhdGVJbnB1dCwxMCksci52aWRlb0luZm8uVl9TRU5UW2FdLlZfU0VOREJZVEVTPXBhcnNlSW50KHQuYnl0ZXNTZW50LDEwKSxyLnZpZGVvSW5mby5WX1NFTlRbYV0uVl9TRU5EQ09VTlQ9cGFyc2VJbnQodC5wYWNrZXRzU2VudCwxMCk7dmFyIGg9cGFyc2VJbnQobi52aWRlb1tpXS5wYWNrZXRzTG9zdD9uLnZpZGVvW2ldLnBhY2tldHNMb3N0OjAsMTApLHY9cGFyc2VJbnQobi52aWRlb1tpXS5wYWNrZXRzU2VudD9uLnZpZGVvW2ldLnBhY2tldHNTZW50OjAsMTApLF89dj4wP2gvdjowO3IudmlkZW9JbmZvLlZfU0VOVFthXS5WX1NFTkRGUkFDVElPTkxPU1Q9cGFyc2VGbG9hdChfLnRvRml4ZWQoMSkpLHIudmlkZW9JbmZvLlZfU0VOVFthXS5WX1JUVD1wYXJzZUludCh0Lmdvb2dSdHQsMTApLHIudmlkZW9JbmZvLlZfU0VOVFthXS5WX1JFQ1Y9MCxyLnZpZGVvSW5mby5WX1NFTlRbYV0uVl9TRU5EPXBhcnNlSW50KHQuYnl0ZXNTZW50LDEwKSxyLnZpZGVvSW5mby5WX1NFTlRbYV0uVl9MT1NTPTAsci52aWRlb0luZm8uVl9TRU5UW2FdLlZfUkVDT05ORUNUPXt9LHIudmlkZW9JbmZvLlZfU0VOVFthXS5WX01VVEVEPWUuX2lzVmlkZW9PcGVuPzA6MSxyLnZpZGVvSW5mby5WX1NFTlRbYV0uVl9RUD0zNixyLnZpZGVvSW5mby5WX1NFTlRbYV0uVl9TRlBTPXBhcnNlSW50KHQuZ29vZ0ZyYW1lUmF0ZVNlbnQsMTApLGErK319fSkpfXZhciBpPWUuX3dlYnJ0Y0ludGVybmFsUmVjdlN0YXRzLnNoaWZ0KCk7aWYoaSl7ci5sb2dUaW1lPWkuc3RhdFRpbWVUaWNrO3ZhciBvPTAscz0wLGM9MDtpLnJlc3VsdHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoXCJWaWRlb0J3ZVwiPT09dC50eXBlKTtlbHNlIGlmKFwiZ29vZ0NhbmRpZGF0ZVBhaXJcIj09PXQudHlwZSlcInRydWVcIj09PXQuZ29vZ0FjdGl2ZUNvbm5lY3Rpb24mJihjPXBhcnNlSW50KHQuZ29vZ1J0dCwxMCkpO2Vsc2UgaWYoXCJzc3JjXCI9PT10LnR5cGUpe3ZhciBuPXBhcnNlSW50KHQuc3NyYywxMCk7aWYoXCJhdWRpb1wiPT09dC5tZWRpYVR5cGUpe3ZhciBhPWUuZ2V0U3RyZWFtUHJvcGVydHlCeVNTUkMobixcInVzZXJJRFwiKSx1PWEuaWQsZD1hLnZhbHVlO2lmKCFlLmlzQWN0U3RyZWFtU1NSQ1BhaXJzKHUpKXJldHVybjt2YXIgbD1kO2lmKFwiXCI9PT1sKXJldHVybjtyLmF1ZGlvSW5mby5BX1JFQ1Zbc109e30sci5hdWRpb0luZm8uQV9SRUNWW3NdLlJFQ1ZVSUQ9bCxyLmF1ZGlvSW5mby5BX1JFQ1Zbc10uQV9TU1JDPW47dmFyIHA9aS5hdWRpb1tuXS5kb3duU3BlZWRLQlBTP2kuYXVkaW9bbl0uZG93blNwZWVkS0JQUzowO3IuYXVkaW9JbmZvLkFfUkVDVltzXS5BX1JFQ1ZCUj1wYXJzZUludChwLDEwKSxyLmF1ZGlvSW5mby5BX1JFQ1Zbc10uQV9SRUNWQllURVM9cGFyc2VJbnQodC5ieXRlc1JlY2VpdmVkLDEwKTt2YXIgZj1wYXJzZUludChpLmF1ZGlvW25dLnBhY2tldHNMb3N0P2kuYXVkaW9bbl0ucGFja2V0c0xvc3Q6MCwxMCksbT1wYXJzZUludChpLmF1ZGlvW25dLnBhY2tldHNSZWNlaXZlZD9pLmF1ZGlvW25dLnBhY2tldHNSZWNlaXZlZDowLDEwKSxoPW0+MD9mL206MDtyLmF1ZGlvSW5mby5BX1JFQ1Zbc10uQV9MT1NUUkFURT1wYXJzZUZsb2F0KGgudG9GaXhlZCgxKSksci5hdWRpb0luZm8uQV9SRUNWW3NdLkFfQlVGRkVSRFVSQVRJT049cGFyc2VJbnQodC5nb29nSml0dGVyQnVmZmVyTXMsMTApLHIuYXVkaW9JbmZvLkFfUkVDVltzXS5BX1JFQ1ZGUkFDVElPTkxPU1Q9cGFyc2VGbG9hdChoLnRvRml4ZWQoMSkpLHIuYXVkaW9JbmZvLkFfUkVDVltzXS5BX1JUVD1jLHIuYXVkaW9JbmZvLkFfUkVDVltzXS5BX0RFTEFZPXBhcnNlSW50KGkuYXVkaW9bbl0ubGF0ZW5jeT9pLmF1ZGlvW25dLmxhdGVuY3k6MCwxMCksci5hdWRpb0luZm8uQV9SRUNWW3NdLkFfQVZKTVM9MCxyLmF1ZGlvSW5mby5BX1JFQ1Zbc10uQV9NQVhKTVM9MCxyLmF1ZGlvSW5mby5BX1JFQ1Zbc10uQV9ESVNDQVJERURQS1RTPXBhcnNlSW50KHQucGFja2V0c0xvc3QsMTApLHIuYXVkaW9JbmZvLkFfUkVDVltzXS5BX1ZPTFVNRT1lLl9vdXRwdXRBZGp1c3RWb2x1bWUsci5hdWRpb0luZm8uQV9SRUNWW3NdLkFfTEVWRUxTVU09MSxyLmF1ZGlvSW5mby5BX1JFQ1Zbc10uQV9NVVRFPTAscysrfWVsc2UgaWYoXCJ2aWRlb1wiPT09dC5tZWRpYVR5cGUpe3ZhciB2LF89ZS5nZXRTdHJlYW1Qcm9wZXJ0eUJ5U1NSQyhuLFwidXNlcklEXCIpLGc9Xy5pZCx5PV8udmFsdWU7aWYoIWUuaXNBY3RTdHJlYW1TU1JDUGFpcnMoZykpcmV0dXJuO2lmKFwiXCI9PT0odj15KSlyZXR1cm47dmFyIGIsaz1lLmdldFN0cmVhbVByb3BlcnR5QnlTU1JDKG4sXCJzdHJlYW1JRFwiKTtrLmlkO2I9ay52YWx1ZSxyLnZpZGVvSW5mby5WX1JFQ1Zbb109e30sci52aWRlb0luZm8uVl9SRUNWW29dLlJFQ1ZVSUQ9XCJcIit2LHIudmlkZW9JbmZvLlZfUkVDVltvXS5SRUNWSUQ9XCJcIitiLHIudmlkZW9JbmZvLlZfUkVDVltvXS5WX1NTUkM9K24sci52aWRlb0luZm8uVl9SRUNWW29dLlZfRlBTPXBhcnNlSW50KHQuZ29vZ0ZyYW1lUmF0ZU91dHB1dCwxMCksci52aWRlb0luZm8uVl9SRUNWW29dLlZfV0lEVEg9cGFyc2VJbnQodC5nb29nRnJhbWVXaWR0aFJlY2VpdmVkLDEwKSxyLnZpZGVvSW5mby5WX1JFQ1Zbb10uVl9IRUlHSFQ9cGFyc2VJbnQodC5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCwxMCk7dmFyIHc9aS52aWRlb1tuXS5kb3duU3BlZWRLQlBTP2kudmlkZW9bbl0uZG93blNwZWVkS0JQUzowO3IudmlkZW9JbmZvLlZfUkVDVltvXS5WX1JFQ1ZCUj1wYXJzZUludCh3LDEwKSxyLnZpZGVvSW5mby5WX1JFQ1Zbb10uVl9SRUNWQllURVM9cGFyc2VJbnQodC5ieXRlc1JlY2VpdmVkLDEwKSxyLnZpZGVvSW5mby5WX1JFQ1Zbb10uVl9SRUNWQ09VTlQ9cGFyc2VJbnQodC5wYWNrZXRzUmVjZWl2ZWQsMTApO3ZhciBQPXBhcnNlSW50KGkudmlkZW9bbl0ucGFja2V0c0xvc3Q/aS52aWRlb1tuXS5wYWNrZXRzTG9zdDowLDEwKSxTPXBhcnNlSW50KGkudmlkZW9bbl0ucGFja2V0c1JlY2VpdmVkP2kudmlkZW9bbl0ucGFja2V0c1JlY2VpdmVkOjAsMTApLEk9Uz4wP1AvUzowO3IudmlkZW9JbmZvLlZfUkVDVltvXS5WX0xPU1RSQVRFPXBhcnNlRmxvYXQoSS50b0ZpeGVkKDEpKSxyLnZpZGVvSW5mby5WX1JFQ1Zbb10uVl9SVFQ9YyxyLnZpZGVvSW5mby5WX1JFQ1Zbb10uVl9KSVRURVI9cGFyc2VJbnQodC5nb29nSml0dGVyQnVmZmVyTXMsMTApLHIudmlkZW9JbmZvLlZfUkVDVltvXS5WX1JFQ1ZGUkFNRUNPVU5UPXBhcnNlSW50KHQuZnJhbWVzRGVjb2RlZCwxMCk7dmFyIFQ9aS52aWRlb1tuXS5sYXRlbmN5P2kudmlkZW9bbl0ubGF0ZW5jeTowO3IudmlkZW9JbmZvLlZfUkVDVltvXS5WX0RFTEFZPXBhcnNlSW50KFQsMTApLHIudmlkZW9JbmZvLlZfUkVDVltvXS5WX0ZSQUNUSU9OTE9TVD1wYXJzZUZsb2F0KEkudG9GaXhlZCgxKSksci52aWRlb0luZm8uVl9SRUNWW29dLlZfTVVURUQ9MSxyLnZpZGVvSW5mby5WX1JFQ1Zbb10uVl9UQVJHRVRWQlI9cGFyc2VJbnQodywxMCksbysrfX19KSl9dmFyIHU9XCJcIixkPTA7biYmbi5jb25uZWN0aW9uVHlwZSYmbi5jb25uZWN0aW9uVHlwZS5yZW1vdGUmJih1PW4uY29ubmVjdGlvblR5cGUucmVtb3RlLmlwQWRkcmVzcyxkPW4uY29ubmVjdGlvblR5cGUucmVtb3RlLnBvcnROdW1iZXIpLGkmJmkuY29ubmVjdGlvblR5cGUmJmkuY29ubmVjdGlvblR5cGUucmVtb3RlJiYodT1pLmNvbm5lY3Rpb25UeXBlLnJlbW90ZS5pcEFkZHJlc3MsZD1pLmNvbm5lY3Rpb25UeXBlLnJlbW90ZS5wb3J0TnVtYmVyKSxyLm1lZGlhU2VydmVySW5mbz17YUlwOnUsYXVkaW9fcG9ydDpkLGFTaWQ6XCJcIix2SXA6dSx2UG9ydDpkLHZTaWQ6XCJcIn0sZS5fd2VicnRjU3RhdHMucHVzaChyKX0saT0wO2k8bjtpKyspYSgpO24+MCYmdGhpcy5wdXNoTG9nZ2VyVG9TZXJ2ZXIobS5IRUFSVF9CRUFULHRoaXMuX3dlYnJ0Y1N0YXRzKSxNYXRoLm1heCh0LHIpPjEwJiZ0aGlzLl9yZXBvcnRXZWJydGNTdGF0cygpfX19LHtrZXk6XCJzZXRXZWJydGNJbnRlcm5hbFNlbmRTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3NlbmRSVFQ9ZS5iYW5kd2lkdGgucnR0LHRoaXMuX3N1bW1hcml6ZS5ydHQ9ZS5iYW5kd2lkdGgucnR0O3ZhciB0PWUuYmFuZHdpZHRoLnVwU3BlZWQ7aWYodGhpcy5fc3VtbWFyaXplLnVwU3BlZWQ9cGFyc2VJbnQodCwxMCksdGhpcy5fc3VtbWFyaXplLm5ldHdvcmtUeXBlPWUuY29ubmVjdGlvblR5cGUubG9jYWwubmV0d29ya1R5cGUsdGhpcy5fd2VicnRjSW50ZXJuYWxTZW5kU3RhdHMpe3ZhciByPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Uuc3RhdFRpbWVUaWNrPXIsdGhpcy5fd2VicnRjSW50ZXJuYWxTZW5kU3RhdHMucHVzaChlKX19fSx7a2V5Olwic2V0V2VicnRjSW50ZXJuYWxSZWN2U3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9yZWN2UlRUPWUuYmFuZHdpZHRoLnJ0dCx0aGlzLl9zdW1tYXJpemUucnR0PWUuYmFuZHdpZHRoLnJ0dDt2YXIgdD1lLmJhbmR3aWR0aC5kb3duU3BlZWQ7aWYodGhpcy5fc3VtbWFyaXplLmRvd25TcGVlZD1wYXJzZUludCh0LDEwKSx0aGlzLl9zdW1tYXJpemUubmV0d29ya1R5cGU9ZS5jb25uZWN0aW9uVHlwZS5sb2NhbC5uZXR3b3JrVHlwZSx0aGlzLl93ZWJydGNJbnRlcm5hbFJlY3ZTdGF0cyl7dmFyIHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZS5zdGF0VGltZVRpY2s9cix0aGlzLl93ZWJydGNJbnRlcm5hbFJlY3ZTdGF0cy5wdXNoKGUpfX19LHtrZXk6XCJzZXRDb25zdW1lU3RhdHNcIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGEpe3ZhciBpPXRoaXM7dGhpcy5fY3N0YXQuY29uc3VtZXI9bix0aGlzLl9jc3RhdC5zdGF0PWU7dmFyIG89KG5ldyBEYXRlKS5nZXRUaW1lKCkscz0hMSxjPXt9LHU9ITEsZD17fSxsPTA7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihcIm91dGJvdW5kLXJ0cFwiPT09ZS50eXBlKWlmKFwidmlkZW9cIj09PWUua2luZCl7Yy5zdGF0VFM9byxjLnN0cmVhbUlkPWEsYy5zc3JjPWUuc3NyYyxjLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCxpLl9uZXRzdGF0LnZpZGVvRG93bi50aW1lc3RhbXA9ZS50aW1lc3RhbXA7dmFyIHQ9ZS5iaXRyYXRlO2MuYml0cmF0ZT1wYXJzZUludCh0LzEwMjQsMTApLGkuX25ldHN0YXQudmlkZW9Eb3duLmJpdHJhdGU9ZS5iaXRyYXRlLGMucGFja2V0Q291bnQ9ZS5wYWNrZXRDb3VudCxpLl9uZXRzdGF0LnZpZGVvRG93bi5wYWNrZXRDb3VudD1lLnBhY2tldENvdW50LGMucGFja2V0TG9zdD1lLnBhY2tldHNMb3N0LGkuX25ldHN0YXQudmlkZW9Eb3duLnBhY2thZ2VMb3N0PWUucGFja2V0c0xvc3QsYy5uYWNrQ291bnQ9ZS5uYWNrQ291bnQsaS5fbmV0c3RhdC52aWRlb0Rvd24ubmFja0NvdW50PWUubmFja0NvdW50LGMucGxpQ291bnQ9ZS5wbGlDb3VudCxpLl9uZXRzdGF0LnZpZGVvRG93bi5wbGlDb3VudD1lLnBsaUNvdW50LGMuc2xpQ291bnQ9ZS5zbGlDb3VudCxpLl9uZXRzdGF0LnZpZGVvRG93bi5zbGlDb3VudD1lLnNsaUNvdW50LGMuZnJhY3Rpb25Mb3N0PWUuZnJhY3Rpb25Mb3N0LCtjLmZyYWN0aW9uTG9zdD4rbCYmKGw9K2MuZnJhY3Rpb25Mb3N0KSxpLl9uZXRzdGF0LnZpZGVvRG93bi5mcmFjdGlvbkxvc3Q9ZS5mcmFjdGlvbkxvc3Qsdm9pZCAwIT09ZS5yb3VuZFRyaXBUaW1lJiYoaS5fbmV0c3RhdC52aWRlb0Rvd24ucm91bmRUcmlwVGltZT1lLnJvdW5kVHJpcFRpbWUsYy5ydHQ9aS5fcmVjdlJUVCkscz0hMH1lbHNlIGlmKFwiYXVkaW9cIj09PWUua2luZCl7ZC5zdGF0VFM9byxkLnN0cmVhbUlkPWEsZC5zc3JjPWUuc3NyYyxpLl9uZXRzdGF0LmF1ZGlvRG93bi50aW1lc3RhbXA9ZS50aW1lc3RhbXAsZC50aW1lc3RhbXA9ZS50aW1lc3RhbXAsaS5fbmV0c3RhdC5hdWRpb0Rvd24uYml0cmF0ZT1lLmJpdHJhdGU7dmFyIHI9ZS5iaXRyYXRlO2QuYml0cmF0ZT1wYXJzZUludChyLzEwMjQsMTApLGkuX25ldHN0YXQuYXVkaW9Eb3duLnBhY2tldENvdW50PWUucGFja2V0Q291bnQsZC5wYWNrZXRDb3VudD1lLnBhY2tldENvdW50LGkuX25ldHN0YXQuYXVkaW9Eb3duLnBhY2tldHNMb3N0PWUucGFja2V0c0xvc3QsZC5wYWNrZXRMb3N0PWUucGFja2V0c0xvc3QsaS5fbmV0c3RhdC5hdWRpb0Rvd24ubmFja0NvdW50PWUubmFja0NvdW50LGQubmFja0NvdW50PWUubmFja0NvdW50LGkuX25ldHN0YXQuYXVkaW9Eb3duLnBsaUNvdW50PWUucGxpQ291bnQsZC5wbGlDb3VudD1lLnBsaUNvdW50LGkuX25ldHN0YXQuYXVkaW9Eb3duLnNsaUNvdW50PWUuc2xpQ291bnQsZC5zbGlDb3VudD1lLnNsaUNvdW50LGkuX25ldHN0YXQuYXVkaW9Eb3duLmZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCxkLmZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCwrZC5mcmFjdGlvbkxvc3Q+K2wmJihsPStkLmZyYWN0aW9uTG9zdCksdm9pZCAwIT09ZS5yb3VuZFRyaXBUaW1lJiYoaS5fbmV0c3RhdC5hdWRpb0Rvd24ucm91bmRUcmlwVGltZT1lLnJvdW5kVHJpcFRpbWUsZC5ydHQ9aS5fcmVjdlJUVCksdT0hMH19KSksdGhpcy5fc3VtbWFyaXplLmRvd25GcmFjdGlvbkxvc3Q9bCx0aGlzLl9zZXROZXRRdWxpdHkoKSx1JiZ0aGlzLl9hdWRpb1JlY3ZTdGF0cy5zZXQoYSxkKSxzJiZ0aGlzLl92aWRlb1JlY3ZTdGF0cy5zZXQoYSxjKSx0aGlzLl9jc3RhdC5zdGF0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1widmlkZW9cIj09PWUua2luZCYmXCJvdXRib3VuZC1ydHBcIj09PWUudHlwZSYmKGUucmVzb2x1dGlvbj10KX0pKSx0aGlzLmNvbnN1bWVyU3RhdGUodGhpcy5fY3N0YXQpfX0se2tleTpcInNldE1pY1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ITEsYT17fSxpPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG89MDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwiaW5ib3VuZC1ydHBcIj09PWUudHlwZSl7YS5zdGF0VFM9aSxhLnN0cmVhbUlkPXQsYS5zc3JjPWUuc3NyYyxyLl9uZXRzdGF0LmF1ZGlvVXAudGltZXN0YW1wPWUudGltZXN0YW1wLGEudGltZXN0YW1wPWUudGltZXN0YW1wLHIuX25ldHN0YXQuYXVkaW9VcC5iaXRyYXRlPWUuYml0cmF0ZTt2YXIgcz1lLmJpdHJhdGU7YS5iaXRyYXRlPXBhcnNlSW50KHMvMTAyNCwxMCksci5fbmV0c3RhdC5hdWRpb1VwLnBhY2tldENvdW50PWUucGFja2V0Q291bnQsYS5wYWNrZXRDb3VudD1lLnBhY2tldENvdW50LHIuX25ldHN0YXQuYXVkaW9VcC5wYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LGEucGFja2V0TG9zdD1lLnBhY2tldHNMb3N0LHIuX25ldHN0YXQuYXVkaW9VcC5uYWNrQ291bnQ9ZS5uYWNrQ291bnQsYS5uYWNrQ291bnQ9ZS5uYWNrQ291bnQsci5fbmV0c3RhdC5hdWRpb1VwLmppdHRlcj1lLmppdHRlcixhLmppdHRlcj1lLmppdHRlcixyLl9uZXRzdGF0LmF1ZGlvVXAucGxpQ291bnQ9ZS5wbGlDb3VudCxhLnBsaUNvdW50PWUucGxpQ291bnQsci5fbmV0c3RhdC5hdWRpb1VwLmZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCxhLmZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCwrYS5mcmFjdGlvbkxvc3Q+K28mJihvPSthLmZyYWN0aW9uTG9zdCksdm9pZCAwIT09ZS5yb3VuZFRyaXBUaW1lJiYoci5fbmV0c3RhdC5hdWRpb1VwLnJvdW5kVHJpcFRpbWU9ZS5yb3VuZFRyaXBUaW1lLGEucnR0PXIuX3NlbmRSVFQpLG49ITB9fSkpLHRoaXMuX3N1bW1hcml6ZS51cEZyYWN0aW9uTG9zdD1vLHRoaXMuX3NldE5ldFF1bGl0eSgpLG4mJnRoaXMuX2F1ZGlvU2VuZFN0YXRzLnNldCh0LGEpfX0se2tleTpcInNldFdlYmNhbVN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ITEsYT17fSxpPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG89MDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwiaW5ib3VuZC1ydHBcIj09PWUudHlwZSl7YS5zdGF0VFM9aSxhLnN0cmVhbUlkPXQsYS5zc3JjPWUuc3NyYyxyLl9uZXRzdGF0LnZpZGVvVXAudGltZXN0YW1wPWUudGltZXN0YW1wLGEudGltZXN0YW1wPWUudGltZXN0YW1wLHIuX25ldHN0YXQudmlkZW9VcC5iaXRyYXRlPWUuYml0cmF0ZTt2YXIgcz1lLmJpdHJhdGU7YS5iaXRyYXRlPXBhcnNlSW50KHMvMTAyNCwxMCksci5fbmV0c3RhdC52aWRlb1VwLnBhY2tldENvdW50PWUucGFja2V0Q291bnQsYS5wYWNrZXRDb3VudD1lLnBhY2tldENvdW50LHIuX25ldHN0YXQudmlkZW9VcC5wYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LGEucGFja2V0TG9zdD1lLnBhY2tldHNMb3N0LHIuX25ldHN0YXQudmlkZW9VcC5uYWNrQ291bnQ9ZS5uYWNrQ291bnQsYS5uYWNrQ291bnQ9ZS5uYWNrQ291bnQsci5fbmV0c3RhdC52aWRlb1VwLmppdHRlcj1lLmppdHRlcixhLmppdHRlcj1lLmppdHRlcixyLl9uZXRzdGF0LnZpZGVvVXAucGxpQ291bnQ9ZS5wbGlDb3VudCxhLnBsaUNvdW50PWUucGxpQ291bnQsci5fbmV0c3RhdC52aWRlb1VwLmZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCxhLmZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCwrYS5mcmFjdGlvbkxvc3Q+K28mJihvPSthLmZyYWN0aW9uTG9zdCksdm9pZCAwIT09ZS5yb3VuZFRyaXBUaW1lJiYoci5fbmV0c3RhdC52aWRlb1VwLnJvdW5kVHJpcFRpbWU9ZS5yb3VuZFRyaXBUaW1lLGEucnR0PXIuX3NlbmRSVFQpLG49ITB9fSkpLHRoaXMuX3N1bW1hcml6ZS51cEZyYWN0aW9uTG9zdD1vLHRoaXMuX3NldE5ldFF1bGl0eSgpLG4mJnRoaXMuX3ZpZGVvU2VuZFN0YXRzLnNldCh0LGEpfX0se2tleTpcInN0YXJ0SGVhcnRCZWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX3JlcG9ydEludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl9yZXBvcnRJbnRlcnZhbCksdGhpcy5fcmVwb3J0SW50ZXJ2YWw9bnVsbCksdGhpcy5fcmVwb3J0SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5fcmVwb3J0V2VicnRjU3RhdHMoKX0pLDFlNCl9fSx7a2V5Olwic3RvcEhlYXJ0QmVhdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcmVwb3J0SW50ZXJ2YWwmJihjbGVhckludGVydmFsKHRoaXMuX3JlcG9ydEludGVydmFsKSx0aGlzLl9yZXBvcnRJbnRlcnZhbD1udWxsKX19LHtrZXk6XCJwdXNoTG9nZ2VyVG9TZXJ2ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGMuZGVmYXVsdC5sb2dTdWJtaXQpe3ZhciByPVwiXCI7cj1lP2UrXCIgXCIrKDAsbi5kZWZhdWx0KSh0KTooMCxuLmRlZmF1bHQpKHQpLGZldGNoKHUubG9nc2VydmVyX3VybCx7bWV0aG9kOlwiUE9TVFwiLG1vZGU6XCJuby1jb3JzXCIsY2FjaGU6XCJuby1jYWNoZVwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJ9LHJlZGlyZWN0OlwiZm9sbG93XCIscmVmZXJyZXI6XCJuby1yZWZlcnJlclwiLGJvZHk6cn0pLmNhdGNoKChmdW5jdGlvbihlKXtoLndhcm4oXCJwdXNoTG9nZ2VyVG9TZXJ2ZXIoKSBlcnJvciAtIFwiK2UudG9TdHJpbmcoKSl9KSkudGhlbigoZnVuY3Rpb24oZSl7fSkpfX19LHtrZXk6XCJjb25zdW1lclN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Yy5kZWZhdWx0LnByaXZhdGVDbG91ZHx8ZmV0Y2goXCJodHRwczovL1wiK3RoaXMuX2RvbWFpbitcIi9zdGF0cy9cIix7bWV0aG9kOlwiUE9TVFwiLG1vZGU6XCJuby1jb3JzXCIsY2FjaGU6XCJuby1jYWNoZVwiLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxyZWRpcmVjdDpcImZvbGxvd1wiLHJlZmVycmVyOlwibm8tcmVmZXJyZXJcIixib2R5OigwLG4uZGVmYXVsdCkoZSl9KS5jYXRjaCgoZnVuY3Rpb24oZSl7aC53YXJuKFwiY29uc3VtZXJTdGF0ZSgpIGVycm9yIC0gXCIrZS50b1N0cmluZygpKX0pKS50aGVuKChmdW5jdGlvbihlKXt9KSl9fSx7a2V5OlwiX3NldE5ldFF1bGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9MCx0PTAscj0wOzAhPT10aGlzLl9uZXRzdGF0LmF1ZGlvVXAucGFja2V0Q291bnQmJih0KyssdGhpcy5fbmV0c3RhdC5hdWRpb1VwLnJvdW5kVHJpcFRpbWUsZSs9dGhpcy5fbmV0c3RhdC5hdWRpb1VwLnBhY2tldHNMb3N0L3RoaXMuX25ldHN0YXQuYXVkaW9VcC5wYWNrZXRDb3VudCksMCE9PXRoaXMuX25ldHN0YXQuYXVkaW9Eb3duLnBhY2tldENvdW50JiYodCsrLHRoaXMuX25ldHN0YXQuYXVkaW9Eb3duLnJvdW5kVHJpcFRpbWUsZSs9dGhpcy5fbmV0c3RhdC5hdWRpb0Rvd24ucGFja2V0c0xvc3QvdGhpcy5fbmV0c3RhdC5hdWRpb0Rvd24ucGFja2V0Q291bnQpLDAhPT10aGlzLl9uZXRzdGF0LnZpZGVvVXAucGFja2V0Q291bnQmJih0KyssdGhpcy5fbmV0c3RhdC52aWRlb1VwLnJvdW5kVHJpcFRpbWUsZSs9dGhpcy5fbmV0c3RhdC52aWRlb1VwLnBhY2tldHNMb3N0L3RoaXMuX25ldHN0YXQudmlkZW9VcC5wYWNrZXRDb3VudCksMCE9PXRoaXMuX25ldHN0YXQudmlkZW9Eb3duLnBhY2tldENvdW50JiYodCsrLHRoaXMuX25ldHN0YXQudmlkZW9Eb3duLnJvdW5kVHJpcFRpbWUsZSs9dGhpcy5fbmV0c3RhdC52aWRlb0Rvd24ucGFja2V0c0xvc3QvdGhpcy5fbmV0c3RhdC52aWRlb0Rvd24ucGFja2V0Q291bnQpLDAhPT10JiYoci89dCx0aGlzLl9uZXRzdGF0LmZyYWN0aW9uTG9zdD1lL3QsdGhpcy5fbmV0c3RhdC5yb3VuZFRyaXBUaW1lPXIsdGhpcy5fbmV0c3RhdC5xdWFsaXR5PTEtdGhpcy5fbmV0c3RhdC5mcmFjdGlvbkxvc3QpfX0se2tleTpcInNlbmRUaW1lT3V0TG9nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aW1lc09mTGlua0dXLHI9ZS5saW5rR1dUaW1lLG49ZS5zZW5kR1dUaW1lLGE9ZS5zZW5kRW50ZXJUaW1lLGk9e2dsYklkOmQudXVpZCgpLGFwcElkOnRoaXMuX2FwcElkLHVzZXJJZDp0aGlzLl91c2VySWQscm9vbUlkOnRoaXMuX3Jvb21JZCxjb25uZWN0SWQ6dGhpcy5fY29ubmVjdGlvbklkLG9zOlwiV0VCXCIsbG9nVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvYS16L2dpLFwiIFwiKSx0aW1lc09mTGlua0lwbG9jYWw6dGhpcy5faXBsb2NhdGlvbkluZm8ucmVjb25uZWN0VGltZXMsdGltZXNPZkxpbmtHVzp0LGxpbmtJcGxvY2FsVGltZTp0aGlzLl9pcGxvY2F0aW9uSW5mby5jb25uZWN0ZWRUaW1lLXRoaXMuX2lwbG9jYXRpb25JbmZvLmZpcnN0Q29ubmVjdFRpbWUsc2VuZElwbG9jYWxUaW1lOnRoaXMuX2lwbG9jYXRpb25JbmZvLmNvbm5lY3RlZFRpbWUsbGlua0dXVGltZTpyLHNlbmRHV1RpbWU6bixzZW5kRW50ZXJUaW1lOmEsZ3dJcDp0aGlzLl9nd0luZm8uc0lwfTt0aGlzLnB1c2hMb2dnZXJUb1NlcnZlcihtLkVOVEVSX1RJTUVPVVQsaSl9fSx7a2V5Olwic2VuZEZhaWxMb2dcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRpbWVzT2ZMaW5rR1cscj1lLmxpbmtHV1RpbWUsbj1lLnNlbmRHV1RpbWUsYT1lLnNlbmRFbnRlclRpbWUsaT1lLnJvbGUsbz1lLnJlc3VsdCxzPXtnbGJJZDpkLnV1aWQoKSxhcHBJZDp0aGlzLl9hcHBJZCx1c2VySWQ6dGhpcy5fdXNlcklkLHJvb21JZDp0aGlzLl9yb29tSWQsY29ubmVjdElkOnRoaXMuX2Nvbm5lY3Rpb25JZCxvczpcIldFQlwiLHJvbGU6aSxyZXN1bHQ6byxsb2dUaW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9hLXovZ2ksXCIgXCIpLHRpbWVzT2ZMaW5rSXBsb2NhbDp0aGlzLl9pcGxvY2F0aW9uSW5mby5yZWNvbm5lY3RUaW1lcyx0aW1lc09mTGlua0dXOnQsbGlua0lwbG9jYWxUaW1lOnRoaXMuX2lwbG9jYXRpb25JbmZvLmNvbm5lY3RlZFRpbWUtdGhpcy5faXBsb2NhdGlvbkluZm8uZmlyc3RDb25uZWN0VGltZSxzZW5kSXBsb2NhbFRpbWU6dGhpcy5faXBsb2NhdGlvbkluZm8uY29ubmVjdGVkVGltZSxsaW5rR1dUaW1lOnIsc2VuZEdXVGltZTpuLHNlbmRFbnRlclRpbWU6YSxpbm5lckRpZmY6MCx0b3RhbERpZmY6MCxnd0lwOnRoaXMuX2d3SW5mby5zSXB9O3RoaXMucHVzaExvZ2dlclRvU2VydmVyKG0uRU5URVJfRkFJTCxzKX19LHtrZXk6XCJhdWRpb1VwU3RhdFwiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gdGhpcy5fYXVkaW9TZW5kU3RhdHMuZm9yRWFjaCgoZnVuY3Rpb24ocixuKXt0LXIuc3RhdFRTPjNlMyYmZS5fYXVkaW9TZW5kU3RhdHMuZGVsZXRlKG4pfSkpLHRoaXMuX2F1ZGlvU2VuZFN0YXRzfX0se2tleTpcInZpZGVvVXBTdGF0XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiB0aGlzLl92aWRlb1NlbmRTdGF0cy5mb3JFYWNoKChmdW5jdGlvbihyLG4pe3Qtci5zdGF0VFM+M2UzJiZlLl92aWRlb1NlbmRTdGF0cy5kZWxldGUobil9KSksdGhpcy5fdmlkZW9TZW5kU3RhdHN9fSx7a2V5OlwiYXVkaW9Eb3duU3RhdFwiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gdGhpcy5fYXVkaW9SZWN2U3RhdHMuZm9yRWFjaCgoZnVuY3Rpb24ocixuKXt0LXIuc3RhdFRTPjNlMyYmZS5fYXVkaW9SZWN2U3RhdHMuZGVsZXRlKG4pfSkpLHRoaXMuX2F1ZGlvUmVjdlN0YXRzfX0se2tleTpcInZpZGVvRG93blN0YXRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIHRoaXMuX3ZpZGVvUmVjdlN0YXRzLmZvckVhY2goKGZ1bmN0aW9uKHIsbil7dC1yLnN0YXRUUz4zZTMmJmUuX3ZpZGVvUmVjdlN0YXRzLmRlbGV0ZShuKX0pKSx0aGlzLl92aWRlb1JlY3ZTdGF0c319LHtrZXk6XCJzdW1tYXJpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3VtbWFyaXplfX0se2tleTpcIm5ldFN0YXRlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25ldHN0YXR9fSx7a2V5OlwiYXVkaW9PcGVuXCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzQXVkaW9PcGVuPWV9fSx7a2V5OlwidmlkZW9PcGVuXCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzVmlkZW9PcGVuPWV9fV0pLGV9KCk7dC5kZWZhdWx0PXZ9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cigyMjcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cigyMjgpLGUuZXhwb3J0cz1yKDcpLk9iamVjdC5mcmVlemV9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4KSxhPXIoNTYpLm9uRnJlZXplO3IoNjUpKFwiZnJlZXplXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGEodCkpOnR9fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKG4pe3ZhciBhLGk9cyhyKDI2KSksbz1zKHIoNDEpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz0wLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLHM9XCJGYWtlLzUuMCAoRmFrZU9TKSBBcHBsZVdlYktpdC8xMjMgKEtIVE1MLCBsaWtlIEdlY2tvKSBGYWtlLzEyLjMuNDU2Ny44OSBGYWtlLzEyMy40NVwiOyhhPXZvaWQgMCE9PW4/bjpudWxsKSYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09biYmKG4ubmF2aWdhdG9yPXt1c2VyQWdlbnQ6cyxnZXRVc2VyTWVkaWE6ZnVuY3Rpb24oKXt9fSxuLmNvbnNvbGV8fChuLmNvbnNvbGU9e30pLHZvaWQgMCE9PW4uY29uc29sZS5sb2cmJnZvaWQgMCE9PW4uY29uc29sZS5lcnJvcnx8KG4uY29uc29sZS5lcnJvcj1uLmNvbnNvbGUubG9nPW4uY29uc29sZS5sb2d8fGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coYXJndW1lbnRzKX0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudCYmKGEuZG9jdW1lbnQ9e2RvY3VtZW50RWxlbWVudDp7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX19LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ9ZG9jdW1lbnQuY2FwdHVyZVN0cmVhbT1kb2N1bWVudC5tb3pDYXB0dXJlU3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9e2dldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0scGxheTpmdW5jdGlvbigpe30scGF1c2U6ZnVuY3Rpb24oKXt9LGRyYXdJbWFnZTpmdW5jdGlvbigpe30sdG9EYXRhVVJMOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19O3JldHVybiBlfSxhLkhUTUxWaWRlb0VsZW1lbnQ9ZnVuY3Rpb24oKXt9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYXRpb24mJihhLmxvY2F0aW9uPXtwcm90b2NvbDpcImZpbGU6XCIsaHJlZjpcIlwiLGhhc2g6XCJcIn0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzY3JlZW4mJihhLnNjcmVlbj17d2lkdGg6MCxoZWlnaHQ6MH0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBVUkwmJihhLlVSTD17Y3JlYXRlT2JqZWN0VVJMOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0scmV2b2tlT2JqZWN0VVJMOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgTWVkaWFTdHJlYW1UcmFjayYmKGEuTWVkaWFTdHJlYW1UcmFjaz1mdW5jdGlvbigpe30pLHZvaWQgMD09PXUmJihhLlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKCl7fSksYS53aW5kb3c9bik7dmFyIHU9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHx3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb258fHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbjtcInVuZGVmaW5lZFwiPT10eXBlb2YgTWVkaWFTdHJlYW1UcmFjayYmKE1lZGlhU3RyZWFtVHJhY2s9e30pO3ZhciBkPSgobmF2aWdhdG9yLmNvbm5lY3Rpb258fHt9KS50eXBlfHxcInVua25vd25cIikudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLGw9e2lzU2FmYXJpOiExLGVuY3J5cHRpb246XCJzaGEtMjU2XCIsYXVkaW86e3NzcmM6W119LHZpZGVvOntzc3JjOltdfSxiYW5kd2lkdGg6e3N5c3RlbUJhbmR3aWR0aDowLHNlbnRQZXJTZWNvbmQ6MCxlbmNvZGVkUGVyU2Vjb25kOjAsaGVscGVyOntwcmV2Qnl0ZXNSZWNlaXZlZDowLHByZXZCeXRlc1NlbnQ6MH0sdXBTcGVlZDowLGRvd25TcGVlZDowLHJ0dDowfSxyZXN1bHRzOnt9LGNvbm5lY3Rpb25UeXBlOntzeXN0ZW1OZXR3b3JrVHlwZTpkLGxvY2FsOntjYW5kaWRhdGVUeXBlOlwiXCIsdHJhbnNwb3J0OlwiXCIsaXBBZGRyZXNzOlwiXCIscG9ydE51bWJlcjpcIlwiLG5ldHdvcmtUeXBlOlwiXCJ9LHJlbW90ZTp7Y2FuZGlkYXRlVHlwZTpcIlwiLHRyYW5zcG9ydDpcIlwiLGlwQWRkcmVzczpcIlwiLHBvcnROdW1iZXI6XCJcIn19LGludGVybmFsOnthY3RpdmVDb25uZWN0aW9uOntsb2NhbENhbmRpZGF0ZTpcIlwiLHJlbW90ZUNhbmRpZGF0ZTpcIlwifSxhdWRpbzp7fSx2aWRlbzp7fSxjYW5kaWRhdGVzOltdfSxub21vcmU6ZnVuY3Rpb24oKXtoPSEwfX0scD17Y2hlY2tJZk9mZmVyZXI6ZnVuY3Rpb24oZSl7XCJnb29nTGliamluZ2xlU2Vzc2lvblwiPT09ZS50eXBlJiYobC5pc09mZmVyZXI9ZS5nb29nSW5pdGlhdG9yKX19LGY9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtsLmlzU2FmYXJpPWY7dmFyIG09dGhpcztpZighKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdSkpdGhyb3dcIjFzdCBhcmd1bWVudCBpcyBub3QgaW5zdGFuY2Ugb2YgUlRDUGVlckNvbm5lY3Rpb24uXCI7bT1hcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrJiYoZT1hcmd1bWVudHNbMV0sdD1hcmd1bWVudHNbMl0scj1hcmd1bWVudHNbM10pLCtyPDFlMyYmKHI9MWUzKSxjPXI7dmFyIGg9ITE7ZnVuY3Rpb24gdigpe18oKGZ1bmN0aW9uKGUpe2lmKGUmJmUuZm9yRWFjaCl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXsoMCxvLmRlZmF1bHQpKHApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHBbdF0pdHJ5e3BbdF0oZSl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGUubWVzc2FnZSxlLnN0YWNrLGUpfX0pKX0pKTt0cnl7LTEhPT1tLmljZUNvbm5lY3Rpb25TdGF0ZS5zZWFyY2goL2ZhaWxlZHxjbG9zZWR8ZGlzY29ubmVjdGVkL2dpKSYmKGg9ITApfWNhdGNoKGUpe2g9ITB9ITA9PT1oJiYobC5kYXRhY2hhbm5lbCYmKGwuZGF0YWNoYW5uZWwuc3RhdGU9XCJjbG9zZVwiKSxsLmVuZGVkPSEwKSxsLmludGVybmFsLmNhbmRpZGF0ZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKGUuaWQ9PT1sLmludGVybmFsLmFjdGl2ZUNvbm5lY3Rpb24ubG9jYWxDYW5kaWRhdGU/KGwuY29ubmVjdGlvblR5cGUubG9jYWwuY2FuZGlkYXRlVHlwZT1lLmNhbmRpZGF0ZVR5cGUsbC5jb25uZWN0aW9uVHlwZS5sb2NhbC5pcEFkZHJlc3M9ZS5pcEFkZHJlc3MsbC5jb25uZWN0aW9uVHlwZS5sb2NhbC5wb3J0TnVtYmVyPWUucG9ydE51bWJlcixsLmNvbm5lY3Rpb25UeXBlLmxvY2FsLm5ldHdvcmtUeXBlPWUubmV0d29ya1R5cGUsbC5jb25uZWN0aW9uVHlwZS5sb2NhbC50cmFuc3BvcnQ9ZS50cmFuc3BvcnQpOmUuaWQ9PT1sLmludGVybmFsLmFjdGl2ZUNvbm5lY3Rpb24ucmVtb3RlQ2FuZGlkYXRlJiYobC5jb25uZWN0aW9uVHlwZS5yZW1vdGUuY2FuZGlkYXRlVHlwZT1lLmNhbmRpZGF0ZVR5cGUsbC5jb25uZWN0aW9uVHlwZS5yZW1vdGUuaXBBZGRyZXNzPWUuaXBBZGRyZXNzLGwuY29ubmVjdGlvblR5cGUucmVtb3RlLnBvcnROdW1iZXI9ZS5wb3J0TnVtYmVyLGwuY29ubmVjdGlvblR5cGUucmVtb3RlLnRyYW5zcG9ydD1lLnRyYW5zcG9ydCkpfSkpLGwucmVzdWx0cz1lLGwuYXVkaW8uc3NyYy5mb3JFYWNoKChmdW5jdGlvbihlKXt9KSksbC52aWRlby5zc3JjLmZvckVhY2goKGZ1bmN0aW9uKGUpe30pKSx0KGwpLGh8fG51bGwhPSh2b2lkIDA9PT1yP1widW5kZWZpbmVkXCI6KDAsaS5kZWZhdWx0KShyKSkmJnImJnNldFRpbWVvdXQodixyfHwxZTMpfX0pKX1mdW5jdGlvbiBfKGUpe3ZvaWQgMCE9PXdpbmRvdy5JbnN0YWxsVHJpZ2dlcnx8Zj9tLmdldFN0YXRzKHdpbmRvdy5tZWRpYVN0cmVhbVRyYWNrfHxudWxsKS50aGVuKChmdW5jdGlvbih0KXt2YXIgcj1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3IucHVzaChlKX0pKSxlKHIpfSkpLmNhdGNoKGUpOm0uZ2V0U3RhdHMoKGZ1bmN0aW9uKHQpe3ZhciByPVtdO3QucmVzdWx0KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9e307ZS5uYW1lcygpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3Rbcl09ZS5zdGF0KHIpfSkpLHQuaWQ9ZS5pZCx0LnR5cGU9ZS50eXBlLHQudGltZXN0YW1wPWUudGltZXN0YW1wLHIucHVzaCh0KX0pKSxlKHIpfSkpfXAuZGF0YWNoYW5uZWw9ZnVuY3Rpb24oZSl7XCJkYXRhY2hhbm5lbFwiPT09ZS50eXBlJiYobC5kYXRhY2hhbm5lbD17c3RhdGU6ZS5zdGF0ZX0pfSxwLmdvb2dDZXJ0aWZpY2F0ZT1mdW5jdGlvbihlKXtcImdvb2dDZXJ0aWZpY2F0ZVwiPT1lLnR5cGUmJihsLmVuY3J5cHRpb249ZS5nb29nRmluZ2VycHJpbnRBbGdvcml0aG0pLFwiY2VydGlmaWNhdGVcIj09ZS50eXBlJiYobC5lbmNyeXB0aW9uPWUuZmluZ2VycHJpbnRBbGdvcml0aG0pfSxwLmNoZWNrQXVkaW9UcmFja3M9ZnVuY3Rpb24oZSl7aWYoXCJzc3JjXCI9PT1lLnR5cGUmJlwiYXVkaW9cIj09PWUubWVkaWFUeXBlKXt2YXIgdD1lLnNzcmMscj1lLmlkLnNwbGl0KFwiX1wiKS5wb3AoKTtpZighMD09PWUuaXNSZW1vdGUmJihyPVwicmVjdlwiKSwhMT09PWUuaXNSZW1vdGUmJihyPVwic2VuZFwiKSxyKXstMT09PWwuYXVkaW8uc3NyYy5pbmRleE9mKHQpJiZsLmF1ZGlvLnNzcmMucHVzaCh0KSxsLmF1ZGlvW3RdfHwobC5hdWRpb1t0XT17fSxsLmF1ZGlvW3RdW3JdPXt9LGwuYXVkaW9bdF1bcl0uY29kZWNzPVtdLGwuYXVkaW9bdF1bcl0udHJhY2tzPVtdKSxlLmdvb2dDb2RlY05hbWUmJlwiXCIhPT1lLmdvb2dDb2RlY05hbWUmJi0xPT09bC5hdWRpb1t0XVtyXS5jb2RlY3MuaW5kZXhPZihlLmdvb2dDb2RlY05hbWUpJiZsLmF1ZGlvW3RdW3JdLmNvZGVjcy5wdXNoKGUuZ29vZ0NvZGVjTmFtZSksbC5pbnRlcm5hbC5hdWRpb1t0XXx8KGwuaW50ZXJuYWwuYXVkaW9bdF09e30pLGwuaW50ZXJuYWwuYXVkaW9bdF1bcl18fChsLmludGVybmFsLmF1ZGlvW3RdW3JdPXt9KTt2YXIgbj0wLGE9MDtcInNlbmRcIj09PXImJnZvaWQgMCE9PWUuYnl0ZXNTZW50JiYobC5pbnRlcm5hbC5hdWRpb1t0XVtyXS5wcmV2Qnl0ZXNTZW50fHwobC5pbnRlcm5hbC5hdWRpb1t0XVtyXS5wcmV2Qnl0ZXNTZW50PTApLG49ZS5ieXRlc1NlbnQtbC5pbnRlcm5hbC5hdWRpb1t0XVtyXS5wcmV2Qnl0ZXNTZW50LGwuaW50ZXJuYWwuYXVkaW9bdF1bcl0ucHJldkJ5dGVzU2VudD1lLmJ5dGVzU2VudCxhPTgqbi8xMDI0LGwuYXVkaW9bdF1bcl0uYXZhaWxhYmxlQmFuZHdpZHRoPXBhcnNlSW50KGEsMTApLGwuYXVkaW9bdF0udXBTcGVlZEtCUFM9cGFyc2VJbnQoYSwxMCkpLFwicmVjdlwiPT09ciYmdm9pZCAwIT09ZS5ieXRlc1JlY2VpdmVkJiYobC5pbnRlcm5hbC5hdWRpb1t0XVtyXS5wcmV2Qnl0ZXNSZWNlaXZlZHx8KGwuaW50ZXJuYWwuYXVkaW9bdF1bcl0ucHJldkJ5dGVzUmVjZWl2ZWQ9MCksbj1lLmJ5dGVzUmVjZWl2ZWQtbC5pbnRlcm5hbC5hdWRpb1t0XVtyXS5wcmV2Qnl0ZXNSZWNlaXZlZCxsLmludGVybmFsLmF1ZGlvW3RdW3JdLnByZXZCeXRlc1JlY2VpdmVkPWUuYnl0ZXNSZWNlaXZlZCxhPTgqbi8xMDI0LGwuYXVkaW9bdF0uZG93blNwZWVkS0JQUz1wYXJzZUludChhLDEwKSksZS5nb29nVHJhY2tJZCYmLTE9PT1sLmF1ZGlvW3RdW3JdLnRyYWNrcy5pbmRleE9mKGUuZ29vZ1RyYWNrSWQpJiZsLmF1ZGlvW3RdW3JdLnRyYWNrcy5wdXNoKGUuZ29vZ1RyYWNrSWQpLHZvaWQgMCE9PWUuZ29vZ0N1cnJlbnREZWxheU1zJiYobC5pbnRlcm5hbC5hdWRpb1t0XS5nb29nQ3VycmVudERlbGF5TXM9ZS5nb29nQ3VycmVudERlbGF5TXMsbC5hdWRpb1t0XS5sYXRlbmN5PXBhcnNlSW50KGUuZ29vZ0N1cnJlbnREZWxheU1zLDEwKSxsLmF1ZGlvW3RdLmxhdGVuY3k8MCYmKGwuYXVkaW9bdF0ubGF0ZW5jeT0wKSk7dmFyIGk9MDtpZihcInJlY3ZcIj09PXImJnZvaWQgMCE9PWUucGFja2V0c1JlY2VpdmVkJiYobC5pbnRlcm5hbC5hdWRpb1t0XS5wcmV2UGFja2V0c1JlY2VpdmVkfHwobC5pbnRlcm5hbC5hdWRpb1t0XS5wcmV2UGFja2V0c1JlY2VpdmVkPTApLGk9ZS5wYWNrZXRzUmVjZWl2ZWQtbC5pbnRlcm5hbC5hdWRpb1t0XS5wcmV2UGFja2V0c1JlY2VpdmVkLGwuaW50ZXJuYWwuYXVkaW9bdF0ucHJldlBhY2tldHNSZWNlaXZlZD1lLnBhY2tldHNSZWNlaXZlZCxsLmF1ZGlvW3RdLnBhY2tldHNSZWNlaXZlZD1wYXJzZUludChpLDEwKSxsLmF1ZGlvW3RdLnBhY2tldHNSZWNlaXZlZDwwJiYobC5hdWRpb1t0XS5wYWNrZXRzUmVjZWl2ZWQ9MCkpLFwic2VuZFwiPT09ciYmdm9pZCAwIT09ZS5wYWNrZXRzU2VudCYmKGwuaW50ZXJuYWwuYXVkaW9bdF0ucHJldlBhY2tldHNTZW50fHwobC5pbnRlcm5hbC5hdWRpb1t0XS5wcmV2UGFja2V0c1NlbnQ9MCksaT1lLnBhY2tldHNTZW50LWwuaW50ZXJuYWwuYXVkaW9bdF0ucHJldlBhY2tldHNTZW50LGwuaW50ZXJuYWwuYXVkaW9bdF0ucHJldlBhY2tldHNTZW50PWUucGFja2V0c1NlbnQsbC5hdWRpb1t0XS5wYWNrZXRzU2VudD1wYXJzZUludChpLDEwKSxsLmF1ZGlvW3RdLnBhY2tldHNTZW50PDAmJihsLmF1ZGlvW3RdLnBhY2tldHNTZW50PTApKSx2b2lkIDAhPT1lLnBhY2tldHNMb3N0KXtsLmludGVybmFsLmF1ZGlvW3RdLnByZXZQYWNrZXRzTG9zdHx8KGwuaW50ZXJuYWwuYXVkaW9bdF0ucHJldlBhY2tldHNMb3N0PTApO3ZhciBvPWUucGFja2V0c0xvc3QtbC5pbnRlcm5hbC5hdWRpb1t0XS5wcmV2UGFja2V0c0xvc3Q7bC5pbnRlcm5hbC5hdWRpb1t0XS5wcmV2UGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCxsLmF1ZGlvW3RdLnBhY2tldHNMb3N0PXBhcnNlSW50KG8sMTApLGwuYXVkaW9bdF0ucGFja2V0c0xvc3Q8MCYmKGwuYXVkaW9bdF0ucGFja2V0c0xvc3Q9MCl9fX19LHAuY2hlY2tWaWRlb1RyYWNrcz1mdW5jdGlvbihlKXtpZihcInNzcmNcIj09PWUudHlwZSYmXCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGUpe3ZhciB0PWUuc3NyYyxyPWUuaWQuc3BsaXQoXCJfXCIpLnBvcCgpO2lmKCEwPT09ZS5pc1JlbW90ZSYmKHI9XCJyZWN2XCIpLCExPT09ZS5pc1JlbW90ZSYmKHI9XCJzZW5kXCIpLHIpey0xPT09bC52aWRlby5zc3JjLmluZGV4T2YodCkmJmwudmlkZW8uc3NyYy5wdXNoKHQpLGwudmlkZW9bdF18fChsLnZpZGVvW3RdPXt9LGwudmlkZW9bdF1bcl09e30sbC52aWRlb1t0XVtyXS5jb2RlY3M9W10sbC52aWRlb1t0XVtyXS50cmFja3M9W10sbC52aWRlb1t0XVtyXS5yZXNvbHV0aW9ucz17fSksLTE9PT1sLnZpZGVvW3RdW3JdLmNvZGVjcy5pbmRleE9mKGUuZ29vZ0NvZGVjTmFtZXx8XCJWUDhcIikmJmwudmlkZW9bdF1bcl0uY29kZWNzLnB1c2goZS5nb29nQ29kZWNOYW1lfHxcIlZQOFwiKSxsLmludGVybmFsLnZpZGVvW3RdfHwobC5pbnRlcm5hbC52aWRlb1t0XT17fSxsLmludGVybmFsLnZpZGVvW3RdW3JdPXt9KSxsLmludGVybmFsLnZpZGVvW3RdW3JdfHwobC5pbnRlcm5hbC52aWRlb1t0XVtyXT17fSk7dmFyIG49MCxhPTA7XCJzZW5kXCI9PT1yJiZ2b2lkIDAhPT1lLmJ5dGVzU2VudCYmKGwuaW50ZXJuYWwudmlkZW9bdF1bcl0ucHJldkJ5dGVzU2VudHx8KGwuaW50ZXJuYWwudmlkZW9bdF1bcl0ucHJldkJ5dGVzU2VudD0wKSxuPWUuYnl0ZXNTZW50LWwuaW50ZXJuYWwudmlkZW9bdF1bcl0ucHJldkJ5dGVzU2VudCxsLmludGVybmFsLnZpZGVvW3RdW3JdLnByZXZCeXRlc1NlbnQ9ZS5ieXRlc1NlbnQsYT04Km4vMTAyNCxsLnZpZGVvW3RdW3JdLmF2YWlsYWJsZUJhbmR3aWR0aD1wYXJzZUludChhLDEwKSxsLnZpZGVvW3RdLnVwU3BlZWRLQlBTPXBhcnNlSW50KGEsMTApKSxcInJlY3ZcIj09PXImJnZvaWQgMCE9PWUuYnl0ZXNSZWNlaXZlZCYmKGwuaW50ZXJuYWwudmlkZW9bdF1bcl0ucHJldkJ5dGVzUmVjZWl2ZWR8fChsLmludGVybmFsLnZpZGVvW3RdW3JdLnByZXZCeXRlc1JlY2VpdmVkPTApLG49ZS5ieXRlc1JlY2VpdmVkLWwuaW50ZXJuYWwudmlkZW9bdF1bcl0ucHJldkJ5dGVzUmVjZWl2ZWQsbC5pbnRlcm5hbC52aWRlb1t0XVtyXS5wcmV2Qnl0ZXNSZWNlaXZlZD1lLmJ5dGVzUmVjZWl2ZWQsYT04Km4vMTAyNCxsLnZpZGVvW3RdLmRvd25TcGVlZEtCUFM9cGFyc2VJbnQoYSwxMCkpLGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQmJmUuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCYmKGwudmlkZW9bdF1bcl0ucmVzb2x1dGlvbnMud2lkdGg9ZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkLGwudmlkZW9bdF1bcl0ucmVzb2x1dGlvbnMuaGVpZ2h0PWUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCYmZS5nb29nRnJhbWVXaWR0aFNlbnQmJihsLnZpZGVvW3RdW3JdLnJlc29sdXRpb25zLndpZHRoPWUuZ29vZ0ZyYW1lV2lkdGhTZW50LGwudmlkZW9bdF1bcl0ucmVzb2x1dGlvbnMuaGVpZ2h0PWUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCksZS5nb29nVHJhY2tJZCYmLTE9PT1sLnZpZGVvW3RdW3JdLnRyYWNrcy5pbmRleE9mKGUuZ29vZ1RyYWNrSWQpJiZsLnZpZGVvW3RdW3JdLnRyYWNrcy5wdXNoKGUuZ29vZ1RyYWNrSWQpLHZvaWQgMCE9PWUuZ29vZ0N1cnJlbnREZWxheU1zJiYobC5pbnRlcm5hbC52aWRlb1t0XS5nb29nQ3VycmVudERlbGF5TXM9ZS5nb29nQ3VycmVudERlbGF5TXMsbC52aWRlb1t0XS5sYXRlbmN5PXBhcnNlSW50KGUuZ29vZ0N1cnJlbnREZWxheU1zLDEwKSxsLnZpZGVvW3RdLmxhdGVuY3k8MCYmKGwudmlkZW9bdF0ubGF0ZW5jeT0wKSk7dmFyIGk9MDtpZihcInJlY3ZcIj09PXImJnZvaWQgMCE9PWUucGFja2V0c1JlY2VpdmVkJiYobC5pbnRlcm5hbC52aWRlb1t0XS5wcmV2UGFja2V0c1JlY2VpdmVkfHwobC5pbnRlcm5hbC52aWRlb1t0XS5wcmV2UGFja2V0c1JlY2VpdmVkPTApLGk9ZS5wYWNrZXRzUmVjZWl2ZWQtbC5pbnRlcm5hbC52aWRlb1t0XS5wcmV2UGFja2V0c1JlY2VpdmVkLGwuaW50ZXJuYWwudmlkZW9bdF0ucHJldlBhY2tldHNSZWNlaXZlZD1lLnBhY2tldHNSZWNlaXZlZCxsLnZpZGVvW3RdLnBhY2tldHNSZWNlaXZlZD1wYXJzZUludChpLDEwKSxsLnZpZGVvW3RdLnBhY2tldHNSZWNlaXZlZDwwJiYobC52aWRlb1t0XS5wYWNrZXRzUmVjZWl2ZWQ9MCkpLFwic2VuZFwiPT09ciYmdm9pZCAwIT09ZS5wYWNrZXRzU2VudCYmKGwuaW50ZXJuYWwudmlkZW9bdF0ucHJldlBhY2tldHNTZW50fHwobC5pbnRlcm5hbC52aWRlb1t0XS5wcmV2UGFja2V0c1NlbnQ9MCksaT1lLnBhY2tldHNTZW50LWwuaW50ZXJuYWwudmlkZW9bdF0ucHJldlBhY2tldHNTZW50LGwuaW50ZXJuYWwudmlkZW9bdF0ucHJldlBhY2tldHNTZW50PWUucGFja2V0c1NlbnQsbC52aWRlb1t0XS5wYWNrZXRzU2VudD1wYXJzZUludChpLDEwKSxsLnZpZGVvW3RdLnBhY2tldHNTZW50PDAmJihsLnZpZGVvW3RdLnBhY2tldHNTZW50PTApKSx2b2lkIDAhPT1lLnBhY2tldHNMb3N0KXtsLmludGVybmFsLnZpZGVvW3RdLnByZXZQYWNrZXRzTG9zdHx8KGwuaW50ZXJuYWwudmlkZW9bdF0ucHJldlBhY2tldHNMb3N0PTApO3ZhciBvPWUucGFja2V0c0xvc3QtbC5pbnRlcm5hbC52aWRlb1t0XS5wcmV2UGFja2V0c0xvc3Q7bC5pbnRlcm5hbC52aWRlb1t0XS5wcmV2UGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCxsLnZpZGVvW3RdLnBhY2tldHNMb3N0PXBhcnNlSW50KG8sMTApLGwudmlkZW9bdF0ucGFja2V0c0xvc3Q8MCYmKGwudmlkZW9bdF0ucGFja2V0c0xvc3Q9MCl9fX19LHAuYndlZm9ydmlkZW89ZnVuY3Rpb24oZSl7XCJWaWRlb0J3ZVwiPT09ZS50eXBlJiYobC5iYW5kd2lkdGguYXZhaWxhYmxlU2VuZEJhbmR3aWR0aD1lLmdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoLGwuYmFuZHdpZHRoLmdvb2dBY3R1YWxFbmNCaXRyYXRlPWUuZ29vZ0FjdHVhbEVuY0JpdHJhdGUsbC5iYW5kd2lkdGguZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGg9ZS5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aCxsLmJhbmR3aWR0aC5nb29nQXZhaWxhYmxlUmVjZWl2ZUJhbmR3aWR0aD1lLmdvb2dBdmFpbGFibGVSZWNlaXZlQmFuZHdpZHRoLGwuYmFuZHdpZHRoLmdvb2dSZXRyYW5zbWl0Qml0cmF0ZT1lLmdvb2dSZXRyYW5zbWl0Qml0cmF0ZSxsLmJhbmR3aWR0aC5nb29nVGFyZ2V0RW5jQml0cmF0ZT1lLmdvb2dUYXJnZXRFbmNCaXRyYXRlLGwuYmFuZHdpZHRoLmdvb2dCdWNrZXREZWxheT1lLmdvb2dCdWNrZXREZWxheSxsLmJhbmR3aWR0aC5nb29nVHJhbnNtaXRCaXRyYXRlPWUuZ29vZ1RyYW5zbWl0Qml0cmF0ZSl9LHAuY2FuZGlkYXRlUGFpcj1mdW5jdGlvbihlKXtpZihcImdvb2dDYW5kaWRhdGVQYWlyXCI9PT1lLnR5cGV8fFwiY2FuZGlkYXRlLXBhaXJcIj09PWUudHlwZXx8XCJsb2NhbC1jYW5kaWRhdGVcIj09PWUudHlwZXx8XCJyZW1vdGUtY2FuZGlkYXRlXCI9PT1lLnR5cGUpaWYoZil7aWYoXCJjYW5kaWRhdGUtcGFpclwiIT09ZS50eXBlfHwhMCE9PWUubm9taW5hdGVkfHxcInN1Y2NlZWRlZFwiIT09ZS5zdGF0ZSlyZXR1cm47dmFyIHQ9dm9pZCAwIT09ZS5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGU/XCJzZW5kXCI6XCJyZWN2XCI7aWYobC5pbnRlcm5hbC5hY3RpdmVDb25uZWN0aW9uLnJlbW90ZUNhbmRpZGF0ZT1lLnJlbW90ZUNhbmRpZGF0ZUlkLGwuaW50ZXJuYWwuYWN0aXZlQ29ubmVjdGlvbi5sb2NhbENhbmRpZGF0ZT1lLmxvY2FsQ2FuZGlkYXRlSWQsbC5iYW5kd2lkdGgucnR0PTFlMyplLmN1cnJlbnRSb3VuZFRyaXBUaW1lLFwic2VuZFwiPT09dCYmdm9pZCAwIT09ZS5ieXRlc1NlbnQpe3ZhciByPTFlMyooZS5ieXRlc1NlbnQtbC5iYW5kd2lkdGguaGVscGVyLnByZXZCeXRlc1NlbnQpKjgvYztsLmJhbmR3aWR0aC5oZWxwZXIucHJldkJ5dGVzU2VudD1lLmJ5dGVzU2VudCxyPXI+MD9yLzEwMjQ6MCxsLmJhbmR3aWR0aC51cFNwZWVkPXBhcnNlSW50KHIsMTApfWlmKFwicmVjdlwiPT09dCYmdm9pZCAwIT09ZS5ieXRlc1JlY2VpdmVkKXt2YXIgbj0xZTMqKGUuYnl0ZXNSZWNlaXZlZC1sLmJhbmR3aWR0aC5oZWxwZXIucHJldkJ5dGVzUmVjZWl2ZWQpKjgvYztsLmJhbmR3aWR0aC5oZWxwZXIucHJldkJ5dGVzUmVjZWl2ZWQ9ZS5ieXRlc1JlY2VpdmVkLG49bj4wP24vMTAyNDowLGwuYmFuZHdpZHRoLmRvd25TcGVlZD1wYXJzZUludChuLDEwKX1lLmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZSxlLmF2YWlsYWJsZUluY29taW5nQml0cmF0ZX1lbHNle2lmKFwidHJ1ZVwiPT1lLmdvb2dBY3RpdmVDb25uZWN0aW9uKXtsLmludGVybmFsLmFjdGl2ZUNvbm5lY3Rpb24ucmVtb3RlQ2FuZGlkYXRlPWUucmVtb3RlQ2FuZGlkYXRlSWQsbC5pbnRlcm5hbC5hY3RpdmVDb25uZWN0aW9uLmxvY2FsQ2FuZGlkYXRlPWUubG9jYWxDYW5kaWRhdGVJZCxsLmNvbm5lY3Rpb25UeXBlLnRyYW5zcG9ydD1lLmdvb2dUcmFuc3BvcnRUeXBlLGwuYmFuZHdpZHRoLnJ0dD1lLmdvb2dSdHQ7dmFyIGE9MWUzKihlLmJ5dGVzUmVjZWl2ZWQtbC5iYW5kd2lkdGguaGVscGVyLnByZXZCeXRlc1JlY2VpdmVkKSo4L2MsaT0xZTMqKGUuYnl0ZXNTZW50LWwuYmFuZHdpZHRoLmhlbHBlci5wcmV2Qnl0ZXNTZW50KSo4L2M7bC5iYW5kd2lkdGguaGVscGVyLnByZXZCeXRlc1JlY2VpdmVkPWUuYnl0ZXNSZWNlaXZlZCxsLmJhbmR3aWR0aC5oZWxwZXIucHJldkJ5dGVzU2VudD1lLmJ5dGVzU2VudCxpPWk+MD9pLzEwMjQ6MCxhPWE+MD9hLzEwMjQ6MCxsLmJhbmR3aWR0aC51cFNwZWVkPXBhcnNlSW50KGksMTApLGwuYmFuZHdpZHRoLmRvd25TcGVlZD1wYXJzZUludChhLDEwKX1pZihcImNhbmRpZGF0ZS1wYWlyXCI9PT1lLnR5cGUmJiEwPT09ZS5zZWxlY3RlZCYmITA9PT1lLm5vbWluYXRlZCYmXCJzdWNjZWVkZWRcIj09PWUuc3RhdGUpbC5pbnRlcm5hbC5jYW5kaWRhdGVzW2UucmVtb3RlQ2FuZGlkYXRlSWRdLGwuaW50ZXJuYWwuY2FuZGlkYXRlc1tlLnJlbW90ZUNhbmRpZGF0ZUlkXX19LHAubG9jYWxjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7aWYoKFwibG9jYWxjYW5kaWRhdGVcIj09PWUudHlwZXx8XCJsb2NhbC1jYW5kaWRhdGVcIj09PWUudHlwZSkmJmUuaWQpe3ZhciB0PXtjYW5kaWRhdGVUeXBlOmUuY2FuZGlkYXRlVHlwZSxpcEFkZHJlc3M6ZS5pcEFkZHJlc3MscG9ydE51bWJlcjplLnBvcnROdW1iZXIsbmV0d29ya1R5cGU6ZS5uZXR3b3JrVHlwZSxwcmlvcml0eTplLnByaW9yaXR5LHRyYW5zcG9ydDplLnRyYW5zcG9ydCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAsaWQ6ZS5pZCx0eXBlOmUudHlwZX07bC5pbnRlcm5hbC5jYW5kaWRhdGVzLnB1c2godCl9fSxwLnJlbW90ZWNhbmRpZGF0ZT1mdW5jdGlvbihlKXtpZigoXCJyZW1vdGVjYW5kaWRhdGVcIj09PWUudHlwZXx8XCJyZW1vdGUtY2FuZGlkYXRlXCI9PT1lLnR5cGUpJiZlLmlkKXt2YXIgdD17Y2FuZGlkYXRlVHlwZTplLmNhbmRpZGF0ZVR5cGUsaXBBZGRyZXNzOmUuaXBBZGRyZXNzLHBvcnROdW1iZXI6ZS5wb3J0TnVtYmVyLG5ldHdvcmtUeXBlOmUubmV0d29ya1R5cGUscHJpb3JpdHk6ZS5wcmlvcml0eSx0cmFuc3BvcnQ6ZS50cmFuc3BvcnQsdGltZXN0YW1wOmUudGltZXN0YW1wLGlkOmUuaWQsdHlwZTplLnR5cGV9O2wuaW50ZXJuYWwuY2FuZGlkYXRlcy5wdXNoKHQpfX0scC5pbmJvdW5kcnRwPWZ1bmN0aW9uKGUpe2lmKGYmJlwiaW5ib3VuZC1ydHBcIj09PWUudHlwZSl7dmFyIHQ9ZS5tZWRpYVR5cGV8fFwiYXVkaW9cIjswO3ZhciByPWUuc3NyYztpZihsW3RdW3JdfHwobFt0XVtyXT17fSxsW3RdW3JdLnJlY3Y9e30pLGwuaW50ZXJuYWxbdF1bcl18fChsLmludGVybmFsW3RdW3JdPXt9LGwuaW50ZXJuYWxbdF1bcl0ucmVjdj17fSksbC5pbnRlcm5hbFt0XVtyXS5yZWN2fHwobC5pbnRlcm5hbFt0XVtyXS5yZWN2PXt9KSx2b2lkIDAhPT1lLmJ5dGVzUmVjZWl2ZWQpe3ZhciBuO2wuaW50ZXJuYWxbdF1bcl0ucmVjdi5wcmV2Qnl0ZXNSZWNlaXZlZHx8KGwuaW50ZXJuYWxbdF1bcl0ucmVjdi5wcmV2Qnl0ZXNSZWNlaXZlZD0wKTt2YXIgYT1lLmJ5dGVzUmVjZWl2ZWQtbC5pbnRlcm5hbFt0XVtyXS5yZWN2LnByZXZCeXRlc1JlY2VpdmVkO2wuaW50ZXJuYWxbdF1bcl0ucmVjdi5wcmV2Qnl0ZXNSZWNlaXZlZD1lLmJ5dGVzUmVjZWl2ZWQsbj04KmEvMTAyNCxsW3RdW3JdLmRvd25TcGVlZEtCUFM9cGFyc2VJbnQobiwxMCl9dm9pZCAwIT09ZS5qaXR0ZXImJihsLmludGVybmFsW3RdW3JdLmppdHRlcj1lLmppdHRlcixsW3RdW3JdLmxhdGVuY3k9cGFyc2VJbnQoZS5qaXR0ZXIsMTApLGxbdF1bcl0ubGF0ZW5jeTwwJiYobFt0XVtyXS5sYXRlbmN5PTApKTt2YXIgaT0wO2lmKHZvaWQgMCE9PWUucGFja2V0c1JlY2VpdmVkJiYobC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c1JlY2VpdmVkfHwobC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c1JlY2VpdmVkPTApLGk9ZS5wYWNrZXRzUmVjZWl2ZWQtbC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c1JlY2VpdmVkLGwuaW50ZXJuYWxbdF1bcl0ucHJldlBhY2tldHNSZWNlaXZlZD1lLnBhY2tldHNSZWNlaXZlZCxsW3RdW3JdLnBhY2tldHNSZWNlaXZlZD1wYXJzZUludChpLDEwKSxsW3RdW3JdLnBhY2tldHNSZWNlaXZlZDwwJiYobFt0XVtyXS5wYWNrZXRzUmVjZWl2ZWQ9MCkpLHZvaWQgMCE9PWUucGFja2V0c0xvc3Qpe2wuaW50ZXJuYWxbdF1bcl0ucHJldlBhY2tldHNMb3N0fHwobC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c0xvc3Q9MCk7dmFyIG89ZS5wYWNrZXRzTG9zdC1sLmludGVybmFsW3RdW3JdLnByZXZQYWNrZXRzTG9zdDtsLmludGVybmFsW3RdW3JdLnByZXZQYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LGxbdF1bcl0ucGFja2V0c0xvc3Q9cGFyc2VJbnQobywxMCksbFt0XVtyXS5wYWNrZXRzTG9zdDwwJiYobFt0XVtyXS5wYWNrZXRzTG9zdD0wKX19fSxwLm91dGJvdW5kcnRwPWZ1bmN0aW9uKGUpe2lmKGYmJlwib3V0Ym91bmQtcnRwXCI9PT1lLnR5cGUpe3ZhciB0PWUubWVkaWFUeXBlfHxcImF1ZGlvXCI7MDt2YXIgcj1lLnNzcmM7aWYobFt0XVtyXXx8KGxbdF1bcl09e30sbFt0XVtyXS5zZW5kPXt9KSxsLmludGVybmFsW3RdW3JdfHwobC5pbnRlcm5hbFt0XVtyXT17fSxsLmludGVybmFsW3RdW3JdLnNlbmQ9e30pLGwuaW50ZXJuYWxbdF1bcl0uc2VuZHx8KGwuaW50ZXJuYWxbdF1bcl0uc2VuZD17fSksdm9pZCAwIT09ZS5ieXRlc1NlbnQpe3ZhciBuO2wuaW50ZXJuYWxbdF1bcl0uc2VuZC5wcmV2Qnl0ZXNTZW50fHwobC5pbnRlcm5hbFt0XVtyXS5zZW5kLnByZXZCeXRlc1NlbnQ9MCk7dmFyIGE9ZS5ieXRlc1NlbnQtbC5pbnRlcm5hbFt0XVtyXS5zZW5kLnByZXZCeXRlc1NlbnQ7bC5pbnRlcm5hbFt0XVtyXS5zZW5kLnByZXZCeXRlc1NlbnQ9ZS5ieXRlc1NlbnQsbj04KmEvMTAyNCxsW3RdW3JdLnNlbmQuYXZhaWxhYmxlQmFuZHdpZHRoPXBhcnNlSW50KG4sMTApLGxbdF1bcl0udXBTcGVlZEtCUFM9cGFyc2VJbnQobiwxMCl9dmFyIGk9MDtpZih2b2lkIDAhPT1lLnBhY2tldHNTZW50JiYobC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c1NlbnR8fChsLmludGVybmFsW3RdW3JdLnByZXZQYWNrZXRzU2VudD0wKSxpPWUucGFja2V0c1NlbnQtbC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c1NlbnQsbC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c1NlbnQ9ZS5wYWNrZXRzU2VudCxsW3RdW3JdLnBhY2tldHNTZW50PXBhcnNlSW50KGksMTApLGxbdF1bcl0ucGFja2V0c1NlbnQ8MCYmKGxbdF1bcl0ucGFja2V0c1NlbnQ9MCkpLHZvaWQgMCE9PWUucGFja2V0c0xvc3Qpe2wuaW50ZXJuYWxbdF1bcl0ucHJldlBhY2tldHNMb3N0fHwobC5pbnRlcm5hbFt0XVtyXS5wcmV2UGFja2V0c0xvc3Q9MCk7dmFyIG89ZS5wYWNrZXRzTG9zdC1sLmludGVybmFsW3RdW3JdLnByZXZQYWNrZXRzTG9zdDtsLmludGVybmFsW3RdW3JdLnByZXZQYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LGxbdF1bcl0ucGFja2V0c0xvc3Q9cGFyc2VJbnQobywxMCksbFt0XVtyXS5wYWNrZXRzTG9zdDwwJiYobFt0XVtyXS5wYWNrZXRzTG9zdD0wKX19fSxwLnRyYWNrPWZ1bmN0aW9uKGUpe2lmKGYmJlwidHJhY2tcIj09PWUudHlwZSl7dmFyIHQ9ITA9PT1lLnJlbW90ZVNvdXJjZT9cInNlbmRcIjpcInJlY3ZcIjtsLnJlc29sdXRpb25zfHwobC5yZXNvbHV0aW9ucz17fSxsLnJlc29sdXRpb25zW3RdPXt9KSxsLnJlc29sdXRpb25zW3RdfHwobC5yZXNvbHV0aW9uc1t0XT17fSksZS5mcmFtZVdpZHRoJiZlLmZyYW1lSGVpZ2h0JiYobC5yZXNvbHV0aW9uc1t0XS53aWR0aD1lLmZyYW1lV2lkdGgsbC5yZXNvbHV0aW9uc1t0XS5oZWlnaHQ9ZS5mcmFtZUhlaWdodCl9fTt2YXIgZz17YXVkaW86e3NlbmQ6W10scmVjdjpbXX0sdmlkZW86e3NlbmQ6W10scmVjdjpbXX19O3Auc3NyYz1mdW5jdGlvbihlKXtpZihlLmdvb2dDb2RlY05hbWUmJihcInZpZGVvXCI9PT1lLm1lZGlhVHlwZXx8XCJhdWRpb1wiPT09ZS5tZWRpYVR5cGUpJiZcInNzcmNcIj09PWUudHlwZSl7dmFyIHQ9ZS5pZC5zcGxpdChcIl9cIikucG9wKCk7LTE9PT1nW2UubWVkaWFUeXBlXVt0XS5pbmRleE9mKGUuc3NyYykmJmdbZS5tZWRpYVR5cGVdW3RdLnB1c2goZS5zc3JjKX19LHYoKX07ZS5leHBvcnRzPXUsdm9pZCAwPT09KGE9ZnVuY3Rpb24oKXtyZXR1cm4gdX0uYXBwbHkodCxbXSkpfHwoZS5leHBvcnRzPWEpfSkuY2FsbCh0aGlzLHIoMzcpKX1dKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR0dHdlYnNkay5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///307\n')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\nexports["default"] = void 0;\n\n__webpack_require__(27);\n\n__webpack_require__(33);\n\nvar _stringify = _interopRequireDefault(__webpack_require__(45));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _whiteBoards = _interopRequireDefault(__webpack_require__(376));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _base = _interopRequireDefault(__webpack_require__(132));\n\nvar WhiteBoard = function WhiteBoard() {\n  var _this = this;\n\n  (0, _classCallCheck2["default"])(this, WhiteBoard);\n  (0, _defineProperty2["default"])(this, "room", null);\n  (0, _defineProperty2["default"])(this, "joinWhiteBoard", function (_ref) {\n    var appKey = _ref.appKey,\n        uccId = _ref.uccId,\n        channelName = _ref.channelName,\n        callID = _ref.callID,\n        wbType = _ref.wbType,\n        isOwner = _ref.isOwner,\n        password = _ref.password,\n        onSuccess = _ref.onSuccess,\n        onFailure = _ref.onFailure;\n\n    if (!onSuccess || typeof onSuccess !== \'function\') {\n      if (onFailure) {\n        onFailure(\'onSuccess is required and onSuccess must be a function\');\n      } else {\n        throw new Error(\'onSuccess is required and onSuccess must be a function\');\n      }\n\n      return;\n    }\n\n    if (!appKey && _config["default"].config.appKey) {\n      appKey = _config["default"].config.appKey;\n    }\n\n    if (!uccId && _config["default"].config.uccId) {\n      uccId = _config["default"].config.uccId;\n    }\n\n    if (!appKey || !uccId || !channelName) {\n      if (onFailure) {\n        onFailure(\'appKey,uccId and channelName parameters are required\');\n      } else {\n        throw new Error(\'appKey,uccId and channelName parameters are required\');\n      }\n\n      return;\n    }\n\n    if (_config["default"].config.roleType) {\n      channelName = _config["default"].config.appCode + channelName;\n    }\n\n    if (!isOwner || isOwner != 1) {\n      isOwner = false;\n    } else {\n      isOwner = true;\n    }\n\n    wbType = wbType != undefined ? wbType : 1;\n    password = password ? password : \'\';\n    var metadata = {};\n\n    if (isOwner) {\n      metadata.width = document.body.clientWidth;\n      metadata.height = document.body.clientHeight;\n    }\n\n    metadata = _base["default"].base64Encode((0, _stringify["default"])(metadata));\n\n    _whiteBoards["default"].joinBoard(appKey, uccId, channelName, wbType, isOwner, password, metadata).then(function (res) {\n      if (res.code == 200) {\n        console.log(\'join whiteBoard success:\', res);\n        var serverUrl = _callID ? \'\' : res.serverUrl;\n        var results = res.serverUrl.split(\'&\');\n        var jsonData = {};\n        results.forEach(function (item, index) {\n          var items = item.split(\'=\');\n          jsonData[items[0]] = items[1];\n\n          if (_callID) {\n            if (items[0] === \'callID\') {\n              jsonData[items[0]] = _callID;\n            }\n\n            serverUrl = serverUrl + items[0] + \'=\' + jsonData[items[0]] + (index === results.length - 1 ? \'\' : \'&\');\n          }\n        });\n\n        var _metadata = (0, _stringify["default"])({});\n\n        if (res.metadata) {\n          _metadata = _base["default"].base64decode(res.metadata);\n        }\n\n        var url = _this._getWhiteBoardURL(appKey, uccId, serverUrl, channelName, password, isOwner, wbType, _metadata);\n\n        var _callID = jsonData.callID;\n        _this.room = {\n          appKey: appKey,\n          uccId: uccId,\n          channelName: channelName,\n          callID: _callID\n        };\n        onSuccess(url, _callID);\n      }\n    })["catch"](function (err) {\n      console.log(\'join whiteBoard failure:\', err);\n\n      if (onFailure) {\n        onFailure(err);\n      } else {\n        throw new Error(err);\n      }\n\n      return;\n    });\n  });\n  (0, _defineProperty2["default"])(this, "quitWhiteBoard", function (_ref2) {\n    var appKey = _ref2.appKey,\n        uccId = _ref2.uccId,\n        channelName = _ref2.channelName,\n        callID = _ref2.callID,\n        onSuccess = _ref2.onSuccess,\n        onFailure = _ref2.onFailure;\n    console.log(_this.room);\n    console.log(_config["default"].config);\n\n    if (!appKey && (_this.room && _this.room.appKey || _config["default"].config.appKey)) {\n      appKey = _this.room && _this.room.appKey ? _this.room.appKey : _config["default"].config.appKey;\n    }\n\n    if (!uccId && (_this.room && _this.room.uccId || _config["default"].config.uccId)) {\n      uccId = _this.room && _this.room.uccId ? _this.room.uccId : _config["default"].config.uccId;\n    }\n\n    if (!channelName && _this.room && _this.room.channelName) {\n      channelName = _this.room.channelName;\n    }\n\n    if (!callID && _this.room && _this.room.callID) {\n      callID = _this.room.callID;\n    }\n\n    if (!appKey || !uccId || !channelName || !callID) {\n      var str = !appKey ? \'appKey\' : !uccId ? \'uccId\' : !channelName ? \'channelName\' : callID ? \'callID\' : \'\';\n\n      if (onFailure) {\n        onFailure(str + \' parameter is null\');\n      } else {\n        throw new Error(str + \' parameter is null\');\n      }\n\n      return;\n    }\n\n    _whiteBoards["default"].quitBoard(appKey, uccId, callID).then(function (code) {\n      if (onSuccess) {\n        onSuccess(code);\n      }\n    })["catch"](function (err) {\n      console.log(\'quit whiteBoard failure:\', err);\n\n      if (onFailure) {\n        onFailure(err);\n      } else {\n        throw new Error(err);\n      }\n    });\n  });\n  (0, _defineProperty2["default"])(this, "_getWhiteBoardURL", function (appKey, uccId, serverUrl, channelName, password, isOwner, wbType, metadata) {\n    var whiteBoardUrl = _config["default"].config.whiteBoard.staticUrl;\n    var fileUpload = _config["default"].config.whiteBoard.baseUrl + \'/uploadFile\';\n    var params = serverUrl + \'&fileUpload=\' + fileUpload + \'&uccId=\' + uccId + \'&appKey=\' + appKey + \'&password=\' + password + \'&isOwner=\' + isOwner + \'&wbType=\' + wbType + \'&metadata=\' + metadata;\n    var url = whiteBoardUrl + \'?\' + params;\n    return url;\n  });\n  return {\n    joinWhiteBoard: this.joinWhiteBoard,\n    quitWhiteBoard: this.quitWhiteBoard\n  };\n};\n\nvar _default = new WhiteBoard();\n\nexports["default"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL2FwaS93aGl0ZUJvYXJkLmpzP2QxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdoaXRlQm9hcmRzIGZyb20gXCIuLi9zZXJ2ZXIvd2hpdGVCb2FyZHNcIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uL2NvbmZpZ1wiO1xuaW1wb3J0IEJhc2U2NCBmcm9tICcuLi91dGlsL2Jhc2U2NCc7XG5cbmNsYXNzIFdoaXRlQm9hcmQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBqb2luV2hpdGVCb2FyZDp0aGlzLmpvaW5XaGl0ZUJvYXJkLFxuICAgICAgICAgICAgcXVpdFdoaXRlQm9hcmQ6dGhpcy5xdWl0V2hpdGVCb2FyZFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcm9vbSA9IG51bGw7XG4gICAgLyoqXG4gICAgICog5Yib5bu655m95p2/5oi/6Ze0XG4gICAgICogQHBhcmFtIGFwcEtleSDpnZ7lv4Xloavpobko5aaC5p6c6LCD55So6Z+z6KeG6aKR55m75b2V5o6l5Y+j77yMYXBwS2V55LiN5Lyg77yM5Y2V54us5Y+q6LCD55So55m95p2/5pe26ZyA6KaB5LygKVxuICAgICAqIEBwYXJhbSB1Y2NJZCDpnZ7lv4Xloaso5aaC5p6c6LCD55So6Z+z6KeG6aKR55m75b2V5o6l5Y+j77yMdWNjSWTkuI3kvKDvvIzljZXni6zlj6rosIPnlKjnmb3mnb/ml7bpnIDopoHkvKApXG4gICAgICogQHBhcmFtIGNoYW5uZWxOYW1lIOW/heWhq+mhuSzmiL/pl7Tlj7dcbiAgICAgKiBAcGFyYW0gY2FsbElEIOmdnuW/heWhq++8jOS4jeWhq+aXtum7mOiupOWIm+W7uuaWsOeahGNhbGxJRO+8jOS8oOWFpeaXtuS9v+eUqOS8oOWFpeeahOWAvFxuICAgICAqIEBwYXJhbSB3YlR5cGUg6Z2e5b+F5aGr77yMMS3kuqTkupLnlLvmnb8sMi3ku4XmiL/kuLvmk43kvZwg6buY6K6kMVxuICAgICAqIEBwYXJhbSBpc093bmVyIOmdnuW/heWhq++8jOaYr+WQpuaYr+aIv+S4u1xuICAgICAqIEBwYXJhbSBwYXNzd29yZCDpnZ7lv4XloavvvIzpu5jorqR1bmRlZmluZWRcbiAgICAgKiBAcGFyYW0gb25TdWNjZXNzIOW/heWhq+OAgui/lOWbnueZveadv+eahOiuv+mXruWcsOWdgOWSjGNhbGxJRFxuICAgICAqIEBwYXJhbSBvbkZhaWx1cmUg6Z2e5b+F5aGrXG4gICAgICovXG4gICAgam9pbldoaXRlQm9hcmQgPSAoe2FwcEtleSx1Y2NJZCxjaGFubmVsTmFtZSxjYWxsSUQsd2JUeXBlLGlzT3duZXIscGFzc3dvcmQsb25TdWNjZXNzLG9uRmFpbHVyZX0pID0+IHtcbiAgICAgICAgaWYoIW9uU3VjY2VzcyB8fCB0eXBlb2Ygb25TdWNjZXNzICE9PSAnZnVuY3Rpb24nKXtcbiAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7b25GYWlsdXJlKCdvblN1Y2Nlc3MgaXMgcmVxdWlyZWQgYW5kIG9uU3VjY2VzcyBtdXN0IGJlIGEgZnVuY3Rpb24nKX1cbiAgICAgICAgICAgIGVsc2Uge3Rocm93IG5ldyBFcnJvcignb25TdWNjZXNzIGlzIHJlcXVpcmVkIGFuZCBvblN1Y2Nlc3MgbXVzdCBiZSBhIGZ1bmN0aW9uJyl9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWFwcEtleSAmJiBDb25maWcuY29uZmlnLmFwcEtleSl7XG4gICAgICAgICAgICBhcHBLZXkgPSBDb25maWcuY29uZmlnLmFwcEtleTtcbiAgICAgICAgfVxuICAgICAgICBpZighdWNjSWQgJiYgQ29uZmlnLmNvbmZpZy51Y2NJZCl7XG4gICAgICAgICAgICB1Y2NJZCA9IENvbmZpZy5jb25maWcudWNjSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWFwcEtleSB8fCAhdWNjSWQgfHwgIWNoYW5uZWxOYW1lKXtcbiAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgb25GYWlsdXJlKCdhcHBLZXksdWNjSWQgYW5kIGNoYW5uZWxOYW1lIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FwcEtleSx1Y2NJZCBhbmQgY2hhbm5lbE5hbWUgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKENvbmZpZy5jb25maWcucm9sZVR5cGUpe1xuICAgICAgICAgICAgY2hhbm5lbE5hbWUgPSBDb25maWcuY29uZmlnLmFwcENvZGUrY2hhbm5lbE5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZighaXNPd25lciB8fCBpc093bmVyICE9IDEpe1xuICAgICAgICAgICAgaXNPd25lciA9IGZhbHNlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlzT3duZXIgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgd2JUeXBlID0gd2JUeXBlICE9IHVuZGVmaW5lZCA/IHdiVHlwZToxO1xuICAgICAgICBwYXNzd29yZCA9IHBhc3N3b3JkID8gcGFzc3dvcmQgOiAnJztcbiAgICAgICAgbGV0IG1ldGFkYXRhID0ge307XG4gICAgICAgIGlmKGlzT3duZXIpe1xuICAgICAgICAgICAgbWV0YWRhdGEud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgbWV0YWRhdGEuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgbWV0YWRhdGEgPSBCYXNlNjQuYmFzZTY0RW5jb2RlKEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSk7XG4gICAgICAgIFdoaXRlQm9hcmRzLmpvaW5Cb2FyZChhcHBLZXksdWNjSWQsY2hhbm5lbE5hbWUsd2JUeXBlLGlzT3duZXIscGFzc3dvcmQsbWV0YWRhdGEpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYocmVzLmNvZGUgPT0gMjAwKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnam9pbiB3aGl0ZUJvYXJkIHN1Y2Nlc3M6JyxyZXMpO1xuICAgICAgICAgICAgICAgIGxldCBzZXJ2ZXJVcmwgPSBjYWxsSUQ/Jyc6cmVzLnNlcnZlclVybDtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0cyA9IHJlcy5zZXJ2ZXJVcmwuc3BsaXQoJyYnKTtcbiAgICAgICAgICAgICAgICBsZXQganNvbkRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goKGl0ZW0saW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgICAgICBqc29uRGF0YVtpdGVtc1swXV0gPSBpdGVtc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FsbElEKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zWzBdID09PSAnY2FsbElEJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkRhdGFbaXRlbXNbMF1dID0gY2FsbElEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyVXJsID0gc2VydmVyVXJsK2l0ZW1zWzBdKyc9Jytqc29uRGF0YVtpdGVtc1swXV0rKGluZGV4ID09PSByZXN1bHRzLmxlbmd0aC0xPycnOicmJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgbWV0YWRhdGEgPSBKU09OLnN0cmluZ2lmeSh7fSk7XG4gICAgICAgICAgICAgICAgaWYocmVzLm1ldGFkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBCYXNlNjQuYmFzZTY0ZGVjb2RlKHJlcy5tZXRhZGF0YSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuX2dldFdoaXRlQm9hcmRVUkwoYXBwS2V5LHVjY0lkLHNlcnZlclVybCxjaGFubmVsTmFtZSxwYXNzd29yZCxpc093bmVyLHdiVHlwZSxtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgbGV0IGNhbGxJRCA9IGpzb25EYXRhLmNhbGxJRDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb20gPSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcEtleTphcHBLZXksXG4gICAgICAgICAgICAgICAgICAgIHVjY0lkOnVjY0lkLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTpjaGFubmVsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbElEOmNhbGxJRFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKHVybCxjYWxsSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnam9pbiB3aGl0ZUJvYXJkIGZhaWx1cmU6JyxlcnIpO1xuICAgICAgICAgICAgaWYob25GYWlsdXJlKXtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpgIDlh7rnmb3mnb/miL/pl7RcbiAgICAgKiBAcGFyYW0gYXBwS2V5IOmdnuW/heWhq+mhuSjlpoLmnpzosIPnlKjpn7Pop4bpopHnmbvlvZXmjqXlj6PvvIzkuI3kvKDvvIzkvKDnmoTor53ku6XkvKDnmoTkuLrlh4Y75Y2V54us5Y+q6LCD55So55m95p2/5pe26ZyA6KaB5LygLOS4jeS8oOm7mOiupOS9v+eUqOacgOi/keS4gOasoeiwg+eUqOWKoOWFpeaOpeWPo+eahOWAvClcbiAgICAgKiBAcGFyYW0gdWNjSWQg6Z2e5b+F5aGr6aG5KOWmguaenOiwg+eUqOmfs+inhumikeeZu+W9leaOpeWPo++8jOS4jeS8oO+8jOWNleeLrOWPquiwg+eUqOeZveadv+aXtumcgOimgeS8oClcbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5hbWUg6Z2e5b+F5aGr6aG5LOS4jeS8oOm7mOiupOacgOi/keS4gOasoeiwg+eUqOWKoOWFpeeahGNoYW5uZWxOYW1l5YC8XG4gICAgICogQHBhcmFtIGNhbGxJRCDpnZ7lv4Xloavpobks5LiN5Lyg6buY6K6k5pyA6L+R5LiA5qyh6LCD55So5Yqg5YWl55qEY2FsbElE5YC8XG4gICAgICogQHBhcmFtIG9uU3VjY2VzcyDpnZ7lv4XloavpoblcbiAgICAgKiBAcGFyYW0gb25GYWlsdXJlIOmdnuW/heWhq+mhuVxuICAgICAqL1xuICAgIHF1aXRXaGl0ZUJvYXJkID0gKHthcHBLZXksdWNjSWQsY2hhbm5lbE5hbWUsY2FsbElELG9uU3VjY2VzcyxvbkZhaWx1cmV9KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucm9vbSk7XG4gICAgICAgIGNvbnNvbGUubG9nKENvbmZpZy5jb25maWcpXG4gICAgICAgIGlmKCFhcHBLZXkgJiYgKCh0aGlzLnJvb20gJiYgdGhpcy5yb29tLmFwcEtleSkgfHwgQ29uZmlnLmNvbmZpZy5hcHBLZXkpKXtcbiAgICAgICAgICAgIGFwcEtleSA9ICh0aGlzLnJvb20gJiYgdGhpcy5yb29tLmFwcEtleSk/IHRoaXMucm9vbS5hcHBLZXk6IENvbmZpZy5jb25maWcuYXBwS2V5O1xuICAgICAgICB9XG4gICAgICAgIGlmKCF1Y2NJZCAmJiAoKHRoaXMucm9vbSAmJiB0aGlzLnJvb20udWNjSWQpIHx8IENvbmZpZy5jb25maWcudWNjSWQpKXtcbiAgICAgICAgICAgIHVjY0lkID0gKHRoaXMucm9vbSAmJiB0aGlzLnJvb20udWNjSWQpPyB0aGlzLnJvb20udWNjSWQ6IENvbmZpZy5jb25maWcudWNjSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWNoYW5uZWxOYW1lICYmIHRoaXMucm9vbSAmJiB0aGlzLnJvb20uY2hhbm5lbE5hbWUpe1xuICAgICAgICAgICAgY2hhbm5lbE5hbWUgPSB0aGlzLnJvb20uY2hhbm5lbE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWNhbGxJRCAmJiB0aGlzLnJvb20gJiYgdGhpcy5yb29tLmNhbGxJRCl7XG4gICAgICAgICAgICBjYWxsSUQgPSB0aGlzLnJvb20uY2FsbElEO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIWFwcEtleSB8fCAhdWNjSWQgfHwgIWNoYW5uZWxOYW1lIHx8ICFjYWxsSUQpe1xuICAgICAgICAgICAgbGV0IHN0ciA9ICFhcHBLZXk/J2FwcEtleSc6IXVjY0lkPyd1Y2NJZCc6IWNoYW5uZWxOYW1lPydjaGFubmVsTmFtZSc6Y2FsbElEPydjYWxsSUQnOicnXG4gICAgICAgICAgICBpZihvbkZhaWx1cmUpe1xuICAgICAgICAgICAgICAgIG9uRmFpbHVyZShzdHIgKyAnIHBhcmFtZXRlciBpcyBudWxsJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyICsgJyBwYXJhbWV0ZXIgaXMgbnVsbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgV2hpdGVCb2FyZHMucXVpdEJvYXJkKGFwcEtleSx1Y2NJZCxjYWxsSUQpXG4gICAgICAgICAgICAudGhlbigoY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKG9uU3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgIG9uU3VjY2Vzcyhjb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncXVpdCB3aGl0ZUJvYXJkIGZhaWx1cmU6JyxlcnIpO1xuICAgICAgICAgICAgICAgIGlmKG9uRmFpbHVyZSl7XG4gICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIC8v55m95p2/55qE5pyA57uI6K6/6Zeu5Zyw5Z2AXG4gICAgX2dldFdoaXRlQm9hcmRVUkwgPSAoYXBwS2V5LHVjY0lkLHNlcnZlclVybCxjaGFubmVsTmFtZSxwYXNzd29yZCxpc093bmVyLHdiVHlwZSxtZXRhZGF0YSkgPT4ge1xuICAgICAgICBsZXQgd2hpdGVCb2FyZFVybCA9IENvbmZpZy5jb25maWcud2hpdGVCb2FyZC5zdGF0aWNVcmw7XG4gICAgICAgIGxldCBmaWxlVXBsb2FkID0gQ29uZmlnLmNvbmZpZy53aGl0ZUJvYXJkLmJhc2VVcmwrJy91cGxvYWRGaWxlJztcbiAgICAgICAgbGV0IHBhcmFtcyA9IHNlcnZlclVybCsnJmZpbGVVcGxvYWQ9JytmaWxlVXBsb2FkKycmdWNjSWQ9Jyt1Y2NJZCsnJmFwcEtleT0nK2FwcEtleSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZpc093bmVyPScraXNPd25lcisnJndiVHlwZT0nK3diVHlwZSsnJm1ldGFkYXRhPScrbWV0YWRhdGE7XG4gICAgICAgIGxldCB1cmwgPSB3aGl0ZUJvYXJkVXJsKyc/JytwYXJhbXM7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgV2hpdGVCb2FyZCgpXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFvQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWpHQTtBQTRHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwSkE7QUF3SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUpBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQTBKQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///375\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _promise = _interopRequireDefault(__webpack_require__(18));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(7));\n\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(8));\n\nvar _config = _interopRequireDefault(__webpack_require__(26));\n\nvar _common = _interopRequireDefault(__webpack_require__(22));\n\n/**\n * 白板集成-后台服务接口\n */\nvar WhiteBoards = function WhiteBoards() {\n  var _this = this;\n\n  (0, _classCallCheck2[\"default\"])(this, WhiteBoards);\n  (0, _defineProperty2[\"default\"])(this, \"sessionId\", null);\n  (0, _defineProperty2[\"default\"])(this, \"joinBoard\", function (appKey, uccId, channelName, wbType, isOwner, password, metadata) {\n    var type = wbType != undefined ? '&wbType=' + wbType : '&wbType=' + 1;\n    var owner = isOwner != undefined ? '&isOwner=' + isOwner : '';\n    var psw = password ? '&password=' + password : '';\n    var data = metadata != undefined ? '&metadata=' + metadata : '';\n    var url = _config[\"default\"].config.whiteBoard.baseUrl + '?channelName=' + channelName + '&uccId=' + uccId + type + owner + psw + data;\n    var deviceId = 'WEB;appKey=' + appKey + ';uccId=' + uccId + ';os=H5';\n    _this.sessionId = _common[\"default\"].uuid(); // let token = Common.setToken(this.sessionId,Config.config.deviceId);\n\n    var headers = {\n      'Content-Type': 'text/plain',\n      'Authorization': 'srtc-sso',\n      'SdkVersion': _config[\"default\"].config.sdkVersion,\n      'DeviceId': deviceId,\n      'AppKey': appKey // 'Token':token\n\n    };\n    return new _promise[\"default\"](function (resolve, reject) {\n      _common[\"default\"].requestJson(url, {\n        method: 'GET',\n        headers: headers,\n        success: function success(code, res) {\n          code = res.code;\n\n          if (code >= 200 && code < 300) {\n            res.code = 200;\n            resolve(res);\n          } else {\n            reject('joinWhiteBoard failure , code is ' + code);\n          }\n        },\n        fail: function fail(code, err) {\n          reject('joinWhiteBoard failure , code is ' + code);\n        }\n      });\n    });\n  });\n  (0, _defineProperty2[\"default\"])(this, \"quitBoard\", function (appKey, uccId, callId) {\n    var url = _config[\"default\"].config.whiteBoard.baseUrl + '/quitRoom?callId=' + callId + '&uccId=' + uccId;\n    var deviceId = 'WEB;appKey=' + appKey + ';uccId=' + uccId + ';os=H5';\n    var headers = {\n      'Content-Type': 'text/plain',\n      'Authorization': 'srtc-sso',\n      'SdkVersion': _config[\"default\"].config.sdkVersion,\n      'DeviceId': deviceId,\n      'AppKey': appKey\n    };\n    return new _promise[\"default\"](function (resolve, reject) {\n      _common[\"default\"].requestJson(url, {\n        method: 'GET',\n        headers: headers,\n        success: function success() {\n          resolve(200);\n        },\n        fail: function fail(code, err) {\n          reject('quitWhiteBoard failure , code is ' + code);\n        }\n      });\n    });\n  });\n};\n\nvar _default = new WhiteBoards();\n\nexports[\"default\"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vc2RrL3NlcnZlci93aGl0ZUJvYXJkcy5qcz81YzYwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog55m95p2/6ZuG5oiQLeWQjuWPsOacjeWKoeaOpeWPo1xuICovXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgQ29tbW9uIGZyb20gJy4uL3V0aWwvY29tbW9uJztcblxuY2xhc3MgV2hpdGVCb2FyZHMge1xuICAgIHNlc3Npb25JZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiDliqDlhaXnmb3mnb/miL/pl7RcbiAgICAgKiBAcGFyYW0gYXBwS2V5IOW/heWhq1xuICAgICAqIEBwYXJhbSB1Y2NJZCDlv4XloatcbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5hbWUg5b+F5aGrXG4gICAgICogQHBhcmFtIHdiVHlwZSDpnZ7lv4XloatcbiAgICAgKiBAcGFyYW0gaXNPd25lciDpnZ7lv4XloatcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmQg6Z2e5b+F5aGrXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55PiB8IFByb21pc2V9XG4gICAgICovXG4gICAgam9pbkJvYXJkID0gKGFwcEtleSx1Y2NJZCxjaGFubmVsTmFtZSx3YlR5cGUsaXNPd25lcixwYXNzd29yZCxtZXRhZGF0YSkgPT4ge1xuXG4gICAgICAgIGxldCB0eXBlID0gd2JUeXBlIT0gdW5kZWZpbmVkPycmd2JUeXBlPScrd2JUeXBlOicmd2JUeXBlPScrMTtcbiAgICAgICAgbGV0IG93bmVyID0gaXNPd25lciAhPSB1bmRlZmluZWQ/JyZpc093bmVyPScraXNPd25lcjonJztcbiAgICAgICAgbGV0IHBzdyA9IHBhc3N3b3JkID8nJnBhc3N3b3JkPScrcGFzc3dvcmQ6Jyc7XG4gICAgICAgIGxldCBkYXRhID0gbWV0YWRhdGEgIT0gdW5kZWZpbmVkPycmbWV0YWRhdGE9JyttZXRhZGF0YTonJztcbiAgICAgICAgbGV0IHVybCA9IENvbmZpZy5jb25maWcud2hpdGVCb2FyZC5iYXNlVXJsKyc/Y2hhbm5lbE5hbWU9JytjaGFubmVsTmFtZSsnJnVjY0lkPScrdWNjSWQrdHlwZStvd25lcitwc3crZGF0YTtcbiAgICAgICAgbGV0IGRldmljZUlkID0gJ1dFQjthcHBLZXk9JythcHBLZXkrJzt1Y2NJZD0nK3VjY0lkKyc7b3M9SDUnXG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gQ29tbW9uLnV1aWQoKTtcbiAgICAgICAgLy8gbGV0IHRva2VuID0gQ29tbW9uLnNldFRva2VuKHRoaXMuc2Vzc2lvbklkLENvbmZpZy5jb25maWcuZGV2aWNlSWQpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbicsXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdzcnRjLXNzbycsXG4gICAgICAgICAgICAnU2RrVmVyc2lvbic6Q29uZmlnLmNvbmZpZy5zZGtWZXJzaW9uLFxuICAgICAgICAgICAgJ0RldmljZUlkJzogZGV2aWNlSWQsXG4gICAgICAgICAgICAnQXBwS2V5JzphcHBLZXksXG4gICAgICAgICAgICAvLyAnVG9rZW4nOnRva2VuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgQ29tbW9uLnJlcXVlc3RKc29uKHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAoY29kZSxyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IHJlcy5jb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZihjb2RlID49IDIwMCAmJiBjb2RlIDwzMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmNvZGUgPSAyMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdqb2luV2hpdGVCb2FyZCBmYWlsdXJlICwgY29kZSBpcyAnK2NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiAoY29kZSxlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdqb2luV2hpdGVCb2FyZCBmYWlsdXJlICwgY29kZSBpcyAnK2NvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog6YCA5Ye655m95p2/XG4gICAgICogQHBhcmFtIGFwcEtleVxuICAgICAqIEBwYXJhbSB1Y2NJZFxuICAgICAqIEBwYXJhbSBjYWxsSWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+IHwgUHJvbWlzZX1cbiAgICAgKi9cbiAgICBxdWl0Qm9hcmQgPSAoYXBwS2V5LHVjY0lkLGNhbGxJZCkgPT4ge1xuICAgICAgICBsZXQgdXJsID0gQ29uZmlnLmNvbmZpZy53aGl0ZUJvYXJkLmJhc2VVcmwrJy9xdWl0Um9vbT9jYWxsSWQ9JytjYWxsSWQrJyZ1Y2NJZD0nK3VjY0lkO1xuICAgICAgICBsZXQgZGV2aWNlSWQgPSAnV0VCO2FwcEtleT0nK2FwcEtleSsnO3VjY0lkPScrdWNjSWQrJztvcz1INSdcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnc3J0Yy1zc28nLFxuICAgICAgICAgICAgJ1Nka1ZlcnNpb24nOkNvbmZpZy5jb25maWcuc2RrVmVyc2lvbixcbiAgICAgICAgICAgICdEZXZpY2VJZCc6IGRldmljZUlkLFxuICAgICAgICAgICAgJ0FwcEtleSc6YXBwS2V5LFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIENvbW1vbi5yZXF1ZXN0SnNvbih1cmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDIwMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiAoY29kZSxlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdxdWl0V2hpdGVCb2FyZCBmYWlsdXJlICwgY29kZSBpcyAnK2NvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFdoaXRlQm9hcmRzKClcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFMQTs7O0FBTUE7Ozs7QUFDQTtBQVlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7OztBQUdBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///376\n")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _interopRequireDefault = __webpack_require__(5);\n\nvar _Object$defineProperty = __webpack_require__(2);\n\n_Object$defineProperty(exports, "__esModule", {\n  value: true\n});\n\n_Object$defineProperty(exports, "WebSDK", {\n  enumerable: true,\n  get: function get() {\n    return _signin["default"];\n  }\n});\n\n_Object$defineProperty(exports, "Channel", {\n  enumerable: true,\n  get: function get() {\n    return _channel["default"];\n  }\n});\n\n_Object$defineProperty(exports, "WhiteBoard", {\n  enumerable: true,\n  get: function get() {\n    return _whiteBoard["default"];\n  }\n});\n\nvar _signin = _interopRequireDefault(__webpack_require__(201));\n\nvar _channel = _interopRequireDefault(__webpack_require__(297));\n\nvar _whiteBoard = _interopRequireDefault(__webpack_require__(375));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vV0VCU0RLLy4vZW50cnlzL2NoYW5uZWxJbmRleC5qcz8zMGI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJTREsgZnJvbSAnLi4vc2RrL2FwaS9zaWduaW4nO1xuaW1wb3J0IENoYW5uZWwgZnJvbSAnLi4vc2RrL2FwaS9jaGFubmVsJztcbmltcG9ydCBXaGl0ZUJvYXJkIGZyb20gJy4uL3Nkay9hcGkvd2hpdGVCb2FyZCc7XG5cbmV4cG9ydCB7IFdlYlNESyxDaGFubmVsLFdoaXRlQm9hcmQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///405\n')}])}));